{"Headers":{"Last-Modified":"Fri, 21 Oct 2022 12:14:46 GMT","X-Content-Type-Options":"nosniff"},"Body":"IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGFzdChuKXtpZihudWxsPT09bilyZXR1cm4ibnVsbCI7aWYodm9pZCAwPT09bilyZXR1cm4idW5kZWZpbmVkIjt2YXIgdD10eXBlb2YgbjtyZXR1cm4ib2JqZWN0Ij09dCYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG4pfHxuLmNvbnN0cnVjdG9yJiYiQXJyYXkiPT09bi5jb25zdHJ1Y3Rvci5uYW1lKT8iYXJyYXkiOiJvYmplY3QiPT10JiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG4pfHxuLmNvbnN0cnVjdG9yJiYiU3RyaW5nIj09PW4uY29uc3RydWN0b3IubmFtZSk/InN0cmluZyI6dH1mdW5jdGlvbiB2c3Qobil7cmV0dXJuIGxsKGZ1bmN0aW9uKHQsaSl7aWYodC5sZW5ndGghPT1pLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHU9dC5sZW5ndGgscj0wO3I8dTtyKyspaWYoIW4uZXEodFtyXSxpW3JdKSlyZXR1cm4hMTtyZXR1cm4hMH0pfWZ1bmN0aW9uIHlzdChuKXtyZXR1cm4gbGwoZnVuY3Rpb24odCxpKXt2YXIgaCxvLHUsZj1PYmplY3Qua2V5cyh0KSxjPU9iamVjdC5rZXlzKGkpLHMscixlO2lmKG89dnN0KGJoaSksdT1mdW5jdGlvbihuKXtyZXR1cm4gdD1oLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pLnNvcnQodCk7dmFyIHR9LCFsbChmdW5jdGlvbihuLHQpe3JldHVybiBvLmVxKHUobiksdSh0KSl9KS5lcShmLGMpKXJldHVybiExO2ZvcihzPWYubGVuZ3RoLHI9MDtyPHM7cisrKWlmKGU9ZltyXSwhbi5lcSh0W2VdLGlbZV0pKXJldHVybiExO3JldHVybiEwfSl9ZnVuY3Rpb24ga2Qobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiByPXR5cGVvZihpPXQpLChudWxsPT09aT8ibnVsbCI6Im9iamVjdCI9PXImJihBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpKXx8aS5jb25zdHJ1Y3RvciYmIkFycmF5Ij09PWkuY29uc3RydWN0b3IubmFtZSk/ImFycmF5Ijoib2JqZWN0Ij09ciYmKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpKXx8aS5jb25zdHJ1Y3RvciYmIlN0cmluZyI9PT1pLmNvbnN0cnVjdG9yLm5hbWUpPyJzdHJpbmciOnIpPT09bjt2YXIgaSxyfX1mdW5jdGlvbiBkZChuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT09bn19ZnVuY3Rpb24gcHN0KG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbj09PXR9fWZ1bmN0aW9uIHd1KG4pe3JldHVybiBudWxsPT1ufWZ1bmN0aW9uIGcobil7cmV0dXJuIXd1KG4pfWZ1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdm8obix0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9W10saT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpXT1hcmd1bWVudHNbaV07cmV0dXJuIG4odC5hcHBseShudWxsLHIpKX19ZnVuY3Rpb24gd3N0KG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBuKHQoaSkpfX1mdW5jdGlvbiBmKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufX1mdW5jdGlvbiBraShuKXtyZXR1cm4gbn1mdW5jdGlvbiB3aGkobix0KXtyZXR1cm4gbj09PXR9ZnVuY3Rpb24gdShuKXtmb3IodmFyIGk9W10sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspaVt0LTFdPWFyZ3VtZW50c1t0XTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHUscj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylyW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gdT1pLmNvbmNhdChyKSxuLmFwcGx5KG51bGwsdSl9fWZ1bmN0aW9uIG5nKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KX19ZnVuY3Rpb24ga2hpKG4pe3JldHVybiBuKCl9ZnVuY3Rpb24gZGhpKG4pe24oKX1mdW5jdGlvbiB0Zygpe3JldHVybiB0eX1mdW5jdGlvbiBrc3Qobil7cmV0dXJuIG4oKX1mdW5jdGlvbiBkc3Qobix0KXtyZXR1cm4gZ2hpLmNhbGwobix0KX1mdW5jdGlvbiBkdChuLHQpe3JldHVybi0xPGRzdChuLHQpfWZ1bmN0aW9uIHZpKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKHQobltpXSxpKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB1dChuLHQpe2Zvcih2YXIgZixyPW4ubGVuZ3RoLHU9bmV3IEFycmF5KHIpLGk9MDtpPHI7aSsrKWY9bltpXSx1W2ldPXQoZixpKTtyZXR1cm4gdX1mdW5jdGlvbiBlKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKXQobltpXSxpKX1mdW5jdGlvbiBnc3Qobix0KXtmb3IodmFyIGk9bi5sZW5ndGgtMTswPD1pO2ktLSl0KG5baV0saSl9ZnVuY3Rpb24gbmh0KG4sdCl7Zm9yKHZhciByLHU9W10sZj1bXSxpPTAsZT1uLmxlbmd0aDtpPGU7aSsrKXI9bltpXSwodChyLGkpP3U6ZikucHVzaChyKTtyZXR1cm57cGFzczp1LGZhaWw6Zn19ZnVuY3Rpb24gcChuLHQpe2Zvcih2YXIgcix1PVtdLGk9MCxmPW4ubGVuZ3RoO2k8ZjtpKyspcj1uW2ldLHQocixpKSYmdS5wdXNoKHIpO3JldHVybiB1fWZ1bmN0aW9uIHRodChuLHQsaSl7cmV0dXJuIGdzdChuLGZ1bmN0aW9uKG4scil7aT10KGksbixyKX0pLGl9ZnVuY3Rpb24gZnUobix0LGkpe3JldHVybiBlKG4sZnVuY3Rpb24obixyKXtpPXQoaSxuLHIpfSksaX1mdW5jdGlvbiBpaHQodCxpLHIpe2Zvcih2YXIgZix1PTAsZT10Lmxlbmd0aDt1PGU7dSsrKXtpZihmPXRbdV0saShmLHUpKXJldHVybiBuLnNvbWUoZik7aWYocihmLHUpKWJyZWFrfXJldHVybiBuLm5vbmUoKX1mdW5jdGlvbiBndChuLHQpe3JldHVybiBpaHQobix0LGl0KX1mdW5jdGlvbiBpeSh0LGkpe2Zvcih2YXIgcj0wLHU9dC5sZW5ndGg7cjx1O3IrKylpZihpKHRbcl0scikpcmV0dXJuIG4uc29tZShyKTtyZXR1cm4gbi5ub25lKCl9ZnVuY3Rpb24gc2gobix0KXtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciBpPVtdLHQ9MCxyPW4ubGVuZ3RoO3Q8cjsrK3Qpe2lmKCFicihuW3RdKSl0aHJvdyBuZXcgRXJyb3IoIkFyci5mbGF0dGVuIGl0ZW0gIit0KyIgd2FzIG5vdCBhbiBhcnJheSwgaW5wdXQ6ICIrbik7bmNpLmFwcGx5KGksblt0XSl9cmV0dXJuIGl9KHV0KG4sdCkpfWZ1bmN0aW9uIHZsKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7KytpKWlmKCEwIT09dChuW2ldLGkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHJ5KG4pe3ZhciB0PW9nLmNhbGwobiwwKTtyZXR1cm4gdC5yZXZlcnNlKCksdH1mdW5jdGlvbiByaHQobix0KXtyZXR1cm4gcChuLGZ1bmN0aW9uKG4pe3JldHVybiFkdCh0LG4pfSl9ZnVuY3Rpb24gaWcobix0KXt2YXIgaT1vZy5jYWxsKG4sMCk7cmV0dXJuIGkuc29ydCh0KSxpfWZ1bmN0aW9uIHJnKHQsaSl7cmV0dXJuIDA8PWkmJmk8dC5sZW5ndGg/bi5zb21lKHRbaV0pOm4ubm9uZSgpfWZ1bmN0aW9uIG9yKG4pe3JldHVybiByZyhuLDApfWZ1bmN0aW9uIHlvKG4pe3JldHVybiByZyhuLG4ubGVuZ3RoLTEpfWZ1bmN0aW9uIHVodCh0LGkpe2Zvcih2YXIgdSxyPTA7cjx0Lmxlbmd0aDtyKyspaWYodT1pKHRbcl0sciksdS5pc1NvbWUoKSlyZXR1cm4gdTtyZXR1cm4gbi5ub25lKCl9ZnVuY3Rpb24gZXQobix0KXtmb3IodmFyIHIsdT1saChuKSxpPTAsZj11Lmxlbmd0aDtpPGY7aSsrKXI9dVtpXSx0KG5bcl0scil9ZnVuY3Rpb24gZmh0KG4sdCl7cmV0dXJuIGljaShuLGZ1bmN0aW9uKG4saSl7cmV0dXJue2s6aSx2OnQobixpKX19KX1mdW5jdGlvbiB1ZyhuKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtuW2ldPXR9fWZ1bmN0aW9uIGVodChuLHQsaSxyKXtyZXR1cm4gZXQobixmdW5jdGlvbihuLHUpeyh0KG4sdSk/aTpyKShuLHUpfSksMX1mdW5jdGlvbiB5bChuLHQpe3ZhciBpPXt9O3JldHVybiBlaHQobix0LHVnKGkpLHkpLGl9ZnVuY3Rpb24gYXQodCxpKXtyZXR1cm4gdyh0LGkpP24uZnJvbSh0W2ldKTpuLm5vbmUoKX1mdW5jdGlvbiBoaChuLHQpe3JldHVybiB3KG4sdCkmJnZvaWQgMCE9PW5bdF0mJm51bGwhPT1uW3RdfWZ1bmN0aW9uIHBsKG4sdCxpKXt2YXIgcix1O2lmKCFuKXJldHVybiExO2lmKGk9aXx8bix2b2lkIDAhPT1uLmxlbmd0aCl7Zm9yKHI9MCx1PW4ubGVuZ3RoO3I8dTtyKyspaWYoITE9PT10LmNhbGwoaSxuW3JdLHIsbikpcmV0dXJuITF9ZWxzZSBmb3IociBpbiBuKWlmKHcobixyKSYmITE9PT10LmNhbGwoaSxuW3JdLHIsbikpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZmcobix0KXt2YXIgaT1bXTtyZXR1cm4gcGwobixmdW5jdGlvbihyLHUpe2kucHVzaCh0KHIsdSxuKSl9KSxpfWZ1bmN0aW9uIGNoKG4sdCl7dmFyIGk9W107cmV0dXJuIHBsKG4sZnVuY3Rpb24ocix1KXt0JiYhdChyLHUsbil8fGkucHVzaChyKX0pLGl9ZnVuY3Rpb24gb2h0KG4sdCl7aWYobilmb3IodmFyIGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspaWYobltpXT09PXQpcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gdXkobix0LGkscil7Zm9yKHZhciBmPXRyKGkpP25bMF06aSx1PTA7dTxuLmxlbmd0aDt1KyspZj10LmNhbGwocixmLG5bdV0sdSk7cmV0dXJuIGZ9ZnVuY3Rpb24gc2h0KG4sdCxpKXtmb3IodmFyIHI9MCx1PW4ubGVuZ3RoO3I8dTtyKyspaWYodC5jYWxsKGksbltyXSxyLG4pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIHBvKG4pe3JldHVybiBuW24ubGVuZ3RoLTFdfWZ1bmN0aW9uIGVlKG4sdCxpKXtpZihpfHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIHUscj0wLGY9dC5sZW5ndGg7cjxmO3IrKykhdSYmciBpbiB0fHwoKHU9dXx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLHIpKVtyXT10W3JdKTtyZXR1cm4gbi5jb25jYXQodXx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfWZ1bmN0aW9uIGhodChuKXt2YXIgdCxpPSExO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdT1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl1W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gaXx8KGk9ITAsdD1uLmFwcGx5KG51bGwsdSkpLHR9fWZ1bmN0aW9uIGNodChuLHQpe3ZhciBpPVN0cmluZyh0KS50b0xvd2VyQ2FzZSgpO3JldHVybiBndChuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnNlYXJjaChpKX0pfWZ1bmN0aW9uIHlpKG4sdCl7cmV0dXJuLTEhPT1uLmluZGV4T2YodCl9ZnVuY3Rpb24gaGcobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UobiwiIil9fWZ1bmN0aW9uIGZ5KG4pe3JldHVybiAwPG4ubGVuZ3RofWZ1bmN0aW9uIGxodChuKXtyZXR1cm4hZnkobil9ZnVuY3Rpb24gd2Yobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB5aSh0LG4pfX1mdW5jdGlvbiByY2kobil7cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKG4pLm1hdGNoZXN9ZnVuY3Rpb24gYWh0KG4pe3JldHVybiBudWxsPT1uPyIiOigiIituKS5yZXBsYWNlKGFjaSwiIil9ZnVuY3Rpb24gdmh0KG4sdCl7cmV0dXJuIHQ/ISgiYXJyYXkiIT09dHx8IXNnKG4pKXx8dHlwZW9mIG49PT10OnZvaWQgMCE9PW59ZnVuY3Rpb24geWh0KG4sdCl7Zm9yKHZhciBpPVtdLHU9ZnVuY3Rpb24obil7cmV0dXJuIGkucHVzaChuKSx0KG4pfSxyPXQobik7KHI9ci5iaW5kKHUpKS5pc1NvbWUoKTspO3JldHVybiBpfWZ1bmN0aW9uIGFoKG4sdCl7dmFyIHI9bi5kb20saTtpZigxIT09ci5ub2RlVHlwZSlyZXR1cm4hMTtpZihpPXIsdm9pZCAwIT09aS5tYXRjaGVzKXJldHVybiBpLm1hdGNoZXModCk7aWYodm9pZCAwIT09aS5tc01hdGNoZXNTZWxlY3RvcilyZXR1cm4gaS5tc01hdGNoZXNTZWxlY3Rvcih0KTtpZih2b2lkIDAhPT1pLndlYmtpdE1hdGNoZXNTZWxlY3RvcilyZXR1cm4gaS53ZWJraXRNYXRjaGVzU2VsZWN0b3IodCk7aWYodm9pZCAwIT09aS5tb3pNYXRjaGVzU2VsZWN0b3IpcmV0dXJuIGkubW96TWF0Y2hlc1NlbGVjdG9yKHQpO3Rocm93IG5ldyBFcnJvcigiQnJvd3NlciBsYWNrcyBuYXRpdmUgc2VsZWN0b3JzIik7fWZ1bmN0aW9uIHBodChuKXtyZXR1cm4gMSE9PW4ubm9kZVR5cGUmJjkhPT1uLm5vZGVUeXBlJiYxMSE9PW4ubm9kZVR5cGV8fDA9PT1uLmNoaWxkRWxlbWVudENvdW50fWZ1bmN0aW9uIG50KG4sdCl7cmV0dXJuIG4uZG9tPT09dC5kb219ZnVuY3Rpb24gb2Uobix0KXtyZXR1cm4ga3IoKS5icm93c2VyLmlzSUUoKT8oaT1uLmRvbSxyPXQuZG9tLHU9Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlksMCE9KGkuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikmdSkpOihmPW4uZG9tKSE9PShlPXQuZG9tKSYmZi5jb250YWlucyhlKTt2YXIgaSxyLHUsZixlfWZ1bmN0aW9uIHdodCgpe3JldHVybiBjZygwLDApfWZ1bmN0aW9uIGJodChuKXtmdW5jdGlvbiB0KG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBpPT09bn19dmFyIGk9bi5jdXJyZW50LHI9bi52ZXJzaW9uO3JldHVybntjdXJyZW50OmksdmVyc2lvbjpyLGlzRWRnZTp0KCJFZGdlIiksaXNDaHJvbWU6dCgiQ2hyb21lIiksaXNJRTp0KCJJRSIpLGlzT3BlcmE6dCgiT3BlcmEiKSxpc0ZpcmVmb3g6dChuY3QpLGlzU2FmYXJpOnQoIlNhZmFyaSIpfX1mdW5jdGlvbiBraHQobil7ZnVuY3Rpb24gdChuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gaT09PW59fXZhciBpPW4uY3VycmVudCxyPW4udmVyc2lvbjtyZXR1cm57Y3VycmVudDppLHZlcnNpb246cixpc1dpbmRvd3M6dCh0Y3QpLGlzaU9TOnQoImlPUyIpLGlzQW5kcm9pZDp0KGljdCksaXNPU1g6dCgiT1NYIiksaXNMaW51eDp0KCJMaW51eCIpLGlzU29sYXJpczp0KHJjdCksaXNGcmVlQlNEOnQodWN0KSxpc0Nocm9tZU9TOnQoZmN0KX19ZnVuY3Rpb24gd2wobil7aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIik7cmV0dXJue2RvbTpufX1mdW5jdGlvbiB2dChuKXtyZXR1cm4gbi5kb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBzY3Qobil7cmV0dXJuIG4uZG9tLm5vZGVUeXBlfWZ1bmN0aW9uIGV5KG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gc2N0KHQpPT09bn19ZnVuY3Rpb24gaGN0KG4pe3JldHVybiB0LmZyb21Eb20obi5kb20ub3duZXJEb2N1bWVudCl9ZnVuY3Rpb24gdmgobil7cmV0dXJuIHBjaShuKT9uOmhjdChuKX1mdW5jdGlvbiBjY3Qobil7cmV0dXJuIHQuZnJvbURvbSh2aChuKS5kb20uZGVmYXVsdFZpZXcpfWZ1bmN0aW9uIGV1KGkpe3JldHVybiBuLmZyb20oaS5kb20ucGFyZW50Tm9kZSkubWFwKHQuZnJvbURvbSl9ZnVuY3Rpb24gYm8oaSl7cmV0dXJuIG4uZnJvbShpLmRvbS5wcmV2aW91c1NpYmxpbmcpLm1hcCh0LmZyb21Eb20pfWZ1bmN0aW9uIGtsKGkpe3JldHVybiBuLmZyb20oaS5kb20ubmV4dFNpYmxpbmcpLm1hcCh0LmZyb21Eb20pfWZ1bmN0aW9uIGxjdChuKXtyZXR1cm4gcnkoeWh0KG4sYm8pKX1mdW5jdGlvbiBhY3Qobil7cmV0dXJuIHlodChuLGtsKX1mdW5jdGlvbiBveShpLHIpe3ZhciB1PWkuZG9tLmNoaWxkTm9kZXM7cmV0dXJuIG4uZnJvbSh1W3JdKS5tYXAodC5mcm9tRG9tKX1mdW5jdGlvbiB2Y3Qobil7cmV0dXJuIG95KG4sMCl9ZnVuY3Rpb24geWcobil7cmV0dXJuIG95KG4sbi5kb20uY2hpbGROb2Rlcy5sZW5ndGgtMSl9ZnVuY3Rpb24geWN0KG4pe3JldHVybiBuLmRvbS5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiBwY3Qobil7cmV0dXJuIHdjaShuKSYmZyhuLmRvbS5ob3N0KX1mdW5jdGlvbiBwZyhuKXtyZXR1cm4gcGN0KG4pP246ZnVuY3Rpb24oKXt2YXIgaT12aChuKS5kb20uaGVhZDtpZihudWxsPT1pKXRocm93IG5ldyBFcnJvcigiSGVhZCBpcyBub3QgYXZhaWxhYmxlIHlldCIpO3JldHVybiB0LmZyb21Eb20oaSl9KCl9ZnVuY3Rpb24gdmNpKG4pe3JldHVybiB0LmZyb21Eb20obi5kb20uaG9zdCl9ZnVuY3Rpb24gb3Uobix0KXtldShuKS5lYWNoKGZ1bmN0aW9uKGkpe2kuZG9tLmluc2VydEJlZm9yZSh0LmRvbSxuLmRvbSl9KX1mdW5jdGlvbiBkbChuLHQpe2tsKG4pLmZvbGQoZnVuY3Rpb24oKXtldShuKS5lYWNoKGZ1bmN0aW9uKG4pe2lpKG4sdCl9KX0sZnVuY3Rpb24obil7b3Uobix0KX0pfWZ1bmN0aW9uIHdjdChuLHQpe3ZjdChuKS5mb2xkKGZ1bmN0aW9uKCl7aWkobix0KX0sZnVuY3Rpb24oaSl7bi5kb20uaW5zZXJ0QmVmb3JlKHQuZG9tLGkuZG9tKX0pfWZ1bmN0aW9uIHN5KG4sdCl7ZSh0LGZ1bmN0aW9uKHQpe2lpKG4sdCl9KX1mdW5jdGlvbiB3ZyhuKXtuLmRvbS50ZXh0Q29udGVudD0iIjtlKG51KG4pLGZ1bmN0aW9uKG4pe25pKG4pfSl9ZnVuY3Rpb24gYmN0KG4pe3ZhciB0LGk9bnUobik7MDxpLmxlbmd0aCYmKHQ9bixlKGksZnVuY3Rpb24obil7b3UodCxuKX0pKTtuaShuKX1mdW5jdGlvbiBoeShuLHQpe3JldHVybiB2b2lkIDAhPT1uP246dm9pZCAwIT09dD90OjB9ZnVuY3Rpb24gYmcobil7dmFyIHQ9dm9pZCAwIT09bj9uLmRvbTpkb2N1bWVudCxpPXQuYm9keS5zY3JvbGxMZWZ0fHx0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LHI9dC5ib2R5LnNjcm9sbFRvcHx8dC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3JldHVybiBwaChpLHIpfWZ1bmN0aW9uIGtjdChuLHQsaSl7dmFyIHI9KHZvaWQgMCE9PWk/aS5kb206ZG9jdW1lbnQpLmRlZmF1bHRWaWV3O3ImJnIuc2Nyb2xsVG8obix0KX1mdW5jdGlvbiBkY3Qobix0KXtrcigpLmJyb3dzZXIuaXNTYWZhcmkoKSYmZnQobi5kb20uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCk/bi5kb20uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCghMSk6bi5kb20uc2Nyb2xsSW50b1ZpZXcodCl9ZnVuY3Rpb24gZ2N0KG4sdCxpLHIpe3JldHVybnt4Om4seTp0LHdpZHRoOmksaGVpZ2h0OnIscmlnaHQ6bitpLGJvdHRvbTp0K3J9fWZ1bmN0aW9uIG5sdChpKXt2YXIgcj12b2lkIDA9PT1pP3dpbmRvdzppLGY9ci5kb2N1bWVudCx1PWJnKHQuZnJvbURvbShmKSksZT12b2lkIDA9PT1yP3dpbmRvdzpyO3JldHVybihrcigpLmJyb3dzZXIuaXNGaXJlZm94KCk/bi5ub25lKCk6bi5mcm9tKGUudmlzdWFsVmlld3BvcnQpKS5mb2xkKGZ1bmN0aW9uKCl7dmFyIG49ci5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdD1uLmNsaWVudFdpZHRoLGk9bi5jbGllbnRIZWlnaHQ7cmV0dXJuIGdjdCh1LmxlZnQsdS50b3AsdCxpKX0sZnVuY3Rpb24obil7cmV0dXJuIGdjdChNYXRoLm1heChuLnBhZ2VMZWZ0LHUubGVmdCksTWF0aC5tYXgobi5wYWdlVG9wLHUudG9wKSxuLndpZHRoLG4uaGVpZ2h0KX0pfWZ1bmN0aW9uIGdsKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIXQmJnQubm9kZVR5cGU9PT1ufX1mdW5jdGlvbiBjeShuKXtyZXR1cm4gbiYmIU9iamVjdC5nZXRQcm90b3R5cGVPZihuKX1mdW5jdGlvbiBkcihuKXt2YXIgdD1uLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi50b0xvd2VyQ2FzZSgpfSk7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKG4mJm4ubm9kZU5hbWUpe3ZhciBpPW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gZHQodCxpKX1yZXR1cm4hMX19ZnVuY3Rpb24gbHkobix0KXt2YXIgaT10LnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIHIsdTtpZihoKHQpKWZvcihyPTA7cjxpLmxlbmd0aDtyKyspaWYodT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLCh1P3UuZ2V0UHJvcGVydHlWYWx1ZShuKTpudWxsKT09PWlbcl0pcmV0dXJuITA7cmV0dXJuITF9fWZ1bmN0aW9uIHRsdChuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGgodCkmJnQuaGFzQXR0cmlidXRlKG4pfX1mdW5jdGlvbiBrbyhuKXtyZXR1cm4gaChuKSYmbi5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIil9ZnVuY3Rpb24geWgobil7cmV0dXJuIGgobikmJiJUQUJMRSI9PT1uLnRhZ05hbWV9ZnVuY3Rpb24gaWx0KG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaCh0KSYmKHQuY29udGVudEVkaXRhYmxlPT09bnx8dC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpPT09bik/ITA6ITF9fWZ1bmN0aW9uIGF5KG4sdCxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9d2hpKSxuLmV4aXN0cyhmdW5jdGlvbihuKXtyZXR1cm4gaShuLHQpfSl9ZnVuY3Rpb24gZGkodCxpLHIpe3JldHVybiB0LmlzU29tZSgpJiZpLmlzU29tZSgpP24uc29tZShyKHQuZ2V0T3JEaWUoKSxpLmdldE9yRGllKCkpKTpuLm5vbmUoKX1mdW5jdGlvbiB2eShuKXtyZXR1cm4gdm9pZCAwIT09bi5zdHlsZSYmZnQobi5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKX1mdW5jdGlvbiBybHQobix0LGkpe2lmKCEoaHQoaSl8fGJzdChpKXx8b2goaSkpKXRocm93IGNvbnNvbGUuZXJyb3IoIkludmFsaWQgY2FsbCB0byBBdHRyaWJ1dGUuc2V0LiBLZXkgIix0LCI6OiBWYWx1ZSAiLGksIjo6IEVsZW1lbnQgIixuKSxuZXcgRXJyb3IoIkF0dHJpYnV0ZSB2YWx1ZSB3YXMgbm90IHNpbXBsZSIpO24uc2V0QXR0cmlidXRlKHQsaSsiIil9ZnVuY3Rpb24gZHUobix0LGkpe3JsdChuLmRvbSx0LGkpfWZ1bmN0aW9uIHNlKG4sdCl7dmFyIGk9bi5kb207ZXQodCxmdW5jdGlvbihuLHQpe3JsdChpLHQsbil9KX1mdW5jdGlvbiBuYShuLHQpe3ZhciBpPW4uZG9tLmdldEF0dHJpYnV0ZSh0KTtpZihudWxsIT09aSlyZXR1cm4gaX1mdW5jdGlvbiB1bHQodCxpKXtyZXR1cm4gbi5mcm9tKG5hKHQsaSkpfWZ1bmN0aW9uIGhlKG4sdCl7bi5kb20ucmVtb3ZlQXR0cmlidXRlKHQpfWZ1bmN0aW9uIHljaShuLHQpe3ZhciBpPW4uZG9tO2V0KHQsZnVuY3Rpb24obix0KXshZnVuY3Rpb24obix0LGkpe2lmKCFodChpKSl0aHJvdyBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGNhbGwgdG8gQ1NTLnNldC4gUHJvcGVydHkgIix0LCI6OiBWYWx1ZSAiLGksIjo6IEVsZW1lbnQgIixuKSxuZXcgRXJyb3IoIkNTUyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nOiAiK2kpO3Z5KG4pJiZuLnN0eWxlLnNldFByb3BlcnR5KHQsaSl9KGksdCxuKX0pfWZ1bmN0aW9uIGJmKG4sdCl7dmFyIGk9bi5kb20scj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpKS5nZXRQcm9wZXJ0eVZhbHVlKHQpO3JldHVybiIiIT09cnx8dGEobik/cjpjbHQoaSx0KX1mdW5jdGlvbiBrZyh0LGkpe3ZhciByPXQuZG9tLHU9Y2x0KHIsaSk7cmV0dXJuIG4uZnJvbSh1KS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIDA8bi5sZW5ndGh9KX1mdW5jdGlvbiBmbHQobil7dmFyIHU9e30sdD1uLmRvbSxpLHI7aWYodnkodCkpZm9yKGk9MDtpPHQuc3R5bGUubGVuZ3RoO2krKylyPXQuc3R5bGUuaXRlbShpKSx1W3JdPXQuc3R5bGVbcl07cmV0dXJuIHV9ZnVuY3Rpb24gZWx0KG4pe3JldHVybiBndChuLHN1KX1mdW5jdGlvbiBvbHQobix0KXtyZXR1cm4gbi5jaGlsZHJlbiYmZHQobi5jaGlsZHJlbix0KX1mdW5jdGlvbiBubGkobil7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IG47fSwwKX1mdW5jdGlvbiBhbHQobil7cmV0dXJuIGlhKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB2bHQobil9KX1mdW5jdGlvbiBjZShuKXtpZighYnIobikpdGhyb3cgbmV3IEVycm9yKCJjYXNlcyBtdXN0IGJlIGFuIGFycmF5Iik7aWYoMD09PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGhlcmUgbXVzdCBiZSBhdCBsZWFzdCBvbmUgY2FzZSIpO3ZhciB0PVtdLGk9e307cmV0dXJuIGUobixmdW5jdGlvbihyLHUpe3ZhciBvPWxoKHIpLGYsZTtpZigxIT09by5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJvbmUgYW5kIG9ubHkgb25lIG5hbWUgcGVyIGNhc2UiKTtpZihmPW9bMF0sZT1yW2ZdLHZvaWQgMCE9PWlbZl0pdGhyb3cgbmV3IEVycm9yKCJkdXBsaWNhdGUga2V5IGRldGVjdGVkOiIrZik7aWYoImNhdGEiPT09Zil0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBoYXZlIGEgY2FzZSBuYW1lZCBjYXRhIChzb3JyeSkiKTtpZighYnIoZSkpdGhyb3cgbmV3IEVycm9yKCJjYXNlIGFyZ3VtZW50cyBtdXN0IGJlIGFuIGFycmF5Iik7dC5wdXNoKGYpO2lbZl09ZnVuY3Rpb24oKXtmb3IodmFyIG8saT1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKylpW3JdPWFyZ3VtZW50c1tyXTtpZihvPWkubGVuZ3RoLG8hPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gY2FzZSAiK2YrIi4gRXhwZWN0ZWQgIitlLmxlbmd0aCsiICgiK2UrIiksIGdvdCAiK28pO3JldHVybntmb2xkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO2lmKHQubGVuZ3RoIT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGZvbGQuIEV4cGVjdGVkICIrbi5sZW5ndGgrIiwgZ290ICIrdC5sZW5ndGgpO3JldHVybiB0W3VdLmFwcGx5KG51bGwsaSl9LG1hdGNoOmZ1bmN0aW9uKG4pe3ZhciByPWxoKG4pO2lmKHQubGVuZ3RoIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIG1hdGNoLiBFeHBlY3RlZDogIit0LmpvaW4oIiwiKSsiXG5BY3R1YWw6ICIrci5qb2luKCIsIikpO2lmKCF2bCh0LGZ1bmN0aW9uKG4pe3JldHVybiBkdChyLG4pfSkpdGhyb3cgbmV3IEVycm9yKCJOb3QgYWxsIGJyYW5jaGVzIHdlcmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgbWF0Y2guIFNwZWNpZmllZDogIityLmpvaW4oIiwgIikrIlxuUmVxdWlyZWQ6ICIrdC5qb2luKCIsICIpKTtyZXR1cm4gbltmXS5hcHBseShudWxsLGkpfSxsb2c6ZnVuY3Rpb24obil7Y29uc29sZS5sb2cobix7Y29uc3RydWN0b3JzOnQsY29uc3RydWN0b3I6ZixwYXJhbXM6aX0pfX19fSksaX1mdW5jdGlvbiBwbHQobil7cmV0dXJuIG4uZm9sZChraSxraSl9ZnVuY3Rpb24gd2x0KHQsaSxyLHUsZil7cmV0dXJuIHQocix1KT9uLnNvbWUocik6ZnQoZikmJmYocik/bi5ub25lKCk6aShyLHUsZil9ZnVuY3Rpb24gdWEoaSxyLHUpe2Zvcih2YXIgZSxmPWkuZG9tLG89ZnQodSk/dTppdDtmLnBhcmVudE5vZGU7KXtpZihmPWYucGFyZW50Tm9kZSxlPXQuZnJvbURvbShmKSxyKGUpKXJldHVybiBuLnNvbWUoZSk7aWYobyhlKSlicmVha31yZXR1cm4gbi5ub25lKCl9ZnVuY3Rpb24gcHkobix0LGkpe3JldHVybiB3bHQoZnVuY3Rpb24obix0KXtyZXR1cm4gdChuKX0sdWEsbix0LGkpfWZ1bmN0aW9uIHd5KG4sdCxpKXtyZXR1cm4gdWEobixmdW5jdGlvbihuKXtyZXR1cm4gYWgobix0KX0saSl9ZnVuY3Rpb24gYnkoaSxyKXtyZXR1cm4gdT1yLHBodChmPXZvaWQgMD09PWk/ZG9jdW1lbnQ6aS5kb20pP24ubm9uZSgpOm4uZnJvbShmLnF1ZXJ5U2VsZWN0b3IodSkpLm1hcCh0LmZyb21Eb20pO3ZhciB1LGZ9ZnVuY3Rpb24gZm4obix0LGkpe3JldHVybiB3bHQoYWgsd3ksbix0LGkpfWZ1bmN0aW9uIGVuKG4sdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0JiYodD0wKSxzZXRUaW1lb3V0KG4sdCl9ZnVuY3Rpb24gYmx0KG4sdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0JiYodD0xKSxzZXRJbnRlcnZhbChuLHQpfWZ1bmN0aW9uIGtsdChuLHQpe2Z1bmN0aW9uIHIoKXtmb3IodmFyIHU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdVtyXT1hcmd1bWVudHNbcl07Y2xlYXJUaW1lb3V0KGkpO2k9ZW4oZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsdSl9LHQpfXZhciBpO3JldHVybiByLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaSl9LHJ9ZnVuY3Rpb24gZGx0KG4saSl7ZnVuY3Rpb24gcyhmLGUscyl7ZnVuY3Rpb24gayhuLHQpe2Zvcih2YXIgaT1uLmxlbmd0aDtpLS07KW5baV0oKTtoLnN0YXR1cz10O2gucGFzc2VkPVtdO2guZmFpbGVkPVtdO2MmJihjLm9ubG9hZD1udWxsLGMub25lcnJvcj1udWxsLGM9bnVsbCl9ZnVuY3Rpb24gZCgpe3JldHVybiBrKGgucGFzc2VkLDIpLDB9ZnVuY3Rpb24gdygpe3JldHVybiBrKGguZmFpbGVkLDMpfXZhciBjLHA9ci5fYWRkQ2FjaGVTdWZmaXgoZiksaD1hdCh1LHApLmdldE9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm57aWQ6Im1jZS11IitsKysscGFzc2VkOltdLGZhaWxlZDpbXSxjb3VudDowfX0pLHksZyxudCxiOyh1W3BdPWgpLmNvdW50Kys7Yj1mdW5jdGlvbigpe3ZhciB0PWI7KGZ1bmN0aW9uKCl7Zm9yKHZhciByLHQ9bi5zdHlsZVNoZWV0cyxpPXQubGVuZ3RoO2ktLTspaWYocj10W2ldLm93bmVyTm9kZSxyJiZyLmlkPT09Yy5pZClyZXR1cm4gZCgpLDF9KSgpfHwoRGF0ZS5ub3coKS1nPHY/dWkuc2V0VGltZW91dCh0KTp3KCkpfTtlJiZoLnBhc3NlZC5wdXNoKGUpO3MmJmguZmFpbGVkLnB1c2gocyk7MSE9PWguc3RhdHVzJiYoMiE9PWguc3RhdHVzPzMhPT1oLnN0YXR1cz8oaC5zdGF0dXM9MSxzZSh5PXQuZnJvbVRhZygibGluayIsYS5kb20pLHtyZWw6InN0eWxlc2hlZXQiLHR5cGU6InRleHQvY3NzIixpZDpoLmlkfSksZz1EYXRlLm5vdygpLGkuY29udGVudENzc0NvcnMmJmR1KHksImNyb3NzT3JpZ2luIiwiYW5vbnltb3VzIiksaS5yZWZlcnJlclBvbGljeSYmZHUoeSwicmVmZXJyZXJwb2xpY3kiLGkucmVmZXJyZXJQb2xpY3kpLChjPXkuZG9tKS5vbmxvYWQ9YixjLm9uZXJyb3I9dyxudD15LGlpKHBnKG8pLG50KSxkdSh5LCJocmVmIixwKSk6dygpOmQoKSl9ZnVuY3Rpb24gYyhuKXtyZXR1cm4gYWx0KGZ1bmN0aW9uKHQpe3Mobix2byh0LGYoeWx0LnZhbHVlKG4pKSksdm8odCxmKHlsdC5lcnJvcihuKSkpKX0pfWZ1bmN0aW9uIGgobil7dmFyIHQ9ci5fYWRkQ2FjaGVTdWZmaXgobik7YXQodSx0KS5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBpOzA9PS0tbi5jb3VudCYmKGRlbGV0ZSB1W3RdLGk9bi5pZCxieShwZyhvKSwiIyIraSkuZWFjaChuaSkpfSl9dm9pZCAwPT09aSYmKGk9e30pO3ZhciBsPTAsdT17fSxvPXQuZnJvbURvbShuKSxhPXZoKG8pLHY9aS5tYXhMb2FkVGltZXx8NWUzO3JldHVybntsb2FkOnMsbG9hZEFsbDpmdW5jdGlvbihuLHQsaSl7dmFyIHIsdT11dChuLGMpO3I9dTthbHQoZnVuY3Rpb24obil7dmFyIHQ9W10saT0wOzA9PT1yLmxlbmd0aD9uKFtdKTplKHIsZnVuY3Rpb24odSxmKXt2YXIgZTt1LmdldCgoZT1mLGZ1bmN0aW9uKHUpe3RbZV09dTsrK2k+PXIubGVuZ3RoJiZuKHQpfSkpfSl9KS5nZXQoZnVuY3Rpb24obil7dmFyIHI9bmh0KG4sZnVuY3Rpb24obil7cmV0dXJuIG4uaXNWYWx1ZSgpfSk7MDxyLmZhaWwubGVuZ3RoP2koci5mYWlsLm1hcChwbHQpKTp0KHIucGFzcy5tYXAocGx0KSl9KX0sdW5sb2FkOmgsdW5sb2FkQWxsOmZ1bmN0aW9uKG4pe2UobixmdW5jdGlvbihuKXtoKG4pfSl9LF9zZXRSZWZlcnJlclBvbGljeTpmdW5jdGlvbihuKXtpLnJlZmVycmVyUG9saWN5PW59fX1mdW5jdGlvbiBucyhuLHQpe3RoaXMubm9kZT1uO3RoaXMucm9vdE5vZGU9dDt0aGlzLmN1cnJlbnQ9dGhpcy5jdXJyZW50LmJpbmQodGhpcyk7dGhpcy5uZXh0PXRoaXMubmV4dC5iaW5kKHRoaXMpO3RoaXMucHJldj10aGlzLnByZXYuYmluZCh0aGlzKTt0aGlzLnByZXYyPXRoaXMucHJldjIuYmluZCh0aGlzKX1mdW5jdGlvbiBsZShuKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIHQ9dHx8ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsdT17fSxpPTAsZj1uLmxlbmd0aDtpPGY7aSsrKXI9bltpXSx1W1N0cmluZyhyKV09dChyLGkpO3JldHVybiB1fShuLGx0KSx3KHQsdnQoaSkpfX1mdW5jdGlvbiBobihuKXtyZXR1cm4gc3UobikmJiF0ZihuKX1mdW5jdGlvbiBiaChuKXtyZXR1cm4gc3UobikmJiJiciI9PT12dChuKX1mdW5jdGlvbiBraChuKXtyZXR1cm4gbmMobikmJihuPW4ucGFyZW50Tm9kZSksZmxpKG4pJiZuLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKX1mdW5jdGlvbiBkaChuKXtyZXR1cm4gbmMobikmJmlwKG4uZGF0YSl9ZnVuY3Rpb24gaHIobil7cmV0dXJuIGtoKG4pfHxkaChuKX1mdW5jdGlvbiBuYXQobil7cmV0dXJuIG4uZmlyc3RDaGlsZCE9PW4ubGFzdENoaWxkfHwhc3Qobi5maXJzdENoaWxkKX1mdW5jdGlvbiBjbihuKXt2YXIgdD1uLmNvbnRhaW5lcigpO3JldHVybiEhbyh0KSYmKHQuZGF0YS5jaGFyQXQobi5vZmZzZXQoKSk9PT1maXx8bi5pc0F0U3RhcnQoKSYmZGgodC5wcmV2aW91c1NpYmxpbmcpKX1mdW5jdGlvbiBsbihuKXt2YXIgdD1uLmNvbnRhaW5lcigpO3JldHVybiEhbyh0KSYmKHQuZGF0YS5jaGFyQXQobi5vZmZzZXQoKS0xKT09PWZpfHxuLmlzQXRFbmQoKSYmZGgodC5uZXh0U2libGluZykpfWZ1bmN0aW9uIGFuKG4pe3JldHVybiBuJiZuLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKT8oa28odD0oaT1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiciIpKVtpLmxlbmd0aC0xXSkmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxuLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSxuLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSxuLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSxuLnJlbW92ZUF0dHJpYnV0ZSgiX21vel9hYnNwb3MiKSxuKTpudWxsO3ZhciBpLHR9ZnVuY3Rpb24gdGF0KG4pe3JldHVybiBraChuLnN0YXJ0Q29udGFpbmVyKX1mdW5jdGlvbiBuZihuKXtyZXR1cm4hbGxpKG4pJiYoc2xpKG4pPyFobGkobi5wYXJlbnROb2RlKTp2YXQobil8fG9saShuKXx8Y2xpKG4pfHxnbihuKSl9ZnVuY3Rpb24ga3kobix0KXtyZXR1cm4gbmYobikmJmZ1bmN0aW9uKG4sdCl7Zm9yKG49bi5wYXJlbnROb2RlO24mJm4hPT10O249bi5wYXJlbnROb2RlKXtpZihnbihuKSlyZXR1cm4hMTtpZihhYXQobikpcmV0dXJuITB9cmV0dXJuITB9KG4sdCl9ZnVuY3Rpb24gdHMobil7cmV0dXJuIGFsaS50ZXN0KG4pfWZ1bmN0aW9uIGR5KG4saSl7cmV0dXJuIG5mKG4pJiYhMT09PShjPWksbyhmPW4pJiZ0cyhmLmRhdGEpJiYhMT09PShlPWYscz10LmZyb21Eb20oYyksd3kodC5mcm9tRG9tKGUpLCJwcmUsY29kZSIsdShudCxzKSkuaXNTb21lKCkpKXx8aChyPW4pJiYiQSI9PT1yLm5vZGVOYW1lJiYhci5oYXNBdHRyaWJ1dGUoImhyZWYiKSYmKHIuaGFzQXR0cmlidXRlKCJuYW1lIil8fHIuaGFzQXR0cmlidXRlKCJpZCIpKXx8dmxpKG4pO3ZhciBlLHMscixmLGN9ZnVuY3Rpb24gcHQobix0KXtyZXR1cm4gZnVuY3Rpb24obix0KXt2YXIgdT0wLGkscjtpZihkeShuLG4pKXJldHVybiExO2lmKGk9bi5maXJzdENoaWxkLCFpKXJldHVybiEwO3I9bmV3IHl0KGksbik7ZG97aWYodCl7aWYocGxpKGkpKXtpPXIubmV4dCghMCk7Y29udGludWV9aWYoeWxpKGkpKXtpPXIubmV4dCgpO2NvbnRpbnVlfX1pZihzdChpKSl1KyssaT1yLm5leHQoKTtlbHNle2lmKGR5KGksbikpcmV0dXJuITE7aT1yLm5leHQoKX19d2hpbGUoaSk7cmV0dXJuIHU8PTF9KG4uZG9tLHQ9dm9pZCAwPT09dHx8dCl9ZnVuY3Rpb24gaWF0KG4saSl7cmV0dXJuIGcobikmJihkeShuLGkpfHxobih0LmZyb21Eb20obikpKX1mdW5jdGlvbiByYXQobil7cmV0dXJuInNwYW4iPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYiYm9va21hcmsiPT09bi5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXR5cGUiKX1mdW5jdGlvbiB1YXQobix0KXt2YXIgaSxyLHUsZj17fTtpZihuKXtmb3Iobj1uLnNwbGl0KCIsIiksdD10fHwxMCxpPTA7aTxuLmxlbmd0aDtpKz0yKXI9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuW2ldLHQpKSxpc1tyXXx8KHU9IiYiK25baSsxXSsiOyIsZltyXT11LGZbdV09cik7cmV0dXJuIGZ9fWZ1bmN0aW9uIGZhdChuLHQpe3JldHVybiBuLnJlcGxhY2UodD9mcDplcCxmdW5jdGlvbihuKXtyZXR1cm4gaXNbbl18fG59KX1mdW5jdGlvbiBlYXQobix0KXtyZXR1cm4gbi5yZXBsYWNlKHQ/ZnA6ZXAsZnVuY3Rpb24obil7cmV0dXJuIDE8bi5sZW5ndGg/IiYjIisoMTAyNCoobi5jaGFyQ29kZUF0KDApLTU1Mjk2KSsobi5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrIjsiOmlzW25dfHwiJiMiK24uY2hhckNvZGVBdCgwKSsiOyJ9KX1mdW5jdGlvbiB2bihuLHQsaSl7cmV0dXJuIGk9aXx8dHR0LG4ucmVwbGFjZSh0P2ZwOmVwLGZ1bmN0aW9uKG4pe3JldHVybiBpc1tuXXx8aVtuXXx8bn0pfWZ1bmN0aW9uIHRpKG4sdCl7cmV0dXJuKG49ci50cmltKG4pKT9uLnNwbGl0KHR8fCIgIik6W119ZnVuY3Rpb24gb2F0KG4sdCl7dmFyIGk9dGMobiwiICIsdGMobi50b1VwcGVyQ2FzZSgpLCIgIikpO3JldHVybiBpdHQoaSx0KX1mdW5jdGlvbiBzYXQobil7cmV0dXJuIG9hdCgidGQgdGggbGkgZHQgZGQgZmlnY2FwdGlvbiBjYXB0aW9uIGRldGFpbHMgc3VtbWFyeSIsbi5nZXRUZXh0QmxvY2tFbGVtZW50cygpKX1mdW5jdGlvbiB5bihuLHQpe3ZhciBpO3JldHVybiBuJiYoaT17fSxlaShuPSJzdHJpbmciPT10eXBlb2Ygbj97IioiOm59Om4sZnVuY3Rpb24obixyKXtpW3JdPWlbci50b1VwcGVyQ2FzZSgpXT0oIm1hcCI9PT10P3RjOnlhdCkobiwvWywgXS8pfSkpLGl9ZnVuY3Rpb24gYWUobil7ZnVuY3Rpb24gaCh0LGkscil7dmFyIHU9blt0XTtyZXR1cm4gdT91PXRjKHUsL1ssIF0vLHRjKHUudG9VcHBlckNhc2UoKSwvWywgXS8pKToodT1yc1t0XSl8fCh1PW9hdChpLHIpLHJzW3RdPXUpLHV9ZnVuY3Rpb24gdChuLHQsaSl7ZnVuY3Rpb24gZihuLHQpe2Zvcih2YXIgcj17fSxpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXJbbltpXV09dHx8e307cmV0dXJuIHJ9dmFyIGUsbyxyLHU7Zm9yKHQ9dHx8IiIsInN0cmluZyI9PXR5cGVvZihpPWl8fFtdKSYmKGk9dGkoaSkpLHI9dGkobiksdT1yLmxlbmd0aDt1LS07KW89e2F0dHJpYnV0ZXM6ZihlPXRpKFthLHRdLmpvaW4oIiAiKSkpLGF0dHJpYnV0ZXNPcmRlcjplLGNoaWxkcmVuOmYoaSxuYWkpfSxjW3JbdV1dPW99ZnVuY3Rpb24gaShuLHQpe2Zvcih2YXIgcixpLGYsZT10aShuKSxvPWUubGVuZ3RoLHU9dGkodCk7by0tOylmb3Iocj1jW2Vbb11dLGk9MCxmPXUubGVuZ3RoO2k8ZjtpKyspci5hdHRyaWJ1dGVzW3VbaV1dPXt9LHIuYXR0cmlidXRlc09yZGVyLnB1c2godVtpXSl9ZnVuY3Rpb24gb3Qobil7cmV0dXJuIG5ldyBSZWdFeHAoIl4iK24ucmVwbGFjZSgvKFs/KypdKS9nLCIuJDEiKSsiJCIpfWZ1bmN0aW9uIHkobil7dmFyIHksZyxwLG50LGksdCxmLGwscyxyLHcsaCxvLGUsYixhLGssYyx0dD0vWyo/K10vLGQ7aWYobilmb3IoZD10aShuLCIsIiksdVsiQCJdJiYoYT11WyJAIl0uYXR0cmlidXRlcyxrPXVbIkAiXS5hdHRyaWJ1dGVzT3JkZXIpLHk9MCxnPWQubGVuZ3RoO3k8Zzt5KyspaWYoaT0vXihbIytcLV0pPyhbXlxbIVwvXSspKD86XC8oW15cWyFdKykpPyg/OighPylcWyhbXlxdXSspXSk/JC8uZXhlYyhkW3ldKSl7aWYoZT1pWzFdLHM9aVsyXSxiPWlbM10sbD1pWzVdLHQ9e2F0dHJpYnV0ZXM6aD17fSxhdHRyaWJ1dGVzT3JkZXI6bz1bXX0sIiMiPT09ZSYmKHQucGFkZEVtcHR5PSEwKSwiLSI9PT1lJiYodC5yZW1vdmVFbXB0eT0hMCksIiEiPT09aVs0XSYmKHQucmVtb3ZlRW1wdHlBdHRycz0hMCksYSYmKGV0KGEsZnVuY3Rpb24obix0KXtoW3RdPW59KSxvLnB1c2guYXBwbHkobyxrKSksbClmb3IocD0wLG50PShsPXRpKGwsInwiKSkubGVuZ3RoO3A8bnQ7cCsrKShpPS9eKFshXC1dKT8oXHcrW1xcOl06XHcrfFtePTo8XSspPyg/OihbPTo8XSkoLiopKT8kLy5leGVjKGxbcF0pKSYmKGY9e30sdz1pWzFdLHI9aVsyXS5yZXBsYWNlKC9bXFw6XTovZywiOiIpLGU9aVszXSxjPWlbNF0sIiEiPT09dyYmKHQuYXR0cmlidXRlc1JlcXVpcmVkPXQuYXR0cmlidXRlc1JlcXVpcmVkfHxbXSx0LmF0dHJpYnV0ZXNSZXF1aXJlZC5wdXNoKHIpLGYucmVxdWlyZWQ9ITApLCItIiE9PXc/KGUmJigiPSI9PT1lJiYodC5hdHRyaWJ1dGVzRGVmYXVsdD10LmF0dHJpYnV0ZXNEZWZhdWx0fHxbXSx0LmF0dHJpYnV0ZXNEZWZhdWx0LnB1c2goe25hbWU6cix2YWx1ZTpjfSksZi5kZWZhdWx0VmFsdWU9YyksIjoiPT09ZSYmKHQuYXR0cmlidXRlc0ZvcmNlZD10LmF0dHJpYnV0ZXNGb3JjZWR8fFtdLHQuYXR0cmlidXRlc0ZvcmNlZC5wdXNoKHtuYW1lOnIsdmFsdWU6Y30pLGYuZm9yY2VkVmFsdWU9YyksIjwiPT09ZSYmKGYudmFsaWRWYWx1ZXM9dGMoYywiPyIpKSksdHQudGVzdChyKT8odC5hdHRyaWJ1dGVQYXR0ZXJucz10LmF0dHJpYnV0ZVBhdHRlcm5zfHxbXSxmLnBhdHRlcm49b3QociksdC5hdHRyaWJ1dGVQYXR0ZXJucy5wdXNoKGYpKTooaFtyXXx8by5wdXNoKHIpLGhbcl09ZikpOihkZWxldGUgaFtyXSxvLnNwbGljZSh0YWkobyxyKSwxKSkpO2F8fCJAIiE9PXN8fChhPWgsaz1vKTtiJiYodC5vdXRwdXROYW1lPXMsdVtiXT10KTt0dC50ZXN0KHMpPyh0LnBhdHRlcm49b3Qocyksdi5wdXNoKHQpKTp1W3NdPXR9fWZ1bmN0aW9uIHN0KG4pe3U9e307dj1bXTt5KG4pO2VpKGl0LGZ1bmN0aW9uKG4sdCl7b1t0XT1uLmNoaWxkcmVufSl9ZnVuY3Rpb24gaHQobil7dmFyIHQ9L14ofik/KC4rKSQvO24mJihycy50ZXh0X2Jsb2NrX2VsZW1lbnRzPXJzLmJsb2NrX2VsZW1lbnRzPW51bGwsZWkodGkobiwiLCIpLGZ1bmN0aW9uKG4pe3ZhciByLGU9dC5leGVjKG4pLHM9In4iPT09ZVsxXSxmPXM/InNwYW4iOiJkaXYiLGk9ZVsyXTtvW2ldPW9bZl07bnRbaV09ZjtzfHwod1tpLnRvVXBwZXJDYXNlKCldPXt9LHdbaV09e30pO3VbaV18fChyPXVbZl0sZGVsZXRlKHI9aXR0KHt9LHIpKS5yZW1vdmVFbXB0eUF0dHJzLGRlbGV0ZSByLnJlbW92ZUVtcHR5LHVbaV09cik7ZWkobyxmdW5jdGlvbihuLHQpe25bZl0mJihvW3RdPW49aXR0KHt9LG9bdF0pLG5baV09bltmXSl9KX0pKX1mdW5jdGlvbiBiKHQpe3ZhciBpPS9eKFsrXC1dPykoW0EtWmEtejAtOV9cLS5cdTAwYjdcdTAwYzAtXHUwMGQ2XHUwMGQ4LVx1MDBmNlx1MDBmOC1cdTAzN2RcdTAzN2YtXHUxZmZmXHUyMDBjLVx1MjAwZFx1MjAzZi1cdTIwNDBcdTIwNzAtXHUyMThmXHUyYzAwLVx1MmZlZlx1MzAwMS1cdWQ3ZmZcdWY5MDAtXHVmZGNmXHVmZGYwLVx1ZmZmZF0rKVxbKFteXF1dKyldJC87cnNbbi5zY2hlbWFdPW51bGw7dCYmZWkodGkodCwiLCIpLGZ1bmN0aW9uKG4pe3ZhciByLHUsdD1pLmV4ZWMobik7dCYmKHU9dFsxXSxyPXU/b1t0WzJdXTpvW3RbMl1dPXsiI2NvbW1lbnQiOnt9fSxyPW9bdFsyXV0sZWkodGkodFszXSwifCIpLGZ1bmN0aW9uKG4peyItIj09PXU/ZGVsZXRlIHJbbl06cltuXT17fX0pKX0pfWZ1bmN0aW9uIGsobil7dmFyIGksdD11W25dO2lmKHQpcmV0dXJuIHQ7Zm9yKGk9di5sZW5ndGg7aS0tOylpZigodD12W2ldKS5wYXR0ZXJuLnRlc3QobikpcmV0dXJuIHR9dmFyIHMsYSxsLGUscixkLGcsYyx1PXt9LG89e30sdj1bXSxudD17fSx0dD17fSxpdD0ocz0obj1ufHx7fSkuc2NoZW1hLGM9e30scnNbc118fChhPSJpZCBhY2Nlc3NrZXkgY2xhc3MgZGlyIGxhbmcgc3R5bGUgdGFiaW5kZXggdGl0bGUgcm9sZSIsbD0iYWRkcmVzcyBibG9ja3F1b3RlIGRpdiBkbCBmaWVsZHNldCBmb3JtIGgxIGgyIGgzIGg0IGg1IGg2IGhyIG1lbnUgb2wgcCBwcmUgdGFibGUgdWwiLGU9ImEgYWJiciBiIGJkbyBiciBidXR0b24gY2l0ZSBjb2RlIGRlbCBkZm4gZW0gZW1iZWQgaSBpZnJhbWUgaW1nIGlucHV0IGlucyBrYmQgbGFiZWwgbWFwIG5vc2NyaXB0IG9iamVjdCBxIHMgc2FtcCBzY3JpcHQgc2VsZWN0IHNtYWxsIHNwYW4gc3Ryb25nIHN1YiBzdXAgdGV4dGFyZWEgdSB2YXIgI3RleHQgI2NvbW1lbnQiLCJodG1sNCIhPT1zJiYoYSs9IiBjb250ZW50ZWRpdGFibGUgY29udGV4dG1lbnUgZHJhZ2dhYmxlIGRyb3B6b25lIGhpZGRlbiBzcGVsbGNoZWNrIHRyYW5zbGF0ZSIsbCs9IiBhcnRpY2xlIGFzaWRlIGRldGFpbHMgZGlhbG9nIGZpZ3VyZSBtYWluIGhlYWRlciBmb290ZXIgaGdyb3VwIHNlY3Rpb24gbmF2IixlKz0iIGF1ZGlvIGNhbnZhcyBjb21tYW5kIGRhdGFsaXN0IG1hcmsgbWV0ZXIgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3MgdGltZSB3YnIgdmlkZW8gcnVieSBiZGkga2V5Z2VuIiksImh0bWw1LXN0cmljdCIhPT1zJiYoYSs9IiB4bWw6bGFuZyIsZT1bZSxnPSJhY3JvbnltIGFwcGxldCBiYXNlZm9udCBiaWcgZm9udCBzdHJpa2UgdHQiXS5qb2luKCIgIiksZWkodGkoZyksZnVuY3Rpb24obil7dChuLCIiLGUpfSksbD1bbCxkPSJjZW50ZXIgZGlyIGlzaW5kZXggbm9mcmFtZXMiXS5qb2luKCIgIikscj1bbCxlXS5qb2luKCIgIiksZWkodGkoZCksZnVuY3Rpb24obil7dChuLCIiLHIpfSkpLHI9cnx8W2wsZV0uam9pbigiICIpLHQoImh0bWwiLCJtYW5pZmVzdCIsImhlYWQgYm9keSIpLHQoImhlYWQiLCIiLCJiYXNlIGNvbW1hbmQgbGluayBtZXRhIG5vc2NyaXB0IHNjcmlwdCBzdHlsZSB0aXRsZSIpLHQoInRpdGxlIGhyIG5vc2NyaXB0IGJyIiksdCgiYmFzZSIsImhyZWYgdGFyZ2V0IiksdCgibGluayIsImhyZWYgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUgc2l6ZXMgaHJlZmxhbmciKSx0KCJtZXRhIiwibmFtZSBodHRwLWVxdWl2IGNvbnRlbnQgY2hhcnNldCIpLHQoInN0eWxlIiwibWVkaWEgdHlwZSBzY29wZWQiKSx0KCJzY3JpcHQiLCJzcmMgYXN5bmMgZGVmZXIgdHlwZSBjaGFyc2V0IiksdCgiYm9keSIsIm9uYWZ0ZXJwcmludCBvbmJlZm9yZXByaW50IG9uYmVmb3JldW5sb2FkIG9uYmx1ciBvbmVycm9yIG9uZm9jdXMgb25oYXNoY2hhbmdlIG9ubG9hZCBvbm1lc3NhZ2Ugb25vZmZsaW5lIG9ub25saW5lIG9ucGFnZWhpZGUgb25wYWdlc2hvdyBvbnBvcHN0YXRlIG9ucmVzaXplIG9uc2Nyb2xsIG9uc3RvcmFnZSBvbnVubG9hZCIsciksdCgiYWRkcmVzcyBkdCBkZCBkaXYgY2FwdGlvbiIsIiIsciksdCgiaDEgaDIgaDMgaDQgaDUgaDYgcHJlIHAgYWJiciBjb2RlIHZhciBzYW1wIGtiZCBzdWIgc3VwIGkgYiB1IGJkbyBzcGFuIGxlZ2VuZCBlbSBzdHJvbmcgc21hbGwgcyBjaXRlIGRmbiIsIiIsZSksdCgiYmxvY2txdW90ZSIsImNpdGUiLHIpLHQoIm9sIiwicmV2ZXJzZWQgc3RhcnQgdHlwZSIsImxpIiksdCgidWwiLCIiLCJsaSIpLHQoImxpIiwidmFsdWUiLHIpLHQoImRsIiwiIiwiZHQgZGQiKSx0KCJhIiwiaHJlZiB0YXJnZXQgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUiLGUpLHQoInEiLCJjaXRlIixlKSx0KCJpbnMgZGVsIiwiY2l0ZSBkYXRldGltZSIsciksdCgiaW1nIiwic3JjIHNpemVzIHNyY3NldCBhbHQgdXNlbWFwIGlzbWFwIHdpZHRoIGhlaWdodCIpLHQoImlmcmFtZSIsInNyYyBuYW1lIHdpZHRoIGhlaWdodCIsciksdCgiZW1iZWQiLCJzcmMgdHlwZSB3aWR0aCBoZWlnaHQiKSx0KCJvYmplY3QiLCJkYXRhIHR5cGUgdHlwZW11c3RtYXRjaCBuYW1lIHVzZW1hcCBmb3JtIHdpZHRoIGhlaWdodCIsW3IsInBhcmFtIl0uam9pbigiICIpKSx0KCJwYXJhbSIsIm5hbWUgdmFsdWUiKSx0KCJtYXAiLCJuYW1lIixbciwiYXJlYSJdLmpvaW4oIiAiKSksdCgiYXJlYSIsImFsdCBjb29yZHMgc2hhcGUgaHJlZiB0YXJnZXQgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUiKSx0KCJ0YWJsZSIsImJvcmRlciIsImNhcHRpb24gY29sZ3JvdXAgdGhlYWQgdGZvb3QgdGJvZHkgdHIiKygiaHRtbDQiPT09cz8iIGNvbCI6IiIpKSx0KCJjb2xncm91cCIsInNwYW4iLCJjb2wiKSx0KCJjb2wiLCJzcGFuIiksdCgidGJvZHkgdGhlYWQgdGZvb3QiLCIiLCJ0ciIpLHQoInRyIiwiIiwidGQgdGgiKSx0KCJ0ZCIsImNvbHNwYW4gcm93c3BhbiBoZWFkZXJzIixyKSx0KCJ0aCIsImNvbHNwYW4gcm93c3BhbiBoZWFkZXJzIHNjb3BlIGFiYnIiLHIpLHQoImZvcm0iLCJhY2NlcHQtY2hhcnNldCBhY3Rpb24gYXV0b2NvbXBsZXRlIGVuY3R5cGUgbWV0aG9kIG5hbWUgbm92YWxpZGF0ZSB0YXJnZXQiLHIpLHQoImZpZWxkc2V0IiwiZGlzYWJsZWQgZm9ybSBuYW1lIixbciwibGVnZW5kIl0uam9pbigiICIpKSx0KCJsYWJlbCIsImZvcm0gZm9yIixlKSx0KCJpbnB1dCIsImFjY2VwdCBhbHQgYXV0b2NvbXBsZXRlIGNoZWNrZWQgZGlybmFtZSBkaXNhYmxlZCBmb3JtIGZvcm1hY3Rpb24gZm9ybWVuY3R5cGUgZm9ybW1ldGhvZCBmb3Jtbm92YWxpZGF0ZSBmb3JtdGFyZ2V0IGhlaWdodCBsaXN0IG1heCBtYXhsZW5ndGggbWluIG11bHRpcGxlIG5hbWUgcGF0dGVybiByZWFkb25seSByZXF1aXJlZCBzaXplIHNyYyBzdGVwIHR5cGUgdmFsdWUgd2lkdGgiKSx0KCJidXR0b24iLCJkaXNhYmxlZCBmb3JtIGZvcm1hY3Rpb24gZm9ybWVuY3R5cGUgZm9ybW1ldGhvZCBmb3Jtbm92YWxpZGF0ZSBmb3JtdGFyZ2V0IG5hbWUgdHlwZSB2YWx1ZSIsImh0bWw0Ij09PXM/cjplKSx0KCJzZWxlY3QiLCJkaXNhYmxlZCBmb3JtIG11bHRpcGxlIG5hbWUgcmVxdWlyZWQgc2l6ZSIsIm9wdGlvbiBvcHRncm91cCIpLHQoIm9wdGdyb3VwIiwiZGlzYWJsZWQgbGFiZWwiLCJvcHRpb24iKSx0KCJvcHRpb24iLCJkaXNhYmxlZCBsYWJlbCBzZWxlY3RlZCB2YWx1ZSIpLHQoInRleHRhcmVhIiwiY29scyBkaXJuYW1lIGRpc2FibGVkIGZvcm0gbWF4bGVuZ3RoIG5hbWUgcmVhZG9ubHkgcmVxdWlyZWQgcm93cyB3cmFwIiksdCgibWVudSIsInR5cGUgbGFiZWwiLFtyLCJsaSJdLmpvaW4oIiAiKSksdCgibm9zY3JpcHQiLCIiLHIpLCJodG1sNCIhPT1zJiYodCgid2JyIiksdCgicnVieSIsIiIsW2UsInJ0IHJwIl0uam9pbigiICIpKSx0KCJmaWdjYXB0aW9uIiwiIixyKSx0KCJtYXJrIHJ0IHJwIHN1bW1hcnkgYmRpIiwiIixlKSx0KCJjYW52YXMiLCJ3aWR0aCBoZWlnaHQiLHIpLHQoInZpZGVvIiwic3JjIGNyb3Nzb3JpZ2luIHBvc3RlciBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyB3aWR0aCBoZWlnaHQgYnVmZmVyZWQiLFtyLCJ0cmFjayBzb3VyY2UiXS5qb2luKCIgIikpLHQoImF1ZGlvIiwic3JjIGNyb3Nzb3JpZ2luIHByZWxvYWQgYXV0b3BsYXkgbWVkaWFncm91cCBsb29wIG11dGVkIGNvbnRyb2xzIGJ1ZmZlcmVkIHZvbHVtZSIsW3IsInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksdCgicGljdHVyZSIsIiIsImltZyBzb3VyY2UiKSx0KCJzb3VyY2UiLCJzcmMgc3Jjc2V0IHR5cGUgbWVkaWEgc2l6ZXMiKSx0KCJ0cmFjayIsImtpbmQgc3JjIHNyY2xhbmcgbGFiZWwgZGVmYXVsdCIpLHQoImRhdGFsaXN0IiwiIixbZSwib3B0aW9uIl0uam9pbigiICIpKSx0KCJhcnRpY2xlIHNlY3Rpb24gbmF2IGFzaWRlIG1haW4gaGVhZGVyIGZvb3RlciIsIiIsciksdCgiaGdyb3VwIiwiIiwiaDEgaDIgaDMgaDQgaDUgaDYiKSx0KCJmaWd1cmUiLCIiLFtyLCJmaWdjYXB0aW9uIl0uam9pbigiICIpKSx0KCJ0aW1lIiwiZGF0ZXRpbWUiLGUpLHQoImRpYWxvZyIsIm9wZW4iLHIpLHQoImNvbW1hbmQiLCJ0eXBlIGxhYmVsIGljb24gZGlzYWJsZWQgY2hlY2tlZCByYWRpb2dyb3VwIGNvbW1hbmQiKSx0KCJvdXRwdXQiLCJmb3IgZm9ybSBuYW1lIixlKSx0KCJwcm9ncmVzcyIsInZhbHVlIG1heCIsZSksdCgibWV0ZXIiLCJ2YWx1ZSBtaW4gbWF4IGxvdyBoaWdoIG9wdGltdW0iLGUpLHQoImRldGFpbHMiLCJvcGVuIixbciwic3VtbWFyeSJdLmpvaW4oIiAiKSksdCgia2V5Z2VuIiwiYXV0b2ZvY3VzIGNoYWxsZW5nZSBkaXNhYmxlZCBmb3JtIGtleXR5cGUgbmFtZSIpKSwiaHRtbDUtc3RyaWN0IiE9PXMmJihpKCJzY3JpcHQiLCJsYW5ndWFnZSB4bWw6c3BhY2UiKSxpKCJzdHlsZSIsInhtbDpzcGFjZSIpLGkoIm9iamVjdCIsImRlY2xhcmUgY2xhc3NpZCBjb2RlIGNvZGViYXNlIGNvZGV0eXBlIGFyY2hpdmUgc3RhbmRieSBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLGkoImVtYmVkIiwiYWxpZ24gbmFtZSBoc3BhY2UgdnNwYWNlIiksaSgicGFyYW0iLCJ2YWx1ZXR5cGUgdHlwZSIpLGkoImEiLCJjaGFyc2V0IG5hbWUgcmV2IHNoYXBlIGNvb3JkcyIpLGkoImJyIiwiY2xlYXIiKSxpKCJhcHBsZXQiLCJjb2RlYmFzZSBhcmNoaXZlIGNvZGUgb2JqZWN0IGFsdCBuYW1lIHdpZHRoIGhlaWdodCBhbGlnbiBoc3BhY2UgdnNwYWNlIiksaSgiaW1nIiwibmFtZSBsb25nZGVzYyBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLGkoImlmcmFtZSIsImxvbmdkZXNjIGZyYW1lYm9yZGVyIG1hcmdpbndpZHRoIG1hcmdpbmhlaWdodCBzY3JvbGxpbmcgYWxpZ24iKSxpKCJmb250IGJhc2Vmb250Iiwic2l6ZSBjb2xvciBmYWNlIiksaSgiaW5wdXQiLCJ1c2VtYXAgYWxpZ24iKSxpKCJzZWxlY3QiKSxpKCJ0ZXh0YXJlYSIpLGkoImgxIGgyIGgzIGg0IGg1IGg2IGRpdiBwIGxlZ2VuZCBjYXB0aW9uIiwiYWxpZ24iKSxpKCJ1bCIsInR5cGUgY29tcGFjdCIpLGkoImxpIiwidHlwZSIpLGkoIm9sIGRsIG1lbnUgZGlyIiwiY29tcGFjdCIpLGkoInByZSIsIndpZHRoIHhtbDpzcGFjZSIpLGkoImhyIiwiYWxpZ24gbm9zaGFkZSBzaXplIHdpZHRoIiksaSgiaXNpbmRleCIsInByb21wdCIpLGkoInRhYmxlIiwic3VtbWFyeSB3aWR0aCBmcmFtZSBydWxlcyBjZWxsc3BhY2luZyBjZWxscGFkZGluZyBhbGlnbiBiZ2NvbG9yIiksaSgiY29sIiwid2lkdGggYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGkoImNvbGdyb3VwIiwid2lkdGggYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGkoInRoZWFkIiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGkoInRyIiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBiZ2NvbG9yIiksaSgidGgiLCJheGlzIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gbm93cmFwIGJnY29sb3Igd2lkdGggaGVpZ2h0IiksaSgiZm9ybSIsImFjY2VwdCIpLGkoInRkIiwiYWJiciBheGlzIHNjb3BlIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gbm93cmFwIGJnY29sb3Igd2lkdGggaGVpZ2h0IiksaSgidGZvb3QiLCJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksaSgidGJvZHkiLCJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksaSgiYXJlYSIsIm5vaHJlZiIpLGkoImJvZHkiLCJiYWNrZ3JvdW5kIGJnY29sb3IgdGV4dCBsaW5rIHZsaW5rIGFsaW5rIikpLCJodG1sNCIhPT1zJiYoaSgiaW5wdXQgYnV0dG9uIHNlbGVjdCB0ZXh0YXJlYSIsImF1dG9mb2N1cyIpLGkoImlucHV0IHRleHRhcmVhIiwicGxhY2Vob2xkZXIiKSxpKCJhIiwiZG93bmxvYWQiKSxpKCJsaW5rIHNjcmlwdCBpbWciLCJjcm9zc29yaWdpbiIpLGkoImltZyIsImxvYWRpbmciKSxpKCJpZnJhbWUiLCJzYW5kYm94IHNlYW1sZXNzIGFsbG93ZnVsbHNjcmVlbiBsb2FkaW5nIikpLGVpKHRpKCJhIGZvcm0gbWV0ZXIgcHJvZ3Jlc3MgZGZuIiksZnVuY3Rpb24obil7Y1tuXSYmZGVsZXRlIGNbbl0uY2hpbGRyZW5bbl19KSxkZWxldGUgYy5jYXB0aW9uLmNoaWxkcmVuLnRhYmxlLGRlbGV0ZSBjLnNjcmlwdCxyc1tzXT1jKSk7ITE9PT1uLnZlcmlmeV9odG1sJiYobi52YWxpZF9lbGVtZW50cz0iKlsqXSIpO3ZhciBjdD15bihuLnZhbGlkX3N0eWxlcyksbHQ9eW4obi5pbnZhbGlkX3N0eWxlcywibWFwIiksYXQ9eW4obi52YWxpZF9jbGFzc2VzLCJtYXAiKSx2dD1oKCJ3aGl0ZXNwYWNlX2VsZW1lbnRzIiwicHJlIHNjcmlwdCBub3NjcmlwdCBzdHlsZSB0ZXh0YXJlYSB2aWRlbyBhdWRpbyBpZnJhbWUgb2JqZWN0IGNvZGUiKSx5dD1oKCJzZWxmX2Nsb3NpbmdfZWxlbWVudHMiLCJjb2xncm91cCBkZCBkdCBsaSBvcHRpb24gcCB0ZCB0Zm9vdCB0aCB0aGVhZCB0ciIpLHA9aCgic2hvcnRfZW5kZWRfZWxlbWVudHMiLCJhcmVhIGJhc2UgYmFzZWZvbnQgYnIgY29sIGZyYW1lIGhyIGltZyBpbnB1dCBpc2luZGV4IGxpbmsgbWV0YSBwYXJhbSBlbWJlZCBzb3VyY2Ugd2JyIHRyYWNrIikscHQ9aCgiYm9vbGVhbl9hdHRyaWJ1dGVzIiwiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMiKSxydD0idGQgdGggaWZyYW1lIHZpZGVvIGF1ZGlvIG9iamVjdCBzY3JpcHQgY29kZSIsd3Q9aCgibm9uX2VtcHR5X2VsZW1lbnRzIixydCsiIHByZSIscCksYnQ9aCgibW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMiLHJ0KyIgdGFibGUiLHApLHV0PWgoInRleHRfYmxvY2tfZWxlbWVudHMiLCJoMSBoMiBoMyBoNCBoNSBoNiBwIGRpdiBhZGRyZXNzIHByZSBmb3JtIGJsb2NrcXVvdGUgY2VudGVyIGRpciBmaWVsZHNldCBoZWFkZXIgZm9vdGVyIGFydGljbGUgc2VjdGlvbiBoZ3JvdXAgYXNpZGUgbWFpbiBuYXYgZmlndXJlIiksdz1oKCJibG9ja19lbGVtZW50cyIsImhyIHRhYmxlIHRib2R5IHRoZWFkIHRmb290IHRoIHRyIHRkIGxpIG9sIHVsIGNhcHRpb24gZGwgZHQgZGQgbm9zY3JpcHQgbWVudSBpc2luZGV4IG9wdGlvbiBkYXRhbGlzdCBzZWxlY3Qgb3B0Z3JvdXAgZmlnY2FwdGlvbiBkZXRhaWxzIHN1bW1hcnkiLHV0KSxmdD1oKCJ0ZXh0X2lubGluZV9lbGVtZW50cyIsInNwYW4gc3Ryb25nIGIgZW0gaSBmb250IHMgc3RyaWtlIHUgdmFyIGNpdGUgZGZuIGNvZGUgbWFyayBxIHN1cCBzdWIgc2FtcCIpO2VpKChuLnNwZWNpYWx8fCJzY3JpcHQgbm9zY3JpcHQgaWZyYW1lIG5vZnJhbWVzIG5vZW1iZWQgdGl0bGUgc3R5bGUgdGV4dGFyZWEgeG1wIikuc3BsaXQoIiAiKSxmdW5jdGlvbihuKXt0dFtuXT1uZXcgUmVnRXhwKCI8XC8iK24rIltePl0qPiIsImdpIil9KTtuLnZhbGlkX2VsZW1lbnRzP3N0KG4udmFsaWRfZWxlbWVudHMpOihlaShpdCxmdW5jdGlvbihuLHQpe3VbdF09e2F0dHJpYnV0ZXM6bi5hdHRyaWJ1dGVzLGF0dHJpYnV0ZXNPcmRlcjpuLmF0dHJpYnV0ZXNPcmRlcn07b1t0XT1uLmNoaWxkcmVufSksImh0bWw1IiE9PW4uc2NoZW1hJiZlaSh0aSgic3Ryb25nL2IgZW0vaSIpLGZ1bmN0aW9uKG4pe3ZhciB0PXRpKG4sIi8iKTt1W3RbMV1dLm91dHB1dE5hbWU9dFswXX0pLGVpKGZ0LGZ1bmN0aW9uKHQsaSl7dVtpXSYmKG4ucGFkZF9lbXB0eV9ibG9ja19pbmxpbmVfY2hpbGRyZW4mJih1W2ldLnBhZGRJbkVtcHR5QmxvY2s9ITApLHVbaV0ucmVtb3ZlRW1wdHk9ITApfSksZWkodGkoIm9sIHVsIGJsb2NrcXVvdGUgYSB0YWJsZSB0Ym9keSIpLGZ1bmN0aW9uKG4pe3Vbbl0mJih1W25dLnJlbW92ZUVtcHR5PSEwKX0pLGVpKHRpKCJwIGgxIGgyIGgzIGg0IGg1IGg2IHRoIHRkIHByZSBkaXYgYWRkcmVzcyBjYXB0aW9uIGxpIiksZnVuY3Rpb24obil7dVtuXS5wYWRkRW1wdHk9ITB9KSxlaSh0aSgic3BhbiIpLGZ1bmN0aW9uKG4pe3Vbbl0ucmVtb3ZlRW1wdHlBdHRycz0hMH0pKTtodChuLmN1c3RvbV9lbGVtZW50cyk7YihuLnZhbGlkX2NoaWxkcmVuKTt5KG4uZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHMpO2IoIitvbFt1bHxvbF0sK3VsW3VsfG9sXSIpO2VpKHtkZDoiZGwiLGR0OiJkbCIsbGk6InVsIG9sIix0ZDoidHIiLHRoOiJ0ciIsdHI6InRib2R5IHRoZWFkIHRmb290Iix0Ym9keToidGFibGUiLHRoZWFkOiJ0YWJsZSIsdGZvb3Q6InRhYmxlIixsZWdlbmQ6ImZpZWxkc2V0IixhcmVhOiJtYXAiLHBhcmFtOiJ2aWRlbyBhdWRpbyBvYmplY3QifSxmdW5jdGlvbihuLHQpe3VbdF0mJih1W3RdLnBhcmVudHNSZXF1aXJlZD10aShuKSl9KTtuLmludmFsaWRfZWxlbWVudHMmJmVpKHlhdChuLmludmFsaWRfZWxlbWVudHMpLGZ1bmN0aW9uKG4pe3Vbbl0mJmRlbGV0ZSB1W25dfSk7aygic3BhbiIpfHx5KCJzcGFuWyFkYXRhLW1jZS10eXBlfCpdIik7dmFyIGt0PWYoY3QpLGR0PWYobHQpLGd0PWYoYXQpLG5pPWYocHQpLGlpPWYodykscmk9Zih1dCksdWk9ZihmdCksZmk9ZihwKSxvaT1mKHl0KSxzaT1mKHd0KSxoaT1mKGJ0KSxjaT1mKHZ0KSxsaT1mKHR0KSxhaT1mKG50KTtyZXR1cm57Y2hpbGRyZW46byxlbGVtZW50czp1LGdldFZhbGlkU3R5bGVzOmt0LGdldFZhbGlkQ2xhc3NlczpndCxnZXRCbG9ja0VsZW1lbnRzOmlpLGdldEludmFsaWRTdHlsZXM6ZHQsZ2V0U2hvcnRFbmRlZEVsZW1lbnRzOmZpLGdldFRleHRCbG9ja0VsZW1lbnRzOnJpLGdldFRleHRJbmxpbmVFbGVtZW50czp1aSxnZXRCb29sQXR0cnM6bmksZ2V0RWxlbWVudFJ1bGU6ayxnZXRTZWxmQ2xvc2luZ0VsZW1lbnRzOm9pLGdldE5vbkVtcHR5RWxlbWVudHM6c2ksZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzOmhpLGdldFdoaXRlU3BhY2VFbGVtZW50czpjaSxnZXRTcGVjaWFsRWxlbWVudHM6bGksaXNWYWxpZENoaWxkOmZ1bmN0aW9uKG4sdCl7dmFyIGk9b1tuLnRvTG93ZXJDYXNlKCldO3JldHVybiEoIWl8fCFpW3QudG9Mb3dlckNhc2UoKV0pfSxpc1ZhbGlkOmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1PWsobik7aWYodSl7aWYoIXR8fHUuYXR0cmlidXRlc1t0XSlyZXR1cm4hMDtpZihpPXUuYXR0cmlidXRlUGF0dGVybnMpZm9yKHI9aS5sZW5ndGg7ci0tOylpZihpW3JdLnBhdHRlcm4udGVzdChuKSlyZXR1cm4hMH1yZXR1cm4hMX0sZ2V0Q3VzdG9tRWxlbWVudHM6YWksYWRkVmFsaWRFbGVtZW50czp5LHNldFZhbGlkRWxlbWVudHM6c3QsYWRkQ3VzdG9tRWxlbWVudHM6aHQsYWRkVmFsaWRDaGlsZHJlbjpifX1mdW5jdGlvbiBoYXQobix0LGkscil7ZnVuY3Rpb24gdShuKXtyZXR1cm4gMTwobj1wYXJzZUludChuLDEwKS50b1N0cmluZygxNikpLmxlbmd0aD9uOiIwIitufXJldHVybiIjIit1KHQpK3UoaSkrdShyKX1mdW5jdGlvbiBwbihuLHQpe3ZhciBvLHIsbD10aGlzLHM9L3JnYlxzKlwoXHMqKFswLTldKylccyosXHMqKFswLTldKylccyosXHMqKFswLTldKylccypcKS9naSxhPS8oPzp1cmwoPzooPzpcKFxzKlwiKFteXCJdKylcIlxzKlwpKXwoPzpcKFxzKlwnKFteXCddKylcJ1xzKlwpKXwoPzpcKFxzKihbXilcc10rKVxzKlwpKSkpfCg/OlwnKFteXCddKylcJyl8KD86XCIoW15cIl0rKVwiKS9naSxoPS9ccyooW146XSspOlxzKihbXjtdKyk7Py9nLGM9L1xzKyQvLHU9e30sZj1kbixlLGk7Zm9yKG49bnx8e30sdCYmKG89dC5nZXRWYWxpZFN0eWxlcygpLHI9dC5nZXRJbnZhbGlkU3R5bGVzKCkpLGU9KCJcXFwiIFxcJyBcXDsgXFw6IDsgOiAiK2YpLnNwbGl0KCIgIiksaT0wO2k8ZS5sZW5ndGg7aSsrKXVbZVtpXV09ZitpLHVbZitpXT1lW2ldO3JldHVybnt0b0hleDpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKHMsaGF0KX0scGFyc2U6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gdihuLHQsdSl7dmFyIGg9cltuKyItdG9wIit0XSxlLG8scyxmO2lmKGgmJihlPXJbbisiLXJpZ2h0Iit0XSxlJiYobz1yW24rIi1ib3R0b20iK3RdLG8mJihzPXJbbisiLWxlZnQiK3RdLHMpKSkpe2ZvcihmPVtoLGUsbyxzXSxpPWYubGVuZ3RoLTE7aS0tJiZmW2ldPT09ZltpKzFdOyk7LTE8aSYmdXx8KHJbbit0XT0tMT09PWk/ZlswXTpmLmpvaW4oIiAiKSxkZWxldGUgcltuKyItdG9wIit0XSxkZWxldGUgcltuKyItcmlnaHQiK3RdLGRlbGV0ZSByW24rIi1ib3R0b20iK3RdLGRlbGV0ZSByW24rIi1sZWZ0Iit0XSl9fWZ1bmN0aW9uIGIobil7dmFyIGksdD1yW25dO2lmKHQpe2ZvcihpPSh0PXQuc3BsaXQoIiAiKSkubGVuZ3RoO2ktLTspaWYodFtpXSE9PXRbMF0pcmV0dXJuO3JldHVybiByW25dPXRbMF0sMX19ZnVuY3Rpb24gbnQobil7cmV0dXJuIGQ9ITAsdVtuXX1mdW5jdGlvbiBrKG4sdCl7cmV0dXJuIGQmJihuPW4ucmVwbGFjZSgvXHVGRUZGWzAtOV0vZyxmdW5jdGlvbihuKXtyZXR1cm4gdVtuXX0pKSx0P246bi5yZXBsYWNlKC9cXChbXCdcIjs6XSkvZywiJDEiKX1mdW5jdGlvbiBydChuKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnNsaWNlKDEpLDE2KSl9ZnVuY3Rpb24gdHQobil7cmV0dXJuIG4ucmVwbGFjZSgvXFxbMC05YS1mXSsvZ2kscnQpfWZ1bmN0aW9uIHV0KHQsaSxyLHUsZixlKXtpZihmPWZ8fGUpcmV0dXJuIiciKyhmPWsoZikpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyInIjtpZihpPWsoaXx8cnx8dSksIW4uYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBvPWkucmVwbGFjZSgvW1xzXHJcbl0rL2csIiIpO2lmKC8oamF2YXx2YilzY3JpcHQ6L2kudGVzdChvKXx8IW4uYWxsb3dfc3ZnX2RhdGFfdXJscyYmL15kYXRhOmltYWdlXC9zdmcvaS50ZXN0KG8pKXJldHVybiIifXJldHVybiJ1cmwoJyIrKGk9aXQ/aXQuY2FsbChmdCxpLCJzdHlsZSIpOmkpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyInKSJ9dmFyIHksbyxlLGQsZyxwLHcscj17fSxpdD1uLnVybF9jb252ZXJ0ZXIsZnQ9bi51cmxfY29udmVydGVyX3Njb3BlfHxsO2lmKHQpe2Zvcih0PSh0PXQucmVwbGFjZSgvW1x1MDAwMC1cdTAwMUZdL2csIiIpKS5yZXBsYWNlKC9cXFtcIlwnOzpcdUZFRkZdL2csbnQpLnJlcGxhY2UoL1wiW15cIl0rXCJ8XCdbXlwnXStcJy9nLGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL1s7Ol0vZyxudCl9KTt5PWguZXhlYyh0KTspaC5sYXN0SW5kZXg9eS5pbmRleCt5WzBdLmxlbmd0aCxvPXlbMV0ucmVwbGFjZShjLCIiKS50b0xvd2VyQ2FzZSgpLGU9eVsyXS5yZXBsYWNlKGMsIiIpLG8mJmUmJihvPXR0KG8pLGU9dHQoZSksLTE9PT1vLmluZGV4T2YoZikmJi0xPT09by5pbmRleE9mKCciJykmJihuLmFsbG93X3NjcmlwdF91cmxzfHwiYmVoYXZpb3IiIT09byYmIS9leHByZXNzaW9uXHMqXCh8XC9cKnxcKlwvLy50ZXN0KGUpKSYmKCJmb250LXdlaWdodCI9PT1vJiYiNzAwIj09PWU/ZT0iYm9sZCI6ImNvbG9yIiE9PW8mJiJiYWNrZ3JvdW5kLWNvbG9yIiE9PW98fChlPWUudG9Mb3dlckNhc2UoKSksZT0oZT1lLnJlcGxhY2UocyxoYXQpKS5yZXBsYWNlKGEsdXQpLHJbb109ZD9rKGUsITApOmUpKTt2KCJib3JkZXIiLCIiLCEwKTt2KCJib3JkZXIiLCItd2lkdGgiKTt2KCJib3JkZXIiLCItY29sb3IiKTt2KCJib3JkZXIiLCItc3R5bGUiKTt2KCJwYWRkaW5nIiwiIik7digibWFyZ2luIiwiIik7cD0iYm9yZGVyLXN0eWxlIjt3PSJib3JkZXItY29sb3IiO2IoZz0iYm9yZGVyLXdpZHRoIikmJmIocCkmJmIodykmJihyLmJvcmRlcj1yW2ddKyIgIityW3BdKyIgIityW3ddLGRlbGV0ZSByW2ddLGRlbGV0ZSByW3BdLGRlbGV0ZSByW3ddKTsibWVkaXVtIG5vbmUiPT09ci5ib3JkZXImJmRlbGV0ZSByLmJvcmRlcjsibm9uZSI9PT1yWyJib3JkZXItaW1hZ2UiXSYmZGVsZXRlIHJbImJvcmRlci1pbWFnZSJdfXJldHVybiByfSxzZXJpYWxpemU6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KHQpe3ZhciBmLHU9b1t0XSxyLGU7aWYodSlmb3Iocj0wLGU9dS5sZW5ndGg7cjxlO3IrKyl0PXVbcl0sKGY9blt0XSkmJihpKz0oMDxpLmxlbmd0aD8iICI6IiIpK3QrIjogIitmKyI7Iil9dmFyIGk9IiI7cmV0dXJuIHQmJm8/KHUoIioiKSx1KHQpKTpldChuLGZ1bmN0aW9uKG4sdSl7dmFyIGY7IW58fHImJigoZj1yWyIqIl0pJiZmW3VdfHwoZj1yW3RdKSYmZlt1XSl8fChpKz0oMDxpLmxlbmd0aD8iICI6IiIpK3UrIjogIituKyI7Iil9KSxpfX19ZnVuY3Rpb24gd24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBFdmVudHx8ZnQobi5pbml0RXZlbnQpfWZ1bmN0aW9uIGNhdChuLHQsaSxyKXt2YXIgZixlLHU9ZnVuY3Rpb24obil7dmFyIHQsaT1udWxsIT1yP3I6e307Zm9yKHQgaW4gbil3KGlhaSx0KXx8KGlbdF09blt0XSk7cmV0dXJuIGcoaS5jb21wb3NlZFBhdGgpJiYoaS5jb21wb3NlZFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jb21wb3NlZFBhdGgoKX0pLGl9KHQpO3JldHVybiB1LnR5cGU9bix3dSh1LnRhcmdldCkmJih1LnRhcmdldD1udWxsIT09KGY9dS5zcmNFbGVtZW50KSYmdm9pZCAwIT09Zj9mOmkpLCh3dSgoZT10KS5wcmV2ZW50RGVmYXVsdCl8fHduKGUpKSYmKHUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt1LmRlZmF1bHRQcmV2ZW50ZWQ9ITA7dS5pc0RlZmF1bHRQcmV2ZW50ZWQ9bHQ7ZnQodC5wcmV2ZW50RGVmYXVsdCk/dC5wcmV2ZW50RGVmYXVsdCgpOnduKHQpJiYodC5yZXR1cm5WYWx1ZT0hMSl9LHUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dS5jYW5jZWxCdWJibGU9ITA7dS5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1sdDtmdCh0LnN0b3BQcm9wYWdhdGlvbik/dC5zdG9wUHJvcGFnYXRpb24oKTp3bih0KSYmKHQuY2FuY2VsQnViYmxlPSEwKX0sdS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt1LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWx0O3Uuc3RvcFByb3BhZ2F0aW9uKCl9LHUuaXNEZWZhdWx0UHJldmVudGVkIT09bHQmJnUuaXNEZWZhdWx0UHJldmVudGVkIT09aXQmJih1LmlzRGVmYXVsdFByZXZlbnRlZD0hMD09PXUuZGVmYXVsdFByZXZlbnRlZD9sdDppdCx1LmlzUHJvcGFnYXRpb25TdG9wcGVkPSEwPT09dS5jYW5jZWxCdWJibGU/bHQ6aXQsdS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1pdCkpLHV9ZnVuY3Rpb24gYm4obix0LGkscil7bi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcih0LGkscnx8ITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9uIit0LGkpfWZ1bmN0aW9uIGd5KG4sdCxpLHIpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj9uLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpLHJ8fCExKTpuLmRldGFjaEV2ZW50JiZuLmRldGFjaEV2ZW50KCJvbiIrdCxpKX1mdW5jdGlvbiBnaChuLHQpe3ZhciBmLGkscixlLHU9Y2F0KG4udHlwZSxuLGRvY3VtZW50LHQpO3JldHVybiBnKGU9bikmJnJhaS50ZXN0KGUudHlwZSkmJnRyKG4ucGFnZVgpJiYhdHIobi5jbGllbnRYKSYmKGk9KGY9dS50YXJnZXQub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCxyPWYuYm9keSx1LnBhZ2VYPW4uY2xpZW50WCsoaSYmaS5zY3JvbGxMZWZ0fHxyJiZyLnNjcm9sbExlZnR8fDApLShpJiZpLmNsaWVudExlZnR8fHImJnIuY2xpZW50TGVmdHx8MCksdS5wYWdlWT1uLmNsaWVudFkrKGkmJmkuc2Nyb2xsVG9wfHxyJiZyLnNjcm9sbFRvcHx8MCktKGkmJmkuY2xpZW50VG9wfHxyJiZyLmNsaWVudFRvcHx8MCkpLHRyKHUubWV0YUtleSkmJih1Lm1ldGFLZXk9ITEpLHV9ZnVuY3Rpb24gcmYoKXt0aGlzLmRvbUxvYWRlZD0hMTt0aGlzLmV2ZW50cz17fTt0aGlzLmNvdW50PTE7dGhpcy5leHBhbmRvPSJtY2UtZGF0YS0iKygrbmV3IERhdGUpLnRvU3RyaW5nKDMyKTt0aGlzLmhhc01vdXNlRW50ZXJMZWF2ZT0ib25tb3VzZWVudGVyImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt0aGlzLmhhc0ZvY3VzSW49Im9uZm9jdXNpbiJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dGhpcy5jb3VudD0xfWZ1bmN0aW9uIHBlKG4sdCxpKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPXJ8fGk/dDpyPDA/U3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNityKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHI+PjEwfDU1Mjk2LDEwMjMmcnw1NjMyMCl9ZnVuY3Rpb24gb3R0KCl7ZnVuY3Rpb24gbihpLHIpe3JldHVybiB0LnB1c2goaSsiICIpPnR0LmNhY2hlTGVuZ3RoJiZkZWxldGUgblt0LnNoaWZ0KCldLG5baSsiICJdPXJ9dmFyIHQ9W107cmV0dXJuIG59ZnVuY3Rpb24gY3Uobil7cmV0dXJuIG5bb2ldPSEwLG59ZnVuY3Rpb24gaXZ0KG4sdCl7dmFyIGk9dCYmbixyPWkmJjE9PT1uLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmKH50LnNvdXJjZUluZGV4fHwtMjE0NzQ4MzY0OCktKH5uLnNvdXJjZUluZGV4fHwtMjE0NzQ4MzY0OCk7aWYocilyZXR1cm4gcjtpZihpKWZvcig7aT1pLm5leHRTaWJsaW5nOylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIGVzKG4pe3JldHVybiBjdShmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxjdShmdW5jdGlvbihpLHIpe2Zvcih2YXIgdSxmPW4oW10saS5sZW5ndGgsdCksZT1mLmxlbmd0aDtlLS07KWlbdT1mW2VdXSYmKGlbdV09IShyW3VdPWlbdV0pKX0pfSl9ZnVuY3Rpb24gc3R0KG4pe3JldHVybiBuJiZ0eXBlb2Ygbi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9Y3AmJm59ZnVuY3Rpb24gcnZ0KCl7fWZ1bmN0aW9uIHZwKG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gaHR0KG4sdCxpKXt2YXIgcj10LmRpcix1PWkmJiJwYXJlbnROb2RlIj09PXIsZj11YWkrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LGksZil7Zm9yKDt0PXRbcl07KWlmKDE9PT10Lm5vZGVUeXBlfHx1KXJldHVybiBuKHQsaSxmKX06ZnVuY3Rpb24odCxpLGUpe3ZhciBvLHMsaD1bZmYsZl07aWYoZSl7Zm9yKDt0PXRbcl07KWlmKCgxPT09dC5ub2RlVHlwZXx8dSkmJm4odCxpLGUpKXJldHVybiEwfWVsc2UgZm9yKDt0PXRbcl07KWlmKDE9PT10Lm5vZGVUeXBlfHx1KXtpZigobz0ocz10W29pXXx8KHRbb2ldPXt9KSlbcl0pJiZvWzBdPT09ZmYmJm9bMV09PT1mKXJldHVybiBoWzJdPW9bMl07aWYoKHNbcl09aClbMl09bih0LGksZSkpcmV0dXJuITB9fX1mdW5jdGlvbiBjdHQobil7cmV0dXJuIDE8bi5sZW5ndGg/ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgdT1uLmxlbmd0aDt1LS07KWlmKCFuW3VdKHQsaSxyKSlyZXR1cm4hMTtyZXR1cm4hMH06blswXX1mdW5jdGlvbiB5cChuLHQsaSxyLHUpe2Zvcih2YXIgZSxvPVtdLGY9MCxzPW4ubGVuZ3RoLGg9bnVsbCE9dDtmPHM7ZisrKShlPW5bZl0pJiYoaSYmIWkoZSxyLHUpfHwoby5wdXNoKGUpLGgmJnQucHVzaChmKSkpO3JldHVybiBvfWZ1bmN0aW9uIHNhKG4pe3JldHVybiB2b2lkIDAhPT1ufWZ1bmN0aW9uIGx0dChuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG59ZnVuY3Rpb24gdXZ0KG4sdCl7dmFyIGkscj0odD10fHxodnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHIuaW5uZXJIVE1MPW47aT1yLmZpcnN0Q2hpbGQ7KXUuYXBwZW5kQ2hpbGQoaSk7cmV0dXJuIHV9ZnVuY3Rpb24gZnZ0KG4sdCl7cmV0dXJuIG4mJnQmJi0xIT09KCIgIituLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK3QrIiAiKX1mdW5jdGlvbiBldnQobix0LGkpe3ZhciB1LHI7cmV0dXJuIHQ9YSh0KVswXSxuLmVhY2goZnVuY3Rpb24oKXtpJiZ1PT09dGhpcy5wYXJlbnROb2RlfHwodT10aGlzLnBhcmVudE5vZGUscj10LmNsb25lTm9kZSghMSksdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLHRoaXMpKTtyLmFwcGVuZENoaWxkKHRoaXMpfSksbn1mdW5jdGlvbiBscihuLHQpe3JldHVybiBuZXcgYS5mbi5pbml0KG4sdCl9ZnVuY3Rpb24gb3Z0KG4pe3JldHVybiBudWxsPT1uPyIiOigiIituKS5yZXBsYWNlKHJ2aSwiIil9ZnVuY3Rpb24ga2Yobix0KXt2YXIgZix1LHIsaTtpZihuKWlmKHZvaWQgMD09PShmPW4ubGVuZ3RoKSl7Zm9yKHUgaW4gbilpZihuLmhhc093blByb3BlcnR5KHUpJiYoaT1uW3VdLCExPT09dC5jYWxsKGksdSxpKSkpYnJlYWt9ZWxzZSBmb3Iocj0wO3I8ZiYmKGk9bltyXSwhMSE9PXQuY2FsbChpLHIsaSkpO3IrKyk7cmV0dXJuIG59ZnVuY3Rpb24gc3Z0KG4sdCl7dmFyIGk9W107cmV0dXJuIGtmKG4sZnVuY3Rpb24obixyKXt0KHIsbikmJmkucHVzaChyKX0pLGl9ZnVuY3Rpb24gY3Z0KG4sdCxpKXt2YXIgdT1bXSxyPW5bdF07Zm9yKCJzdHJpbmciIT10eXBlb2YgaSYmaSBpbnN0YW5jZW9mIGEmJihpPWlbMF0pO3ImJjkhPT1yLm5vZGVUeXBlOyl7aWYodm9pZCAwIT09aSl7aWYocj09PWkpYnJlYWs7aWYoInN0cmluZyI9PXR5cGVvZiBpJiZhKHIpLmlzKGkpKWJyZWFrfTE9PT1yLm5vZGVUeXBlJiZ1LnB1c2gocik7cj1yW3RdfXJldHVybiB1fWZ1bmN0aW9uIHd0dChuLHQsaSxyKXt2YXIgdT1bXTtmb3IociBpbnN0YW5jZW9mIGEmJihyPXJbMF0pO247bj1uW3RdKWlmKCFpfHxuLm5vZGVUeXBlPT09aSl7aWYodm9pZCAwIT09cil7aWYobj09PXIpYnJlYWs7aWYoInN0cmluZyI9PXR5cGVvZiByJiZhKG4pLmlzKHIpKWJyZWFrfXUucHVzaChuKX1yZXR1cm4gdX1mdW5jdGlvbiBsdnQobix0LGkpe2ZvcihuPW5bdF07bjtuPW5bdF0paWYobi5ub2RlVHlwZT09PWkpcmV0dXJuIG47cmV0dXJuIG51bGx9ZnVuY3Rpb24gYXZ0KG4sdCl7dmFyIGk9dC5hdHRyKCJzdHlsZSIpLHI9bi5zZXJpYWxpemUobi5wYXJzZShpKSx0WzBdLm5vZGVOYW1lKXx8bnVsbDt0LmF0dHIoImRhdGEtbWNlLXN0eWxlIixyKX1mdW5jdGlvbiBlYyhuLHQpe3ZhciByLGksdT0wO2lmKG4pZm9yKHI9bi5ub2RlVHlwZSxuPW4ucHJldmlvdXNTaWJsaW5nO247bj1uLnByZXZpb3VzU2libGluZylpPW4ubm9kZVR5cGUsKCF0fHwzIT09aXx8aSE9PXImJm4ubm9kZVZhbHVlLmxlbmd0aCkmJih1Kysscj1pKTtyZXR1cm4gdX1mdW5jdGlvbiBpdShuKXt2b2lkIDA9PT1uJiYobj17fSk7dGhpcy5zdGF0ZXM9e307dGhpcy5xdWV1ZT1bXTt0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrcz17fTt0aGlzLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzPVtdO3RoaXMubG9hZGluZz0wO3RoaXMuc2V0dGluZ3M9bn1mdW5jdGlvbiBoaShuKXt2YXIgdD1uO3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sc2V0OmZ1bmN0aW9uKG4pe3Q9bn19fWZ1bmN0aW9uIHZ2dCgpe3JldHVybiBhdChsYSxkdHQuZ2V0KCkpfWZ1bmN0aW9uIG9jKCl7ZnVuY3Rpb24gdSgpe3JldHVybiB0LmdldCgpLmVhY2goaSl9dmFyIGksdCxyPShpPXksdD1oaShuLm5vbmUoKSkse2NsZWFyOmZ1bmN0aW9uKCl7dSgpO3Quc2V0KG4ubm9uZSgpKX0saXNTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXQoKS5pc1NvbWUoKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0KCl9LHNldDpmdW5jdGlvbihpKXt1KCk7dC5zZXQobi5zb21lKGkpKX19KTtyZXR1cm4gYyhjKHt9LHIpLHtvbjpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXQoKS5lYWNoKG4pfX0pfWZ1bmN0aW9uIGd0dChuLHQpe3ZhciBpPW51bGw7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe2FsKGkpfHwoY2xlYXJUaW1lb3V0KGkpLGk9bnVsbCl9LHRocm90dGxlOmZ1bmN0aW9uKCl7Zm9yKHZhciB1PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXVbcl09YXJndW1lbnRzW3JdO2FsKGkpJiYoaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aT1udWxsO24uYXBwbHkobnVsbCx1KX0sdCkpfX19ZnVuY3Rpb24geXZ0KG4sdCl7ZnVuY3Rpb24gcigpe2FsKGkpfHwoY2xlYXJUaW1lb3V0KGkpLGk9bnVsbCl9dmFyIGk9bnVsbDtyZXR1cm57Y2FuY2VsOnIsdGhyb3R0bGU6ZnVuY3Rpb24oKXtmb3IodmFyIGY9W10sdT0wO3U8YXJndW1lbnRzLmxlbmd0aDt1KyspZlt1XT1hcmd1bWVudHNbdV07cigpO2k9c2V0VGltZW91dChmdW5jdGlvbigpe2k9bnVsbDtuLmFwcGx5KG51bGwsZil9LHQpfX19ZnVuY3Rpb24gbml0KG4sdCl7dmFyIGk9bmEobix0KTtyZXR1cm4gdm9pZCAwPT09aXx8IiI9PT1pP1tdOmkuc3BsaXQoIiAiKX1mdW5jdGlvbiBwcChuKXtyZXR1cm4gdm9pZCAwIT09bi5kb20uY2xhc3NMaXN0fWZ1bmN0aW9uIHdwKG4sdCl7dmFyIGkscix1O3BwKG4pP24uZG9tLmNsYXNzTGlzdC5hZGQodCk6KHI9dCx1PW5pdChpPW4sImNsYXNzIikuY29uY2F0KFtyXSksZHUoaSwiY2xhc3MiLHUuam9pbigiICIpKSl9ZnVuY3Rpb24gcHZ0KG4sdCl7cmV0dXJuIHBwKG4pJiZuLmRvbS5jbGFzc0xpc3QuY29udGFpbnModCl9ZnVuY3Rpb24gZ2kobixpKXtyZXR1cm4gcGh0KHI9dm9pZCAwPT09bj9kb2N1bWVudDpuLmRvbSk/W106dXQoci5xdWVyeVNlbGVjdG9yQWxsKGkpLHQuZnJvbURvbSk7dmFyIHJ9ZnVuY3Rpb24gd3Z0KGkscil7ZnVuY3Rpb24gdSh0LGkpe3JldHVybihyPXQuZG9tKSYmci5oYXNBdHRyaWJ1dGUmJnIuaGFzQXR0cmlidXRlKGkpP24uc29tZShuYSh0LGkpKTpuLm5vbmUoKTt2YXIgcn12YXIgZj1pLnNlbGVjdGlvbi5nZXRSbmcoKSxlPXQuZnJvbURvbShmLnN0YXJ0Q29udGFpbmVyKSxvPXQuZnJvbURvbShpLmdldEJvZHkoKSkscz1yLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4iLiIrdWl0KCl9LGZ1bmN0aW9uKG4pe3JldHVybiJbIithYSgpKyc9IicrbisnIl0nfSk7cmV0dXJuIGZuKG95KGUsZi5zdGFydE9mZnNldCkuZ2V0T3IoZSkscyxmdW5jdGlvbihuKXtyZXR1cm4gbnQobixvKX0pLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIHUobiwiIitrcCgpKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiB1KG4sIiIrYWEoKSkubWFwKGZ1bmN0aW9uKG4pe3ZhciByPWh2aShpLHQpO3JldHVybnt1aWQ6dCxuYW1lOm4sZWxlbWVudHM6cn19KX0pfSl9ZnVuY3Rpb24gc3ZpKHQpe2Z1bmN0aW9uIG8oKXtyZXR1cm57bGlzdGVuZXJzOltdLHByZXZpb3VzOm9jKCl9fWZ1bmN0aW9uIHUobix0KXtpKG4sZnVuY3Rpb24obil7cmV0dXJuIHQobiksbn0pfWZ1bmN0aW9uIGkobix0KXt2YXIgaT1yLmdldCgpLHU9dChhdChpLG4pLmdldE9yVGh1bmsobykpO2lbbl09dTtyLnNldChpKX12YXIgcj1oaSh7fSksZj15dnQoZnVuY3Rpb24oKXt2YXIgZj1yLmdldCgpO2UoaWcobGgoZikpLGZ1bmN0aW9uKHIpe2kocixmdW5jdGlvbihpKXt2YXIgZj1pLnByZXZpb3VzLmdldCgpO3JldHVybiB3dnQodCxuLnNvbWUocikpLmZvbGQoZnVuY3Rpb24oKXt2YXIgbjtmLmlzU29tZSgpJiYodShuPXIsZnVuY3Rpb24odCl7ZSh0Lmxpc3RlbmVycyxmdW5jdGlvbih0KXtyZXR1cm4gdCghMSxuKX0pfSksaS5wcmV2aW91cy5jbGVhcigpKX0sZnVuY3Rpb24obil7dmFyIHIsbyxzLHQ9bi51aWQsaD1uLm5hbWUsYz1uLmVsZW1lbnRzO2F5KGYsdCl8fChvPXQscz1jLHUocj1oLGZ1bmN0aW9uKG4pe2Uobi5saXN0ZW5lcnMsZnVuY3Rpb24obil7cmV0dXJuIG4oITAscix7dWlkOm8sbm9kZXM6dXQocyxmdW5jdGlvbihuKXtyZXR1cm4gbi5kb219KX0pfSl9KSxpLnByZXZpb3VzLnNldCh0KSl9KSx7cHJldmlvdXM6aS5wcmV2aW91cyxsaXN0ZW5lcnM6aS5saXN0ZW5lcnN9fSl9KX0sMzApO3JldHVybiB0Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7Zi5jYW5jZWwoKX0pLHQub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKCl7Zi50aHJvdHRsZSgpfSkse2FkZExpc3RlbmVyOmZ1bmN0aW9uKG4sdCl7aShuLGZ1bmN0aW9uKG4pe3JldHVybntwcmV2aW91czpuLnByZXZpb3VzLGxpc3RlbmVyczpuLmxpc3RlbmVycy5jb25jYXQoW3RdKX19KX19fWZ1bmN0aW9uIGJ2dChuKXt2YXIgdD0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gbisiXyIrTWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSkrICsrY3ZpK1N0cmluZyh0KX1mdW5jdGlvbiBrdnQobixpKXt2YXIgcix1LGY9aGN0KG4pLmRvbSxlPXQuZnJvbURvbShmLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7c3koZSwocj1pLCh1PShmfHxkb2N1bWVudCkuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTD1yLG51KHQuZnJvbURvbSh1KSkpKTt3ZyhuKTtpaShuLGUpfWZ1bmN0aW9uIGR2dChuLGkpe3JldHVybiB0LmZyb21Eb20obi5kb20uY2xvbmVOb2RlKGkpKX1mdW5jdGlvbiBzYyhuKXtyZXR1cm4gZHZ0KG4sITEpfWZ1bmN0aW9uIGd2dChuKXtyZXR1cm4gZHZ0KG4sITApfWZ1bmN0aW9uIG55dCh0LGkscil7ZnVuY3Rpb24gdSh0KXtmb3IodmFyIGk7KGk9Zlt0XSgpKSYmIW8oaSkmJiFyKGkpOyk7cmV0dXJuIG4uZnJvbShpKS5maWx0ZXIobyl9dm9pZCAwPT09ciYmKHI9aXQpO3ZhciBmPW5ldyB5dCh0LGkpO3JldHVybntjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG4uZnJvbShmLmN1cnJlbnQoKSkuZmlsdGVyKG8pfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoIm5leHQiKX0scHJldjpmdW5jdGlvbigpe3JldHVybiB1KCJwcmV2Iil9LHByZXYyOmZ1bmN0aW9uKCl7cmV0dXJuIHUoInByZXYyIil9fX1mdW5jdGlvbiB0eXQodCxpKXt2YXIgdT1pfHxmdW5jdGlvbihuKXtyZXR1cm4gdC5pc0Jsb2NrKG4pfHxzdChuKXx8cnQobil9LHI9ZnVuY3Rpb24odCxpLHUsZil7aWYobyh0KSl7dmFyIGU9Zih0LGksdC5kYXRhKTtpZigtMSE9PWUpcmV0dXJuIG4uc29tZSh7Y29udGFpbmVyOnQsb2Zmc2V0OmV9KX1yZXR1cm4gdSgpLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIHIobi5jb250YWluZXIsbi5vZmZzZXQsdSxmKX0pfTtyZXR1cm57YmFja3dhcmRzOmZ1bmN0aW9uKG4sdCxpLGYpe3ZhciBlPW55dChuLGYsdSk7cmV0dXJuIHIobix0LGZ1bmN0aW9uKCl7cmV0dXJuIGUucHJldigpLm1hcChmdW5jdGlvbihuKXtyZXR1cm57Y29udGFpbmVyOm4sb2Zmc2V0Om4ubGVuZ3RofX0pfSxpKS5nZXRPck51bGwoKX0sZm9yd2FyZHM6ZnVuY3Rpb24obix0LGksZil7dmFyIGU9bnl0KG4sZix1KTtyZXR1cm4gcihuLHQsZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KCkubWFwKGZ1bmN0aW9uKG4pe3JldHVybntjb250YWluZXI6bixvZmZzZXQ6MH19KX0saSkuZ2V0T3JOdWxsKCl9fX1mdW5jdGlvbiBvcyhuKXtyZXR1cm4gbj97bGVmdDpsYyhuLmxlZnQpLHRvcDpsYyhuLnRvcCksYm90dG9tOmxjKG4uYm90dG9tKSxyaWdodDpsYyhuLnJpZ2h0KSx3aWR0aDpsYyhuLndpZHRoKSxoZWlnaHQ6bGMobi5oZWlnaHQpfTp7bGVmdDowLHRvcDowLGJvdHRvbTowLHJpZ2h0OjAsd2lkdGg6MCxoZWlnaHQ6MH19ZnVuY3Rpb24gaXl0KG4sdCl7cmV0dXJuIG49b3MobiksdHx8KG4ubGVmdD1uLmxlZnQrbi53aWR0aCksbi5yaWdodD1uLmxlZnQsbi53aWR0aD0wLG59ZnVuY3Rpb24gcnl0KG4sdCxpKXtyZXR1cm4gMDw9biYmbjw9TWF0aC5taW4odC5oZWlnaHQsaS5oZWlnaHQpLzJ9ZnVuY3Rpb24gaGMobix0KXt2YXIgaT1NYXRoLm1pbih0LmhlaWdodC8yLG4uaGVpZ2h0LzIpO3JldHVybiBuLmJvdHRvbS1pPHQudG9wfHwhKG4udG9wPnQuYm90dG9tKSYmcnl0KHQudG9wLW4uYm90dG9tLG4sdCl9ZnVuY3Rpb24gY2Mobix0KXtyZXR1cm4gbi50b3A+dC5ib3R0b218fCEobi5ib3R0b208dC50b3ApJiZyeXQodC5ib3R0b20tbi50b3Asbix0KX1mdW5jdGlvbiB1eXQobix0LGkpe3JldHVybiB0Pj1uLmxlZnQmJnQ8PW4ucmlnaHQmJmk+PW4udG9wJiZpPD1uLmJvdHRvbX1mdW5jdGlvbiBicChuKXt2YXIgdD1uLnN0YXJ0Q29udGFpbmVyLGk9bi5zdGFydE9mZnNldDtyZXR1cm4gdC5oYXNDaGlsZE5vZGVzKCkmJm4uZW5kT2Zmc2V0PT09aSsxP3QuY2hpbGROb2Rlc1tpXTpudWxsfWZ1bmN0aW9uIHRvKG4sdCl7dmFyIGkscjtyZXR1cm4gaChuKSYmbi5oYXNDaGlsZE5vZGVzKCk/KGk9bi5jaGlsZE5vZGVzLGlbKHI9aS5sZW5ndGgtMSxNYXRoLm1pbihNYXRoLm1heCh0LDApLHIpKV0pOm59ZnVuY3Rpb24gZnl0KG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmNzY4PD1uLmNoYXJDb2RlQXQoMCkmJmx2aS50ZXN0KG4pfWZ1bmN0aW9uIHRpdChuKXtyZXR1cm4iY3JlYXRlUmFuZ2UiaW4gbj9uLmNyZWF0ZVJhbmdlKCk6ZC5ET00uY3JlYXRlUm5nKCl9ZnVuY3Rpb24gaWl0KG4pe3JldHVybiBuJiYvW1xyXG5cdCBdLy50ZXN0KG4pfWZ1bmN0aW9uIGV5dChuKXtyZXR1cm4gbi5zZXRTdGFydCYmbi5zZXRFbmR9ZnVuY3Rpb24gcml0KG4pe3ZhciB0PW4uc3RhcnRDb250YWluZXIscj1uLnN0YXJ0T2Zmc2V0LGk7aWYoaWl0KG4udG9TdHJpbmcoKSkmJnl2aSh0LnBhcmVudE5vZGUpJiZvKHQpKXJldHVybiBpPXQuZGF0YSxpaXQoaVtyLTFdKXx8aWl0KGlbcisxXSk/MTp2b2lkIDB9ZnVuY3Rpb24gb3l0KG4pe3JldHVybiAwPT09bi5sZWZ0JiYwPT09bi5yaWdodCYmMD09PW4udG9wJiYwPT09bi5ib3R0b219ZnVuY3Rpb24gc3Mobix0KXt2YXIgaT1peXQobix0KTtyZXR1cm4gaS53aWR0aD0xLGkucmlnaHQ9aS5sZWZ0KzEsaX1mdW5jdGlvbiBncChuLHQpe28odCkmJjA9PT10LmRhdGEubGVuZ3RoJiZuLnJlbW92ZSh0KX1mdW5jdGlvbiBlaXQodCxpLHIpe3ZhciB1LGYsZSxzLG8saCxjO3RuKHIpPyhlPXQscz1pLGg9bi5mcm9tKChvPXIpLmZpcnN0Q2hpbGQpLGM9bi5mcm9tKG8ubGFzdENoaWxkKSxzLmluc2VydE5vZGUobyksaC5lYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBncChlLG4ucHJldmlvdXNTaWJsaW5nKX0pLGMuZWFjaChmdW5jdGlvbihuKXtyZXR1cm4gZ3AoZSxuLm5leHRTaWJsaW5nKX0pKToodT10LGkuaW5zZXJ0Tm9kZShmPXIpLGdwKHUsZi5wcmV2aW91c1NpYmxpbmcpLGdwKHUsZi5uZXh0U2libGluZykpfWZ1bmN0aW9uIGF5dChuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG49PT10fX1mdW5jdGlvbiB2eXQobil7dmFyIGksdCxyLHU7cmV0dXJuKGF1KG4pPyJ0ZXh0KCkiOm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkrIlsiKyh0PWFpdChpd3QoaT1uKSkscj1zaHQodCxheXQoaSksaSksdT11eSh0PXQuc2xpY2UoMCxyKzEpLGZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gYXUoaSkmJmF1KHRbci0xXSkmJm4rKyxufSwwKSxzaHQodD1jaCh0LGRyKFtpLm5vZGVOYW1lXSkpLGF5dChpKSxpKS11KSsiXSJ9ZnVuY3Rpb24geXl0KG4sdCl7dmFyIHIsZixvLGU9W10saT10LmNvbnRhaW5lcigpLHU9dC5vZmZzZXQoKTtyZXR1cm4gYXUoaSk/cj1mdW5jdGlvbihuLHQpe2Zvcig7KG49bi5wcmV2aW91c1NpYmxpbmcpJiZhdShuKTspdCs9bi5kYXRhLmxlbmd0aDtyZXR1cm4gdH0oaSx1KToodT49KGY9aS5jaGlsZE5vZGVzKS5sZW5ndGg/KHI9ImFmdGVyIix1PWYubGVuZ3RoLTEpOnI9ImJlZm9yZSIsaT1mW3VdKSxlLnB1c2godnl0KGkpKSxvPWNoKGZ1bmN0aW9uKG4sdCl7dmFyIGk9W107Zm9yKHQ9dC5wYXJlbnROb2RlO3QhPT1uO3Q9dC5wYXJlbnROb2RlKWkucHVzaCh0KTtyZXR1cm4gaX0obixpKSxuZyhrbykpLChlPWUuY29uY2F0KGZnKG8sdnl0KSkpLnJldmVyc2UoKS5qb2luKCIvIikrIiwiK3J9ZnVuY3Rpb24gcHl0KG4sdCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIGY9dC5zcGxpdCgiLCIpLGU9ZlswXS5zcGxpdCgiLyIpLHU9MTxmLmxlbmd0aD9mWzFdOiJiZWZvcmUiLHI9dXkoZSxmdW5jdGlvbihuLHQpe3ZhciB1LGYsZSxpLHI9LyhbXHdcLVwoXCldKylcWyhbMC05XSspXF0vLmV4ZWModCk7cmV0dXJuIHI/KCJ0ZXh0KCkiPT09clsxXSYmKHJbMV09IiN0ZXh0IiksdT1uLGY9clsxXSxlPXBhcnNlSW50KHJbMl0sMTApLGk9Y2goaT1haXQodSksZnVuY3Rpb24obix0KXtyZXR1cm4hYXUobil8fCFhdShpW3QtMV0pfSksKGk9Y2goaSxkcihbZl0pKSlbZV0pOm51bGx9LG4pO3JldHVybiByP2F1KHIpP2Z1bmN0aW9uKG4sdCl7Zm9yKHZhciB1LHI9bixmPTA7YXUocik7KXtpZih1PXIuZGF0YS5sZW5ndGgsZjw9dCYmdDw9Zit1KXtuPXI7dC09ZjticmVha31pZighYXUoci5uZXh0U2libGluZykpe249cjt0PXU7YnJlYWt9Zis9dTtyPXIubmV4dFNpYmxpbmd9cmV0dXJuIGF1KG4pJiZ0Pm4uZGF0YS5sZW5ndGgmJih0PW4uZGF0YS5sZW5ndGgpLGkobix0KX0ocixwYXJzZUludCh1LDEwKSk6KHU9ImFmdGVyIj09PXU/dHd0KHIpKzE6dHd0KHIpLGkoci5wYXJlbnROb2RlLHUpKTpudWxsfWZ1bmN0aW9uIHd5dChuLHQsaSxyLHUpe3ZhciBzLGY9clt1PyJzdGFydENvbnRhaW5lciI6ImVuZENvbnRhaW5lciJdLGU9clt1PyJzdGFydE9mZnNldCI6ImVuZE9mZnNldCJdLGg9W10sYz0wLGw9bi5nZXRSb290KCk7Zm9yKG8oZik/aC5wdXNoKGk/ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgdT1uKHQuZGF0YS5zbGljZSgwLGkpKS5sZW5ndGgscj10LnByZXZpb3VzU2libGluZztyJiZvKHIpO3I9ci5wcmV2aW91c1NpYmxpbmcpdSs9bihyLmRhdGEpLmxlbmd0aDtyZXR1cm4gdX0odCxmLGUpOmUpOihlPj0ocz1mLmNoaWxkTm9kZXMpLmxlbmd0aCYmcy5sZW5ndGgmJihjPTEsZT1NYXRoLm1heCgwLHMubGVuZ3RoLTEpKSxoLnB1c2gobi5ub2RlSW5kZXgoc1tlXSxpKStjKSk7ZiYmZiE9PWw7Zj1mLnBhcmVudE5vZGUpaC5wdXNoKG4ubm9kZUluZGV4KGYsaSkpO3JldHVybiBofWZ1bmN0aW9uIG9pdChuLHQsaSl7dmFyIHU9MDtyZXR1cm4gci5lYWNoKG4uc2VsZWN0KHQpLGZ1bmN0aW9uKG4pe2lmKCJhbGwiIT09bi5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikpcmV0dXJuIG4hPT1pJiZ2b2lkIHUrK30pLHV9ZnVuY3Rpb24gYnl0KG4sdCl7dmFyIHUsZj10PyJzdGFydCI6ImVuZCIsaT1uW2YrIkNvbnRhaW5lciJdLHI9bltmKyJPZmZzZXQiXTtoKGkpJiYiVFIiPT09aS5ub2RlTmFtZSYmKGk9KHU9aS5jaGlsZE5vZGVzKVtNYXRoLm1pbih0P3I6ci0xLHUubGVuZ3RoLTEpXSkmJihyPXQ/MDppLmNoaWxkTm9kZXMubGVuZ3RoLG5bInNldCIrKHQ/IlN0YXJ0IjoiRW5kIildKGkscikpfWZ1bmN0aW9uIGt5dChuKXtyZXR1cm4gYnl0KG4sITApLGJ5dChuLCExKSxufWZ1bmN0aW9uIGR5dChuLHQpe3ZhciBpO3JldHVybiBoKG4pJiYobj10byhuLHQpLHV3KG4pKT9uOmhyKG4pPyhpPShuPW8obikmJmtoKG4pP24ucGFyZW50Tm9kZTpuKS5wcmV2aW91c1NpYmxpbmcsdXcoaSk/aTooaT1uLm5leHRTaWJsaW5nLHV3KGkpP2k6dm9pZCAwKSk6dm9pZCAwfWZ1bmN0aW9uIGd5dChuLHQsaSl7dmFyIHU9aS5nZXROb2RlKCkscj11P3Uubm9kZU5hbWU6bnVsbCxjPWkuZ2V0Um5nKCksZixsLGEsdixzLGgsZSxvO3JldHVybiB1dyh1KXx8IklNRyI9PT1yP3tuYW1lOnIsaW5kZXg6b2l0KGkuZG9tLHIsdSl9OihvPWR5dCgoZj1jKS5zdGFydENvbnRhaW5lcixmLnN0YXJ0T2Zmc2V0KXx8ZHl0KGYuZW5kQ29udGFpbmVyLGYuZW5kT2Zmc2V0KSxvP3tuYW1lOnI9by50YWdOYW1lLGluZGV4Om9pdChpLmRvbSxyLG8pfTooaD0oYT1pKS5kb20sKGU9e30pLnN0YXJ0PXd5dChoLGw9bix2PXQscz1jLCEwKSxhLmlzQ29sbGFwc2VkKCl8fChlLmVuZD13eXQoaCxsLHYscywhMSkpLHRhdChzKSYmKGUuaXNGYWtlQ2FyZXQ9ITApLGUpKX1mdW5jdGlvbiBucHQobix0LGkpe3ZhciByPXsiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIixpZDp0LHN0eWxlOiJvdmVyZmxvdzpoaWRkZW47bGluZS1oZWlnaHQ6MHB4In07cmV0dXJuIGk/bi5jcmVhdGUoInNwYW4iLHIsIiYjeEZFRkY7Iik6bi5jcmVhdGUoInNwYW4iLHIpfWZ1bmN0aW9uIHRwdChuLHQpe3ZhciBpPW4uZG9tLHI9bi5nZXRSbmcoKSx1PWkudW5pcXVlSWQoKSxzPW4uaXNDb2xsYXBzZWQoKSxvPW4uZ2V0Tm9kZSgpLGY9by5ub2RlTmFtZSxlO3JldHVybiJJTUciPT09Zj97bmFtZTpmLGluZGV4Om9pdChpLGYsbyl9OihlPWt5dChyLmNsb25lUmFuZ2UoKSksc3x8KGUuY29sbGFwc2UoITEpLGVpdChpLGUsbnB0KGksdSsiX2VuZCIsdCkpKSwocj1reXQocikpLmNvbGxhcHNlKCEwKSxlaXQoaSxyLG5wdChpLHUrIl9zdGFydCIsdCkpLG4ubW92ZVRvQm9va21hcmsoe2lkOnUsa2VlcDohMH0pLHtpZDp1fSl9ZnVuY3Rpb24gaXB0KG4sdCxpKXt2YXIgcj1uLmdldFBhcmFtKHQsaSk7cmV0dXJuLTE9PT1yLmluZGV4T2YoIj0iKT9yOmF0KG4uZ2V0UGFyYW0odCwiIiwiaGFzaCIpLG4uaWQpLmdldE9yKGkpfWZ1bmN0aW9uIHJwdChuKXtyZXR1cm4gbi5nZXRQYXJhbSgiY29udGVudF9zZWN1cml0eV9wb2xpY3kiLCIiKX1mdW5jdGlvbiBzaShuKXtpZihuLmdldFBhcmFtKCJmb3JjZV9wX25ld2xpbmVzIiwhMSkpcmV0dXJuInAiO3ZhciB0PW4uZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrIiwicCIpO3JldHVybiExPT09dD8iIjohMD09PXQ/InAiOnR9ZnVuY3Rpb24gcGEobil7cmV0dXJuIG4uZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrX2F0dHJzIix7fSl9ZnVuY3Rpb24gdXB0KG4pe3JldHVybiBuLmdldFBhcmFtKCJhdXRvbWF0aWNfdXBsb2FkcyIsITAsImJvb2xlYW4iKX1mdW5jdGlvbiBmcHQobil7cmV0dXJuIG4uZ2V0UGFyYW0oImljb25zIiwiIiwic3RyaW5nIil9ZnVuY3Rpb24gZXB0KG4pe3JldHVybiBuLmdldFBhcmFtKCJyZWZlcnJlcl9wb2xpY3kiLCIiLCJzdHJpbmciKX1mdW5jdGlvbiBvcHQobil7cmV0dXJuIG4uZ2V0UGFyYW0oImxhbmd1YWdlIiwiZW4iLCJzdHJpbmciKX1mdW5jdGlvbiBzcHQobil7cmV0dXJuIG4uZ2V0UGFyYW0oImluZGVudF91c2VfbWFyZ2luIiwhMSl9ZnVuY3Rpb24gaHB0KG4pe3ZhciB0PW4uZ2V0UGFyYW0oImZvbnRfY3NzIixbXSk7cmV0dXJuIGJyKHQpP3Q6dXQodC5zcGxpdCgiLCIpLGxnKX1mdW5jdGlvbiBjcHQobil7dmFyIHQ9bi5nZXRQYXJhbSgib2JqZWN0X3Jlc2l6aW5nIik7cmV0dXJuITEhPT10JiYhbC5pT1MmJihodCh0KT90OiJ0YWJsZSxpbWcsZmlndXJlLmltYWdlLGRpdix2aWRlbyxpZnJhbWUiKX1mdW5jdGlvbiBscHQobil7cmV0dXJuIG4uZ2V0UGFyYW0oImV2ZW50X3Jvb3QiKX1mdW5jdGlvbiB3YShuKXtyZXR1cm4gbi5nZXRQYXJhbSgidGhlbWUiKX1mdW5jdGlvbiBiYShuKXtyZXR1cm4hMSE9PW4uZ2V0UGFyYW0oImlubGluZV9ib3VuZGFyaWVzIil9ZnVuY3Rpb24gc2l0KG4pe3JldHVybiBuLmdldFBhcmFtKCJwbHVnaW5zIiwiIiwic3RyaW5nIil9ZnVuY3Rpb24gYXB0KG4pe3ZhciB0PW4ucGFyZW50Tm9kZTt0JiZ0LnJlbW92ZUNoaWxkKG4pfWZ1bmN0aW9uIHZwdChuKXt2YXIgdD12ZShuKTtyZXR1cm57Y291bnQ6bi5sZW5ndGgtdC5sZW5ndGgsdGV4dDp0fX1mdW5jdGlvbiB5cHQobil7Zm9yKHZhciB0Oy0xIT09KHQ9bi5kYXRhLmxhc3RJbmRleE9mKGZpKSk7KW4uZGVsZXRlRGF0YSh0LDEpfWZ1bmN0aW9uIHBwdChuLHQpe3JldHVybiBjcyhuKSx0fWZ1bmN0aW9uIHB2aSh0LHIpe3ZhciB1LGY9ci5jb250YWluZXIoKSxlPSgtMT09PSh1PWRzdChidShmLmNoaWxkTm9kZXMpLHQpKT9uLm5vbmUoKTpuLnNvbWUodSkpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbjxyLm9mZnNldCgpP2koZixyLm9mZnNldCgpLTEpOnJ9KS5nZXRPcihyKTtyZXR1cm4gY3ModCksZX1mdW5jdGlvbiB3dmkobix0KXtyZXR1cm4gaS5pc1RleHRQb3NpdGlvbih0KT8odT10LHV3dChyPW4pJiZ1LmNvbnRhaW5lcigpPT09cj8obz12cHQoKGY9cikuZGF0YS5zdWJzdHIoMCwoZT11KS5vZmZzZXQoKSkpLGg9dnB0KGYuZGF0YS5zdWJzdHIoZS5vZmZzZXQoKSkpLDA8KG8udGV4dCtoLnRleHQpLmxlbmd0aD8oeXB0KGYpLGkoZixlLm9mZnNldCgpLW8uY291bnQpKTplKTpwcHQocix1KSk6KHM9biwoKGM9dCkuY29udGFpbmVyKCk9PT1zLnBhcmVudE5vZGU/cHZpOnBwdCkocyxjKSk7dmFyIHIsdSxmLGUsbyxoLHMsY31mdW5jdGlvbiB3cHQobix0LGkpe3ZhciBlLGYsbyxyPWl5dCh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGkpLHM9IkJPRFkiPT09bi50YWdOYW1lPyhlPW4ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZj1uLnNjcm9sbExlZnR8fGUuc2Nyb2xsTGVmdCxuLnNjcm9sbFRvcHx8ZS5zY3JvbGxUb3ApOihvPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZj1uLnNjcm9sbExlZnQtby5sZWZ0LG4uc2Nyb2xsVG9wLW8udG9wKSx1O3JldHVybiByLmxlZnQrPWYsci5yaWdodCs9ZixyLnRvcCs9cyxyLmJvdHRvbSs9cyxyLndpZHRoPTEsdT10Lm9mZnNldFdpZHRoLXQuY2xpZW50V2lkdGgsMDx1JiYoaSYmKHUqPS0xKSxyLmxlZnQrPXUsci5yaWdodCs9dSkscn1mdW5jdGlvbiBidmkobixpLHIsdSl7ZnVuY3Rpb24gcygpeyFmdW5jdGlvbigpe2Zvcih2YXIgZixlLG4sdT1naSh0LmZyb21Eb20oaSksIipbY29udGVudEVkaXRhYmxlPWZhbHNlXSx2aWRlbyxhdWRpbyxlbWJlZCxvYmplY3QiKSxyPTA7cjx1Lmxlbmd0aDtyKyspZT11W3JdLmRvbSxuPWUucHJldmlvdXNTaWJsaW5nLHVwKG4pJiYoMT09PShmPW4uZGF0YSkubGVuZ3RoP24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTpuLmRlbGV0ZURhdGEoZi5sZW5ndGgtMSwxKSksbj1lLm5leHRTaWJsaW5nLHJwKG4pJiYoMT09PShmPW4uZGF0YSkubGVuZ3RoP24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTpuLmRlbGV0ZURhdGEoMCwxKSl9KCk7ZiYmKGNzKGYpLGY9bnVsbCk7by5vbihmdW5jdGlvbihuKXthKG4uY2FyZXQpLnJlbW92ZSgpO28uY2xlYXIoKX0pO2UmJih1aS5jbGVhckludGVydmFsKGUpLGU9dm9pZCAwKX12YXIgZSxmLG89b2MoKSxoPXNpKG4pLGw9MDxoLmxlbmd0aD9oOiJwIjtyZXR1cm57c2hvdzpmdW5jdGlvbihuLHQpe3ZhciBoLHYseTtyZXR1cm4ocygpLHR5aSh0KSk/bnVsbDpyKHQpPyhmPWZ1bmN0aW9uKG4sdCxpKXt2YXIgZixyPXQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KG4pLHU7cmV0dXJuIHIuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIsaT8iYmVmb3JlIjoiYWZ0ZXIiKSxyLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiLCJhbGwiKSxyLmFwcGVuZENoaWxkKCgoZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpKS5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiwiMSIpLGYpKSx1PXQucGFyZW50Tm9kZSxpP3UuaW5zZXJ0QmVmb3JlKHIsdCk6dC5uZXh0U2libGluZz91Lmluc2VydEJlZm9yZShyLHQubmV4dFNpYmxpbmcpOnUuYXBwZW5kQ2hpbGQocikscn0obCx0LG4pLHY9d3B0KGksdCxuKSxhKGYpLmNzcygidG9wIix2LnRvcCkseT1hKCc8ZGl2IGNsYXNzPSJtY2UtdmlzdWFsLWNhcmV0IiBkYXRhLW1jZS1ib2d1cz0iYWxsIj48XC9kaXY+JykuY3NzKGMoe30sdikpLmFwcGVuZFRvKGkpWzBdLG8uc2V0KHtjYXJldDp5LGVsZW1lbnQ6dCxiZWZvcmU6bn0pLG4mJmEoeSkuYWRkQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtYmVmb3JlIiksZT11aS5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3UoKT9hKCJkaXYubWNlLXZpc3VhbC1jYXJldCIsaSkudG9nZ2xlQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIik6YSgiZGl2Lm1jZS12aXN1YWwtY2FyZXQiLGkpLmFkZENsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiIpfSw1MDApLChoPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChmLDApLGguc2V0RW5kKGYsMCksaCk6KGY9ZnVuY3Rpb24obix0KXt2YXIgcj1uLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmkpLHU9bi5wYXJlbnROb2RlLGk7aWYodCl7aWYoaT1uLnByZXZpb3VzU2libGluZyxuYyhpKSl7aWYoaHIoaSkpcmV0dXJuIGk7aWYodXAoaSkpcmV0dXJuIGkuc3BsaXRUZXh0KGkuZGF0YS5sZW5ndGgtMSl9dS5pbnNlcnRCZWZvcmUocixuKX1lbHNle2lmKGk9bi5uZXh0U2libGluZyxuYyhpKSl7aWYoaHIoaSkpcmV0dXJuIGk7aWYocnAoaSkpcmV0dXJuIGkuc3BsaXRUZXh0KDEpLGl9bi5uZXh0U2libGluZz91Lmluc2VydEJlZm9yZShyLG4ubmV4dFNpYmxpbmcpOnUuYXBwZW5kQ2hpbGQocil9cmV0dXJuIHJ9KHQsbiksaD10Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxkYShmLm5leHRTaWJsaW5nKT8oaC5zZXRTdGFydChmLDApLGguc2V0RW5kKGYsMCkpOihoLnNldFN0YXJ0KGYsMSksaC5zZXRFbmQoZiwxKSksaCl9LGhpZGU6cyxnZXRDc3M6ZnVuY3Rpb24oKXtyZXR1cm4iLm1jZS12aXN1YWwtY2FyZXQge3Bvc2l0aW9uOiBhYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Y29sb3I7fS5tY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiB7ZGlzcGxheTogbm9uZTt9KltkYXRhLW1jZS1jYXJldF0ge3Bvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAtMTAwMHB4O3JpZ2h0OiBhdXRvO3RvcDogMDttYXJnaW46IDA7cGFkZGluZzogMDt9In0scmVwb3NpdGlvbjpmdW5jdGlvbigpe28ub24oZnVuY3Rpb24obil7dmFyIHQ9d3B0KGksbi5lbGVtZW50LG4uYmVmb3JlKTthKG4uY2FyZXQpLmNzcyhjKHt9LHQpKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIHVpLmNsZWFySW50ZXJ2YWwoZSl9fX1mdW5jdGlvbiBicHQoKXtyZXR1cm4gdml0LmlzSUUoKXx8dml0LmlzRWRnZSgpfHx2aXQuaXNGaXJlZm94KCl9ZnVuY3Rpb24gaHMobil7cmV0dXJuIGRhKG4pfHx5aChuKSYmYnB0KCl9ZnVuY3Rpb24gbncobix0KXtmb3IodmFyIGk7aT1uKHQpOylpZighZXd0KGkpKXJldHVybiBpO3JldHVybiBudWxsfWZ1bmN0aW9uIGFjKG4sdCxpLHIsdSl7dmFyIGY9bmV3IHl0KG4sciksZT15aXQobil8fGV3dChuKTtpZih0PDApe2lmKGUmJmkobj1udyhmLnByZXYuYmluZChmKSwhMCkpKXJldHVybiBuO2Zvcig7bj1udyhmLnByZXYuYmluZChmKSx1KTspaWYoaShuKSlyZXR1cm4gbn1pZigwPHQpe2lmKGUmJmkobj1udyhmLm5leHQuYmluZChmKSwhMCkpKXJldHVybiBuO2Zvcig7bj1udyhmLm5leHQuYmluZChmKSx1KTspaWYoaShuKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBybyhuLHQpe2Zvcig7biYmbiE9PXQ7KXtpZihyeWkobikpcmV0dXJuIG47bj1uLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZWYobix0LGkpe3JldHVybiBybyhuLmNvbnRhaW5lcigpLGkpPT09cm8odC5jb250YWluZXIoKSxpKX1mdW5jdGlvbiBoaXQobix0KXtpZighdClyZXR1cm4gbnVsbDt2YXIgaT10LmNvbnRhaW5lcigpLHI9dC5vZmZzZXQoKTtyZXR1cm4gb3d0KGkpP2kuY2hpbGROb2Rlc1tyK25dOm51bGx9ZnVuY3Rpb24ga3B0KG4sdCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIG4/KGkuc2V0U3RhcnRCZWZvcmUodCksaS5zZXRFbmRCZWZvcmUodCkpOihpLnNldFN0YXJ0QWZ0ZXIodCksaS5zZXRFbmRBZnRlcih0KSksaX1mdW5jdGlvbiBkcHQobix0LGkpe2Zvcih2YXIgZixlLHIsdT1uPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyI7aSYmaSE9PXQ7KXtpZihyPWlbdV0sZnd0KHIpJiYocj1yW3VdKSx5aXQocil8fGl5aShyKSl7aWYoZT1pLHJvKHIsZj10KT09PXJvKGUsZikpcmV0dXJuIHI7YnJlYWt9aWYodXlpKHIpKWJyZWFrO2k9aS5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGNpdChuLHQsaSl7dmFyIGYsZT11KGRwdCwhMCx0KSxzPXUoZHB0LCExLHQpLHI9aS5zdGFydENvbnRhaW5lcixoPWkuc3RhcnRPZmZzZXQsYztpZihraChyKSl7aWYoYz0ocj1vd3Qocik/cjpyLnBhcmVudE5vZGUpLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSwiYmVmb3JlIj09PWMmJmhzKGY9ci5uZXh0U2libGluZykpcmV0dXJuIGdhKGYpO2lmKCJhZnRlciI9PT1jJiZocyhmPXIucHJldmlvdXNTaWJsaW5nKSlyZXR1cm4gbnYoZil9aWYoIWkuY29sbGFwc2VkKXJldHVybiBpO2lmKG8ocikpe2lmKGZ3dChyKSl7aWYoMT09PW4pe2lmKGY9cyhyKSlyZXR1cm4gZ2EoZik7aWYoZj1lKHIpKXJldHVybiBudihmKX1pZigtMT09PW4pe2lmKGY9ZShyKSlyZXR1cm4gbnYoZik7aWYoZj1zKHIpKXJldHVybiBnYShmKX1yZXR1cm4gaX1pZih1cChyKSYmaD49ci5kYXRhLmxlbmd0aC0xKXJldHVybiAxPT09biYmKGY9cyhyKSk/Z2EoZik6aTtpZihycChyKSYmaDw9MSlyZXR1cm4tMT09PW4mJihmPWUocikpP252KGYpOmk7aWYoaD09PXIuZGF0YS5sZW5ndGgpcmV0dXJuKGY9cyhyKSk/Z2EoZik6aTtpZigwPT09aClyZXR1cm4oZj1lKHIpKT9udihmKTppfXJldHVybiBpfWZ1bmN0aW9uIGdwdCh0LGkpe3JldHVybiBuLmZyb20oaGl0KHQ/MDotMSxpKSkuZmlsdGVyKHlpdCl9ZnVuY3Rpb24ga2Eobix0LHIpe3ZhciB1PWNpdChuLHQscik7cmV0dXJuLTE9PT1uP2kuZnJvbVJhbmdlU3RhcnQodSk6aS5mcm9tUmFuZ2VFbmQodSl9ZnVuY3Rpb24gdHcoaSl7cmV0dXJuIG4uZnJvbShpLmdldE5vZGUoKSkubWFwKHQuZnJvbURvbSl9ZnVuY3Rpb24gbGl0KG4sdCl7Zm9yKDt0PW4odCk7KWlmKHQuaXNWaXNpYmxlKCkpcmV0dXJuIHQ7cmV0dXJuIHR9ZnVuY3Rpb24gaXcobix0KXt2YXIgaT1lZihuLHQpO3JldHVybiEoaXx8IXN0KG4uZ2V0Tm9kZSgpKSl8fGl9ZnVuY3Rpb24gc3d0KG4sdCl7cmV0dXJuIG4uaGFzQ2hpbGROb2RlcygpJiZ0PG4uY2hpbGROb2Rlcy5sZW5ndGg/bi5jaGlsZE5vZGVzW3RdOm51bGx9ZnVuY3Rpb24gaHd0KG4sdCl7aWYoMDxuKXtpZihrYyh0LnByZXZpb3VzU2libGluZykmJiFjZih0LnByZXZpb3VzU2libGluZykpcmV0dXJuIGkuYmVmb3JlKHQpO2lmKGNmKHQpKXJldHVybiBpKHQsMCl9aWYobjwwKXtpZihrYyh0Lm5leHRTaWJsaW5nKSYmIWNmKHQubmV4dFNpYmxpbmcpKXJldHVybiBpLmFmdGVyKHQpO2lmKGNmKHQpKXJldHVybiBpKHQsdC5kYXRhLmxlbmd0aCl9cmV0dXJuIG48MCYmIW9ydCh0KT9pLmFmdGVyKHQpOmkuYmVmb3JlKHQpfWZ1bmN0aW9uIHZ1KG4pe3JldHVybntuZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBzcnQoYnQuRm9yd2FyZHMsdCxuKX0scHJldjpmdW5jdGlvbih0KXtyZXR1cm4gc3J0KGJ0LkJhY2t3YXJkcyx0LG4pfX19ZnVuY3Rpb24gY3d0KG4pe3JldHVybiBpLmlzVGV4dFBvc2l0aW9uKG4pPzA9PT1uLm9mZnNldCgpOm5mKG4uZ2V0Tm9kZSgpKX1mdW5jdGlvbiBsd3Qobil7aWYoaS5pc1RleHRQb3NpdGlvbihuKSl7dmFyIHQ9bi5jb250YWluZXIoKTtyZXR1cm4gbi5vZmZzZXQoKT09PXQuZGF0YS5sZW5ndGh9cmV0dXJuIG5mKG4uZ2V0Tm9kZSghMCkpfWZ1bmN0aW9uIGF3dChuLHQpe3JldHVybiFpLmlzVGV4dFBvc2l0aW9uKG4pJiYhaS5pc1RleHRQb3NpdGlvbih0KSYmbi5nZXROb2RlKCk9PT10LmdldE5vZGUoITApfWZ1bmN0aW9uIGZ3KHQscix1KXtyZXR1cm4gdnIodCxyLHUpLmJpbmQoZnVuY3Rpb24oZil7cmV0dXJuIGVmKHUsZixyKSYmKGU9dSxvPWYsdD8hYXd0KGUsbykmJihpLmlzVGV4dFBvc2l0aW9uKHM9ZSl8fCFzdChzLmdldE5vZGUoKSkpJiZsd3QoZSkmJmN3dChvKTohYXd0KG8sZSkmJmN3dChlKSYmbHd0KG8pKT92cih0LHIsZik6bi5zb21lKGYpO3ZhciBlLG8sc30pfWZ1bmN0aW9uIHZjKHQscil7dmFyIHMsaCxmLGMsZSx1PXQ/ci5maXJzdENoaWxkOnIubGFzdENoaWxkO3JldHVybiBvKHUpP24uc29tZShpKHUsdD8wOnUuZGF0YS5sZW5ndGgpKTp1P25mKHUpP24uc29tZSh0P2kuYmVmb3JlKHUpOnN0KGU9dSk/aS5iZWZvcmUoZSk6aS5hZnRlcihlKSk6KGg9cixmPXUsYz0ocz10KT9pLmJlZm9yZShmKTppLmFmdGVyKGYpLHZyKHMsaCxjKSk6bi5ub25lKCl9ZnVuY3Rpb24gc2Yobil7cmV0dXJuIGgobikmJm4uaWQ9PT12YnR9ZnVuY3Rpb24gbHMobix0KXtmb3IoO3QmJnQhPT1uOyl7aWYodC5pZD09PXZidClyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB2d3Qobil7cmV0dXJuIHIuaXNBcnJheShuLnN0YXJ0KX1mdW5jdGlvbiB5d3Qobix0KXtyZXR1cm4gaCh0KSYmbi5pc0Jsb2NrKHQpJiYhdC5pbm5lckhUTUwmJiFsLmllJiYodC5pbm5lckhUTUw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSIgLz4nKSx0fWZ1bmN0aW9uIHB3dChuLHQsaSl7cmV0dXJuITE9PT10Lmhhc0NoaWxkTm9kZXMoKSYmbHMobix0KSYmKHU9aSxyPShmPXQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmkpLGYuYXBwZW5kQ2hpbGQociksdS5zZXRTdGFydChyLDApLHUuc2V0RW5kKHIsMCksMSk7dmFyIGYsdSxyfWZ1bmN0aW9uIHd3dChuLHQsaSxyKXt2YXIgZSx1LG8scyxmPWlbdD8ic3RhcnQiOiJlbmQiXSxoPW4uZ2V0Um9vdCgpO2lmKGYpe2ZvcihvPWZbMF0sdT1oLGU9Zi5sZW5ndGgtMTsxPD1lO2UtLSl7aWYocz11LmNoaWxkTm9kZXMscHd0KGgsdSxyKSlyZXR1cm4gMTtpZihmW2VdPnMubGVuZ3RoLTEpcmV0dXJuIHB3dChoLHUscil8fGZ1bmN0aW9uKG4pe3JldHVybiBhZih1KS5mb2xkKGl0LGZ1bmN0aW9uKHQpe3JldHVybiBuLnNldFN0YXJ0KHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksbi5zZXRFbmQodC5jb250YWluZXIoKSx0Lm9mZnNldCgpKSwhMH0pfShyKTt1PXNbZltlXV19Mz09PXUubm9kZVR5cGUmJihvPU1hdGgubWluKGZbMF0sdS5ub2RlVmFsdWUubGVuZ3RoKSk7MT09PXUubm9kZVR5cGUmJihvPU1hdGgubWluKGZbMF0sdS5jaGlsZE5vZGVzLmxlbmd0aCkpO3Q/ci5zZXRTdGFydCh1LG8pOnIuc2V0RW5kKHUsbyl9cmV0dXJuIDF9ZnVuY3Rpb24gcGl0KG4pe3JldHVybiBvKG4pJiYwPG4uZGF0YS5sZW5ndGh9ZnVuY3Rpb24gYnd0KHQsdSxmKXt2YXIgcyxhLGMsaCx2LHksZT10LmdldChmLmlkKyJfIit1KSxwPWYua2VlcDtpZihlKXtpZihzPWUucGFyZW50Tm9kZSxhPSJzdGFydCI9PT11P3A/ZS5oYXNDaGlsZE5vZGVzKCk/KHM9ZS5maXJzdENoaWxkLDEpOnBpdChlLm5leHRTaWJsaW5nKT8ocz1lLm5leHRTaWJsaW5nLDApOnBpdChlLnByZXZpb3VzU2libGluZyk/KHM9ZS5wcmV2aW91c1NpYmxpbmcsZS5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOihzPWUucGFyZW50Tm9kZSx0Lm5vZGVJbmRleChlKSsxKTp0Lm5vZGVJbmRleChlKTpwP2UuaGFzQ2hpbGROb2RlcygpPyhzPWUuZmlyc3RDaGlsZCwxKTpwaXQoZS5wcmV2aW91c1NpYmxpbmcpPyhzPWUucHJldmlvdXNTaWJsaW5nLGUucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKToocz1lLnBhcmVudE5vZGUsdC5ub2RlSW5kZXgoZSkpOnQubm9kZUluZGV4KGUpLHY9cyx5PWEsIXApe2ZvcihoPWUucHJldmlvdXNTaWJsaW5nLGM9ZS5uZXh0U2libGluZyxyLmVhY2goci5ncmVwKGUuY2hpbGROb2RlcyksZnVuY3Rpb24obil7byhuKSYmKG4ubm9kZVZhbHVlPW4ubm9kZVZhbHVlLnJlcGxhY2UoL1x1RkVGRi9nLCIiKSl9KTtlPXQuZ2V0KGYuaWQrIl8iK3UpOyl0LnJlbW92ZShlLCEwKTtoJiZjJiZoLm5vZGVUeXBlPT09Yy5ub2RlVHlwZSYmbyhoKSYmIWwub3BlcmEmJihhPWgubm9kZVZhbHVlLmxlbmd0aCxoLmFwcGVuZERhdGEoYy5ub2RlVmFsdWUpLHQucmVtb3ZlKGMpLHY9aCx5PWEpfXJldHVybiBuLnNvbWUoaSh2LHkpKX1yZXR1cm4gbi5ub25lKCl9ZnVuY3Rpb24gZnlpKHQsaSl7IWZ1bmN0aW9uKHQsaSl7dmFyIHMsdix1LHkscCxoLGMsZixyLGwsYSxlLG89dC5kb207aWYoaSl7aWYodnd0KGkpKXJldHVybiBhPWksZT0obD1vKS5jcmVhdGVSbmcoKSx3d3QobCwhMCxhLGUpJiZ3d3QobCwhMSxhLGUpP24uc29tZShlKTpuLm5vbmUoKTtpZihodChpLnN0YXJ0KSlyZXR1cm4gbi5zb21lKChjPWksZj0oaD1vKS5jcmVhdGVSbmcoKSxyPXB5dChoLmdldFJvb3QoKSxjLnN0YXJ0KSxmLnNldFN0YXJ0KHIuY29udGFpbmVyKCksci5vZmZzZXQoKSkscj1weXQoaC5nZXRSb290KCksYy5lbmQpLGYuc2V0RW5kKHIuY29udGFpbmVyKCksci5vZmZzZXQoKSksZikpO2lmKHcoaSwiaWQiKSlyZXR1cm4gZGkocD1id3QodT1vLCJzdGFydCIseT1pKSxid3QodSwiZW5kIix5KS5vcihwKSxmdW5jdGlvbihuLHQpe3ZhciBpPXUuY3JlYXRlUm5nKCk7cmV0dXJuIGkuc2V0U3RhcnQoeXd0KHUsbi5jb250YWluZXIoKSksbi5vZmZzZXQoKSksaS5zZXRFbmQoeXd0KHUsdC5jb250YWluZXIoKSksdC5vZmZzZXQoKSksaX0pO2lmKHcoaSwibmFtZSIpKXJldHVybiBzPW8sbi5mcm9tKHMuc2VsZWN0KCh2PWkpLm5hbWUpW3YuaW5kZXhdKS5tYXAoZnVuY3Rpb24obil7dmFyIHQ9cy5jcmVhdGVSbmcoKTtyZXR1cm4gdC5zZWxlY3ROb2RlKG4pLHR9KTtpZih3KGksInJuZyIpKXJldHVybiBuLnNvbWUoaS5ybmcpfXJldHVybiBuLm5vbmUoKX0odCxpKS5lYWNoKGZ1bmN0aW9uKG4pe3Quc2V0Um5nKG4pfSl9ZnVuY3Rpb24gYXIobil7cmV0dXJuIGgobikmJiJTUEFOIj09PW4udGFnTmFtZSYmImJvb2ttYXJrIj09PW4uZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS10eXBlIil9ZnVuY3Rpb24geWMobil7cmV0dXJuIiIhPT1uJiYtMSE9PSIgXGZcblxyXHRcdiIuaW5kZXhPZihuKX1mdW5jdGlvbiB3aXQobil7cmV0dXJuIXljKG4pJiYhdXYobil9ZnVuY3Rpb24gZXcobil7cmV0dXJuIG4ubm9kZVR5cGV9ZnVuY3Rpb24ga3d0KG4sdCxpKXt2YXIgYyxzPWkuc3RhcnRPZmZzZXQscj1pLnN0YXJ0Q29udGFpbmVyLGYsZSx1O2lmKChyIT09aS5lbmRDb250YWluZXJ8fCEoYz1yLmNoaWxkTm9kZXNbc10pfHwhL14oSU1HKSQvLnRlc3QoYy5ub2RlTmFtZSkpJiZoKHIpKWZvcihmPXIuY2hpbGROb2RlcyxlPXZvaWQgMCxzPGYubGVuZ3RoPyhyPWZbc10sZT1uZXcgeXQocixuLmdldFBhcmVudChyLG4uaXNCbG9jaykpKToocj1mW2YubGVuZ3RoLTFdLChlPW5ldyB5dChyLG4uZ2V0UGFyZW50KHIsbi5pc0Jsb2NrKSkpLm5leHQoITApKSx1PWUuY3VycmVudCgpO3U7dT1lLm5leHQoKSlpZihvKHUpJiYhaHJ0KHUpKXJldHVybiBpLnNldFN0YXJ0KHUsMCksdC5zZXRSbmcoaSksMH1mdW5jdGlvbiBiaXQobix0LGkpe2lmKG4pe3ZhciByPXQ/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIjtmb3Iobj1pP246bltyXTtuO249bltyXSlpZihoKG4pfHwhaHJ0KG4pKXJldHVybiBufX1mdW5jdGlvbiBraXQobix0KXtyZXR1cm4gZXcodCkmJih0PXQubm9kZU5hbWUpLCEhbi5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVt0LnRvTG93ZXJDYXNlKCldfWZ1bmN0aW9uIHBjKG4sdCxpKXtyZXR1cm4gbi5zY2hlbWEuaXNWYWxpZENoaWxkKHQsaSl9ZnVuY3Rpb24gZ2Yobix0KXtyZXR1cm4gZnQobik/bj1uKHQpOmcodCkmJihuPW4ucmVwbGFjZSgvJShcdyspL2csZnVuY3Rpb24obixpKXtyZXR1cm4gdFtpXXx8bn0pKSxufWZ1bmN0aW9uIGRpdChuLHQpe3JldHVybiBuPSIiKygobj1ufHwiIikubm9kZU5hbWV8fG4pLHQ9IiIrKCh0PXR8fCIiKS5ub2RlTmFtZXx8dCksbi50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGdpdChuLHQsaSl7cmV0dXJuImNvbG9yIiE9PWkmJiJiYWNrZ3JvdW5kQ29sb3IiIT09aXx8KHQ9bi50b0hleCh0KSksImZvbnRXZWlnaHQiPT09aSYmNzAwPT09dCYmKHQ9ImJvbGQiKSwiIisoImZvbnRGYW1pbHkiPT09aT90LnJlcGxhY2UoL1tcJ1wiXS9nLCIiKS5yZXBsYWNlKC8sXHMrL2csIiwiKTp0KX1mdW5jdGlvbiBvdyhuLHQsaSl7cmV0dXJuIGdpdChuLG4uZ2V0U3R5bGUodCxpKSxpKX1mdW5jdGlvbiBkd3Qobix0KXt2YXIgaTtyZXR1cm4gbi5nZXRQYXJlbnQodCxmdW5jdGlvbih0KXtyZXR1cm4oaT1uLmdldFN0eWxlKHQsInRleHQtZGVjb3JhdGlvbiIpKSYmIm5vbmUiIT09aX0pLGl9ZnVuY3Rpb24gc3cobix0LGkpe3JldHVybiBuLmdldFBhcmVudHModCxpLG4uZ2V0Um9vdCgpKX1mdW5jdGlvbiBleWkobix0KXtyZXR1cm4gdmkobi5mb3JtYXR0ZXIuZ2V0KHQpLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuIDE8bi5sZW5ndGgmJiIlIj09PW4uY2hhckF0KDApfXJldHVybiB2aShbInN0eWxlcyIsImF0dHJpYnV0ZXMiXSxmdW5jdGlvbihpKXtyZXR1cm4gYXQobixpKS5leGlzdHMoZnVuY3Rpb24obil7dmFyIHIsaTtyZXR1cm4gdmkoYnIobik/bjoocj1raSxpPVtdLGV0KG4sZnVuY3Rpb24obix0KXtpLnB1c2gocihuLHQpKX0pLGkpLHQpfSl9KX0pfWZ1bmN0aW9uIGhmKG4pe3JldHVybiBoaChuLCJibG9jayIpfWZ1bmN0aW9uIHVyKG4pe3JldHVybiBoaChuLCJzZWxlY3RvciIpfWZ1bmN0aW9uIGt0KG4pe3JldHVybiBoaChuLCJpbmxpbmUiKX1mdW5jdGlvbiBucnQobil7cmV0dXJuIHVyKG4pJiYhMSE9PW4uZXhwYW5kJiYha3Qobil9ZnVuY3Rpb24gZ3d0KG4sdCl7Zm9yKHZhciBpPXQ7aTspe2lmKGgoaSkmJm4uZ2V0Q29udGVudEVkaXRhYmxlKGkpKXJldHVybiJmYWxzZSI9PT1uLmdldENvbnRlbnRFZGl0YWJsZShpKT9pOnQ7aT1pLnBhcmVudE5vZGV9cmV0dXJuIHR9ZnVuY3Rpb24gbmJ0KG4sdCxpLHIpe2Zvcih2YXIgZj10LmRhdGEsdT1pO24/MDw9dTp1PGYubGVuZ3RoO24/dS0tOnUrKylpZihyKGYuY2hhckF0KHUpKSlyZXR1cm4gbj91KzE6dTtyZXR1cm4tMX1mdW5jdGlvbiBveWkobix0LGkpe3JldHVybiBuYnQobix0LGksZnVuY3Rpb24obil7cmV0dXJuIHV2KG4pfHx5YyhuKX0pfWZ1bmN0aW9uIHN5aShuLHQsaSl7cmV0dXJuIG5idChuLHQsaSx3aXQpfWZ1bmN0aW9uIHRidCh0LGkscix1LGYsZSl7ZnVuY3Rpb24gcyhpLHIsdSl7dmFyIGU9dHl0KHQpLHM9Zj9lLmJhY2t3YXJkczplLmZvcndhcmRzO3JldHVybiBuLmZyb20ocyhpLHIsZnVuY3Rpb24obix0KXtyZXR1cm4gZGMobi5wYXJlbnROb2RlKT8tMTp1KGYsbz1uLHQpfSxoKSl9dmFyIG8saD10LmdldFBhcmVudChyLHQuaXNCbG9jayl8fGk7cmV0dXJuIHMocix1LG95aSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gZT9zKHQuY29udGFpbmVyLHQub2Zmc2V0KyhmPy0xOjApLHN5aSk6bi5zb21lKHQpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBvP24uc29tZSh7Y29udGFpbmVyOm8sb2Zmc2V0OmY/MDpvLmxlbmd0aH0pOm4ubm9uZSgpfSl9ZnVuY3Rpb24gaWJ0KG4sdCxpLHIsdSl7dmFyIHMsZixoLGU7Zm9yKG8ocikmJmxodChyLmRhdGEpJiZyW3VdJiYocj1yW3VdKSxzPXlidChuLHIpLGY9MDtmPHMubGVuZ3RoO2YrKylmb3IoaD0wO2g8dC5sZW5ndGg7aCsrKWlmKGU9dFtoXSwoIWcoZS5jb2xsYXBzZWQpfHxlLmNvbGxhcHNlZD09PWkuY29sbGFwc2VkKSYmdXIoZSkmJm4uaXMoc1tmXSxlLnNlbGVjdG9yKSlyZXR1cm4gc1tmXTtyZXR1cm4gcn1mdW5jdGlvbiByYnQobix0LGkscil7dmFyIHMsdT1pLGY9bi5kb20saD1mLmdldFJvb3QoKSxlPXRbMF07aWYoKHU9aGYoZSk/ZS53cmFwcGVyP251bGw6Zi5nZXRQYXJlbnQoaSxlLmJsb2NrLGgpOnUpfHwocz1mLmdldFBhcmVudChpLCJMSSxURCxUSCIpLHU9Zi5nZXRQYXJlbnQobyhpKT9pLnBhcmVudE5vZGU6aSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWgmJmF5aShuLHQpfSxzKSksISh1PXUmJmhmKGUpJiZlLndyYXBwZXImJnlidChmLHUsInVsLG9sIikucmV2ZXJzZSgpWzBdfHx1KSlmb3IodT1pO3Vbcl0mJiFmLmlzQmxvY2sodVtyXSkmJiFkaXQodT11W3JdLCJiciIpOyk7cmV0dXJuIHV8fGl9ZnVuY3Rpb24gaHcobix0LGkscix1KXt2YXIgcyxmPWksaD11PyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyIsYz1uLmdldFJvb3QoKSxlLGw7aWYobyhpKSYmIXBidChpKSYmKHU/MDxyOnI8aS5kYXRhLmxlbmd0aCkpcmV0dXJuIGk7Zm9yKDs7KXtpZighdFswXS5ibG9ja19leHBhbmQmJm4uaXNCbG9jayhmKSlyZXR1cm4gZjtmb3IoZT1mW2hdO2U7ZT1lW2hdKWlmKGw9byhlKSYmIXdidChuLGMsZSxoKSwhZGMoZSkmJighc3Qocz1lKXx8IXMuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfHxzLm5leHRTaWJsaW5nKSYmIXBidChlLGwpKXJldHVybiBmO2lmKGY9PT1jfHxmLnBhcmVudE5vZGU9PT1jKXtpPWY7YnJlYWt9Zj1mLnBhcmVudE5vZGV9cmV0dXJuIGl9ZnVuY3Rpb24gdWJ0KG4pe3JldHVybiBkYyhuLnBhcmVudE5vZGUpfHxkYyhuKX1mdW5jdGlvbiB3YyhuLHQsaSxyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIGY9dC5zdGFydENvbnRhaW5lcixjPXQuc3RhcnRPZmZzZXQsdT10LmVuZENvbnRhaW5lcixzPXQuZW5kT2Zmc2V0LGU9bi5kb20sbD1pWzBdO3JldHVybiBoKGYpJiZmLmhhc0NoaWxkTm9kZXMoKSYmKGY9dG8oZixjKSxvKGYpJiYoYz0wKSksaCh1KSYmdS5oYXNDaGlsZE5vZGVzKCkmJih1PXRvKHUsdC5jb2xsYXBzZWQ/czpzLTEpLG8odSkmJihzPXUubm9kZVZhbHVlLmxlbmd0aCkpLGY9Z3d0KGUsZiksdT1nd3QoZSx1KSx1YnQoZikmJihmPWRjKGYpP2Y6Zi5wYXJlbnROb2RlLGY9dC5jb2xsYXBzZWQ/Zi5wcmV2aW91c1NpYmxpbmd8fGY6Zi5uZXh0U2libGluZ3x8ZixvKGYpJiYoYz10LmNvbGxhcHNlZD9mLmxlbmd0aDowKSksdWJ0KHUpJiYodT1kYyh1KT91OnUucGFyZW50Tm9kZSx1PXQuY29sbGFwc2VkP3UubmV4dFNpYmxpbmd8fHU6dS5wcmV2aW91c1NpYmxpbmd8fHUsbyh1KSYmKHM9dC5jb2xsYXBzZWQ/MDp1Lmxlbmd0aCkpLHQuY29sbGFwc2VkJiYodGJ0KGUsbi5nZXRCb2R5KCksZixjLCEwLHIpLmVhY2goZnVuY3Rpb24obil7dmFyIHQ9bi5jb250YWluZXIsaT1uLm9mZnNldDtmPXQ7Yz1pfSksdGJ0KGUsbi5nZXRCb2R5KCksdSxzLCExLHIpLmVhY2goZnVuY3Rpb24obil7dmFyIHQ9bi5jb250YWluZXIsaT1uLm9mZnNldDt1PXQ7cz1pfSkpLChrdChsKXx8bC5ibG9ja19leHBhbmQpJiYoa3QobCkmJm8oZikmJjAhPT1jfHwoZj1odyhlLGksZixjLCEwKSksa3QobCkmJm8odSkmJnMhPT11Lm5vZGVWYWx1ZS5sZW5ndGh8fCh1PWh3KGUsaSx1LHMsITEpKSksbnJ0KGwpJiYoZj1pYnQoZSxpLHQsZiwicHJldmlvdXNTaWJsaW5nIiksdT1pYnQoZSxpLHQsdSwibmV4dFNpYmxpbmciKSksKGhmKGwpfHx1cihsKSkmJihmPXJidChuLGksZiwicHJldmlvdXNTaWJsaW5nIiksdT1yYnQobixpLHUsIm5leHRTaWJsaW5nIiksaGYobCkmJihlLmlzQmxvY2soZil8fChmPWh3KGUsaSxmLGMsITApKSxlLmlzQmxvY2sodSl8fCh1PWh3KGUsaSx1LHMsITEpKSkpLGgoZikmJihjPWUubm9kZUluZGV4KGYpLGY9Zi5wYXJlbnROb2RlKSxoKHUpJiYocz1lLm5vZGVJbmRleCh1KSsxLHU9dS5wYXJlbnROb2RlKSx7c3RhcnRDb250YWluZXI6ZixzdGFydE9mZnNldDpjLGVuZENvbnRhaW5lcjp1LGVuZE9mZnNldDpzfX1mdW5jdGlvbiB0dihuLHQsaSl7ZnVuY3Rpb24gYyhuKXt2YXIgdD1uWzBdLGk7cmV0dXJuIG8odCkmJnQ9PT1yJiZ5Pj10LmRhdGEubGVuZ3RoJiZuLnNwbGljZSgwLDEpLGk9bltuLmxlbmd0aC0xXSwwPT09cCYmMDxuLmxlbmd0aCYmaT09PXUmJm8oaSkmJm4uc3BsaWNlKG4ubGVuZ3RoLTEsMSksbn1mdW5jdGlvbiBhKG4sdCxpKXtmb3IodmFyIHI9W107biYmbiE9PWk7bj1uW3RdKXIucHVzaChuKTtyZXR1cm4gcn1mdW5jdGlvbiB2KHQsaSl7cmV0dXJuIG4uZ2V0UGFyZW50KHQsZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50Tm9kZT09PWl9LGkpfWZ1bmN0aW9uIGgobix0LHIpe3ZhciBlPXI/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIix1PW4sbyxmO2Zvcih1LnBhcmVudE5vZGU7dSYmdSE9PXQ7dT1vKW89dS5wYXJlbnROb2RlLGY9YSh1PT09bj91OnVbZV0sZSksZi5sZW5ndGgmJihyfHxmLnJldmVyc2UoKSxpKGMoZikpKX12YXIgeT10LnN0YXJ0T2Zmc2V0LHI9dG8odC5zdGFydENvbnRhaW5lcix5KSxwPXQuZW5kT2Zmc2V0LHU9dG8odC5lbmRDb250YWluZXIscC0xKSxmLGUscyxsO2lmKHI9PT11KXJldHVybiBpKGMoW3JdKSk7aWYoZj1uLmZpbmRDb21tb25BbmNlc3RvcihyLHUpLG4uaXNDaGlsZE9mKHIsdSkpcmV0dXJuIGgocixmLCEwKTtpZihuLmlzQ2hpbGRPZih1LHIpKXJldHVybiBoKHUsZik7ZT12KHIsZil8fHI7cz12KHUsZil8fHU7aChyLGUsITApO2w9YShlPT09cj9lOmUubmV4dFNpYmxpbmcsIm5leHRTaWJsaW5nIixzPT09dT9zLm5leHRTaWJsaW5nOnMpO2wubGVuZ3RoJiZpKGMobCkpO2godSxzKX1mdW5jdGlvbiB0cnQobil7dmFyIGk9W10sdDtpZihuKWZvcih0PTA7dDxuLnJhbmdlQ291bnQ7dCsrKWkucHVzaChuLmdldFJhbmdlQXQodCkpO3JldHVybiBpfWZ1bmN0aW9uIGZidChuLGkpe3ZhciByPWdpKGksInRkW2RhdGEtbWNlLXNlbGVjdGVkXSx0aFtkYXRhLW1jZS1zZWxlY3RlZF0iKTtyZXR1cm4gMDxyLmxlbmd0aD9yOnAoc2gobixmdW5jdGlvbihuKXt2YXIgaT1icChuKTtyZXR1cm4gaT9bdC5mcm9tRG9tKGkpXTpbXX0pLG5wKX1mdW5jdGlvbiBiYyhuKXtyZXR1cm4gZmJ0KHRydChuLnNlbGVjdGlvbi5nZXRTZWwoKSksdC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSl9ZnVuY3Rpb24gaXYobix0KXtyZXR1cm4gd3kobiwidGFibGUiLHQpfWZ1bmN0aW9uIGlydChpLHIpe3JldHVybiBkaSgoZT1yLnN0YXJ0Q29udGFpbmVyLGg9ci5zdGFydE9mZnNldCxvKGUpPzA9PT1oP24uc29tZSh0LmZyb21Eb20oZSkpOm4ubm9uZSgpOm4uZnJvbShlLmNoaWxkTm9kZXNbaF0pLm1hcCh0LmZyb21Eb20pKSwoZj1yLmVuZENvbnRhaW5lcixzPXIuZW5kT2Zmc2V0LG8oZik/cz09PWYuZGF0YS5sZW5ndGg/bi5zb21lKHQuZnJvbURvbShmKSk6bi5ub25lKCk6bi5mcm9tKGYuY2hpbGROb2Rlc1tzLTFdKS5tYXAodC5mcm9tRG9tKSksZnVuY3Rpb24obix0KXt2YXIgcj1ndChiYnQoaSksdShudCxuKSksZj1ndChjcnQoaSksdShudCx0KSk7cmV0dXJuIHIuaXNTb21lKCkmJmYuaXNTb21lKCl9KS5nZXRPcighMSk7dmFyIGYscyxlLGh9ZnVuY3Rpb24gcnJ0KG4sdCxpLHUpe3ZhciBmPWksZT1uZXcgeXQoaSxmKSxzPXlsKG4uc2NoZW1hLmdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50cygpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIWR0KFsidGQiLCJ0aCIsInRhYmxlIl0sdC50b0xvd2VyQ2FzZSgpKX0pO2Rve2lmKG8oaSkmJjAhPT1yLnRyaW0oaS5ub2RlVmFsdWUpLmxlbmd0aClyZXR1cm4gdT90LnNldFN0YXJ0KGksMCk6dC5zZXRFbmQoaSxpLm5vZGVWYWx1ZS5sZW5ndGgpLDA7aWYoc1tpLm5vZGVOYW1lXSlyZXR1cm4gdT90LnNldFN0YXJ0QmVmb3JlKGkpOiJCUiI9PT1pLm5vZGVOYW1lP3Quc2V0RW5kQmVmb3JlKGkpOnQuc2V0RW5kQWZ0ZXIoaSksMH13aGlsZShpPXU/ZS5uZXh0KCk6ZS5wcmV2KCkpOyJCT0RZIj09PWYubm9kZU5hbWUmJih1P3Quc2V0U3RhcnQoZiwwKTp0LnNldEVuZChmLGYuY2hpbGROb2Rlcy5sZW5ndGgpKX1mdW5jdGlvbiBjdyhuKXt2YXIgdD1uLnNlbGVjdGlvbi5nZXRTZWwoKTtyZXR1cm4gdCYmMDx0LnJhbmdlQ291bnR9ZnVuY3Rpb24gdXJ0KG4sdCl7dmFyIGk9YmMobik7MDxpLmxlbmd0aD9lKGksZnVuY3Rpb24oaSl7dmFyIHU9aS5kb20scj1uLmRvbS5jcmVhdGVSbmcoKTtyLnNldFN0YXJ0QmVmb3JlKHUpO3Iuc2V0RW5kQWZ0ZXIodSk7dChyLCEwKX0pOnQobi5zZWxlY3Rpb24uZ2V0Um5nKCksITEpfWZ1bmN0aW9uIGZydChuLHQsaSl7dmFyIHI9dHB0KG4sdCk7aShyKTtuLm1vdmVUb0Jvb2ttYXJrKHIpfWZ1bmN0aW9uIGVydChuKXtyZXR1cm4gdnlpLmdldChuKX1mdW5jdGlvbiBlYnQobixpLHIsdSl7dmFyIG89aS51aWQscz12b2lkIDA9PT1vP2J2dCgibWNlLWFubm90YXRpb24iKTpvLHY9ZnVuY3Rpb24obix0KXt2YXIgdT17fSxyO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiZ0LmluZGV4T2YoaSk8MCYmKHVbaV09bltpXSk7aWYobnVsbCE9biYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpZm9yKHI9MCxpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobik7cjxpLmxlbmd0aDtyKyspdC5pbmRleE9mKGlbcl0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChuLGlbcl0pJiYodVtpW3JdXT1uW2lbcl1dKTtyZXR1cm4gdX0oaSxbInVpZCJdKSxmPXQuZnJvbVRhZygic3BhbiIsbik7d3AoZix1aXQoKSk7ZHUoZiwiIitrcCgpLHMpO2R1KGYsIiIrYWEoKSxyKTt2YXIgaCxjPXUocyx2KSxsPWMuYXR0cmlidXRlcyxhPWMuY2xhc3Nlcyx5PXZvaWQgMD09PWE/W106YTtyZXR1cm4gc2UoZix2b2lkIDA9PT1sP3t9OmwpLGg9ZixlKHksZnVuY3Rpb24obil7d3AoaCxuKX0pLGZ9ZnVuY3Rpb24gaHlpKG4saSxyLHUsZil7ZnVuY3Rpb24gbygpe3MuY2xlYXIoKX1mdW5jdGlvbiBoKG4pe2UobixhKX12YXIgYz1bXSxsPWVidChuLmdldERvYygpLGYscix1KSxzPW9jKCksYT1mdW5jdGlvbih0KXt2YXIgZSxhLHIsaSx1LGY7c3dpdGNoKHI9bix1PSJzcGFuIixmPXZ0KGk9dCksZXUoaSkuZm9sZChmdW5jdGlvbigpe3JldHVybiJza2lwcGluZyJ9LGZ1bmN0aW9uKG4pe3JldHVybiJiciI9PT1mfHxncihlPWkpJiZlcnQoZSk9PT1maT8idmFsaWQiOnN1KHQ9aSkmJnB2dCh0LHVpdCgpKT8iZXhpc3RpbmciOnNmKGkuZG9tKT8iY2FyZXQiOnBjKHIsdSxmKSYmcGMocix2dChuKSx1KT8idmFsaWQiOiJpbnZhbGlkLWNoaWxkIjt2YXIgdCxlfSkpe2Nhc2UiaW52YWxpZC1jaGlsZCI6bygpO2gobnUodCkpO28oKTticmVhaztjYXNlInZhbGlkIjpvdShlPXQsYT1zLmdldCgpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgbj1zYyhsKTtyZXR1cm4gYy5wdXNoKG4pLHMuc2V0KG4pLG59KSk7aWkoYSxlKX19O3JldHVybiB0dihuLmRvbSxpLGZ1bmN0aW9uKG4pe28oKTtoKHV0KG4sdC5mcm9tRG9tKSl9KSxjfWZ1bmN0aW9uIG9idChpKXt2YXIgcixmLG8sdT0ocj17fSx7cmVnaXN0ZXI6ZnVuY3Rpb24obix0KXtyW25dPXtuYW1lOm4sc2V0dGluZ3M6dH19LGxvb2t1cDpmdW5jdGlvbihuKXtyZXR1cm4gYXQocixuKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4uc2V0dGluZ3N9KX19KSxzO3JldHVybiBvPXUsKGY9aSkub24oImluaXQiLGZ1bmN0aW9uKCl7Zi5zZXJpYWxpemVyLmFkZE5vZGVGaWx0ZXIoInNwYW4iLGZ1bmN0aW9uKHQpe2UodCxmdW5jdGlvbih0KXtuLmZyb20odC5hdHRyKGFhKCkpKS5iaW5kKG8ubG9va3VwKS5lYWNoKGZ1bmN0aW9uKG4peyExPT09bi5wZXJzaXN0ZW50JiZ0LnVud3JhcCgpfSl9KX0pfSkscz1zdmkoaSkse3JlZ2lzdGVyOmZ1bmN0aW9uKG4sdCl7dS5yZWdpc3RlcihuLHQpfSxhbm5vdGF0ZTpmdW5jdGlvbihuLHQpe3UubG9va3VwKG4pLmVhY2goZnVuY3Rpb24ocil7dmFyIHUsZixlLG87Zj1uO2U9cjtvPXQ7KHU9aSkudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgcyxpLG4scix0PXUuc2VsZWN0aW9uLGg9dC5nZXRSbmcoKSxjPTA8YmModSkubGVuZ3RoO2guY29sbGFwc2VkJiYhYyYmKG49d2Mocz11LGk9aCxbe2lubGluZToic3BhbiJ9XSksaS5zZXRTdGFydChuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQpLGkuc2V0RW5kKG4uZW5kQ29udGFpbmVyLG4uZW5kT2Zmc2V0KSxzLnNlbGVjdGlvbi5zZXRSbmcoaSkpO3QuZ2V0Um5nKCkuY29sbGFwc2VkJiYhYz8oa3Z0KHI9ZWJ0KHUuZ2V0RG9jKCksbyxmLGUuZGVjb3JhdGUpLGlyKSx0LmdldFJuZygpLmluc2VydE5vZGUoci5kb20pLHQuc2VsZWN0KHIuZG9tKSk6ZnJ0KHQsITEsZnVuY3Rpb24oKXt1cnQodSxmdW5jdGlvbihuKXtoeWkodSxuLGYsZS5kZWNvcmF0ZSxvKX0pfSl9KX0pfSxhbm5vdGF0aW9uQ2hhbmdlZDpmdW5jdGlvbihuLHQpe3MuYWRkTGlzdGVuZXIobix0KX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3d2dChpLG4uc29tZSh0KSkuZWFjaChmdW5jdGlvbihuKXtlKG4uZWxlbWVudHMsYmN0KX0pfSxnZXRBbGw6ZnVuY3Rpb24obil7dmFyIHUsZixyO3JldHVybiBmaHQoKHU9bixmPWdpKHQuZnJvbURvbShpLmdldEJvZHkoKSksIlsiK2FhKCkrJz0iJyt1KyciXScpLHI9e30sZShmLGZ1bmN0aW9uKG4pe3ZhciB0PW5hKG4sa3AoKSksaT1hdChyLHQpLmdldE9yKFtdKTtyW3RdPWkuY29uY2F0KFtuXSl9KSxyKSxmdW5jdGlvbihuKXtyZXR1cm4gdXQobixmdW5jdGlvbihuKXtyZXR1cm4gbi5kb219KX0pfX19ZnVuY3Rpb24gcnYobil7cmV0dXJue2dldEJvb2ttYXJrOnUobHlpLG4pLG1vdmVUb0Jvb2ttYXJrOnUoZnlpLG4pfX1mdW5jdGlvbiBzYnQobil7cmV0dXJuIHZhdChuKXx8ISFnbih0PW4pJiYhMCE9PWZ1KGJ1KHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZnVuY3Rpb24obix0KXtyZXR1cm4gbnx8YWF0KHQpfSwhMSk7dmFyIHR9ZnVuY3Rpb24gZ2Mobix0KXtmb3IoO3QmJnQhPT1uOyl7aWYoZ3UodCl8fHJ0KHQpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGxydChuLHQsaSl7aWYoIWkuY29sbGFwc2VkKXtpZihsLmJyb3dzZXIuaXNJRSgpJiZpLnN0YXJ0T2Zmc2V0PT09aS5lbmRPZmZzZXQtMSYmaS5zdGFydENvbnRhaW5lcj09PWkuZW5kQ29udGFpbmVyKXt2YXIgcj1pLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbaS5zdGFydE9mZnNldF07aWYoaChyKSlyZXR1cm4gdmkoci5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKGkpe3JldHVybiB1eXQoaSxuLHQpfSl9cmV0dXJuIHZpKGkuZ2V0Q2xpZW50UmVjdHMoKSxmdW5jdGlvbihpKXtyZXR1cm4gdXl0KGksbix0KX0pfX1mdW5jdGlvbiBrYnQobix0LGkpe3JldHVybiBuLmZpcmUodCxpKX1mdW5jdGlvbiBkYnQobix0LGkscil7cmV0dXJuIG4uZmlyZSgiRm9ybWF0QXBwbHkiLHtmb3JtYXQ6dCxub2RlOmksdmFyczpyfSl9ZnVuY3Rpb24gYXJ0KG4sdCxpLHIpe3JldHVybiBuLmZpcmUoIkZvcm1hdFJlbW92ZSIse2Zvcm1hdDp0LG5vZGU6aSx2YXJzOnJ9KX1mdW5jdGlvbiBnYnQobixpKXtmdW5jdGlvbiBodChuKXtyZXR1cm4gbiYmKCJJTUciPT09bi5ub2RlTmFtZXx8aS5kb20uaXMobiwiZmlndXJlLmltYWdlIikpfWZ1bmN0aW9uIHZ0KG4pe3JldHVybiB0dShuKXx8dS5oYXNDbGFzcyhuLCJtY2UtcHJldmlldy1vYmplY3QiKX1mdW5jdGlvbiBlaShuKXt2YXIgdD1uLnRhcmdldDshZnVuY3Rpb24obix0KXtpZigibG9uZ3ByZXNzIiE9PW4udHlwZSYmMCE9PW4udHlwZS5pbmRleE9mKCJ0b3VjaCIpKXJldHVybiBodChuLnRhcmdldCkmJiFscnQobi5jbGllbnRYLG4uY2xpZW50WSx0KTt2YXIgaT1uLnRvdWNoZXNbMF07cmV0dXJuIGh0KG4udGFyZ2V0KSYmIWxydChpLmNsaWVudFgsaS5jbGllbnRZLHQpfShuLGkuc2VsZWN0aW9uLmdldFJuZygpKXx8bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8aS5zZWxlY3Rpb24uc2VsZWN0KHQpfWZ1bmN0aW9uIHl0KG4pe3JldHVybiB1LmlzKG4sImZpZ3VyZS5pbWFnZSIpP1tuLnF1ZXJ5U2VsZWN0b3IoImltZyIpXTp1Lmhhc0NsYXNzKG4sIm1jZS1wcmV2aWV3LW9iamVjdCIpJiZnKG4uZmlyc3RFbGVtZW50Q2hpbGQpP1tuLG4uZmlyc3RFbGVtZW50Q2hpbGRdOltuXX1mdW5jdGlvbiBwdChuKXt2YXIgcj1jcHQoaSk7cmV0dXJuISFyJiYiZmFsc2UiIT09bi5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXJlc2l6ZSIpJiZuIT09aS5nZXRCb2R5KCkmJih1Lmhhc0NsYXNzKG4sIm1jZS1wcmV2aWV3LW9iamVjdCIpP2FoKHQuZnJvbURvbShuLmZpcnN0RWxlbWVudENoaWxkKSxyKTphaCh0LmZyb21Eb20obikscikpfWZ1bmN0aW9uIHJ0KG4sdCxyKXtnKHIpJiZlKHl0KG4pLGZ1bmN0aW9uKG4pe24uc3R5bGVbdF18fCFpLnNjaGVtYS5pc1ZhbGlkKG4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0KT91LnNldFN0eWxlKG4sdCxyKTp1LnNldEF0dHJpYihuLHQsIiIrcil9KX1mdW5jdGlvbiB3dChuLHQsaSl7cnQobiwid2lkdGgiLHQpO3J0KG4sImhlaWdodCIsaSl9ZnVuY3Rpb24gdXQobil7dmFyIHQscixiLGssZCxnLGU9bi5zY3JlZW5YLWd0LGw9bi5zY3JlZW5ZLW5pO2g9ZSp2WzJdK3k7Yz1sKnZbM10rcDtoPWg8NT81Omg7Yz1jPDU/NTpjOygoaHQoZil8fHZ0KGYpKSYmITEhPT1pLmdldFBhcmFtKCJyZXNpemVfaW1nX3Byb3BvcnRpb25hbCIsITAsImJvb2xlYW4iKT8hcy5tb2RpZmllclByZXNzZWQobik6cy5tb2RpZmllclByZXNzZWQobikpJiYoZmkoZSk+ZmkobCk/KGM9b3QoaCp0dCksaD1vdChjL3R0KSk6KGg9b3QoYy90dCksYz1vdChoKnR0KSkpO3d0KG8saCxjKTt0PXYuc3RhcnRQb3MueCtlO3I9di5zdGFydFBvcy55K2w7dS5zZXRTdHlsZXMobnQse2xlZnQ6dD0wPHQ/dDowLHRvcDpyPTA8cj9yOjAsZGlzcGxheToiYmxvY2sifSk7bnQuaW5uZXJIVE1MPWgrIiAmdGltZXM7ICIrYzt2WzJdPDAmJm8uY2xpZW50V2lkdGg8PWgmJnUuc2V0U3R5bGUobywibGVmdCIsdm9pZCAwKyh5LWgpKTt2WzNdPDAmJm8uY2xpZW50SGVpZ2h0PD1jJiZ1LnNldFN0eWxlKG8sInRvcCIsdm9pZCAwKyhwLWMpKTsoZT1hLnNjcm9sbFdpZHRoLXRpKSsobD1hLnNjcm9sbEhlaWdodC1paSkhPTAmJnUuc2V0U3R5bGVzKG50LHtsZWZ0OnQtZSx0b3A6ci1sfSk7d3x8KGI9ZixrPXksZD1wLGc9ImNvcm5lci0iK3YubmFtZSxpLmZpcmUoIk9iamVjdFJlc2l6ZVN0YXJ0Iix7dGFyZ2V0OmIsd2lkdGg6ayxoZWlnaHQ6ZCxvcmlnaW46Z30pLHc9ITApfWZ1bmN0aW9uIGJ0KHQpe2Z1bmN0aW9uIGYobix0KXtpZihuKWRvIGlmKG49PT10KXJldHVybiAxO3doaWxlKG49bi5wYXJlbnROb2RlKX12YXIgcjt3fHxpLnJlbW92ZWR8fChyaSh1LnNlbGVjdCgiaW1nW2RhdGEtbWNlLXNlbGVjdGVkXSxocltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihuKXtuLnJlbW92ZUF0dHJpYnV0ZShiKX0pLHI9Im1vdXNlZG93biI9PT10LnR5cGU/dC50YXJnZXQ6bi5nZXROb2RlKCksZihyPXUuJChyKS5jbG9zZXN0KCJ0YWJsZSxpbWcsZmlndXJlLmltYWdlLGhyLHZpZGVvLHNwYW4ubWNlLXByZXZpZXctb2JqZWN0IilbMF0sYSkmJihkdCgpLGYobi5nZXRTdGFydCghMCkscikmJmYobi5nZXRFbmQoITApLHIpKT9sdChyKTppdCgpKX1mdW5jdGlvbiBrdChuKXtyZXR1cm4gcmt0KGdjKGkuZ2V0Qm9keSgpLG4pKX1mdW5jdGlvbiBkdCgpe3RyeXtpLmdldERvYygpLmV4ZWNDb21tYW5kKCJlbmFibGVPYmplY3RSZXNpemluZyIsITEsImZhbHNlIil9Y2F0Y2gobil7fX12YXIgZixvLG50LHYsZnQsZ3QsbmkseSxwLHR0LHcsaCxjLHRpLGlpLGI9ImRhdGEtbWNlLXNlbGVjdGVkIix1PWkuZG9tLHJpPXIuZWFjaCxrPWkuZ2V0RG9jKCksZD1kb2N1bWVudCxmaT1NYXRoLmFicyxvdD1NYXRoLnJvdW5kLGE9aS5nZXRCb2R5KCksY3Q9e253OlswLDAsLTEsLTFdLG5lOlsxLDAsMSwtMV0sc2U6WzEsMSwxLDFdLHN3OlswLDEsLTEsMV19LHN0PWZ1bmN0aW9uKCl7dmFyIG4sdCxyLGUscz13O3c9ITE7cyYmKHJ0KGYsIndpZHRoIixoKSxydChmLCJoZWlnaHQiLGMpKTt1LnVuYmluZChrLCJtb3VzZW1vdmUiLHV0KTt1LnVuYmluZChrLCJtb3VzZXVwIixzdCk7ZCE9PWsmJih1LnVuYmluZChkLCJtb3VzZW1vdmUiLHV0KSx1LnVuYmluZChkLCJtb3VzZXVwIixzdCkpO3UucmVtb3ZlKG8pO3UucmVtb3ZlKG50KTt1LnJlbW92ZShmdCk7bHQoZik7cyYmKG49Zix0PWgscj1jLGU9ImNvcm5lci0iK3YubmFtZSxpLmZpcmUoIk9iamVjdFJlc2l6ZWQiLHt0YXJnZXQ6bix3aWR0aDp0LGhlaWdodDpyLG9yaWdpbjplfSksdS5zZXRBdHRyaWIoZiwic3R5bGUiLHUuZ2V0QXR0cmliKGYsInN0eWxlIikpKTtpLm5vZGVDaGFuZ2VkKCl9LGx0PWZ1bmN0aW9uKG4pe3ZhciBydCxldDthdCgpO3ZhciBnPXUuZ2V0UG9zKG4sYSkscj1nLngsZT1nLnksdD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9dC53aWR0aHx8dC5yaWdodC10LmxlZnQsdz10LmhlaWdodHx8dC5ib3R0b20tdC50b3A7ZiE9PW4mJihpdCgpLGY9bixoPWM9MCk7cnQ9aS5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDpufSk7ZXQ9dS5nZXRBdHRyaWIoZixiLCIxIik7cHQobikmJiFydC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9yaShjdCxmdW5jdGlvbihuLHQpe3ZhciBpPXUuZ2V0KCJtY2VSZXNpemVIYW5kbGUiK3QpO2kmJnUucmVtb3ZlKGkpO2k9dS5hZGQoYSwiZGl2Iix7aWQ6Im1jZVJlc2l6ZUhhbmRsZSIrdCwiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLCJjbGFzcyI6Im1jZS1yZXNpemVoYW5kbGUiLHVuc2VsZWN0YWJsZTohMCxzdHlsZToiY3Vyc29yOiIrdCsiLXJlc2l6ZTsgbWFyZ2luOjA7IHBhZGRpbmc6MCJ9KTsxMT09PWwuaWUmJihpLmNvbnRlbnRFZGl0YWJsZT0hMSk7dS5iaW5kKGksIm1vdXNlZG93biIsZnVuY3Rpb24oaSl7dmFyIGgsZyxjO2kuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7aS5wcmV2ZW50RGVmYXVsdCgpO2g9aTtjPXl0KGYpWzBdO2d0PWguc2NyZWVuWDtuaT1oLnNjcmVlblk7eT1jLmNsaWVudFdpZHRoO3A9Yy5jbGllbnRIZWlnaHQ7dHQ9cC95Oyh2PW4pLm5hbWU9dDt2LnN0YXJ0UG9zPXt4OnMqblswXStyLHk6dypuWzFdK2V9O3RpPWEuc2Nyb2xsV2lkdGg7aWk9YS5zY3JvbGxIZWlnaHQ7ZnQ9dS5hZGQoYSwiZGl2Iix7ImNsYXNzIjoibWNlLXJlc2l6ZS1iYWNrZHJvcCIsImRhdGEtbWNlLWJvZ3VzIjoiYWxsIn0pO3Uuc2V0U3R5bGVzKGZ0LHtwb3NpdGlvbjoiZml4ZWQiLGxlZnQ6IjAiLHRvcDoiMCIsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSJ9KTtvPXZ0KGc9Zik/dS5jcmVhdGUoImltZyIse3NyYzpsLnRyYW5zcGFyZW50U3JjfSk6Zy5jbG9uZU5vZGUoITApO3UuYWRkQ2xhc3MobywibWNlLWNsb25lZHJlc2l6YWJsZSIpO3Uuc2V0QXR0cmliKG8sImRhdGEtbWNlLWJvZ3VzIiwiYWxsIik7by5jb250ZW50RWRpdGFibGU9ImZhbHNlIjt1LnNldFN0eWxlcyhvLHtsZWZ0OnIsdG9wOmUsbWFyZ2luOjB9KTt3dChvLHMsdyk7by5yZW1vdmVBdHRyaWJ1dGUoYik7YS5hcHBlbmRDaGlsZChvKTt1LmJpbmQoaywibW91c2Vtb3ZlIix1dCk7dS5iaW5kKGssIm1vdXNldXAiLHN0KTtkIT09ayYmKHUuYmluZChkLCJtb3VzZW1vdmUiLHV0KSx1LmJpbmQoZCwibW91c2V1cCIsc3QpKTtudD11LmFkZChhLCJkaXYiLHsiY2xhc3MiOiJtY2UtcmVzaXplLWhlbHBlciIsImRhdGEtbWNlLWJvZ3VzIjoiYWxsIn0seSsiICZ0aW1lczsgIitwKX0pO24uZWxtPWk7dS5zZXRTdHlsZXMoaSx7bGVmdDpzKm5bMF0rci1pLm9mZnNldFdpZHRoLzIsdG9wOncqblsxXStlLWkub2Zmc2V0SGVpZ2h0LzJ9KX0pOml0KCk7dS5nZXRBdHRyaWIoZixiKXx8Zi5zZXRBdHRyaWJ1dGUoYixldCl9LGl0PWZ1bmN0aW9uKCl7YXQoKTtmJiZmLnJlbW92ZUF0dHJpYnV0ZShiKTtldChjdCxmdW5jdGlvbihuLHQpe3ZhciBpPXUuZ2V0KCJtY2VSZXNpemVIYW5kbGUiK3QpO2kmJih1LnVuYmluZChpKSx1LnJlbW92ZShpKSl9KX0sYXQ9ZnVuY3Rpb24oKXtldChjdCxmdW5jdGlvbihuKXtuLmVsbSYmKHUudW5iaW5kKG4uZWxtKSxkZWxldGUgbi5lbG0pfSl9O3JldHVybiBpLm9uKCJpbml0IixmdW5jdGlvbigpe3ZhciB0LG47ZHQoKTsobC5icm93c2VyLmlzSUUoKXx8bC5icm93c2VyLmlzRWRnZSgpKSYmKGkub24oIm1vdXNlZG93biBjbGljayIsZnVuY3Rpb24obil7dmFyIHQ9bi50YXJnZXQscj10Lm5vZGVOYW1lO3d8fCEvXihUQUJMRXxJTUd8SFIpJC8udGVzdChyKXx8a3QodCl8fCgyIT09bi5idXR0b24mJmkuc2VsZWN0aW9uLnNlbGVjdCh0LCJUQUJMRSI9PT1yKSwibW91c2Vkb3duIj09PW4udHlwZSYmaS5ub2RlQ2hhbmdlZCgpKX0pLHUuYmluZChhLCJtc2NvbnRyb2xzZWxlY3QiLHQ9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdChuKXt1aS5zZXRFZGl0b3JUaW1lb3V0KGksZnVuY3Rpb24oKXtyZXR1cm4gaS5zZWxlY3Rpb24uc2VsZWN0KG4pfSl9aWYoa3Qobi50YXJnZXQpfHx0dShuLnRhcmdldCkpcmV0dXJuIG4ucHJldmVudERlZmF1bHQoKSx2b2lkIHQobi50YXJnZXQpOy9eKFRBQkxFfElNR3xIUikkLy50ZXN0KG4udGFyZ2V0Lm5vZGVOYW1lKSYmKG4ucHJldmVudERlZmF1bHQoKSwiSU1HIj09PW4udGFyZ2V0LnRhZ05hbWUmJnQobi50YXJnZXQpKX0pLGkub24oInJlbW92ZSIsZnVuY3Rpb24oKXtyZXR1cm4gdS51bmJpbmQoYSwibXNjb250cm9sc2VsZWN0Iix0KX0pKTtuPXVpLnRocm90dGxlKGZ1bmN0aW9uKG4pe2kuY29tcG9zaW5nfHxidChuKX0pO2kub24oIm5vZGVjaGFuZ2UgUmVzaXplRWRpdG9yIFJlc2l6ZVdpbmRvdyBSZXNpemVDb250ZW50IGRyb3AgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsbik7aS5vbigia2V5dXAgY29tcG9zaXRpb25lbmQiLGZ1bmN0aW9uKHQpe2YmJiJUQUJMRSI9PT1mLm5vZGVOYW1lJiZuKHQpfSk7aS5vbigiaGlkZSBibHVyIixpdCk7aS5vbigiY29udGV4dG1lbnUgbG9uZ3ByZXNzIixlaSwhMCl9KSxpLm9uKCJyZW1vdmUiLGF0KSx7aXNSZXNpemFibGU6cHQsc2hvd1Jlc2l6ZVJlY3Q6bHQsaGlkZVJlc2l6ZVJlY3Q6aXQsdXBkYXRlUmVzaXplUmVjdDpidCxkZXN0cm95OmZ1bmN0aW9uKCl7Zj1vPWZ0PW51bGx9fX1mdW5jdGlvbiB5eWkobil7cmV0dXJuIGd1KG4pfHxydChuKX1mdW5jdGlvbiB2cnQobix0LGkpe3ZhciB1LG8sZSxzLGgsZj1pO2lmKGYuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkobz1mLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQobix0KSkmJigodT1pLmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KG8ub2Zmc2V0Tm9kZSxvLm9mZnNldCksdS5jb2xsYXBzZSghMCkpO2Vsc2UgaWYoZi5jYXJldFJhbmdlRnJvbVBvaW50KXU9Zi5jYXJldFJhbmdlRnJvbVBvaW50KG4sdCk7ZWxzZSBpZihmLmJvZHkuY3JlYXRlVGV4dFJhbmdlKXt1PWYuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7dS5tb3ZlVG9Qb2ludChuLHQpO3UuY29sbGFwc2UoITApfWNhdGNoKG8pe3U9ZnVuY3Rpb24obix0LGkpe3ZhciBmLGU9aS5lbGVtZW50RnJvbVBvaW50KG4sdCksdT1pLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7aWYoZSYmIkhUTUwiIT09ZS50YWdOYW1lfHwoZT1pLmJvZHkpLHUubW92ZVRvRWxlbWVudFRleHQoZSksMDwoZj0oZj1yLnRvQXJyYXkodS5nZXRDbGllbnRSZWN0cygpKSkuc29ydChmdW5jdGlvbihuLGkpe3JldHVybihuPU1hdGguYWJzKE1hdGgubWF4KG4udG9wLXQsbi5ib3R0b20tdCkpKS1NYXRoLmFicyhNYXRoLm1heChpLnRvcC10LGkuYm90dG9tLXQpKX0pKS5sZW5ndGgpe3Q9KGZbMF0uYm90dG9tK2ZbMF0udG9wKS8yO3RyeXtyZXR1cm4gdS5tb3ZlVG9Qb2ludChuLHQpLHUuY29sbGFwc2UoITApLHV9Y2F0Y2gobil7fX1yZXR1cm4gbnVsbH0obix0LGkpfXJldHVybiBlPXUscz1pLmJvZHksaD1lJiZlLnBhcmVudEVsZW1lbnQ/ZS5wYXJlbnRFbGVtZW50KCk6bnVsbCxydChmdW5jdGlvbihuLHQsaSl7Zm9yKDtuJiZuIT09dDspe2lmKGkobikpcmV0dXJuIG47bj1uLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KGgscyx5eWkpKT9udWxsOmV9cmV0dXJuIHV9ZnVuY3Rpb24geXJ0KG4sdCl7cmV0dXJuIG4mJnQmJm4uc3RhcnRDb250YWluZXI9PT10LnN0YXJ0Q29udGFpbmVyJiZuLnN0YXJ0T2Zmc2V0PT09dC5zdGFydE9mZnNldCYmbi5lbmRDb250YWluZXI9PT10LmVuZENvbnRhaW5lciYmbi5lbmRPZmZzZXQ9PT10LmVuZE9mZnNldH1mdW5jdGlvbiBua3Qobix0LGkpe3JldHVybiBudWxsIT09ZnVuY3Rpb24obix0LGkpe2Zvcig7biYmbiE9PXQ7KXtpZihpKG4pKXJldHVybiBuO249bi5wYXJlbnROb2RlfXJldHVybiBudWxsfShuLHQsaSl9ZnVuY3Rpb24gcHJ0KG4pe3JldHVybiBuJiYiVEFCTEUiPT09bi5ub2RlTmFtZX1mdW5jdGlvbiB0a3Qobix0LGkpe2Zvcih2YXIgcj1uZXcgeXQodCxuLmdldFBhcmVudCh0LnBhcmVudE5vZGUsbi5pc0Jsb2NrKXx8bi5nZXRSb290KCkpO3Q9cltpPyJwcmV2IjoibmV4dCJdKCk7KWlmKHN0KHQpKXJldHVybiAxfWZ1bmN0aW9uIHdydCh0LHIsdSxmLGUpe3ZhciBoLHMsYz10LmdldFJvb3QoKSxwPXQuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSxsPXQuZ2V0UGFyZW50KGUucGFyZW50Tm9kZSx0LmlzQmxvY2spfHxjLGEsdix5O2lmKGYmJnN0KGUpJiZyJiZ0LmlzRW1wdHkobCkpcmV0dXJuIG4uc29tZShpKGUucGFyZW50Tm9kZSx0Lm5vZGVJbmRleChlKSkpO2Zvcih5PW5ldyB5dChlLGwpO3M9eVtmPyJwcmV2IjoibmV4dCJdKCk7KXtpZigiZmFsc2UiPT09dC5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQocyl8fCh2PWMsaHIoYT1zKSYmITE9PT1ua3QoYSx2LHNmKSkpcmV0dXJuIG4ubm9uZSgpO2lmKG8ocykmJjA8cy5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiExPT09bmt0KHMsYyxmdW5jdGlvbihuKXtyZXR1cm4iQSI9PT1uLm5vZGVOYW1lfSk/bi5zb21lKGkocyxmP3Mubm9kZVZhbHVlLmxlbmd0aDowKSk6bi5ub25lKCk7aWYodC5pc0Jsb2NrKHMpfHxwW3Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pcmV0dXJuIG4ubm9uZSgpO2g9c31yZXR1cm4gdSYmaD9uLnNvbWUoaShoLDApKTpuLm5vbmUoKX1mdW5jdGlvbiBpa3QodCxyLHUsZil7dmFyIHcsdj10LmdldFJvb3QoKSxsPSExLGU9ZlsodT8ic3RhcnQiOiJlbmQiKSsiQ29udGFpbmVyIl0sYz1mWyh1PyJzdGFydCI6ImVuZCIpKyJPZmZzZXQiXSx5PWgoZSkmJmM9PT1lLmNoaWxkTm9kZXMubGVuZ3RoLGI9dC5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLGE9dSxzLHA7aWYoaHIoZSkpcmV0dXJuIG4ubm9uZSgpO2lmKGgoZSkmJmM+ZS5jaGlsZE5vZGVzLmxlbmd0aC0xJiYoYT0hMSksbm4oZSkmJihlPXYsYz0wKSxlPT09dil7aWYoYSYmKHM9ZS5jaGlsZE5vZGVzWzA8Yz9jLTE6MF0pJiYoaHIocyl8fGJbcy5ub2RlTmFtZV18fHBydChzKSkpcmV0dXJuIG4ubm9uZSgpO2lmKGUuaGFzQ2hpbGROb2RlcygpKXtpZigoYz1NYXRoLm1pbighYSYmMDxjP2MtMTpjLGUuY2hpbGROb2Rlcy5sZW5ndGgtMSksZT1lLmNoaWxkTm9kZXNbY10sYz1vKGUpJiZ5P2UuZGF0YS5sZW5ndGg6MCwhciYmZT09PXYubGFzdENoaWxkJiZwcnQoZSkpfHxmdW5jdGlvbihuLHQpe2Zvcig7dCYmdCE9PW47KXtpZihydCh0KSlyZXR1cm4gMTt0PXQucGFyZW50Tm9kZX19KHYsZSl8fGhyKGUpKXJldHVybiBuLm5vbmUoKTtpZihlLmhhc0NoaWxkTm9kZXMoKSYmITE9PT1wcnQoZSkpe3M9ZTtwPW5ldyB5dChlLHYpO2Rve2lmKHJ0KHMpfHxocihzKSl7bD0hMTticmVha31pZihvKHMpJiYwPHMubm9kZVZhbHVlLmxlbmd0aCl7Yz1hPzA6cy5ub2RlVmFsdWUubGVuZ3RoO2U9cztsPSEwO2JyZWFrfWlmKGJbcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmKCEodz1zKXx8IS9eKFREfFRIfENBUFRJT04pJC8udGVzdCh3Lm5vZGVOYW1lKSkpe2M9dC5ub2RlSW5kZXgocyk7ZT1zLnBhcmVudE5vZGU7YXx8YysrO2w9ITA7YnJlYWt9fXdoaWxlKHM9YT9wLm5leHQoKTpwLnByZXYoKSl9fX1yZXR1cm4gciYmKG8oZSkmJjA9PT1jJiZ3cnQodCx5LHIsITAsZSkuZWFjaChmdW5jdGlvbihuKXtlPW4uY29udGFpbmVyKCk7Yz1uLm9mZnNldCgpO2w9ITB9KSxoKGUpJiYoIShzPShzPWUuY2hpbGROb2Rlc1tjXSl8fGUuY2hpbGROb2Rlc1tjLTFdKXx8IXN0KHMpfHxzLnByZXZpb3VzU2libGluZyYmIkEiPT09cy5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWV8fHRrdCh0LHMsITEpfHx0a3QodCxzLCEwKXx8d3J0KHQseSxyLCEwLHMpLmVhY2goZnVuY3Rpb24obil7ZT1uLmNvbnRhaW5lcigpO2M9bi5vZmZzZXQoKTtsPSEwfSkpKSxhJiYhciYmbyhlKSYmYz09PWUubm9kZVZhbHVlLmxlbmd0aCYmd3J0KHQseSxyLCExLGUpLmVhY2goZnVuY3Rpb24obil7ZT1uLmNvbnRhaW5lcigpO2M9bi5vZmZzZXQoKTtsPSEwfSksbD9uLnNvbWUoaShlLGMpKTpuLm5vbmUoKX1mdW5jdGlvbiB2dyh0LHIpe3ZhciBmPXIuY29sbGFwc2VkLHU9ci5jbG9uZVJhbmdlKCksZT1pLmZyb21SYW5nZVN0YXJ0KHIpO3JldHVybiBpa3QodCxmLCEwLHUpLmVhY2goZnVuY3Rpb24obil7ZiYmaS5pc0Fib3ZlKGUsbil8fHUuc2V0U3RhcnQobi5jb250YWluZXIoKSxuLm9mZnNldCgpKX0pLGZ8fGlrdCh0LGYsITEsdSkuZWFjaChmdW5jdGlvbihuKXt1LnNldEVuZChuLmNvbnRhaW5lcigpLG4ub2Zmc2V0KCkpfSksZiYmdS5jb2xsYXBzZSghMCkseXJ0KHIsdSk/bi5ub25lKCk6bi5zb21lKHUpfWZ1bmN0aW9uIHl3KG4sdCl7cmV0dXJuIG4uc3BsaXRUZXh0KHQpfWZ1bmN0aW9uIHB3KG4pe3ZhciB0PW4uc3RhcnRDb250YWluZXIsaT1uLnN0YXJ0T2Zmc2V0LHI9bi5lbmRDb250YWluZXIsdT1uLmVuZE9mZnNldDtyZXR1cm4gdD09PXImJm8odCk/MDxpJiZpPHQubm9kZVZhbHVlLmxlbmd0aCYmKHQ9KHI9eXcodCxpKSkucHJldmlvdXNTaWJsaW5nLGk8dT8odD1yPXl3KHIsdS09aSkucHJldmlvdXNTaWJsaW5nLHU9ci5ub2RlVmFsdWUubGVuZ3RoLGk9MCk6dT0wKToobyh0KSYmMDxpJiZpPHQubm9kZVZhbHVlLmxlbmd0aCYmKHQ9eXcodCxpKSxpPTApLG8ocikmJjA8dSYmdTxyLm5vZGVWYWx1ZS5sZW5ndGgmJih1PShyPXl3KHIsdSkucHJldmlvdXNTaWJsaW5nKS5ub2RlVmFsdWUubGVuZ3RoKSkse3N0YXJ0Q29udGFpbmVyOnQsc3RhcnRPZmZzZXQ6aSxlbmRDb250YWluZXI6cixlbmRPZmZzZXQ6dX19ZnVuY3Rpb24gZnYobil7cmV0dXJue3dhbGs6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdHYobix0LGkpfSxzcGxpdDpwdyxub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHZ3KG4sdCkuZm9sZChpdCxmdW5jdGlvbihuKXtyZXR1cm4gdC5zZXRTdGFydChuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQpLHQuc2V0RW5kKG4uZW5kQ29udGFpbmVyLG4uZW5kT2Zmc2V0KSwhMH0pfX19ZnVuY3Rpb24gZWt0KG4pe3ZhciB0PXVrdChuKSxpO3JldHVybiB0PD0wfHxudWxsPT09dD8oaT1iZihuLHd3KSxwYXJzZUZsb2F0KGkpfHwwKTp0fWZ1bmN0aW9uIG9rdChuLHQpe3JldHVybiBmdSh0LGZ1bmN0aW9uKHQsaSl7dmFyIHI9YmYobixpKSx1PXZvaWQgMD09PXI/MDpwYXJzZUludChyLDEwKTtyZXR1cm4gaXNOYU4odSk/dDp0K3V9LDApfWZ1bmN0aW9uIGJydChuKXtyZXR1cm4idGV4dGFyZWEiPT09dnQobil9ZnVuY3Rpb24gc2t0KG4sdCl7dmFyIGk9ZnVuY3Rpb24obil7dmFyIHU9bi5kb20ub3duZXJEb2N1bWVudCx0PXUuYm9keSxpPXUuZGVmYXVsdFZpZXcscj11LmRvY3VtZW50RWxlbWVudDtpZih0PT09bi5kb20pcmV0dXJuIHBoKHQub2Zmc2V0TGVmdCx0Lm9mZnNldFRvcCk7dmFyIGY9aHkobnVsbD09aT92b2lkIDA6aS5wYWdlWU9mZnNldCxyLnNjcm9sbFRvcCksZT1oeShudWxsPT1pP3ZvaWQgMDppLnBhZ2VYT2Zmc2V0LHIuc2Nyb2xsTGVmdCksbz1oeShyLmNsaWVudFRvcCx0LmNsaWVudFRvcCkscz1oeShyLmNsaWVudExlZnQsdC5jbGllbnRMZWZ0KTtyZXR1cm4gZGcobikudHJhbnNsYXRlKGUtcyxmLW8pfShuKSxyPWZrdC5nZXQobik7cmV0dXJue2VsZW1lbnQ6bixib3R0b206aS50b3ArcixoZWlnaHQ6cixwb3M6aSxjbGVhbnVwOnR9fWZ1bmN0aW9uIGhrdChuLHQsaSxyKXtmcGkobixmdW5jdGlvbigpe3JldHVybiB1cGkobix0LGkscil9LGkpfWZ1bmN0aW9uIGNrdChuLHQsaSxyLHUpe3ZhciBmPXtlbG06ci5lbGVtZW50LmRvbSxhbGlnblRvVG9wOnV9O24uZmlyZSgiU2Nyb2xsSW50b1ZpZXciLGYpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaSh0LGJnKHQpLnRvcCxyLHUpLG4uZmlyZSgiQWZ0ZXJTY3JvbGxJbnRvVmlldyIsZikpfWZ1bmN0aW9uIGxrdChuLGkscix1KXt2YXIgZj10LmZyb21Eb20obi5nZXREb2MoKSk7Y2t0KG4sZixyLHNrdCh0LmZyb21Eb20oaSkseSksdSl9ZnVuY3Rpb24ga3J0KG4sdCxpLHIpe3ZhciBmLHU9bi5wb3M7aT9rY3QodS5sZWZ0LHUudG9wLHIpOihmPXUudG9wLXQrbi5oZWlnaHQsa2N0KHUubGVmdCxmLHIpKX1mdW5jdGlvbiBha3Qobix0LGkscix1KXt2YXIgZT1pK3QsZj1yLnBvcy50b3Asbz1yLmJvdHRvbSxzPWk8PW8tZjtmPHQ/a3J0KHIsaSwhMSE9PXUsbik6ZTxmP2tydChyLGkscz8hMSE9PXU6ITA9PT11LG4pOmU8byYmIXMmJmtydChyLGksITA9PT11LG4pfWZ1bmN0aW9uIHZrdChuLHQsaSxyKXtha3Qobix0LG4uZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LGkscil9ZnVuY3Rpb24geWt0KG4saSxyLHUpe2FrdChuLGksbi5kb20uZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQscix1KTt2YXIgZixoLGMsZSxsLG8scyxhPShmPXIuZWxlbWVudCxlPWJnKHQuZnJvbURvbShkb2N1bWVudCkpLGM9KGg9cnBpKS5vd25lcihmKSxsPWZkdChoLGMpLG89ZGcoZikscz10aHQobCxmdW5jdGlvbihuLHQpe3ZhciBpPWRnKHQpO3JldHVybntsZWZ0Om4ubGVmdCtpLmxlZnQsdG9wOm4udG9wK2kudG9wfX0se2xlZnQ6MCx0b3A6MH0pLHBoKHMubGVmdCtvLmxlZnQrZS5sZWZ0LHMudG9wK28udG9wK2UudG9wKSksdj1ubHQod2luZG93KTthLnRvcDx2Lnk/ZGN0KHIuZWxlbWVudCwhMSE9PXUpOmEudG9wPnYuYm90dG9tJiZkY3Qoci5lbGVtZW50LCEwPT09dSl9ZnVuY3Rpb24gcHlpKG4sdCxpKXtyZXR1cm4gaGt0KG4sdmt0LHQsaSl9ZnVuY3Rpb24gd3lpKG4sdCxpKXtyZXR1cm4gbGt0KG4sdCx2a3QsaSl9ZnVuY3Rpb24gYnlpKG4sdCxpKXtyZXR1cm4gaGt0KG4seWt0LHQsaSl9ZnVuY3Rpb24ga3lpKG4sdCxpKXtyZXR1cm4gbGt0KG4sdCx5a3QsaSl9ZnVuY3Rpb24gZXYobix0LGkpeyhuLmlubGluZT9weWk6YnlpKShuLHQsaSl9ZnVuY3Rpb24gcGt0KG4pe3ZhciB0PWdvKG4pLmRvbTtyZXR1cm4gbi5kb209PT10LmFjdGl2ZUVsZW1lbnR9ZnVuY3Rpb24gZHJ0KGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT10LmZyb21Eb20oZG9jdW1lbnQpKSxuLmZyb20oaS5kb20uYWN0aXZlRWxlbWVudCkubWFwKHQuZnJvbURvbSl9ZnVuY3Rpb24gd2t0KG4sdCl7dmFyIGk9Z3IodCk/ZXJ0KHQpLmxlbmd0aDpudSh0KS5sZW5ndGgrMTtyZXR1cm4gaTxuP2k6bjwwPzA6bn1mdW5jdGlvbiBkeWkobil7cmV0dXJuIGVkdC5yYW5nZShuLnN0YXJ0LHdrdChuLnNvZmZzZXQsbi5zdGFydCksbi5maW5pc2gsd2t0KG4uZm9mZnNldCxuLmZpbmlzaCkpfWZ1bmN0aW9uIGJrdChuLHQpe3JldHVybiFjeSh0LmRvbSkmJihvZShuLHQpfHxudChuLHQpKX1mdW5jdGlvbiBncnQobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBia3Qobix0LnN0YXJ0KSYmYmt0KG4sdC5maW5pc2gpfX1mdW5jdGlvbiBra3Qobil7cmV0dXJuITA9PT1uLmlubGluZXx8b3BpLmlzSUUoKX1mdW5jdGlvbiBka3Qobil7cmV0dXJuIGVkdC5yYW5nZSh0LmZyb21Eb20obi5zdGFydENvbnRhaW5lciksbi5zdGFydE9mZnNldCx0LmZyb21Eb20obi5lbmRDb250YWluZXIpLG4uZW5kT2Zmc2V0KX1mdW5jdGlvbiBneWkodCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt0cnl7cmV0dXJuIGkuc2V0U3RhcnQodC5zdGFydC5kb20sdC5zb2Zmc2V0KSxpLnNldEVuZCh0LmZpbmlzaC5kb20sdC5mb2Zmc2V0KSxuLnNvbWUoaSl9Y2F0Y2godCl7cmV0dXJuIG4ubm9uZSgpfX1mdW5jdGlvbiBidyhpKXt2YXIgcix1LGY9a2t0KGkpPyhyPXQuZnJvbURvbShpLmdldEJvZHkoKSksKCh1PWNjdChyKS5kb20uZ2V0U2VsZWN0aW9uKCkpJiYwIT09dS5yYW5nZUNvdW50P24uZnJvbSh1LmdldFJhbmdlQXQoMCkpOm4ubm9uZSgpKS5tYXAoZGt0KS5maWx0ZXIoZ3J0KHIpKSk6bi5ub25lKCk7aS5ib29rbWFyaz1mLmlzU29tZSgpP2Y6aS5ib29rbWFya31mdW5jdGlvbiBudXQoaSl7cmV0dXJuKGkuYm9va21hcmt8fG4ubm9uZSgpKS5iaW5kKGZ1bmN0aW9uKHIpe3JldHVybiB1PXQuZnJvbURvbShpLmdldEJvZHkoKSksbi5mcm9tKHIpLmZpbHRlcihncnQodSkpLm1hcChkeWkpO3ZhciB1fSkuYmluZChneWkpfWZ1bmN0aW9uIG5waShuKXt2YXIgdD1ndHQoZnVuY3Rpb24oKXtidyhuKX0sMCk7bi5vbigiaW5pdCIsZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7Zi50aHJvdHRsZSgpfXZhciB1LGYsaSxlLG8scztuLmlubGluZSYmKHU9bixmPXQsZC5ET00uYmluZChkb2N1bWVudCwibW91c2V1cCIsciksdS5vbigicmVtb3ZlIixmdW5jdGlvbigpe2QuRE9NLnVuYmluZChkb2N1bWVudCwibW91c2V1cCIscil9KSk7aT1uO2U9dDtrcigpLmJyb3dzZXIuaXNJRSgpPyhzPWkpLm9uKCJmb2N1c291dCIsZnVuY3Rpb24oKXtidyhzKX0pOihvPWUsaS5vbigibW91c2V1cCB0b3VjaGVuZCIsZnVuY3Rpb24oKXtvLnRocm90dGxlKCl9KSk7aS5vbigia2V5dXAgTm9kZUNoYW5nZSIsZnVuY3Rpb24obil7Im5vZGVjaGFuZ2UiPT09bi50eXBlJiZuLnNlbGVjdGlvbkNoYW5nZXx8YncoaSl9KX0pO24ub24oInJlbW92ZSIsZnVuY3Rpb24oKXt0LmNhbmNlbCgpfSl9ZnVuY3Rpb24ga3cobix0KXt2YXIgaT1uLmdldFBhcmFtKCJjdXN0b21fdWlfc2VsZWN0b3IiLCIiLCJzdHJpbmciKTtyZXR1cm4gbnVsbCE9PXV1dC5nZXRQYXJlbnQodCxmdW5jdGlvbih0KXtyZXR1cm4gb2R0LmlzRWRpdG9yVUlFbGVtZW50KHQpfHwhIWkmJm4uZG9tLmlzKHQsaSl9KX1mdW5jdGlvbiB0cGkoaSxyKXt2YXIgdT1yLmVkaXRvcjtucGkodSk7dS5vbigiZm9jdXNpbiIsZnVuY3Rpb24oKXt2YXIgbj1pLmZvY3VzZWRFZGl0b3I7biE9PXUmJihuJiZuLmZpcmUoImJsdXIiLHtmb2N1c2VkRWRpdG9yOnV9KSxpLnNldEFjdGl2ZSh1KSwoaS5mb2N1c2VkRWRpdG9yPXUpLmZpcmUoImZvY3VzIix7Ymx1cnJlZEVkaXRvcjpufSksdS5mb2N1cyghMCkpfSk7dS5vbigiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7dWkuc2V0RWRpdG9yVGltZW91dCh1LGZ1bmN0aW9uKCl7dmFyIG49aS5mb2N1c2VkRWRpdG9yO2t3KHUsZnVuY3Rpb24obil7dHJ5e3JldHVybiBkcnQoZ28odC5mcm9tRG9tKG4uZ2V0RWxlbWVudCgpKSkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keX0sZnVuY3Rpb24obil7cmV0dXJuIG4uZG9tfSl9Y2F0Y2gobil7cmV0dXJuIGRvY3VtZW50LmJvZHl9fSh1KSl8fG4hPT11fHwodS5maXJlKCJibHVyIix7Zm9jdXNlZEVkaXRvcjpudWxsfSksaS5mb2N1c2VkRWRpdG9yPW51bGwpfSl9KTtvdnx8KG92PWZ1bmN0aW9uKHIpe3ZhciB1PWkuYWN0aXZlRWRpdG9yO3UmJiFmdW5jdGlvbihpKXt2YXIgcix1O3JldHVybiBiY2koKSYmZyhpLnRhcmdldCkmJihyPXQuZnJvbURvbShpLnRhcmdldCksc3UocikmJmcoci5kb20uc2hhZG93Um9vdCkmJmkuY29tcG9zZWQmJmkuY29tcG9zZWRQYXRoJiYodT1pLmNvbXBvc2VkUGF0aCgpLHUpKT9vcih1KTpuLmZyb20oaS50YXJnZXQpfShyKS5lYWNoKGZ1bmN0aW9uKG4pe24ub3duZXJEb2N1bWVudD09PWRvY3VtZW50JiYobj09PWRvY3VtZW50LmJvZHl8fGt3KHUsbil8fGkuZm9jdXNlZEVkaXRvciE9PXV8fCh1LmZpcmUoImJsdXIiLHtmb2N1c2VkRWRpdG9yOm51bGx9KSxpLmZvY3VzZWRFZGl0b3I9bnVsbCkpfSl9LHV1dC5iaW5kKGRvY3VtZW50LCJmb2N1c2luIixvdikpfWZ1bmN0aW9uIGlwaShuLHQpe24uZm9jdXNlZEVkaXRvcj09PXQuZWRpdG9yJiYobi5mb2N1c2VkRWRpdG9yPW51bGwpO24uYWN0aXZlRWRpdG9yfHwodXV0LnVuYmluZChkb2N1bWVudCwiZm9jdXNpbiIsb3YpLG92PW51bGwpfWZ1bmN0aW9uIGdrdChpLHIpe3ZhciB1LGY7dT10LmZyb21Eb20oaS5nZXRCb2R5KCkpOygoZj1yKS5jb2xsYXBzZWQ/bi5mcm9tKHRvKGYuc3RhcnRDb250YWluZXIsZi5zdGFydE9mZnNldCkpLm1hcCh0LmZyb21Eb20pOm4ubm9uZSgpKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiB1bGkodCk/bi5zb21lKHQpOiExPT09b2UodSx0KT9uLnNvbWUodSk6bi5ub25lKCl9KS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiB3aShuLmRvbSl9KS5mb2xkKGZ1bmN0aW9uKCl7aS5zZWxlY3Rpb24ubm9ybWFsaXplKCl9LGZ1bmN0aW9uKG4pe3JldHVybiBpLnNlbGVjdGlvbi5zZXRSbmcobi50b1JhbmdlKCkpfSl9ZnVuY3Rpb24gdHV0KG4pe2lmKG4uc2V0QWN0aXZlKXRyeXtuLnNldEFjdGl2ZSgpfWNhdGNoKHQpe24uZm9jdXMoKX1lbHNlIG4uZm9jdXMoKX1mdW5jdGlvbiBhcyhuKXtyZXR1cm4gbi5pbmxpbmU/KHU9bi5nZXRCb2R5KCkpJiYocGt0KGk9dC5mcm9tRG9tKHUpKXx8ZHJ0KGdvKHI9aSkpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gci5kb20uY29udGFpbnMobi5kb20pfSkuaXNTb21lKCkpOm4uaWZyYW1lRWxlbWVudCYmcGt0KHQuZnJvbURvbShuLmlmcmFtZUVsZW1lbnQpKTt2YXIgaSxyLHV9ZnVuY3Rpb24gbmR0KGkscix1LGYsZSl7dmFyIG89dT9yLnN0YXJ0Q29udGFpbmVyOnIuZW5kQ29udGFpbmVyLHM9dT9yLnN0YXJ0T2Zmc2V0OnIuZW5kT2Zmc2V0O3JldHVybiBuLmZyb20obykubWFwKHQuZnJvbURvbSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBmJiZyLmNvbGxhcHNlZD9uOm95KG4sZShuLHMpKS5nZXRPcihuKX0pLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHN1KHQpP24uc29tZSh0KTpldSh0KS5maWx0ZXIoc3UpfSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLmRvbX0pLmdldE9yKGkpfWZ1bmN0aW9uIHRkdChuLHQsaSl7cmV0dXJuIG5kdChuLHQsITAsaSxmdW5jdGlvbihuLHQpe3JldHVybiBNYXRoLm1pbih5Y3QobiksdCl9KX1mdW5jdGlvbiBpZHQobix0LGkpe3JldHVybiBuZHQobix0LCExLGksZnVuY3Rpb24obix0KXtyZXR1cm4gMDx0P3QtMTp0fSl9ZnVuY3Rpb24gcmR0KG4sdCl7Zm9yKHZhciBpPW47biYmbyhuKSYmMD09PW4ubGVuZ3RoOyluPXQ/bi5uZXh0U2libGluZzpuLnByZXZpb3VzU2libGluZztyZXR1cm4gbnx8aX1mdW5jdGlvbiBpdXQobix0KXtyZXR1cm4gdXQodCxmdW5jdGlvbih0KXt2YXIgaT1uLmZpcmUoIkdldFNlbGVjdGlvblJhbmdlIix7cmFuZ2U6dH0pO3JldHVybiBpLnJhbmdlIT09dD9pLnJhbmdlOnR9KX1mdW5jdGlvbiBkdyhuLHQsaSl7dmFyIGY9aT8ibGFzdENoaWxkIjoiZmlyc3RDaGlsZCIsZT1pPyJwcmV2IjoibmV4dCIsdSxyO2lmKG5bZl0pcmV0dXJuIG5bZl07aWYobiE9PXQpe2lmKHU9bltlXSx1KXJldHVybiB1O2ZvcihyPW4ucGFyZW50O3ImJnIhPT10O3I9ci5wYXJlbnQpaWYodT1yW2VdKXJldHVybiB1fX1mdW5jdGlvbiB1ZHQobil7dmFyIHQ9ImEiPT09bi5uYW1lJiYhbi5hdHRyKCJocmVmIikmJm4uYXR0cigiaWQiKTtyZXR1cm4gbi5hdHRyKCJuYW1lIil8fG4uYXR0cigiaWQiKSYmIW4uZmlyc3RDaGlsZHx8bi5hdHRyKCJkYXRhLW1jZS1ib29rbWFyayIpfHx0fWZ1bmN0aW9uIGNpKG4sdCl7dGhpcy5uYW1lPW47MT09PSh0aGlzLnR5cGU9dCkmJih0aGlzLmF0dHJpYnV0ZXM9W10sdGhpcy5hdHRyaWJ1dGVzLm1hcD17fSl9ZnVuY3Rpb24gZXV0KG4sdCl7cmV0dXJuIG4ucmVwbGFjZSh0LnJlLGZ1bmN0aW9uKG4pe3JldHVybiBhdCh0LnVyaXMsbikuZ2V0T3Iobil9KX1mdW5jdGlvbiBmcihuLHQpe249aHBpKG4pO3RoaXMuc2V0dGluZ3M9dHx8e307dmFyIHUsZixlLG8scj10aGlzLnNldHRpbmdzLmJhc2VfdXJpLGk9dGhpczsvXihbXHdcLV0rKTooW15cL117Mn0pL2kudGVzdChuKXx8L15ccyojLy50ZXN0KG4pP2kuc291cmNlPW46KHU9MD09PW4uaW5kZXhPZigiLy8iKSwwIT09bi5pbmRleE9mKCIvIil8fHV8fChuPShyJiZyLnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIrbiksL15bXHdcLV0qOj9cL1wvLy50ZXN0KG4pfHwoZj10aGlzLnNldHRpbmdzLmJhc2VfdXJpP3RoaXMuc2V0dGluZ3MuYmFzZV91cmkucGF0aDpuZXcgZnIoZG9jdW1lbnQubG9jYXRpb24uaHJlZikuZGlyZWN0b3J5LG49dGhpcy5zZXR0aW5ncy5iYXNlX3VyaSYmIiI9PXRoaXMuc2V0dGluZ3MuYmFzZV91cmkucHJvdG9jb2w/Ii8vbWNlX2hvc3QiK2kudG9BYnNQYXRoKGYsbik6KGU9LyhbXiM/XSopKFsjP10/LiopLy5leGVjKG4pLChyJiZyLnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIraS50b0Fic1BhdGgoZixlWzFdKStlWzJdKSksbj1uLnJlcGxhY2UoL0BAL2csIihtY2VfYXQpIiksbz0vXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QFwvXSopOj8oW146QFwvXSopKT9AKT8oXFtbYS16QS1aMC05Oi4lXStcXXxbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLmV4ZWMobiksc2R0KGNwaSxmdW5jdGlvbihuLHQpe3ZhciByPShyPW9bdF0pJiZyLnJlcGxhY2UoL1wobWNlX2F0XCkvZywiQEAiKTtpW25dPXJ9KSxyJiYoaS5wcm90b2NvbHx8KGkucHJvdG9jb2w9ci5wcm90b2NvbCksaS51c2VySW5mb3x8KGkudXNlckluZm89ci51c2VySW5mbyksaS5wb3J0fHwibWNlX2hvc3QiIT09aS5ob3N0fHwoaS5wb3J0PXIucG9ydCksaS5ob3N0JiYibWNlX2hvc3QiIT09aS5ob3N0fHwoaS5ob3N0PXIuaG9zdCksaS5zb3VyY2U9IiIpLHUmJihpLnByb3RvY29sPSIiKSl9ZnVuY3Rpb24gb3V0KG4sdCxpKXtmb3IodmFyIHIsZSx1PS88KFshP1wvXSk/KFtBLVphLXowLTlcLV86Ll0rKS9nLHM9Lyg/OlxzKD86W14nIj5dKyg/OiJbXiJdKiJ8J1teJ10qJykpKlteIic+XSooPzoiW14iPl0qfCdbXic+XSopP3xccyp8XC8pPi9nLGg9bi5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKSxvPTEsZj1pOzAhPT1vOylmb3IodS5sYXN0SW5kZXg9Zjs7KXtpZihyPXUuZXhlYyh0KSxudWxsPT09cilyZXR1cm4gZjtpZigiISI9PT1yWzFdKXtmPXdvKHJbMl0sIi0tIik/dGIodCwhMSxyLmluZGV4KzMpOnRiKHQsITAsci5pbmRleCsxKTticmVha31pZihzLmxhc3RJbmRleD11Lmxhc3RJbmRleCxlPXMuZXhlYyh0KSwhYWwoZSkmJmUuaW5kZXg9PT11Lmxhc3RJbmRleCl7Ii8iPT09clsxXT8tLW86dyhoLHJbMl0pfHwobys9MSk7Zj11Lmxhc3RJbmRleCtlWzBdLmxlbmd0aDticmVha319cmV0dXJuIGZ9ZnVuY3Rpb24gbmIobix0KXtmdW5jdGlvbiBvKHUsbyl7dmFyIHV0LGd0O3ZvaWQgMD09PW8mJihvPSJodG1sIik7Zm9yKHZhciBwLHksYnQsZyxiLHN0LGZ0LGh0LGt0LHJ0LG50LGV0LG90LG5pLGN0LGx0LGF0LHZ0LGl0LGs9dS5odG1sLHc9MCxkPVtdLHRpPTAseXQ9eWUuZGVjb2RlLGlpPXIubWFrZU1hcCgic3JjLGhyZWYsZGF0YSxiYWNrZ3JvdW5kLGFjdGlvbixmb3JtYWN0aW9uLHBvc3Rlcix4bGluazpocmVmIikscmk9Imh0bWwiPT09bz8wOjEsdWk9ZnVuY3Rpb24obil7Zm9yKHZhciByLHQ9ZC5sZW5ndGg7dC0tJiZkW3RdLm5hbWUhPT1uOyk7aWYoMDw9dCl7Zm9yKHI9ZC5sZW5ndGgtMTt0PD1yO3ItLSkobj1kW3JdKS52YWxpZCYmaShuLm5hbWUpO2QubGVuZ3RoPXR9fSxwdD1mdW5jdGlvbihuLHQpe3JldHVybiBjKGV1dChuLHUpLHQpfSxmaT1mdW5jdGlvbih0KXsiIiE9PXQmJigiPiI9PT10LmNoYXJBdCgwKSYmKHQ9IiAiK3QpLG4uYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHN8fCJbaWYiIT09dC5zdWJzdHIoMCwzKS50b0xvd2VyQ2FzZSgpfHwodD0iICIrdCkscyhldXQodCx1KSkpfSxkdD1mdW5jdGlvbihuLHQpe3ZhciBpPW58fCIiLHI9IXdvKGksIi0tIiksdT10YihrLHIsdCk7cmV0dXJuIG49ay5zdWJzdHIodCx1LXQpLGZpKHI/aStuOm4pLHUrMX0sdHQ9bmV3IFJlZ0V4cCgiPCg/Oig/OiEtLShbXFx3XFxXXSo/KS0tIT8+KXwoPzohXFxbQ0RBVEFcXFsoW1xcd1xcV10qPylcXF1cXF0+KXwoPzohW0RkXVtPb11bQ2NdW1R0XVtZeV1bUHBdW0VlXShbXFx3XFxXXSo/KT4pfCg/OiEoLS0pPyl8KD86XFw/KFteXFxzXFwvPD5dKykgPyhbXFx3XFxXXSo/KVs/L10+KXwoPzpcXC8oW0EtWmEtel1bQS1aYS16MC05XFwtX1xcOlxcLl0qKT4pfCg/OihbQS1aYS16XVtBLVphLXowLTlcXC1fOi5dKikoXFxzKD86W14nXCI+XSsoPzpcIlteXCJdKlwifCdbXiddKicpKSpbXlwiJz5dKig/OlwiW15cIj5dKnwnW14nPl0qKT98XFxzKnxcXC8pPikpIiwiZyIpLGVpPS8oW1x3OlwtXSspKD86XHMqPVxzKig/Oig/OlwiKCg/OlteXCJdKSopXCIpfCg/OlwnKCg/OlteXCddKSopXCcpfChbXj5cc10rKSkpPy9nLG9pPXQuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksc2k9bi5zZWxmX2Nsb3NpbmdfZWxlbWVudHN8fHQuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpLGhpPXQuZ2V0Qm9vbEF0dHJzKCksd3Q9bi52YWxpZGF0ZSxjaT1uLnJlbW92ZV9pbnRlcm5hbHMsbGk9bi5maXhfc2VsZl9jbG9zaW5nLGFpPXQuZ2V0U3BlY2lhbEVsZW1lbnRzKCksdmk9aysiPiI7cD10dC5leGVjKHZpKTspe2lmKHV0PXBbMF0sdzxwLmluZGV4JiZwdCh5dChrLnN1YnN0cih3LHAuaW5kZXgtdykpKSx5PXBbN10pdWkoeT0iOiI9PT0oeT15LnRvTG93ZXJDYXNlKCkpLmNoYXJBdCgwKT95LnN1YnN0cigxKTp5KTtlbHNlIGlmKHk9cFs4XSl7aWYocC5pbmRleCt1dC5sZW5ndGg+ay5sZW5ndGgpe3B0KHl0KGsuc3Vic3RyKHAuaW5kZXgpKSk7dz1wLmluZGV4K3V0Lmxlbmd0aDtjb250aW51ZX1pZihrdD0oeT0iOiI9PT0oeT15LnRvTG93ZXJDYXNlKCkpLmNoYXJBdCgwKT95LnN1YnN0cigxKTp5KWluIG9pLGxpJiZzaVt5XSYmMDxkLmxlbmd0aCYmZFtkLmxlbmd0aC0xXS5uYW1lPT09eSYmdWkoeSksZ3Q9ZnVuY3Rpb24obix0KXt2YXIgaT1uLmV4ZWModCkscix1O3JldHVybiBpPyhyPWlbMV0sdT1pWzJdLCJzdHJpbmciPT10eXBlb2YgciYmImRhdGEtbWNlLWJvZ3VzIj09PXIudG9Mb3dlckNhc2UoKT91Om51bGwpOm51bGx9KGVpLHBbOV0pLG51bGwhPT1ndCl7aWYoImFsbCI9PT1ndCl7dz1vdXQodCxrLHR0Lmxhc3RJbmRleCk7dHQubGFzdEluZGV4PXc7Y29udGludWV9bnQ9ITF9aWYoIXd0fHwocnQ9dC5nZXRFbGVtZW50UnVsZSh5KSkpe2lmKG50PSEwLHd0JiYobmk9cnQuYXR0cmlidXRlcyxjdD1ydC5hdHRyaWJ1dGVQYXR0ZXJucyksKG90PXBbOV0pPygoaHQ9LTEhPT1vdC5pbmRleE9mKCJkYXRhLW1jZS10eXBlIikpJiZjaSYmKG50PSExKSwoZz1bXSkubWFwPXt9LG90LnJlcGxhY2UoZWksZnVuY3Rpb24odCxpLHIsbyxzKXtyZXR1cm4gZnVuY3Rpb24odCxpLHIsbyxzKXt2YXIgbCxoLGM7aWYocj1ldXQoKGk9aS50b0xvd2VyQ2FzZSgpKWluIGhpP2k6eXQocnx8b3x8c3x8IiIpLHUpLHd0JiYhaHQmJjA9PSgwPT09KGw9aSkuaW5kZXhPZigiZGF0YS0iKXx8MD09PWwuaW5kZXhPZigiYXJpYS0iKSkpe2lmKGg9bmlbaV0sIWgmJmN0KXtmb3IoYz1jdC5sZW5ndGg7Yy0tJiYhKGg9Y3RbY10pLnBhdHRlcm4udGVzdChpKTspOy0xPT09YyYmKGg9bnVsbCl9aWYoIWgpcmV0dXJuO2lmKGgudmFsaWRWYWx1ZXMmJiEociBpbiBoLnZhbGlkVmFsdWVzKSlyZXR1cm59KCJuYW1lIj09PWl8fCJpZCI9PT1pKSYmdCBpbiBoZHQmJihyIGluIGZ8fHIgaW4gZSl8fGlpW2ldJiYhdW8uaXNEb21TYWZlKHIsdCxuKXx8aHQmJihpIGluIGlpfHwwPT09aS5pbmRleE9mKCJvbiIpKXx8KGcubWFwW2ldPXIsZy5wdXNoKHtuYW1lOmksdmFsdWU6cn0pKX0oeSxpLHIsbyxzKSwiIn0pKTooZz1bXSkubWFwPXt9LHd0JiYhaHQpe2lmKGx0PXJ0LmF0dHJpYnV0ZXNSZXF1aXJlZCxhdD1ydC5hdHRyaWJ1dGVzRGVmYXVsdCx2dD1ydC5hdHRyaWJ1dGVzRm9yY2VkLHJ0LnJlbW92ZUVtcHR5QXR0cnMmJiFnLmxlbmd0aCYmKG50PSExKSx2dClmb3IoYj12dC5sZW5ndGg7Yi0tOylmdD0oZXQ9dnRbYl0pLm5hbWUsInskdWlkfSI9PT0oaXQ9ZXQudmFsdWUpJiYoaXQ9Im1jZV8iK3RpKyspLGcubWFwW2Z0XT1pdCxnLnB1c2goe25hbWU6ZnQsdmFsdWU6aXR9KTtpZihhdClmb3IoYj1hdC5sZW5ndGg7Yi0tOykoZnQ9KGV0PWF0W2JdKS5uYW1lKWluIGcubWFwfHwoInskdWlkfSI9PT0oaXQ9ZXQudmFsdWUpJiYoaXQ9Im1jZV8iK3RpKyspLGcubWFwW2Z0XT1pdCxnLnB1c2goe25hbWU6ZnQsdmFsdWU6aXR9KSk7aWYobHQpe2ZvcihiPWx0Lmxlbmd0aDtiLS0mJiEobHRbYl1pbiBnLm1hcCk7KTstMT09PWImJihudD0hMSl9aWYoZXQ9Zy5tYXBbImRhdGEtbWNlLWJvZ3VzIl0pe2lmKCJhbGwiPT09ZXQpe3c9b3V0KHQsayx0dC5sYXN0SW5kZXgpO3R0Lmxhc3RJbmRleD13O2NvbnRpbnVlfW50PSExfX1udCYmbCh5LGcsa3QpfWVsc2UgbnQ9ITE7aWYoYnQ9YWlbeV0pe2J0Lmxhc3RJbmRleD13PXAuaW5kZXgrdXQubGVuZ3RoO3c9KHA9YnQuZXhlYyhrKSk/KG50JiYoc3Q9ay5zdWJzdHIodyxwLmluZGV4LXcpKSxwLmluZGV4K3BbMF0ubGVuZ3RoKTooc3Q9ay5zdWJzdHIodyksay5sZW5ndGgpO250JiYoMDxzdC5sZW5ndGgmJnB0KHN0LCEwKSxpKHkpKTt0dC5sYXN0SW5kZXg9dztjb250aW51ZX1rdHx8KG90JiZvdC5pbmRleE9mKCIvIik9PT1vdC5sZW5ndGgtMT9udCYmaSh5KTpkLnB1c2goe25hbWU6eSx2YWxpZDpudH0pKX1lbHNlIGlmKHk9cFsxXSlmaSh5KTtlbHNlIGlmKHk9cFsyXSl7aWYoISgxPT1yaXx8bi5wcmVzZXJ2ZV9jZGF0YXx8MDxkLmxlbmd0aCYmdC5pc1ZhbGlkQ2hpbGQoZFtkLmxlbmd0aC0xXS5uYW1lLCIjY2RhdGEiKSkpe3c9ZHQoIiIscC5pbmRleCsyKTt0dC5sYXN0SW5kZXg9dztjb250aW51ZX1oKHkpfWVsc2UgaWYoeT1wWzNdKXYoeSk7ZWxzZXtpZigoeT1wWzRdKXx8IjwhIj09PXV0KXt3PWR0KHkscC5pbmRleCt1dC5sZW5ndGgpO3R0Lmxhc3RJbmRleD13O2NvbnRpbnVlfWlmKHk9cFs1XSl7aWYoMSE9cmkpe3c9ZHQoIj8iLHAuaW5kZXgrMik7dHQubGFzdEluZGV4PXc7Y29udGludWV9YSh5LHBbNl0pfX13PXAuaW5kZXgrdXQubGVuZ3RofWZvcih3PGsubGVuZ3RoJiZwdCh5dChrLnN1YnN0cih3KSkpLGI9ZC5sZW5ndGgtMTswPD1iO2ItLSkoeT1kW2JdKS52YWxpZCYmaSh5Lm5hbWUpfXZhciB1LGYsZTt2b2lkIDA9PT10JiYodD1hZSgpKTtmPW51bGwhPT0odT0obj1ufHx7fSkuZG9jdW1lbnQpJiZ2b2lkIDAhPT11P3U6ZG9jdW1lbnQ7ZT1mLmNyZWF0ZUVsZW1lbnQoImZvcm0iKTshMSE9PW4uZml4X3NlbGZfY2xvc2luZyYmKG4uZml4X3NlbGZfY2xvc2luZz0hMCk7dmFyIHM9bi5jb21tZW50fHx5LGg9bi5jZGF0YXx8eSxjPW4udGV4dHx8eSxsPW4uc3RhcnR8fHksaT1uLmVuZHx8eSxhPW4ucGl8fHksdj1uLmRvY3R5cGV8fHk7cmV0dXJue3BhcnNlOmZ1bmN0aW9uKG4sdCl7dm9pZCAwPT09dCYmKHQ9Imh0bWwiKTtvKGZ1bmN0aW9uKG4pe2Zvcih2YXIgZSxvLHMsaSxoPS9kYXRhOlteOzwiJ1xzXSs7YmFzZTY0LChbYS16MC05XCtcLz1cc10rKS9naSxyPVtdLGY9e30sdT1idnQoImltZyIpLHQ9MCxjPTA7aT1oLmV4ZWMobik7KWU9aVswXSxvPXUrIl8iK2MrKyxmW29dPWUsdDxpLmluZGV4JiZyLnB1c2gobi5zdWJzdHIodCxpLmluZGV4LXQpKSxyLnB1c2gobyksdD1pLmluZGV4K2UubGVuZ3RoO3JldHVybiBzPW5ldyBSZWdFeHAodSsiX1swLTldKyIsImciKSwwPT09dD97cHJlZml4OnUsdXJpczpmLGh0bWw6bixyZTpzfToodDxuLmxlbmd0aCYmci5wdXNoKG4uc3Vic3RyKHQpKSx7cHJlZml4OnUsdXJpczpmLGh0bWw6ci5qb2luKCIiKSxyZTpzfSl9KG4pLHQpfX19ZnVuY3Rpb24gY2R0KG4sdCl7Zm9yKHZhciBlLG8scyx1LGY9LzwoXHcrKSBbXj5dKmRhdGEtbWNlLWJvZ3VzPSJhbGwiW14+XSo+L2csaD1uLnNjaGVtYSxpPShlPW4uZ2V0VGVtcEF0dHJzKCksbz10LHM9bmV3IFJlZ0V4cChbIlxccz8oIitlLmpvaW4oInwiKSsnKT0iW14iXSsiJ10uam9pbigifCIpLCJnaSIpLG8ucmVwbGFjZShzLCIiKSksbD1oLmdldFNob3J0RW5kZWRFbGVtZW50cygpO3U9Zi5leGVjKGkpOyl7dmFyIHI9Zi5sYXN0SW5kZXgsYz11WzBdLmxlbmd0aCxhPWxbdVsxXV0/cjpuYi5maW5kRW5kVGFnKGgsaSxyKSxpPWkuc3Vic3RyaW5nKDAsci1jKStpLnN1YnN0cmluZyhhKTtmLmxhc3RJbmRleD1yLWN9cmV0dXJuIHZlKGkpfWZ1bmN0aW9uIGxkdChuKXtyZXR1cm57Y29tcGFyZTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIodCl7dmFyIGk9e307cmV0dXJuIHlwaShuLmdldEF0dHJpYnModCksZnVuY3Rpb24ocil7dmFyIHU9ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOzAhPT11LmluZGV4T2YoIl8iKSYmInN0eWxlIiE9PXUmJjAhPT11LmluZGV4T2YoImRhdGEtIikmJihpW3VdPW4uZ2V0QXR0cmliKHQsdSkpfSksaX1mdW5jdGlvbiB1KG4sdCl7dmFyIHI7Zm9yKHZhciBpIGluIG4paWYodyhuLGkpKXtpZih2b2lkIDA9PT0ocj10W2ldKSlyZXR1cm47aWYobltpXSE9PXIpcmV0dXJuO2RlbGV0ZSB0W2ldfWZvcihpIGluIHQpaWYodyh0LGkpKXJldHVybjtyZXR1cm4gMX1yZXR1cm4gdC5ub2RlTmFtZT09PWkubm9kZU5hbWUmJiEoIXUocih0KSxyKGkpKXx8IXUobi5wYXJzZVN0eWxlKG4uZ2V0QXR0cmliKHQsInN0eWxlIikpLG4ucGFyc2VTdHlsZShuLmdldEF0dHJpYihpLCJzdHlsZSIpKSl8fGFyKHQpfHxhcihpKSl9fX1mdW5jdGlvbiBhZHQobil7dmFyIHQ9W10saT0obj1ufHx7fSkuaW5kZW50LGY9dmR0KG4uaW5kZW50X2JlZm9yZXx8IiIpLHU9dmR0KG4uaW5kZW50X2FmdGVyfHwiIikscj15ZS5nZXRFbmNvZGVGdW5jKG4uZW50aXR5X2VuY29kaW5nfHwicmF3IixuLmVudGl0aWVzKSxlPSJodG1sIj09PW4uZWxlbWVudF9mb3JtYXQ7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKG4sbyxzKXt2YXIgaCxhLGwsYztpZihpJiZmW25dJiYwPHQubGVuZ3RoJiYwPChjPXRbdC5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PWMmJnQucHVzaCgiXG4iKSx0LnB1c2goIjwiLG4pLG8pZm9yKGg9MCxhPW8ubGVuZ3RoO2g8YTtoKyspbD1vW2hdLHQucHVzaCgiICIsbC5uYW1lLCc9IicscihsLnZhbHVlLCEwKSwnIicpO3RbdC5sZW5ndGhdPSFzfHxlPyI+IjoiIC8+IjtzJiZpJiZ1W25dJiYwPHQubGVuZ3RoJiYwPChjPXRbdC5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PWMmJnQucHVzaCgiXG4iKX0sZW5kOmZ1bmN0aW9uKG4pe3ZhciByO3QucHVzaCgiPFwvIixuLCI+Iik7aSYmdVtuXSYmMDx0Lmxlbmd0aCYmMDwocj10W3QubGVuZ3RoLTFdKS5sZW5ndGgmJiJcbiIhPT1yJiZ0LnB1c2goIlxuIil9LHRleHQ6ZnVuY3Rpb24obixpKXswPG4ubGVuZ3RoJiYodFt0Lmxlbmd0aF09aT9uOnIobikpfSxjZGF0YTpmdW5jdGlvbihuKXt0LnB1c2goIjwhW0NEQVRBWyIsbiwiXVxdPiIpfSxjb21tZW50OmZ1bmN0aW9uKG4pe3QucHVzaCgiPCEtLSIsbiwiLS0+Iil9LHBpOmZ1bmN0aW9uKG4sdSl7dT90LnB1c2goIjw/IixuLCIgIixyKHUpLCI/PiIpOnQucHVzaCgiPD8iLG4sIj8+Iik7aSYmdC5wdXNoKCJcbiIpfSxkb2N0eXBlOmZ1bmN0aW9uKG4pe3QucHVzaCgiPCFET0NUWVBFIixuLCI+IixpPyJcbiI6IiIpfSxyZXNldDpmdW5jdGlvbigpe3QubGVuZ3RoPTB9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5qb2luKCIiKS5yZXBsYWNlKC9cbiQvLCIiKX19fWZ1bmN0aW9uIG5sKG4sdCl7dm9pZCAwPT09dCYmKHQ9YWUoKSk7dmFyIGk9YWR0KG4pO3JldHVybihuPW58fHt9KS52YWxpZGF0ZT0hKCJ2YWxpZGF0ZSJpbiBuKXx8bi52YWxpZGF0ZSx7c2VyaWFsaXplOmZ1bmN0aW9uKHIpe3ZhciBlPW4udmFsaWRhdGUsZj17MzpmdW5jdGlvbihuKXtpLnRleHQobi52YWx1ZSxuLnJhdyl9LDg6ZnVuY3Rpb24obil7aS5jb21tZW50KG4udmFsdWUpfSw3OmZ1bmN0aW9uKG4pe2kucGkobi5uYW1lLG4udmFsdWUpfSwxMDpmdW5jdGlvbihuKXtpLmRvY3R5cGUobi52YWx1ZSl9LDQ6ZnVuY3Rpb24obil7aS5jZGF0YShuLnZhbHVlKX0sMTE6ZnVuY3Rpb24obil7aWYobj1uLmZpcnN0Q2hpbGQpZm9yKDt1KG4pLG49bi5uZXh0Oyk7fX0sdTtyZXR1cm4gaS5yZXNldCgpLHU9ZnVuY3Rpb24obil7dmFyIHY9ZltuLnR5cGVdLG8sbCxoLGMscyxhO2lmKHYpdihuKTtlbHNle3ZhciBwPW4ubmFtZSx5PW4uc2hvcnRFbmRlZCxyPW4uYXR0cmlidXRlcztpZihlJiZyJiYxPHIubGVuZ3RoJiYobz1bXSxvLm1hcD17fSxsPXQuZ2V0RWxlbWVudFJ1bGUobi5uYW1lKSxsKSl7Zm9yKHM9MCxhPWwuYXR0cmlidXRlc09yZGVyLmxlbmd0aDtzPGE7cysrKShoPWwuYXR0cmlidXRlc09yZGVyW3NdKWluIHIubWFwJiYoYz1yLm1hcFtoXSxvLm1hcFtoXT1jLG8ucHVzaCh7bmFtZTpoLHZhbHVlOmN9KSk7Zm9yKHM9MCxhPXIubGVuZ3RoO3M8YTtzKyspKGg9cltzXS5uYW1lKWluIG8ubWFwfHwoYz1yLm1hcFtoXSxvLm1hcFtoXT1jLG8ucHVzaCh7bmFtZTpoLHZhbHVlOmN9KSk7cj1vfWlmKGkuc3RhcnQobi5uYW1lLHIseSksIXkpe2lmKG49bi5maXJzdENoaWxkKWZvcig7dShuKSxuPW4ubmV4dDspO2kuZW5kKHApfX19LDEhPT1yLnR5cGV8fG4uaW5uZXI/ZlsxMV0ocik6dShyKSxpLmdldENvbnRlbnQoKX19fWZ1bmN0aW9uIHN1dChuLHQpe3JldHVybiBsaChuLnBhcnNlU3R5bGUobi5nZXRBdHRyaWIodCwic3R5bGUiKSkpfWZ1bmN0aW9uIHBkdCh0LGkscil7cmV0dXJuIG4uZnJvbShyLmNvbnRhaW5lcigpKS5maWx0ZXIobykuZXhpc3RzKGZ1bmN0aW9uKG4pe3ZhciB1PXQ/MDotMTtyZXR1cm4gaShuLmRhdGEuY2hhckF0KHIub2Zmc2V0KCkrdSkpfSl9ZnVuY3Rpb24gcHBpKG4pe3ZhciB0PW4uY29udGFpbmVyKCk7cmV0dXJuIG8odCkmJigwPT09dC5kYXRhLmxlbmd0aHx8aXAodC5kYXRhKSYmcnYuaXNCb29rbWFya05vZGUodC5wYXJlbnROb2RlKSl9ZnVuY3Rpb24gZm8odCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG4uZnJvbShoaXQodD8wOi0xLHIpKS5maWx0ZXIoaSkuaXNTb21lKCl9fWZ1bmN0aW9uIHdkdChuKXtyZXR1cm4gZGNpKG4pJiYiYmxvY2siPT09YmYodC5mcm9tRG9tKG4pLCJkaXNwbGF5Iil9ZnVuY3Rpb24gYmR0KG4pe3JldHVybiBydChuKSYmIShoKHQ9bikmJiJhbGwiPT09dC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikpO3ZhciB0fWZ1bmN0aW9uIHZzKG4pe3dnKG4pO2lpKG4sdC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSl9ZnVuY3Rpb24gd3BpKG4pe3lnKG4pLmVhY2goZnVuY3Rpb24odCl7Ym8odCkuZWFjaChmdW5jdGlvbihpKXt0ZihuKSYmYmgodCkmJnRmKGkpJiZuaSh0KX0pfSl9ZnVuY3Rpb24ga2R0KG4saSl7cmV0dXJuIGY9aXQsb2UodT1pLHI9bik/ZnVuY3Rpb24obixpKXtmb3IodmFyIHUsZixvPWZ0KGkpP2k6aXQscj1uLmRvbSxlPVtdO251bGwhPT1yLnBhcmVudE5vZGUmJnZvaWQgMCE9PXIucGFyZW50Tm9kZTspe2lmKHU9ci5wYXJlbnROb2RlLGY9dC5mcm9tRG9tKHUpLGUucHVzaChmKSwhMD09PW8oZikpYnJlYWs7cj11fXJldHVybiBlfShyLGZ1bmN0aW9uKG4pe3JldHVybiBmKG4pfHxudChuLHUpfSkuc2xpY2UoMCwtMSk6W107dmFyIHIsdSxmfWZ1bmN0aW9uIG5lKG4sdCl7cmV0dXJuW25dLmNvbmNhdChrZHQobix0KSl9ZnVuY3Rpb24gaHV0KG4sdCxpKXtyZXR1cm4gYWJ0KG4sdCxpLHBwaSl9ZnVuY3Rpb24gZGR0KG4saSl7cmV0dXJuIGd0KG5lKHQuZnJvbURvbShpLmNvbnRhaW5lcigpKSxuKSx0Zil9ZnVuY3Rpb24gZ2R0KG4saSxyKXtyZXR1cm4gaHV0KG4saS5kb20scikuZm9yYWxsKGZ1bmN0aW9uKG4pe3JldHVybiBkZHQoaSxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuITE9PT1lZihuLHIsaS5kb20pfSxmdW5jdGlvbih1KXtyZXR1cm4hMT09PWVmKG4scixpLmRvbSkmJm9lKHUsdC5mcm9tRG9tKG4uY29udGFpbmVyKCkpKX0pfSl9ZnVuY3Rpb24gbmd0KG4sdCxpKXtyZXR1cm4gZGR0KHQsaSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBodXQobix0LmRvbSxpKS5mb3JhbGwoZnVuY3Rpb24obil7cmV0dXJuITE9PT1lZihuLGksdC5kb20pfSl9LGZ1bmN0aW9uKHQpe3JldHVybiBodXQobix0LmRvbSxpKS5pc05vbmUoKX0pfWZ1bmN0aW9uIGJwaShuKXtyZXR1cm4gdHcobikuZXhpc3RzKGJoKX1mdW5jdGlvbiBpYihuLGkscil7dmFyIHU9b3IocChuZSh0LmZyb21Eb20oci5jb250YWluZXIoKSksaSksdGYpKS5nZXRPcihpKTtyZXR1cm4gdnIobix1LmRvbSxyKS5maWx0ZXIoYnBpKX1mdW5jdGlvbiBjdXQobix0KXtyZXR1cm4gdHcodCkuZXhpc3RzKGJoKXx8aWIoITAsbix0KS5pc1NvbWUoKX1mdW5jdGlvbiBsdXQoaSxyKXtyZXR1cm4gbi5mcm9tKHIuZ2V0Tm9kZSghMCkpLm1hcCh0LmZyb21Eb20pLmV4aXN0cyhiaCl8fGliKCExLGkscikuaXNTb21lKCl9ZnVuY3Rpb24gdGd0KG4pe3JldHVybiBpLmlzVGV4dFBvc2l0aW9uKG4pJiYhbi5pc0F0U3RhcnQoKSYmIW4uaXNBdEVuZCgpfWZ1bmN0aW9uIGlndChuLGkpe3JldHVybiBvcihwKG5lKHQuZnJvbURvbShpLmNvbnRhaW5lcigpKSxuKSx0ZikpLmdldE9yKG4pfWZ1bmN0aW9uIHJndChuLHQpe3JldHVybiB0Z3QodCk/bGZ0KHQpOmxmdCh0KXx8bGYoaWd0KG4sdCkuZG9tLHQpLmV4aXN0cyhsZnQpfWZ1bmN0aW9uIHVndChuLHQpe3JldHVybiB0Z3QodCk/Y2Z0KHQpOmNmdCh0KXx8eXUoaWd0KG4sdCkuZG9tLHQpLmV4aXN0cyhjZnQpfWZ1bmN0aW9uIGF1dChuKXtyZXR1cm4gdHcobikuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gcHkobixzdSl9KS5leGlzdHMoZnVuY3Rpb24obil7cmV0dXJuIGR0KFsicHJlIiwicHJlLXdyYXAiXSxiZihuLCJ3aGl0ZS1zcGFjZSIpKX0pfWZ1bmN0aW9uIHJiKG4sdCl7cmV0dXJuIWF1dCh0KSYmKGFmdChuLHQpfHxrd2kobix0KXx8bHV0KG4sdCl8fHJndChuLHQpKX1mdW5jdGlvbiB1YihuLHQpe3JldHVybiFhdXQodCkmJih2bnQobix0KXx8ZHdpKG4sdCl8fGN1dChuLHQpfHx1Z3Qobix0KSl9ZnVuY3Rpb24gZmd0KG4sdCl7cmV0dXJuIHJiKG4sdCl8fHViKG4sKHI9KHU9dCkuY29udGFpbmVyKCksZj11Lm9mZnNldCgpLG8ocikmJmY8ci5kYXRhLmxlbmd0aD9pKHIsZisxKTp1KSk7dmFyIHUscixmfWZ1bmN0aW9uIGVndChuLHQpe3JldHVybiB1dihuLmNoYXJBdCh0KSl9ZnVuY3Rpb24ga3BpKG4pe3ZhciB0PW4uY29udGFpbmVyKCk7cmV0dXJuIG8odCkmJnlpKHQuZGF0YSxpcil9ZnVuY3Rpb24gZHBpKHQscil7cmV0dXJuIG4uc29tZShyKS5maWx0ZXIoa3BpKS5iaW5kKGZ1bmN0aW9uKHIpe3ZhciBjLGUsdSxsLG8sYSxmLHMsdixoPXIuY29udGFpbmVyKCkscD10LHk9KG89aCkuZGF0YSx3PWkobywwKTtyZXR1cm4oIWVndCh5LDApfHxmZ3QocCx3KT8ocz0oYT1oKS5kYXRhLCh2PXV0KGY9cy5zcGxpdCgiIiksZnVuY3Rpb24obix0KXtyZXR1cm4gdXYobikmJjA8dCYmdDxmLmxlbmd0aC0xJiZ3aXQoZlt0LTFdKSYmd2l0KGZbdCsxXSk/IiAiOm59KS5qb2luKCIiKSkhPT1zJiYoYS5kYXRhPXYsMSkpOihvLmRhdGE9IiAiK3kuc2xpY2UoMSksMSkpfHwoYz10LHU9KGU9aCkuZGF0YSxsPWkoZSx1Lmxlbmd0aC0xKSxlZ3QodSx1Lmxlbmd0aC0xKSYmIWZndChjLGwpJiYoZS5kYXRhPXUuc2xpY2UoMCwtMSkrIiAiLDEpKT9uLnNvbWUocik6bi5ub25lKCl9KX1mdW5jdGlvbiBvZ3Qobil7dmFyIHI9dC5mcm9tRG9tKG4uZ2V0Qm9keSgpKTtuLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZkcGkocixpLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKSkuZWFjaChmdW5jdGlvbih0KXtuLnNlbGVjdGlvbi5zZXRSbmcodC50b1JhbmdlKCkpfSl9ZnVuY3Rpb24gc2d0KG4scix1KXt2YXIgZSxmLG8scyxoLGMsbCxhOzAhPT11JiYoZj11YShlPXQuZnJvbURvbShuKSx0ZikuZ2V0T3IoZSksbz1uLmRhdGEuc2xpY2UocixyK3UpLHM9cit1Pj1uLmRhdGEubGVuZ3RoJiZ1YihmLGkobixuLmRhdGEubGVuZ3RoKSksaD0wPT09ciYmcmIoZixpKG4sMCkpLG4ucmVwbGFjZURhdGEocix1LChsPWgsYT1zLGZ1KGM9byxmdW5jdGlvbihuLHQpe3JldHVybiB5Yyh0KXx8dXYodCk/bi5wcmV2aW91c0NoYXJJc1NwYWNlfHwiIj09PW4uc3RyJiZsfHxuLnN0ci5sZW5ndGg9PT1jLmxlbmd0aC0xJiZhP3twcmV2aW91c0NoYXJJc1NwYWNlOiExLHN0cjpuLnN0citpcn06e3ByZXZpb3VzQ2hhcklzU3BhY2U6ITAsc3RyOm4uc3RyKyIgIn06e3ByZXZpb3VzQ2hhcklzU3BhY2U6ITEsc3RyOm4uc3RyK3R9fSx7cHJldmlvdXNDaGFySXNTcGFjZTohMSxzdHI6IiJ9KS5zdHIpKSl9ZnVuY3Rpb24gZmIobix0KXt2YXIgaT1uLmRhdGEuc2xpY2UodCk7c2d0KG4sdCxpLmxlbmd0aC11Y2koaSkubGVuZ3RoKX1mdW5jdGlvbiB2dXQobix0KXt2YXIgaT1uLmRhdGEuc2xpY2UoMCx0KSxyPWkubGVuZ3RoLWRodChpKS5sZW5ndGg7c2d0KG4sdC1yLHIpfWZ1bmN0aW9uIHl1dChuLGkscix1KXt2b2lkIDA9PT11JiYodT0hMCk7dmFyIG89ZGh0KG4uZGF0YSkubGVuZ3RoLGY9dT9uOmksZT11P2k6bjtyZXR1cm4gdT9mLmFwcGVuZERhdGEoZS5kYXRhKTpmLmluc2VydERhdGEoMCxlLmRhdGEpLG5pKHQuZnJvbURvbShlKSksciYmZmIoZixvKSxmfWZ1bmN0aW9uIGdwaShuLHQpe3JldHVybiB1PW4sZj0ocj10KS5jb250YWluZXIoKSxlPXIub2Zmc2V0KCksITE9PT1pLmlzVGV4dFBvc2l0aW9uKHIpJiZmPT09dS5wYXJlbnROb2RlJiZlPmkuYmVmb3JlKHUpLm9mZnNldCgpP2kodC5jb250YWluZXIoKSx0Lm9mZnNldCgpLTEpOnQ7dmFyIHIsdSxmLGV9ZnVuY3Rpb24gaGd0KHQpe3JldHVybiBuZih0LnByZXZpb3VzU2libGluZyk/bi5zb21lKChyPXQucHJldmlvdXNTaWJsaW5nLG8ocik/aShyLHIuZGF0YS5sZW5ndGgpOmkuYWZ0ZXIocikpKTp0LnByZXZpb3VzU2libGluZz9hZih0LnByZXZpb3VzU2libGluZyk6bi5ub25lKCk7dmFyIHJ9ZnVuY3Rpb24gY2d0KHQpe3JldHVybiBuZih0Lm5leHRTaWJsaW5nKT9uLnNvbWUoKHI9dC5uZXh0U2libGluZyxvKHIpP2kociwwKTppLmJlZm9yZShyKSkpOnQubmV4dFNpYmxpbmc/d2kodC5uZXh0U2libGluZyk6bi5ub25lKCk7dmFyIHJ9ZnVuY3Rpb24gbndpKHQscil7cmV0dXJuIGhndChyKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGNndChyKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gdT10LGU9aS5iZWZvcmUoKGY9cikucHJldmlvdXNTaWJsaW5nfHxmLnBhcmVudE5vZGUpLGxmKHUsZSkuZm9sZChmdW5jdGlvbigpe3JldHVybiB5dSh1LGkuYWZ0ZXIoZikpfSxuLnNvbWUpO3ZhciB1LGYsZX0pfWZ1bmN0aW9uIHR3aSh0LHIpe3JldHVybiBjZ3Qocikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBoZ3Qocil9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIHl1KHU9dCxpLmFmdGVyKGY9cikpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbGYodSxpLmJlZm9yZShmKSl9LG4uc29tZSk7dmFyIHUsZn0pfWZ1bmN0aW9uIGxndChuLHQsaSl7aS5mb2xkKGZ1bmN0aW9uKCl7bi5mb2N1cygpfSxmdW5jdGlvbihpKXtuLnNlbGVjdGlvbi5zZXRSbmcoaS50b1JhbmdlKCksdCl9KX1mdW5jdGlvbiBpd2kobix0KXtyZXR1cm4gdCYmdyhuLnNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCksdnQodCkpfWZ1bmN0aW9uIHJ3aShyKXtpZihwdChyKSl7dmFyIHU9dC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKTtyZXR1cm4gd2cociksaWkocix1KSxuLnNvbWUoaS5iZWZvcmUodS5kb20pKX1yZXR1cm4gbi5ub25lKCl9ZnVuY3Rpb24geXModCxyLGYsZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBwLGIsbyxzLGgsayxjLGwsZCxhLHYsZyxudCx5LHR0PShnPXIsbnQ9dC5nZXRCb2R5KCkseT1mLmRvbSwoZz90d2k6bndpKShudCx5KS5tYXAodShncGkseSkpKSxpdD11YShmLHUoaXdpLHQpLChwPXQuZ2V0Qm9keSgpLGZ1bmN0aW9uKG4pe3JldHVybiBuLmRvbT09PXB9KSkscnQ9KHM9dHQsYj1vPWYsaD13KHQuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLHZ0KGIpKSxhPWJvKG8pLmZpbHRlcihnciksdj1rbChvKS5maWx0ZXIoZ3IpLG5pKG8pLGM9dixsPXMsZD1mdW5jdGlvbihuLHQscil7dmFyIHU9bi5kb20sZj10LmRvbSxlPXUuZGF0YS5sZW5ndGg7cmV0dXJuIHl1dCh1LGYsaCksci5jb250YWluZXIoKT09PWY/aSh1LGUpOnJ9LCgoaz1hKS5pc1NvbWUoKSYmYy5pc1NvbWUoKSYmbC5pc1NvbWUoKT9uLnNvbWUoZChrLmdldE9yRGllKCksYy5nZXRPckRpZSgpLGwuZ2V0T3JEaWUoKSkpOm4ubm9uZSgpKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGgmJihhLmVhY2goZnVuY3Rpb24obil7cmV0dXJuIHZ1dChuLmRvbSxuLmRvbS5sZW5ndGgpfSksdi5lYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBmYihuLmRvbSwwKX0pKSxzfSkpO3QuZG9tLmlzRW1wdHkodC5nZXRCb2R5KCkpPyh0LnNldENvbnRlbnQoIiIpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCkpOml0LmJpbmQocndpKS5mb2xkKGZ1bmN0aW9uKCl7ZSYmbGd0KHQscixydCl9LGZ1bmN0aW9uKGkpe2UmJmxndCh0LHIsbi5zb21lKGkpKX0pfWZ1bmN0aW9uIHB1dChuKXtyZXR1cm4gZ2kobiwidGQsdGgiKX1mdW5jdGlvbiB3dXQobix0KXtyZXR1cm57c3RhcnQ6bixlbmQ6dH19ZnVuY3Rpb24gZWIobixpKXtyZXR1cm4gZm4odC5mcm9tRG9tKG4pLCJ0ZCx0aCIsaSl9ZnVuY3Rpb24gYWd0KG4pe3JldHVybiFudChuLnN0YXJ0LG4uZW5kKX1mdW5jdGlvbiB2Z3QodCxpKXtyZXR1cm4gaXYodC5zdGFydCxpKS5iaW5kKGZ1bmN0aW9uKHIpe3JldHVybiBpdih0LmVuZCxpKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBudChyLHQpP24uc29tZShyKTpuLm5vbmUoKX0pfSl9ZnVuY3Rpb24gYnV0KG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdmd0KHQsbikubWFwKGZ1bmN0aW9uKG4pe3JldHVybntybmc6dCx0YWJsZTpuLGNlbGxzOnB1dChuKX19KX19ZnVuY3Rpb24geWd0KHQsaSxyLHUpe3ZhciBmO2lmKHIuY29sbGFwc2VkfHwhdC5mb3JhbGwoYWd0KSlyZXR1cm4gbi5ub25lKCk7aWYoaS5pc1NhbWVUYWJsZSlyZXR1cm4gZj10LmJpbmQoYnV0KHUpKSxuLnNvbWUoe3N0YXJ0OmYsZW5kOmZ9KTt2YXIgZSxvLHM9ZWIoci5zdGFydENvbnRhaW5lcix1KSxoPWViKHIuZW5kQ29udGFpbmVyLHUpLGM9cy5iaW5kKChvPXUsZnVuY3Rpb24obil7cmV0dXJuIGl2KG4sbykuYmluZChmdW5jdGlvbih0KXtyZXR1cm4geW8ocHV0KHQpKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHd1dChuLHQpfSl9KX0pKS5iaW5kKGJ1dCh1KSksbD1oLmJpbmQoKGU9dSxmdW5jdGlvbihuKXtyZXR1cm4gaXYobixlKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBvcihwdXQodCkpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gd3V0KHQsbil9KX0pfSkpLmJpbmQoYnV0KHUpKTtyZXR1cm4gbi5zb21lKHtzdGFydDpjLGVuZDpsfSl9ZnVuY3Rpb24gcGd0KG4sdCl7cmV0dXJuIGl5KG4sZnVuY3Rpb24obil7cmV0dXJuIG50KG4sdCl9KX1mdW5jdGlvbiBrdXQobil7cmV0dXJuIGRpKHBndChuLmNlbGxzLG4ucm5nLnN0YXJ0KSxwZ3Qobi5jZWxscyxuLnJuZy5lbmQpLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4uY2VsbHMuc2xpY2UodCxpKzEpfSl9ZnVuY3Rpb24gd2d0KG4sdCl7dmFyIHI9dC5zdGFydFRhYmxlLHU9dC5lbmRUYWJsZSxpPW4uY2xvbmVSYW5nZSgpO3JldHVybiByLmVhY2goZnVuY3Rpb24obil7cmV0dXJuIGkuc2V0U3RhcnRBZnRlcihuLmRvbSl9KSx1LmVhY2goZnVuY3Rpb24obil7cmV0dXJuIGkuc2V0RW5kQmVmb3JlKG4uZG9tKX0pLGl9ZnVuY3Rpb24gdXdpKGkscil7ZnVuY3Rpb24gdXQobil7cmV0dXJuIGl2KHQuZnJvbURvbShuKSx0dCl9dmFyIHkscCx3LGYsYixrLGQsZyx0dCxlLG8saCxsLGEsaXQscnQsdT0oeT1pLGZ1bmN0aW9uKG4pe3JldHVybiBudCh5LG4pfSkscz1kaShlYigocD1yKS5zdGFydENvbnRhaW5lcix3PXUpLGViKHAuZW5kQ29udGFpbmVyLHcpLHd1dCksdj0odHQ9dSxlPXV0KChnPXIpLnN0YXJ0Q29udGFpbmVyKSxvPXV0KGcuZW5kQ29udGFpbmVyKSxoPWUuaXNTb21lKCksbD1vLmlzU29tZSgpLGE9ZGkoZSxvLG50KS5nZXRPcighMSkse3N0YXJ0VGFibGU6ZSxlbmRUYWJsZTpvLGlzU3RhcnRJblRhYmxlOmgsaXNFbmRJblRhYmxlOmwsaXNTYW1lVGFibGU6YSxpc011bHRpVGFibGU6IWEmJmgmJmx9KTtyZXR1cm4gaXQ9cixydD11LHMuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiFhZ3QodD1uKSYmdmd0KHQscnQpLmV4aXN0cyhmdW5jdGlvbihuKXt2YXIgdD1uLmRvbS5yb3dzO3JldHVybiAxPT09dC5sZW5ndGgmJjE9PT10WzBdLmNlbGxzLmxlbmd0aH0pJiZpcnQobi5zdGFydCxpdCk7dmFyIHR9KT9zLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gc3Yuc2luZ2xlQ2VsbFRhYmxlKHIsbi5zdGFydCl9KTp2LmlzTXVsdGlUYWJsZT95Z3QocyxrPXYsZD1yLHUpLmJpbmQoZnVuY3Rpb24odCl7dmFyIGY9dC5zdGFydCxlPXQuZW5kLGk9Zi5iaW5kKGt1dCkuZ2V0T3IoW10pLHI9ZS5iaW5kKGt1dCkuZ2V0T3IoW10pLHU7cmV0dXJuIDA8aS5sZW5ndGgmJjA8ci5sZW5ndGg/KHU9d2d0KGQsayksbi5zb21lKHN2Lm11bHRpVGFibGUoaSxyLHUpKSk6bi5ub25lKCl9KTp5Z3QocyxmPXYsYj1yLHUpLmJpbmQoZnVuY3Rpb24obil7dmFyIHQ9bi5zdGFydCxpPW4uZW5kO3JldHVybiB0Lm9yKGkpfSkuYmluZChmdW5jdGlvbih0KXt2YXIgcj1mLmlzU2FtZVRhYmxlLGk9a3V0KHQpLmdldE9yKFtdKSx1O3JldHVybiByJiZ0LmNlbGxzLmxlbmd0aD09PWkubGVuZ3RoP24uc29tZShzdi5mdWxsVGFibGUodC50YWJsZSkpOjA8aS5sZW5ndGg/cj9uLnNvbWUoc3YucGFydGlhbFRhYmxlKGksbi5ub25lKCkpKToodT13Z3QoYixmKSxuLnNvbWUoc3YucGFydGlhbFRhYmxlKGksbi5zb21lKGMoYyh7fSxmKSx7cm5nOnV9KSkpKSk6bi5ub25lKCl9KX1mdW5jdGlvbiBiZ3Qobil7cmV0dXJuIGUobixmdW5jdGlvbihuKXtoZShuLCJjb250ZW50ZWRpdGFibGUiKTt2cyhuKX0pLDB9ZnVuY3Rpb24gZHV0KG4sdCxpLHIpe3ZhciB1PWkuY2xvbmVSYW5nZSgpO3I/KHUuc2V0U3RhcnQoaS5zdGFydENvbnRhaW5lcixpLnN0YXJ0T2Zmc2V0KSx1LnNldEVuZEFmdGVyKHQuZG9tLmxhc3RDaGlsZCkpOih1LnNldFN0YXJ0QmVmb3JlKHQuZG9tLmZpcnN0Q2hpbGQpLHUuc2V0RW5kKGkuZW5kQ29udGFpbmVyLGkuZW5kT2Zmc2V0KSk7dmZ0KG4sdSx0LCExKX1mdW5jdGlvbiBrZ3Qobil7dmFyIHI9YmMobiksaT10LmZyb21Eb20obi5zZWxlY3Rpb24uZ2V0Tm9kZSgpKTt5eShpLmRvbSkmJnB0KGkpP24uc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGkuZG9tLDApOm4uc2VsZWN0aW9uLmNvbGxhcHNlKCEwKTsxPHIubGVuZ3RoJiZ2aShyLGZ1bmN0aW9uKG4pe3JldHVybiBudChuLGkpfSkmJmR1KGksImRhdGEtbWNlLXNlbGVjdGVkIiwiMSIpfWZ1bmN0aW9uIGRndChpLHIsdSl7dmFyIGY9aS5zZWxlY3Rpb24uZ2V0Um5nKCk7cmV0dXJuIGJndCh1LmJpbmQoZnVuY3Rpb24odSl7dmFyIGgsYyxsLG89dS5ybmcsZT11LmlzU3RhcnRJblRhYmxlLGE9KGg9ZT9vLmVuZENvbnRhaW5lcjpvLnN0YXJ0Q29udGFpbmVyLG4uZnJvbShpLmRvbS5nZXRQYXJlbnQoaCxpLmRvbS5pc0Jsb2NrKSkubWFwKHQuZnJvbURvbSkpLHM7cmV0dXJuIG8uZGVsZXRlQ29udGVudHMoKSxjPWksbD1lLGEuZmlsdGVyKHB0KS5lYWNoKGZ1bmN0aW9uKG4pe2w/bmkobik6KHZzKG4pLGMuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4uZG9tLDApKX0pLHM9ZT9yWzBdOnJbci5sZW5ndGgtMV0sZHV0KGkscyxmLGUpLHB0KHMpP24ubm9uZSgpOm4uc29tZShlP3Iuc2xpY2UoMSk6ci5zbGljZSgwLC0xKSl9KS5nZXRPcihyKSksa2d0KGkpLCEwfWZ1bmN0aW9uIGZ3aShuLHQsaSxyKXt2YXIgdT1uLnNlbGVjdGlvbi5nZXRSbmcoKSxmPXRbMF0sZT1pW2kubGVuZ3RoLTFdLG8scztyZXR1cm4gZHV0KG4sZix1LCEwKSxkdXQobixlLHUsITEpLG89cHQoZik/dDp0LnNsaWNlKDEpLHM9cHQoZSk/aTppLnNsaWNlKDAsLTEpLGJndChvLmNvbmNhdChzKSksci5kZWxldGVDb250ZW50cygpLGtndChuKSwhMH1mdW5jdGlvbiBld2kobix0KXtyZXR1cm4geXMobiwhMSx0KSwhMH1mdW5jdGlvbiBnZ3Qobix0KXtyZXR1cm4gZ3QobmUodCxuKSxucCl9ZnVuY3Rpb24gbm50KG4sdCl7cmV0dXJuKG4/bG50OmFudCkodCl9ZnVuY3Rpb24gb3dpKHIsdSxmKXt2YXIgZT10LmZyb21Eb20oci5nZXRCb2R5KCkpO3JldHVybiB5ZnQoZSxmKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG49cixjPXUscz1lLGw9ZixhPWkuZnJvbVJhbmdlU3RhcnQobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLGdndChzLGwpLmJpbmQoZnVuY3Rpb24oaSl7cmV0dXJuIHB0KGkpP3NiKG4saSk6KHI9cyx1PWksZj1hLGZ3KGMsbi5nZXRCb2R5KCksZikuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gZ2d0KHIsdC5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiExPT09bnQobix1KX0pfSkpO3ZhciByLHUsZn0pLmdldE9yKCExKXx8KG89dSxoPWkuZnJvbVJhbmdlU3RhcnQoKHY9cikuc2VsZWN0aW9uLmdldFJuZygpKSxubnQobyxoKXx8dnIobyx2LmdldEJvZHkoKSxoKS5leGlzdHMoZnVuY3Rpb24obil7cmV0dXJuIG5udChvLG4pfSkpO3ZhciBuLGMscyxsLGEsdixvLGh9LGZ1bmN0aW9uKGYpe3JldHVybiB5PXUscD1lLHM9Zix3PWkuZnJvbVJhbmdlU3RhcnQoKGM9cikuc2VsZWN0aW9uLmdldFJuZygpKSwocHQocyk/c2IoYyxzKTooYT1wLG89cyxoPXcsZncodj15LChsPWMpLmdldEJvZHkoKSxoKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBlPXYsaT1oLHI9bix3aSgoZj1vKS5kb20pLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIGFmKGYuZG9tKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGU/aS5pc0VxdWFsKG4pJiZyLmlzRXF1YWwodCk6aS5pc0VxdWFsKHQpJiZyLmlzRXF1YWwobil9KX0pLmdldE9yKCEwKT9zYihsLG8pOih1PW8seWZ0KGEsdC5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiExPT09bnQobix1KX0pKTt2YXIgdSxmLGUsaSxyfSkub3Iobi5zb21lKCEwKSkpKS5nZXRPcighMSk7dmFyIGwsYSx2LG8saCxjLHkscCxzLHd9KX1mdW5jdGlvbiBvYihpLHIpe3ZhciBmLHMsZSxoLGMsbyxsLGEsdj10LmZyb21Eb20oaS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKSx5PWJjKGkpO3JldHVybiBpLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYwPT09eS5sZW5ndGg/b3dpKGkscix2KToocz12LGU9eSxoPXQuZnJvbURvbSgoZj1pKS5nZXRCb2R5KCkpLGM9Zi5zZWxlY3Rpb24uZ2V0Um5nKCksMCE9PWUubGVuZ3RoP2RndChmLGUsbi5ub25lKCkpOihvPWYsYT1jLHlmdChsPWgscykuZm9sZChmdW5jdGlvbigpe3JldHVybiBuPW8sdXdpKGwsYSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZvbGQodSh2ZnQsbiksdShld2ksbiksdShkZ3QsbiksdShmd2ksbikpfSk7dmFyIG59LGZ1bmN0aW9uKG4pe3JldHVybiBzYihvLG4pfSkuZ2V0T3IoITEpKSl9ZnVuY3Rpb24gZ3V0KG4pe3JldHVybiBuLmNvbGxhcHNlZD9uOih0PW4scj1pLmZyb21SYW5nZVN0YXJ0KHQpLGY9aS5mcm9tUmFuZ2VFbmQodCksdT10LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLHZyKCExLHUsZikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiFlZihyLGYsdSkmJmVmKHIsbix1KT8oZT1yLmNvbnRhaW5lcigpLG89ci5vZmZzZXQoKSxzPW4uY29udGFpbmVyKCksaD1uLm9mZnNldCgpLChpPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KGUsbyksaS5zZXRFbmQocyxoKSxpKTp0O3ZhciBlLG8scyxoLGl9KS5nZXRPcih0KSk7dmFyIHQscixmLHV9ZnVuY3Rpb24gc3dpKG4sdCl7dmFyIGUsZixvLHUscyxpPXQuZmlyc3RDaGlsZCxyPXQubGFzdENoaWxkO3JldHVybiBpJiYibWV0YSI9PT1pLm5hbWUmJihpPWkubmV4dCksZj1yPXImJiJtY2VfbWFya2VyIj09PXIuYXR0cigiaWQiKT9yLnByZXY6cixvPShlPW4pLmdldE5vbkVtcHR5RWxlbWVudHMoKSxmJiYoZi5pc0VtcHR5KG8pfHwodT1mLGUuZ2V0QmxvY2tFbGVtZW50cygpW3UubmFtZV0mJnUuZmlyc3RDaGlsZCYmdS5maXJzdENoaWxkPT09dS5sYXN0Q2hpbGQmJigiYnIiPT09KHM9dS5maXJzdENoaWxkKS5uYW1lfHxzLnZhbHVlPT09aXIpKSkmJihyPXIucHJldiksaSYmaT09PXImJigidWwiPT09aS5uYW1lfHwib2wiPT09aS5uYW1lKX1mdW5jdGlvbiBod2kobil7cmV0dXJuIDA8bi5sZW5ndGgmJighKHI9bltuLmxlbmd0aC0xXSkuZmlyc3RDaGlsZHx8KHQ9cikmJnQuZmlyc3RDaGlsZCYmdC5maXJzdENoaWxkPT09dC5sYXN0Q2hpbGQmJigoaT10LmZpcnN0Q2hpbGQpLmRhdGE9PT1pcnx8c3QoaSkpKT9uLnNsaWNlKDAsLTEpOm47dmFyIHQsaSxyfWZ1bmN0aW9uIG5mdChuLHQpe3ZhciBpPW4uZ2V0UGFyZW50KHQsbi5pc0Jsb2NrKTtyZXR1cm4gaSYmIkxJIj09PWkubm9kZU5hbWU/aTpudWxsfWZ1bmN0aW9uIHRudChuLHQpe3ZhciB1PWkuYWZ0ZXIobikscj12dSh0KS5wcmV2KHUpO3JldHVybiByP3IudG9SYW5nZSgpOm51bGx9ZnVuY3Rpb24gY3dpKG4sdCx1LGYpe2Z1bmN0aW9uIG50KG4pe3ZhciByPWkuZnJvbVJhbmdlU3RhcnQodSksZj12dSh0LmdldFJvb3QoKSksZT0xPT09bj9mLnByZXYocik6Zi5uZXh0KHIpO3JldHVybiFlfHxuZnQodCxlLmdldE5vZGUoKSkhPT1sfXZhciB0dCxhLG8scyxpdCxydCx1dCxmdCxlLGgsZXQsdixvdCx5LHcsYixjLGssc3QsaHQsY3QsbHQsYXQsdnQ9KHR0PXQsaXQ9bi5zZXJpYWxpemUoZiksbz0oYT10dC5jcmVhdGVGcmFnbWVudChpdCkpLmZpcnN0Q2hpbGQscz1hLmxhc3RDaGlsZCxvJiYiTUVUQSI9PT1vLm5vZGVOYW1lJiZvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobykscyYmIm1jZV9tYXJrZXIiPT09cy5pZCYmcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLGEpLGw9bmZ0KHQsdS5zdGFydENvbnRhaW5lciksZD1od2kocCh2dC5maXJzdENoaWxkLmNoaWxkTm9kZXMsZnVuY3Rpb24obil7cmV0dXJuIkxJIj09PW4ubm9kZU5hbWV9KSksZz10LmdldFJvb3QoKTtyZXR1cm4gbnQoMSk/KHN0PWcsYXQ9KGs9bCkucGFyZW50Tm9kZSxyLmVhY2goZCxmdW5jdGlvbihuKXthdC5pbnNlcnRCZWZvcmUobixrKX0pLGh0PXN0LGN0PWkuYmVmb3JlKGspLChsdD12dShodCkubmV4dChjdCkpP2x0LnRvUmFuZ2UoKTpudWxsKTpudCgyKT8ocnQ9bCxmdD1nLHQuaW5zZXJ0QWZ0ZXIoKHV0PWQpLnJldmVyc2UoKSxydCksdG50KHV0WzBdLGZ0KSk6KGg9ZCxldD1nLHY9ZT1sLHk9KG90PXUpLmNsb25lUmFuZ2UoKSx3PW90LmNsb25lUmFuZ2UoKSx5LnNldFN0YXJ0QmVmb3JlKHYpLHcuc2V0RW5kQWZ0ZXIodiksYj1beS5jbG9uZUNvbnRlbnRzKCksdy5jbG9uZUNvbnRlbnRzKCldLChjPWUucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKGJbMF0sZSksci5lYWNoKGgsZnVuY3Rpb24obil7Yy5pbnNlcnRCZWZvcmUobixlKX0pLGMuaW5zZXJ0QmVmb3JlKGJbMV0sZSksYy5yZW1vdmVDaGlsZChlKSx0bnQoaFtoLmxlbmd0aC0xXSxldCkpfWZ1bmN0aW9uIGx3aSh1LGYsZSl7dmFyIGh0LGV0LHksY3QsYT11LnNlbGVjdGlvbixjPXUuZG9tLHYsdnQseXQsdyxydCx1dCxkLGZ0LHB0LG90LHd0LGJ0LGt0LGR0LG50LGd0LG5pLHRpLHN0LGIsaWkscyxoLGs7L14gfCAkLy50ZXN0KGYpJiYoaHQ9YyxldD1hLmdldFJuZygpLHk9Zix5PXJiKGN0PXQuZnJvbURvbShodC5nZXRSb290KCkpLGkuZnJvbVJhbmdlU3RhcnQoZXQpKT95LnJlcGxhY2UoL14gLywiJm5ic3A7Iik6eS5yZXBsYWNlKC9eJm5ic3A7LywiICIpLGY9eT11YihjdCxpLmZyb21SYW5nZUVuZChldCkpP3kucmVwbGFjZSgvKCZuYnNwO3wgKSg8YnIoIFwvKT4pPyQvLCImbmJzcDsiKTp5LnJlcGxhY2UoLyZuYnNwOyg8YnIoIFwvKT8+KT8kLywiICIpKTt2YXIgbHQ9dS5wYXJzZXIscmk9ZS5tZXJnZSxpdD1ubCh7dmFsaWRhdGU6dS5nZXRQYXJhbSgidmFsaWRhdGUiKX0sdS5zY2hlbWEpLGF0PSc8c3BhbiBpZD0ibWNlX21hcmtlciIgZGF0YS1tY2UtdHlwZT0iYm9va21hcmsiPiYjeEZFRkY7PFwvc3Bhbj4nLHR0PXUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIse2NvbnRlbnQ6Zixmb3JtYXQ6Imh0bWwiLHNlbGVjdGlvbjohMCxwYXN0ZTplLnBhc3RlfSk7aWYodHQuaXNEZWZhdWx0UHJldmVudGVkKCkpdS5maXJlKCJTZXRDb250ZW50Iix7Y29udGVudDp0dC5jb250ZW50LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOmUucGFzdGV9KTtlbHNle2lmKC0xPT09KGY9dHQuY29udGVudCkuaW5kZXhPZigieyRjYXJldH0iKSYmKGYrPSJ7JGNhcmV0fSIpLGY9Zi5yZXBsYWNlKC9ce1wkY2FyZXRcfS8sYXQpLHl0PSh2PWEuZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyfHwodi5wYXJlbnRFbGVtZW50P3YucGFyZW50RWxlbWVudCgpOm51bGwpLHc9dS5nZXRCb2R5KCkseXQ9PT13JiZhLmlzQ29sbGFwc2VkKCkmJmMuaXNCbG9jayh3LmZpcnN0Q2hpbGQpJiYodnQ9dy5maXJzdENoaWxkKSYmIXUuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpW3Z0Lm5vZGVOYW1lXSYmYy5pc0VtcHR5KHcuZmlyc3RDaGlsZCkmJigodj1jLmNyZWF0ZVJuZygpKS5zZXRTdGFydCh3LmZpcnN0Q2hpbGQsMCksdi5zZXRFbmQody5maXJzdENoaWxkLDApLGEuc2V0Um5nKHYpKSxhLmlzQ29sbGFwc2VkKCl8fGZ1bmN0aW9uKG4pe3ZhciBlPW4uZG9tLGk9Z3V0KG4uc2VsZWN0aW9uLmdldFJuZygpKSxyLHUsZjtuLnNlbGVjdGlvbi5zZXRSbmcoaSk7dT1lLmdldFBhcmVudChpLnN0YXJ0Q29udGFpbmVyLHBmdCk7Zj1pO251bGwhPT0ocj11KSYmcj09PWUuZ2V0UGFyZW50KGYuZW5kQ29udGFpbmVyLHBmdCkmJmlydCh0LmZyb21Eb20ociksZik/dmZ0KG4saSx0LmZyb21Eb20odSkpOm4uZ2V0RG9jKCkuZXhlY0NvbW1hbmQoIkRlbGV0ZSIsITEsbnVsbCl9KHUpLHN0PXtjb250ZXh0OihoPWEuZ2V0Tm9kZSgpKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGRhdGE6ZS5kYXRhLGluc2VydDohMH0sYj1sdC5wYXJzZShmLHN0KSwhMD09PWUucGFzdGUmJnN3aSh1LnNjaGVtYSxiKSYmbmZ0KGMsaCkpcmV0dXJuIHY9Y3dpKGl0LGMsYS5nZXRSbmcoKSxiKSxhLnNldFJuZyh2KSx2b2lkIHUuZmlyZSgiU2V0Q29udGVudCIsdHQpO2lmKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWI7bj1uLndhbGsoKTspMT09PW4udHlwZSYmbi5hdHRyKCJkYXRhLW1jZS1mcmFnbWVudCIsIjEiKX0oKSwibWNlX21hcmtlciI9PT0ocz1iLmxhc3RDaGlsZCkuYXR0cigiaWQiKSlmb3IoaWk9cyxzPXMucHJldjtzO3M9cy53YWxrKCEwKSlpZigzPT09cy50eXBlfHwhYy5pc0Jsb2NrKHMubmFtZSkpe3Uuc2NoZW1hLmlzVmFsaWRDaGlsZChzLnBhcmVudC5uYW1lLCJzcGFuIikmJnMucGFyZW50Lmluc2VydChpaSxzLCJiciI9PT1zLm5hbWUpO2JyZWFrfWlmKHUuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93QmxvY2tDYXJldENvbnRhaW5lcihoKSxzdC5pbnZhbGlkKXtmb3IodS5zZWxlY3Rpb24uc2V0Q29udGVudChhdCksaD1hLmdldE5vZGUoKSxrPXUuZ2V0Qm9keSgpLDk9PT1oLm5vZGVUeXBlP2g9cz1rOnM9aDtzIT09azspcz0oaD1zKS5wYXJlbnROb2RlO2Y9aD09PWs/ay5pbm5lckhUTUw6Yy5nZXRPdXRlckhUTUwoaCk7Zj1pdC5zZXJpYWxpemUobHQucGFyc2UoZi5yZXBsYWNlKC88c3BhbiAoaWQ9Im1jZV9tYXJrZXIifGlkPW1jZV9tYXJrZXIpLis/PFwvc3Bhbj4vaSxmdW5jdGlvbigpe3JldHVybiBpdC5zZXJpYWxpemUoYil9KSkpO2g9PT1rP2Muc2V0SFRNTChrLGYpOmMuc2V0T3V0ZXJIVE1MKGgsZil9ZWxzZSBydD11LHV0PWY9aXQuc2VyaWFsaXplKGIpLCJhbGwiPT09KGQ9aCkuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpP2QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocnQuZG9tLmNyZWF0ZUZyYWdtZW50KHV0KSxkKTooZnQ9ZC5maXJzdENoaWxkLHB0PWQubGFzdENoaWxkLCFmdHx8ZnQ9PT1wdCYmIkJSIj09PWZ0Lm5vZGVOYW1lP3J0LmRvbS5zZXRIVE1MKGQsdXQpOnJ0LnNlbGVjdGlvbi5zZXRDb250ZW50KHV0KSk7d3Q9cmk7ZHQ9KG90PXUpLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKTtudD1vdC5kb207d3QmJihidD1vdC5nZXRCb2R5KCksa3Q9bGR0KG50KSxyLmVhY2gobnQuc2VsZWN0KCIqW2RhdGEtbWNlLWZyYWdtZW50XSIpLGZ1bmN0aW9uKG4pe2lmKGcoZHRbbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJnZsKHN1dChudCxuKSxmdW5jdGlvbihuKXtyZXR1cm4heWR0LmhhcyhuKX0pKWZvcih2YXIgdD1uLnBhcmVudE5vZGU7Zyh0KSYmdCE9PWJ0JiYhZnVuY3Rpb24obix0LGkpe2Z1bmN0aW9uIHIocil7dmFyIHU9bi5nZXRTdHlsZSh0LHIpLGY9bi5nZXRTdHlsZShpLHIpO3JldHVybiBmeSh1KSYmZnkoZikmJnUhPT1mfXZhciBmPXN1dChuLHQpLHU9c3V0KG4saSk7cmV0dXJuIHZpKGYsZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdmkodCxmdW5jdGlvbih0KXtyZXR1cm4gdD09PW59KX1pZih0KHUpfHwhdChjbnQpKXJldHVybiByKG4pO3ZhciBpPXAodSxmdW5jdGlvbihuKXtyZXR1cm4gdmkoY250LGZ1bmN0aW9uKHQpe3JldHVybiB3byhuLHQpfSl9KTtyZXR1cm4gdmkoaSxyKX0pfShudCxuLHQpO3Q9dC5wYXJlbnROb2RlKWlmKGt0LmNvbXBhcmUodCxuKSl7bnQucmVtb3ZlKG4sITApO2JyZWFrfX0pKSxmdW5jdGlvbihuLHQpe3ZhciBhLHI9bi5kb20saD1uLnNlbGVjdGlvbixjLGUsZixzLHU7aWYodCl7aWYoaC5zY3JvbGxJbnRvVmlldyh0KSxjPWdjKG4uZ2V0Qm9keSgpLHQpLCJmYWxzZSI9PT1yLmdldENvbnRlbnRFZGl0YWJsZShjKSlyZXR1cm4gci5yZW1vdmUodCksaC5zZWxlY3QoYyk7Zj1yLmNyZWF0ZVJuZygpO3M9dC5wcmV2aW91c1NpYmxpbmc7byhzKT8oZi5zZXRTdGFydChzLHMubm9kZVZhbHVlLmxlbmd0aCksbC5pZXx8KGU9dC5uZXh0U2libGluZyxvKGUpJiYocy5hcHBlbmREYXRhKGUuZGF0YSksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpKSkpOihmLnNldFN0YXJ0QmVmb3JlKHQpLGYuc2V0RW5kQmVmb3JlKHQpKTt1PXIuZ2V0UGFyZW50KHQsci5pc0Jsb2NrKTtyLnJlbW92ZSh0KTt1JiZyLmlzRW1wdHkodSkmJihuLiQodSkuZW1wdHkoKSxmLnNldFN0YXJ0KHUsMCksZi5zZXRFbmQodSwwKSxwZnQodSl8fHUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1mcmFnbWVudCIpfHwhKGE9ZnVuY3Rpb24odCl7dmFyIHI9aS5mcm9tUmFuZ2VTdGFydCh0KTtpZihyPXZ1KG4uZ2V0Qm9keSgpKS5uZXh0KHIpKXJldHVybiByLnRvUmFuZ2UoKX0oZikpP3IuYWRkKHUsci5jcmVhdGUoImJyIix7ImRhdGEtbWNlLWJvZ3VzIjoiMSJ9KSk6KGY9YSxyLnJlbW92ZSh1KSkpO2guc2V0Um5nKGYpfX0odSxjLmdldCgibWNlX21hcmtlciIpKTtndD11LmdldEJvZHkoKTtyLmVhY2goZ3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxmdW5jdGlvbihuKXtuLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKX0pO25pPWM7dGk9YS5nZXRTdGFydCgpO24uZnJvbShuaS5nZXRQYXJlbnQodGksInRkLHRoIikpLm1hcCh0LmZyb21Eb20pLmVhY2god3BpKTt1LmZpcmUoIlNldENvbnRlbnQiLHR0KTt1LmFkZFZpc3VhbCgpfX1mdW5jdGlvbiB0ZnQobil7cmV0dXJuIG4gaW5zdGFuY2VvZiBydX1mdW5jdGlvbiBpZnQobix0LGkpe3ZhciByO24uZG9tLnNldEhUTUwobi5nZXRCb2R5KCksdCk7ITAhPT1pJiZhcyhyPW4pJiZ3aShyLmdldEJvZHkoKSkuZWFjaChmdW5jdGlvbihuKXt2YXIgdD1uLmdldE5vZGUoKSxpPXloKHQpP3dpKHQpLmdldE9yKG4pOm47ci5zZWxlY3Rpb24uc2V0Um5nKGkudG9SYW5nZSgpKX0pfWZ1bmN0aW9uIGF3aShpLHUsbyl7dmFyIHMsbD0ocz11LGMoYyh7Zm9ybWF0OiJodG1sIn0sbykse3NldDohMCxjb250ZW50OnRmdChzKT8iIjpzfSkpLGg9by5ub19ldmVudHM/bDppLmZpcmUoIkJlZm9yZVNldENvbnRlbnQiLGwpO3JldHVybiB0ZnQodSl8fCh1PWguY29udGVudCksbi5mcm9tKGkuZ2V0Qm9keSgpKS5mb2xkKGYodSksZnVuY3Rpb24obil7cmV0dXJuIHRmdCh1KT9mdW5jdGlvbihuLGksdSxmKXt2YXIgaCxjLG8sbCxzO3JldHVybiBoPW4ucGFyc2VyLmdldE5vZGVGaWx0ZXJzKCksYz1uLnBhcnNlci5nZXRBdHRyaWJ1dGVGaWx0ZXJzKCksbz11LGw9ZnVuY3Rpb24obix0KXt2YXIgdSxmLGk9e30scj17fSxzPVtdO2Zvcih1IGluIG8uZmlyc3RDaGlsZCYmd2Z0KG8uZmlyc3RDaGlsZCxmdW5jdGlvbih1KXtlKG4sZnVuY3Rpb24obil7bi5uYW1lPT09dS5uYW1lJiYoaVtuLm5hbWVdP2lbbi5uYW1lXS5ub2Rlcy5wdXNoKHUpOmlbbi5uYW1lXT17ZmlsdGVyOm4sbm9kZXM6W3VdfSl9KTtlKHQsZnVuY3Rpb24obil7InN0cmluZyI9PXR5cGVvZiB1LmF0dHIobi5uYW1lKSYmKHJbbi5uYW1lXT9yW24ubmFtZV0ubm9kZXMucHVzaCh1KTpyW24ubmFtZV09e2ZpbHRlcjpuLG5vZGVzOlt1XX0pfSl9KSxpKXcoaSx1KSYmcy5wdXNoKGlbdV0pO2ZvcihmIGluIHIpdyhyLGYpJiZzLnB1c2gocltmXSk7cmV0dXJuIHN9KGgsYyksZShsLGZ1bmN0aW9uKG4pe2Uobi5maWx0ZXIuY2FsbGJhY2tzLGZ1bmN0aW9uKHQpe3Qobi5ub2RlcyxuLmZpbHRlci5uYW1lLHt9KX0pfSkscz1ubCh7dmFsaWRhdGU6bi52YWxpZGF0ZX0sbi5zY2hlbWEpLnNlcmlhbGl6ZSh1KSxmLmNvbnRlbnQ9dHAodC5mcm9tRG9tKGkpKT9zOnIudHJpbShzKSxpZnQobixmLmNvbnRlbnQsZi5ub19zZWxlY3Rpb24pLGYubm9fZXZlbnRzfHxuLmZpcmUoIlNldENvbnRlbnQiLGYpLHV9KGksbix1LGgpOihvPWksYz1uLHM9aCwwPT09KGY9dSkubGVuZ3RofHwvXlxzKyQvLnRlc3QoZik/KGw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JywiVEFCTEUiPT09Yy5ub2RlTmFtZT9mPSI8dHI+PHRkPiIrbCsiPFwvdGQ+PFwvdHI+IjovXihVTHxPTCkkLy50ZXN0KGMubm9kZU5hbWUpJiYoZj0iPGxpPiIrbCsiPFwvbGk+IiksZj0oYT1zaShvKSkmJm8uc2NoZW1hLmlzVmFsaWRDaGlsZChjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksYS50b0xvd2VyQ2FzZSgpKT8oZj1sLG8uZG9tLmNyZWF0ZUhUTUwoYSxwYShvKSxmKSk6Znx8JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JyxpZnQobyxmLHMubm9fc2VsZWN0aW9uKSxvLmZpcmUoIlNldENvbnRlbnQiLHMpKTooInJhdyIhPT1zLmZvcm1hdCYmKGY9bmwoe3ZhbGlkYXRlOm8udmFsaWRhdGV9LG8uc2NoZW1hKS5zZXJpYWxpemUoby5wYXJzZXIucGFyc2UoZix7aXNSb290Q29udGVudDohMCxpbnNlcnQ6ITB9KSkpLHMuY29udGVudD10cCh0LmZyb21Eb20oYykpP2Y6ci50cmltKGYpLGlmdChvLHMuY29udGVudCxzLm5vX3NlbGVjdGlvbikscy5ub19ldmVudHN8fG8uZmlyZSgiU2V0Q29udGVudCIscykpLHMuY29udGVudCk7dmFyIG8sYyxmLHMsbCxhfSl9ZnVuY3Rpb24gaW50KG4pe3JldHVybiBmdChuKT9uOml0fWZ1bmN0aW9uIHJmdChpLHIsdSl7dmFyIGU9cihpKSxmPWludCh1KTtyZXR1cm4gZS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGYoaSk/bi5ub25lKCk6ZnVuY3Rpb24ocil7Zm9yKHZhciB1PWkuZG9tLGU9aW50KGYpO3UucGFyZW50Tm9kZTspe3ZhciB1PXUucGFyZW50Tm9kZSxvPXQuZnJvbURvbSh1KSxzPXIobyk7aWYocy5pc1NvbWUoKSlyZXR1cm4gcztpZihlKG8pKWJyZWFrfXJldHVybiBuLm5vbmUoKX0ocil9KX1mdW5jdGlvbiBybnQobix0LGkpe3ZhciBmPW4uZm9ybWF0dGVyLmdldChpKSxyLHU7aWYoZilmb3Iocj0wO3I8Zi5sZW5ndGg7cisrKWlmKHU9ZltyXSx1cih1KSYmITE9PT11LmluaGVyaXQmJm4uZG9tLmlzKHQsdS5zZWxlY3RvcikpcmV0dXJuIDF9ZnVuY3Rpb24gdWZ0KG4sdCxpLHIsdSl7dmFyIGY9bi5kb20uZ2V0Um9vdCgpO3JldHVybiB0IT09ZiYmKHQ9bi5kb20uZ2V0UGFyZW50KHQsZnVuY3Rpb24odCl7cmV0dXJuISFybnQobix0LGkpfHx0LnBhcmVudE5vZGU9PT1mfHwhIXZmKG4sdCxpLHIsITApfSksISF2ZihuLHQsaSxyLHUpKX1mdW5jdGlvbiBmZnQobix0LGkpe3JldHVybiEhYmZ0KHQsaS5pbmxpbmUpfHwhIWJmdCh0LGkuYmxvY2spfHwoaS5zZWxlY3Rvcj8xPT09dC5ub2RlVHlwZSYmbi5pcyh0LGkuc2VsZWN0b3IpOnZvaWQgMCl9ZnVuY3Rpb24gdW50KG4sdCxpLHIsdSxmKXt2YXIgZT1pW3JdLG8scztpZihmdChpLm9ubWF0Y2gpKXJldHVybiBpLm9ubWF0Y2godCxpLHIpO2lmKGUpaWYodHIoZS5sZW5ndGgpKXtmb3IobyBpbiBlKWlmKHcoZSxvKSl7dmFyIGg9ImF0dHJpYnV0ZXMiPT09cj9uLmdldEF0dHJpYih0LG8pOm93KG4sdCxvKSxjPWdmKGVbb10sZiksbD13dShoKXx8bGh0KGgpO2lmKCFsfHwhd3UoYykpe2lmKHUmJmwmJiFpLmV4YWN0KXJldHVybjtpZigoIXV8fGkuZXhhY3QpJiYhYmZ0KGgsZ2l0KG4sYyxvKSkpcmV0dXJufX19ZWxzZSBmb3Iocz0wO3M8ZS5sZW5ndGg7cysrKWlmKCJhdHRyaWJ1dGVzIj09PXI/bi5nZXRBdHRyaWIodCxlW3NdKTpvdyhuLHQsZVtzXSkpcmV0dXJuIDE7cmV0dXJuIDF9ZnVuY3Rpb24gZWZ0KG4sdCxpLHIsdSl7aWYocilyZXR1cm4gdWZ0KG4scix0LGksdSk7aWYocj1uLnNlbGVjdGlvbi5nZXROb2RlKCksdWZ0KG4scix0LGksdSkpcmV0dXJuITA7dmFyIGY9bi5zZWxlY3Rpb24uZ2V0U3RhcnQoKTtyZXR1cm4hKGY9PT1yfHwhdWZ0KG4sZix0LGksdSkpfWZ1bmN0aW9uIGZudChuKXtyZXR1cm4gMDxmdW5jdGlvbihuKXtmb3IodmFyIHQ9W107bjspe2lmKDM9PT1uLm5vZGVUeXBlJiZuLm5vZGVWYWx1ZSE9PXJsfHwxPG4uY2hpbGROb2Rlcy5sZW5ndGgpcmV0dXJuW107MT09PW4ubm9kZVR5cGUmJnQucHVzaChuKTtuPW4uZmlyc3RDaGlsZH1yZXR1cm4gdH0obikubGVuZ3RofWZ1bmN0aW9uIGVudChuKXtpZihuKXt2YXIgdD1uZXcgeXQobixuKTtmb3Iobj10LmN1cnJlbnQoKTtuO249dC5uZXh0KCkpaWYobyhuKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBvZnQobil7dmFyIGk9dC5mcm9tVGFnKCJzcGFuIik7cmV0dXJuIHNlKGkse2lkOnBudCwiZGF0YS1tY2UtYm9ndXMiOiIxIiwiZGF0YS1tY2UtdHlwZSI6ImZvcm1hdC1jYXJldCJ9KSxuJiZpaShpLHQuZnJvbVRleHQocmwpKSxpfWZ1bmN0aW9uIHNmdChuLGkscil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciB1LGUsbCxoLGEsYyxmLG8scz1uLmRvbSx2PW4uc2VsZWN0aW9uO2ZudChpKT95cyhuLCExLHQuZnJvbURvbShpKSxyKToodT12LmdldFJuZygpLGU9cy5nZXRQYXJlbnQoaSxzLmlzQmxvY2spLGw9dS5zdGFydENvbnRhaW5lcixoPXUuc3RhcnRPZmZzZXQsYT11LmVuZENvbnRhaW5lcixjPXUuZW5kT2Zmc2V0LChvPWVudChpKSkmJm8ubm9kZVZhbHVlLmNoYXJBdCgwKT09PXJsJiZvLmRlbGV0ZURhdGEoMCwxKSxmPW8scy5yZW1vdmUoaSwhMCksbD09PWYmJjA8aCYmdS5zZXRTdGFydChmLGgtMSksYT09PWYmJjA8YyYmdS5zZXRFbmQoZixjLTEpLGUmJnMuaXNFbXB0eShlKSYmdnModC5mcm9tRG9tKGUpKSx2LnNldFJuZyh1KSl9ZnVuY3Rpb24gaGZ0KG4sdCxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIHI9bi5kb20sdT1uLnNlbGVjdGlvbjtpZih0KXNmdChuLHQsaSk7ZWxzZSBpZighKHQ9bHMobi5nZXRCb2R5KCksdS5nZXRTdGFydCgpKSkpZm9yKDt0PXIuZ2V0KHBudCk7KXNmdChuLHQsITEpfWZ1bmN0aW9uIG9udChuLHQpe3JldHVybiBuLmFwcGVuZENoaWxkKHQpLHR9ZnVuY3Rpb24gc250KG4sdCl7dmFyIGk9dGh0KG4sZnVuY3Rpb24obix0KXtyZXR1cm4gb250KG4sdC5jbG9uZU5vZGUoITEpKX0sdCk7cmV0dXJuIG9udChpLGkub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShybCkpfWZ1bmN0aW9uIHZ3aSh0LGkscix1LGYsZSl7dmFyIHMsaCxjPXQuZm9ybWF0dGVyLGw9dC5kb20sYT1wKGxoKGMuZ2V0KCkpLGZ1bmN0aW9uKG4pe3JldHVybiBuIT09dSYmIXlpKG4sInJlbW92ZWZvcm1hdCIpfSksbztyZXR1cm4gMDxwKChzPXQsaD1yLGZ1KGEsZnVuY3Rpb24obix0KXt2YXIgaT1leWkocyx0KTtyZXR1cm4gcy5mb3JtYXR0ZXIubWF0Y2hOb2RlKGgsdCx7fSxpKT9uLmNvbmNhdChbdF0pOm59LFtdKSksZnVuY3Rpb24obil7ZnVuY3Rpb24gaShuKXtyZXR1cm4geWwobixmdW5jdGlvbihuLHQpe3JldHVybiB2aShlLGZ1bmN0aW9uKG4pe3JldHVybiBuPT09dH0pfSl9cmV0dXJuIGY9dSxlPVsiaW5saW5lIiwiYmxvY2siLCJzZWxlY3RvciIsImF0dHJpYnV0ZXMiLCJzdHlsZXMiLCJjbGFzc2VzIl0sIXZpKChyPXQpLmZvcm1hdHRlci5nZXQobiksZnVuY3Rpb24obil7dmFyIHQ9aShuKTtyZXR1cm4gdmkoci5mb3JtYXR0ZXIuZ2V0KGYpLGZ1bmN0aW9uKG4pe3ZhciByLHU9aShuKSxmPXQsZT11O3JldHVybiB5c3Qocj12b2lkIDA9PT1yP2dkOnIpLmVxKGYsZSl9KX0pO3ZhciByLGYsZX0pLmxlbmd0aD8obz1yLmNsb25lTm9kZSghMSksbC5hZGQoaSxvKSxjLnJlbW92ZSh1LGYsbyxlKSxsLnJlbW92ZShvKSxuLnNvbWUobykpOm4ubm9uZSgpfWZ1bmN0aW9uIHl3aShuLGkscixmKXt2YXIgdyxoLG50LHR0LGMsYixpdCxydCxsLHMsYSx1dCxrLGZ0LGQsZXQ9bi5kb20sdj1uLnNlbGVjdGlvbixvdD1bXSx5PXYuZ2V0Um5nKCksZz15LnN0YXJ0Q29udGFpbmVyLHN0PXkuc3RhcnRPZmZzZXQsbz1nO2ZvcigzPT09Zy5ub2RlVHlwZSYmKHN0IT09Zy5ub2RlVmFsdWUubGVuZ3RoJiYodz0hMCksbz1vLnBhcmVudE5vZGUpO287KXtpZih2ZihuLG8saSxyLGYpKXtoPW87YnJlYWt9by5uZXh0U2libGluZyYmKHc9ITApO290LnB1c2gobyk7bz1vLnBhcmVudE5vZGV9aCYmKHc/KG50PXYuZ2V0Qm9va21hcmsoKSx5LmNvbGxhcHNlKCEwKSx0dD1wdyh3YyhuLHksbi5mb3JtYXR0ZXIuZ2V0KGkpLCEwKSksbi5mb3JtYXR0ZXIucmVtb3ZlKGkscix0dCxmKSx2Lm1vdmVUb0Jvb2ttYXJrKG50KSk6KGM9bHMobi5nZXRCb2R5KCksaCksbD1iPW9mdCghMSkuZG9tLCh1dD0oYT1uLmRvbSkuZ2V0UGFyZW50KHM9bnVsbCE9PWM/YzpoLHUoa2l0LG4pKSkmJmEuaXNFbXB0eSh1dCk/cy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChsLHMpOihrPXQuZnJvbURvbShzKSxmdD1naShrLCJiciIpLGQ9cChmdW5jdGlvbigpe2Zvcih2YXIgaT1bXSxuPWsuZG9tO247KWkucHVzaCh0LmZyb21Eb20obikpLG49bi5sYXN0Q2hpbGQ7cmV0dXJuIGl9KCkuc2xpY2UoLTEpLGJoKSxmdC5sZW5ndGg9PT1kLmxlbmd0aCYmZShkLG5pKSxhLmlzRW1wdHkocyk/cy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChsLHMpOmEuaW5zZXJ0QWZ0ZXIobCxzKSksaXQ9dndpKG4sYixoLGkscixmKSxydD1zbnQob3QuY29uY2F0KGl0LnRvQXJyYXkoKSksYiksc2Z0KG4sYywhMSksdi5zZXRDdXJzb3JMb2NhdGlvbihydCwxKSxldC5pc0VtcHR5KGgpJiZldC5yZW1vdmUoaCkpKX1mdW5jdGlvbiBwd2kobix0KXt2YXIgaT1uLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKTtyZXR1cm4gdyhpLHZ0KHQpKSYmIXNmKHQuZG9tKSYmIWtvKHQuZG9tKX1mdW5jdGlvbiBrZnQobil7cmV0dXJuIGgobikmJiFhcihuKSYmIXNmKG4pJiYha28obil9ZnVuY3Rpb24ga250KG4sdCl7Zm9yKHZhciBpPW47aTtpPWlbdF0pe2lmKG8oaSkmJmZ5KGkuZGF0YSkpcmV0dXJuIG47aWYoaChpKSYmIWFyKGkpKXJldHVybiBpfXJldHVybiBufWZ1bmN0aW9uIGRudChuLHQsaSl7dmFyIGU9bGR0KG4pLGYsdTtpZih0JiZpJiYodD1rbnQodCwicHJldmlvdXNTaWJsaW5nIiksaT1rbnQoaSwibmV4dFNpYmxpbmciKSxlLmNvbXBhcmUodCxpKSkpe2Zvcih1PXQubmV4dFNpYmxpbmc7dSYmdSE9PWk7KWY9dSx1PXUubmV4dFNpYmxpbmcsdC5hcHBlbmRDaGlsZChmKTtyZXR1cm4gbi5yZW1vdmUoaSksci5lYWNoKHIuZ3JlcChpLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKG4pe3QuYXBwZW5kQ2hpbGQobil9KSx0fXJldHVybiBpfWZ1bmN0aW9uIGdudChuLHQsaSxyKXt2YXIgdTtyJiYhMSE9PXQubWVyZ2Vfc2libGluZ3MmJih1PWRudChuLGJpdChyKSxyKSxkbnQobix1LGJpdCh1LCEwKSkpfWZ1bmN0aW9uIG50aShuLHQpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4hKCFpfHwhb3cobixpLHQpKX19ZnVuY3Rpb24gdHRpKG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHUsZjtuLnNldFN0eWxlKHIsdCxpKTsiIj09PXIuZ2V0QXR0cmlidXRlKCJzdHlsZSIpJiZyLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKTt1PW47IlNQQU4iPT09KGY9cikubm9kZU5hbWUmJjA9PT11LmdldEF0dHJpYnMoZikubGVuZ3RoJiZ1LnJlbW92ZShmLCEwKX19ZnVuY3Rpb24gaXRpKG4sdCxpKXtyZXR1cm4gbi5pc0NoaWxkT2YodCxpKSYmdCE9PWkmJiFuLmlzQmxvY2soaSl9ZnVuY3Rpb24gcnRpKG4sdCxpKXt2YXIgZixyPXRbaT8ic3RhcnRDb250YWluZXIiOiJlbmRDb250YWluZXIiXSx1PXRbaT8ic3RhcnRPZmZzZXQiOiJlbmRPZmZzZXQiXTtyZXR1cm4gaChyKSYmKGY9ci5jaGlsZE5vZGVzLmxlbmd0aC0xLCFpJiZ1JiZ1LS0scj1yLmNoaWxkTm9kZXNbZjx1P2Y6dV0pLG8ocikmJmkmJnU+PXIubm9kZVZhbHVlLmxlbmd0aCYmKHI9bmV3IHl0KHIsbi5nZXRCb2R5KCkpLm5leHQoKXx8ciksbyhyKSYmIWkmJjA9PT11JiZuZXcgeXQocixuLmdldEJvZHkoKSkucHJldigpfHxyfWZ1bmN0aW9uIHV0aShuLHQpe3ZhciBpPXQ/ImZpcnN0Q2hpbGQiOiJsYXN0Q2hpbGQiLHI7cmV0dXJuL14oVFJ8VEh8VEQpJC8udGVzdChuLm5vZGVOYW1lKSYmbltpXT8ocj1uW2ldLCJUUiI9PT1uLm5vZGVOYW1lJiZyW2ldfHxyKTpufWZ1bmN0aW9uIGRmdChuLHQsaSxyKXt2YXIgdT1uLmNyZWF0ZShpLHIpO3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHUsdCksdS5hcHBlbmRDaGlsZCh0KSx1fWZ1bmN0aW9uIGZ0aShuLGkscix1LGYpe3ZhciBvPXQuZnJvbURvbShpKSxlPXQuZnJvbURvbShuLmNyZWF0ZSh1LGYpKTtyZXR1cm4gc3koZSwocj9hY3Q6bGN0KShvKSkscj8ob3UobyxlKSx3Y3QoZSxvKSk6KGRsKG8sZSksaWkoZSxvKSksZS5kb219ZnVuY3Rpb24gY2Iobix0LGkscil7dmFyIHU9Yml0KHQsaSxyKTtyZXR1cm4gd3UodSl8fCJCUiI9PT11Lm5vZGVOYW1lfHxuLmlzQmxvY2sodSl9ZnVuY3Rpb24gZXRpKG4sdCxpLHIsdSl7dmFyIHJ0LGwsbz1uLmRvbSx1dD1vLHc9cix2LHMsYSx5LGQsZyxjLGIsZixudCx0dCxrLGl0O2lmKCEoa3QobD10KSYmZmwodyxsLmlubGluZSl8fGhmKGwpJiZmbCh3LGwuYmxvY2spfHx1cihsKSYmaCh3KSYmdXQuaXModyxsLnNlbGVjdG9yKXx8dC5saW5rcyYmIkEiPT09ci5ub2RlTmFtZSkpcmV0dXJuIGh2LmtlZXAoKTtpZihmPXIsa3QodCkmJiJhbGwiPT09dC5yZW1vdmUmJmJyKHQucHJlc2VydmVfYXR0cmlidXRlcykmJihudD1wKG8uZ2V0QXR0cmlicyhmKSxmdW5jdGlvbihuKXtyZXR1cm4gZHQodC5wcmVzZXJ2ZV9hdHRyaWJ1dGVzLG4ubmFtZS50b0xvd2VyQ2FzZSgpKX0pLG8ucmVtb3ZlQWxsQXR0cmlicyhmKSxlKG50LGZ1bmN0aW9uKG4pe3JldHVybiBvLnNldEF0dHJpYihmLG4ubmFtZSxuLnZhbHVlKX0pLDA8bnQubGVuZ3RoKSlyZXR1cm4gaHYucmVuYW1lKCJzcGFuIik7aWYoImFsbCIhPT10LnJlbW92ZSlmb3Ioc2V0KHQuc3R5bGVzLGZ1bmN0aW9uKG4scil7bj1naXQobyxnZihuLGkpLHIrIiIpO29oKHIpJiYocj1uLHU9bnVsbCk7IXQucmVtb3ZlX3NpbWlsYXImJnUmJiFmbChvdyhvLHUsciksbil8fG8uc2V0U3R5bGUoZixyLCIiKTtydD0hMH0pLHJ0JiYiIj09PW8uZ2V0QXR0cmliKGYsInN0eWxlIikmJihmLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSxmLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3R5bGUiKSksc2V0KHQuYXR0cmlidXRlcyxmdW5jdGlvbihuLHIpe3ZhciBzO2lmKG49Z2YobixpKSxvaChyKSYmKHI9bix1PW51bGwpLHQucmVtb3ZlX3NpbWlsYXJ8fCF1fHxmbChvLmdldEF0dHJpYih1LHIpLG4pKWlmKCJjbGFzcyI9PT1yJiYobj1vLmdldEF0dHJpYihmLHIpKSYmKHM9IiIsZShuLnNwbGl0KC9ccysvKSxmdW5jdGlvbihuKXsvbWNlXC1cdysvLnRlc3QobikmJihzKz0ocz8iICI6IiIpK24pfSkscykpby5zZXRBdHRyaWIoZixyLHMpO2Vsc2V7aWYoY2JpLnRlc3QocikmJmYucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS0iK3IpLCJzdHlsZSI9PT1yJiZkcihbImxpIl0pKGYpJiYibm9uZSI9PT1vLmdldFN0eWxlKGYsImxpc3Qtc3R5bGUtdHlwZSIpKXJldHVybiBmLnJlbW92ZUF0dHJpYnV0ZShyKSx2b2lkIG8uc2V0U3R5bGUoZiwibGlzdC1zdHlsZS10eXBlIiwibm9uZSIpOyJjbGFzcyI9PT1yJiZmLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3NOYW1lIik7Zi5yZW1vdmVBdHRyaWJ1dGUocil9fSksc2V0KHQuY2xhc3NlcyxmdW5jdGlvbihuKXtuPWdmKG4saSk7dSYmIW8uaGFzQ2xhc3ModSxuKXx8by5yZW1vdmVDbGFzcyhmLG4pfSksdHQ9by5nZXRBdHRyaWJzKGYpLGs9MDtrPHR0Lmxlbmd0aDtrKyspaWYoaXQ9dHRba10ubm9kZU5hbWUsMCE9PWl0LmluZGV4T2YoIl8iKSYmMCE9PWl0LmluZGV4T2YoImRhdGEtIikpcmV0dXJuIGh2LmtlZXAoKTtyZXR1cm4ibm9uZSIhPT10LnJlbW92ZT8odj1uLGE9dCxnPShzPWYpLnBhcmVudE5vZGUsYz12LmRvbSxiPXNpKHYpLGhmKGEpJiYoYj9nPT09Yy5nZXRSb290KCkmJihhLmxpc3RfYmxvY2smJmZsKHMsYS5saXN0X2Jsb2NrKXx8ZShidShzLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKG4pe3BjKHYsYixuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpP3k/eS5hcHBlbmRDaGlsZChuKTooeT1kZnQoYyxuLGIpLGMuc2V0QXR0cmlicyh5LHYuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpKTp5PW51bGx9KSk6Yy5pc0Jsb2NrKHMpJiYhYy5pc0Jsb2NrKGcpJiYoY2IoYyxzLCExKXx8Y2IoYyxzLmZpcnN0Q2hpbGQsITAsITApfHxzLmluc2VydEJlZm9yZShjLmNyZWF0ZSgiYnIiKSxzLmZpcnN0Q2hpbGQpLGNiKGMscywhMCl8fGNiKGMscy5sYXN0Q2hpbGQsITEsITApfHxzLmFwcGVuZENoaWxkKGMuY3JlYXRlKCJiciIpKSkpLHVyKGQ9YSkmJmt0KGQpJiZheShhdChkLCJtaXhlZCIpLCEwKSYmIWZsKGEuaW5saW5lLHMpfHxjLnJlbW92ZShzLCEwKSxodi5yZW1vdmVkKCkpOmh2LmtlZXAoKX1mdW5jdGlvbiB1bChuLHQsaSxyLHUpe3JldHVybiBldGkobix0LGkscix1KS5mb2xkKGl0LGZ1bmN0aW9uKHQpe3JldHVybiBuLmRvbS5yZW5hbWUocix0KSwhMH0sbHQpfWZ1bmN0aW9uIG90aSh0LGkscix1LHMpe2Z1bmN0aW9uIHYobil7dmFyIG8saCxjLGEsdSx2PShoPWksYz1yLGE9cyxlKHN3KChvPXQpLmRvbSxuLnBhcmVudE5vZGUpLnJldmVyc2UoKSxmdW5jdGlvbihuKXt2YXIgdDt1fHwiX3N0YXJ0Ij09PW4uaWR8fCJfZW5kIj09PW4uaWR8fCh0PXZmKG8sbixoLGMsYSkpJiYhMSE9PXQuc3BsaXQmJih1PW4pfSksdSk7cmV0dXJuIGZ1bmN0aW9uKG4sdCxpLHIsdSxlLG8scyl7dmFyIGMseSxhPW4uZG9tLHAsbCxoLHY7aWYoaSl7Zm9yKHA9aS5wYXJlbnROb2RlLGw9ci5wYXJlbnROb2RlO2wmJmwhPT1wO2w9bC5wYXJlbnROb2RlKXtmb3IoaD1hLmNsb25lKGwsITEpLHY9MDt2PHQubGVuZ3RoJiZudWxsIT09KGg9ZnVuY3Rpb24obix0LGkpe3JldHVybiBldGkobix0LHMsaSxpKS5mb2xkKGYoaSksZnVuY3Rpb24odCl7cmV0dXJuIG4uZG9tLmNyZWF0ZUZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoaSksbi5kb20ucmVuYW1lKGksdCl9LGYobnVsbCkpfShuLHRbdl0saCkpO3YrKyk7aCYmKGMmJmguYXBwZW5kQ2hpbGQoYykseT15fHxoLGM9aCl9IWV8fG8ubWl4ZWQmJmEuaXNCbG9jayhpKXx8KHI9YS5zcGxpdChpLHIpKTtjJiYodS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLHUpLHkuYXBwZW5kQ2hpbGQodSksa3QobykmJmdudChhLG8sMCxjKSl9cmV0dXJuIHJ9KHQsbCx2LG4sbiwhMCx5LHIpfWZ1bmN0aW9uIG50KG4pe3JldHVybiB2aShsLGZ1bmN0aW9uKGkpe3JldHVybiB1bCh0LGkscixuLG4pfSl9ZnVuY3Rpb24gdyhuKXt2YXIgcixpPWMuZ2V0KG4/Il9zdGFydCI6Il9lbmQiKSx0PWlbbj8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdO3JldHVybiBhcihyPXQpJiZoKHIpJiYoIl9zdGFydCI9PT1yLmlkfHwiX2VuZCI9PT1yLmlkKSYmKHQ9dFtuPyJmaXJzdENoaWxkIjoibGFzdENoaWxkIl0pLG8odCkmJjA9PT10LmRhdGEubGVuZ3RoJiYodD1uP2kucHJldmlvdXNTaWJsaW5nfHxpLm5leHRTaWJsaW5nOmkubmV4dFNpYmxpbmd8fGkucHJldmlvdXNTaWJsaW5nKSxjLnJlbW92ZShpLCEwKSx0fWZ1bmN0aW9uIGsoaSl7dmFyIGY9d2ModCxpLGwsaS5jb2xsYXBzZWQpLG87aWYoeS5zcGxpdCl7aWYoZj1wdyhmKSwocj1ydGkodCxmLCEwKSkhPT0odT1ydGkodCxmKSkpe2lmKHI9dXRpKHIsITApLHU9dXRpKHUsITEpLGl0aShjLHIsdSkpcmV0dXJuIG89bi5mcm9tKHIuZmlyc3RDaGlsZCkuZ2V0T3IociksdihmdGkoYyxvLCEwLCJzcGFuIix7aWQ6Il9zdGFydCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSksdm9pZCB3KCEwKTtpZihpdGkoYyx1LHIpKXJldHVybiBvPW4uZnJvbSh1Lmxhc3RDaGlsZCkuZ2V0T3IodSksdihmdGkoYyxvLCExLCJzcGFuIix7aWQ6Il9lbmQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSkpLHZvaWQgdyghMSk7dmFyIHI9ZGZ0KGMsciwic3BhbiIse2lkOiJfc3RhcnQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSksdT1kZnQoYyx1LCJzcGFuIix7aWQ6Il9lbmQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSkscz1jLmNyZWF0ZVJuZygpO3Muc2V0U3RhcnRBZnRlcihyKTtzLnNldEVuZEJlZm9yZSh1KTt0dihjLHMsZnVuY3Rpb24obil7ZShuLGZ1bmN0aW9uKG4pe2FyKG4pfHxhcihuLnBhcmVudE5vZGUpfHx2KG4pfSl9KTt2KHIpO3YodSk7cj13KCEwKTt1PXcoKX1lbHNlIHI9dT12KHIpO2Yuc3RhcnRDb250YWluZXI9ci5wYXJlbnROb2RlfHxyO2Yuc3RhcnRPZmZzZXQ9Yy5ub2RlSW5kZXgocik7Zi5lbmRDb250YWluZXI9dS5wYXJlbnROb2RlfHx1O2YuZW5kT2Zmc2V0PWMubm9kZUluZGV4KHUpKzF9dHYoYyxmLGZ1bmN0aW9uKG4pe2Uobix0dCl9KX12YXIgZCxsPXQuZm9ybWF0dGVyLmdldChpKSx5PWxbMF0sYj0hMCxjPXQuZG9tLGE9dC5zZWxlY3Rpb24sdHQ9ZnVuY3Rpb24obil7dmFyIG89ITAsdT0hMSxzLGYsaSxyO2lmKGgobikmJmMuZ2V0Q29udGVudEVkaXRhYmxlKG4pJiYobz1iLGI9InRydWUiPT09Yy5nZXRDb250ZW50RWRpdGFibGUobiksdT0hMCksaT1idShuLmNoaWxkTm9kZXMpLGImJiF1JiYocz1udChuKXx8dmkobCxmdW5jdGlvbih0KXtyZXR1cm4gZmZ0KGMsbix0KX0pLGY9bi5wYXJlbnROb2RlLCFzJiZnKGYpJiZucnQoeSkmJm50KGYpKSx5LmRlZXAmJmkubGVuZ3RoKXtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXR0KGlbcl0pO3UmJihiPW8pfWUoWyJ1bmRlcmxpbmUiLCJsaW5lLXRocm91Z2giLCJvdmVybGluZSJdLGZ1bmN0aW9uKGkpe2gobikmJnQuZG9tLmdldFN0eWxlKG4sInRleHQtZGVjb3JhdGlvbiIpPT09aSYmbi5wYXJlbnROb2RlJiZkd3QoYyxuLnBhcmVudE5vZGUpPT09aSYmdWwodCx7ZGVlcDohMSxleGFjdDohMCxpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246aX19LG51bGwsbil9KX0scDtpZih1KXJldHVybiBldyh1KT8oKGQ9Yy5jcmVhdGVSbmcoKSkuc2V0U3RhcnRCZWZvcmUodSksZC5zZXRFbmRBZnRlcih1KSxrKGQpKTprKHUpLHZvaWQgYXJ0KHQsaSx1LHIpO2lmKCJmYWxzZSIhPT1jLmdldENvbnRlbnRFZGl0YWJsZShhLmdldE5vZGUoKSkpYS5pc0NvbGxhcHNlZCgpJiZrdCh5KSYmIWJjKHQpLmxlbmd0aD95d2kodCxpLHIscyk6KGZydChhLCEwLGZ1bmN0aW9uKCl7dXJ0KHQsayl9KSxrdCh5KSYmZWZ0KHQsaSxyLGEuZ2V0U3RhcnQoKSkmJmt3dChjLGEsYS5nZXRSbmcoKSksdC5ub2RlQ2hhbmdlZCgpKSxhcnQodCxpLHUscik7ZWxzZXtmb3IodT1hLmdldE5vZGUoKSxwPTA7cDxsLmxlbmd0aCYmKCFsW3BdLmNlRmFsc2VPdmVycmlkZXx8IXVsKHQsbFtwXSxyLHUsdSkpO3ArKyk7YXJ0KHQsaSx1LHIpfX1mdW5jdGlvbiB0Ymkobil7cmV0dXJuIGgobikmJiFhcihuKSYmIXNmKG4pJiYha28obil9ZnVuY3Rpb24gc3RpKG4pe3JldHVybiB3KG4sInZhcnMiKX1mdW5jdGlvbiBodGkobix0LGkscix1KXtyZXR1cm4gaWh0KHQsZnVuY3Rpb24odCl7dmFyIGY9bi5mb3JtYXR0ZXIubWF0Y2hOb2RlKHQsaSxudWxsIT11P3U6e30scik7cmV0dXJuIXRyKGYpfSxmdW5jdGlvbih0KXtyZXR1cm4gcm50KG4sdCxpKXx8IXImJmcobi5mb3JtYXR0ZXIubWF0Y2hOb2RlKHQsaSx1LCEwKSl9KX1mdW5jdGlvbiBjdGkobix0KXt2YXIgaT1udWxsIT10P3Q6ZmlpKG4pO3JldHVybiBwKHN3KG4uZG9tLGkpLGZ1bmN0aW9uKG4pe3JldHVybiBoKG4pJiYha28obil9KX1mdW5jdGlvbiBpYmkodCxpLHIsdSxmLG8pe3ZhciB5LHMsdyxrLGQsYixsLGEsdjtyZXR1cm4gbnVsbD09PWkuZ2V0KCkmJihzPXQsKHk9aSkuc2V0KHt9KSxzLm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbihuKXtlaWkocyxuLmVsZW1lbnQseS5nZXQoKSl9KSxzLm9uKCJGb3JtYXRBcHBseSBGb3JtYXRSZW1vdmUiLGZ1bmN0aW9uKHQpe3ZhciBpPW4uZnJvbSh0Lm5vZGUpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZXcobik/bjpuLnN0YXJ0Q29udGFpbmVyfSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gaCh0KT9uLnNvbWUodCk6bi5mcm9tKHQucGFyZW50RWxlbWVudCl9KS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGZpaShzKX0pO2VpaShzLGkseS5nZXQoKSl9KSksdz10LGQ9cixiPXUsbD1mLGE9byx2PShrPWkpLmdldCgpLGUoZC5zcGxpdCgiLCIpLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIoKXt2YXIgdD1jdGkodyk7cmV0dXJuIGh0aSh3LHQsbixsLGEpLmlzU29tZSgpfXZhciB0LGk9YXQodixuKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIHQ9e3dpdGhTaW1pbGFyOntzdGF0ZTpoaSghMSksc2ltaWxhcjohMCxjYWxsYmFja3M6W119LHdpdGhvdXRTaW1pbGFyOntzdGF0ZTpoaSghMSksc2ltaWxhcjohMSxjYWxsYmFja3M6W119LHdpdGhWYXJzOltdfTtyZXR1cm4gdltuXT10fSk7dHIoYSk/KCh0PWw/aS53aXRoU2ltaWxhcjppLndpdGhvdXRTaW1pbGFyKS5jYWxsYmFja3MucHVzaChiKSwxPT09dC5jYWxsYmFja3MubGVuZ3RoJiZ0LnN0YXRlLnNldChyKCkpKTppLndpdGhWYXJzLnB1c2goe3N0YXRlOmhpKHIoKSksc2ltaWxhcjpsLHZhcnM6YSxjYWxsYmFjazpifSl9KSxrLnNldCh2KSx7dW5iaW5kOmZ1bmN0aW9uKCl7dmFyIGYsbz1yLG49dSx0PShmPWkpLmdldCgpO2Uoby5zcGxpdCgiLCIpLGZ1bmN0aW9uKGkpe3JldHVybiBhdCh0LGkpLmVhY2goZnVuY3Rpb24ocil7dFtpXT17d2l0aFNpbWlsYXI6YyhjKHt9LHIud2l0aFNpbWlsYXIpLHtjYWxsYmFja3M6cChyLndpdGhTaW1pbGFyLmNhbGxiYWNrcyxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PW59KX0pLHdpdGhvdXRTaW1pbGFyOmMoYyh7fSxyLndpdGhvdXRTaW1pbGFyKSx7Y2FsbGJhY2tzOnAoci53aXRob3V0U2ltaWxhci5jYWxsYmFja3MsZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1ufSl9KSx3aXRoVmFyczpwKHIud2l0aFZhcnMsZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FsbGJhY2shPT1ufSl9fSl9KTtmLnNldCh0KX19fWZ1bmN0aW9uIGdmdChuLGkpe3ZhciByPShpfHxkb2N1bWVudCkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBlKG4sZnVuY3Rpb24obil7ci5hcHBlbmRDaGlsZChuLmRvbSl9KSx0LmZyb21Eb20ocil9ZnVuY3Rpb24gbmV0KG4sdCxpKXtyZXR1cm57ZWxlbWVudDpuLHdpZHRoOnQscm93czppfX1mdW5jdGlvbiBsdGkobix0KXtyZXR1cm57ZWxlbWVudDpuLGNlbGxzOnR9fWZ1bmN0aW9uIGF0aShuLHQpe3ZhciBpPXBhcnNlSW50KG5hKG4sdCksMTApO3JldHVybiBpc05hTihpKT8xOml9ZnVuY3Rpb24gdnRpKG4pe3JldHVybiBmdShuLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQuY2VsbHMubGVuZ3RoPm4/dC5jZWxscy5sZW5ndGg6bn0sMCl9ZnVuY3Rpb24geXRpKHQsaSl7Zm9yKHZhciBlLHUsZj10LnJvd3Mscj0wO3I8Zi5sZW5ndGg7cisrKWZvcihlPWZbcl0uY2VsbHMsdT0wO3U8ZS5sZW5ndGg7dSsrKWlmKG50KGVbdV0saSkpcmV0dXJuIG4uc29tZSh7eDp1LHk6cn0pO3JldHVybiBuLm5vbmUoKX1mdW5jdGlvbiBwdGkobix0LGkscix1KXtmb3IodmFyIGUsaCxvPVtdLHM9bi5yb3dzLGY9aTtmPD11O2YrKyllPXNbZl0uY2VsbHMsaD10PHI/ZS5zbGljZSh0LHIrMSk6ZS5zbGljZShyLHQrMSksby5wdXNoKGx0aShzW2ZdLmVsZW1lbnQsaCkpO3JldHVybiBvfWZ1bmN0aW9uIHJiaShuKXt2YXIgdD1uZXQoc2MobiksMCxbXSk7cmV0dXJuIGUoZ2kobiwidHIiKSxmdW5jdGlvbihuLGkpe2UoZ2kobiwidGQsdGgiKSxmdW5jdGlvbihyLHUpeyFmdW5jdGlvbihuLHQsaSxyLHUpe2Zvcih2YXIgZSxzPWF0aSh1LCJyb3dzcGFuIiksaD1hdGkodSwiY29sc3BhbiIpLG89bi5yb3dzLGY9aTtmPGkrcztmKyspZm9yKG9bZl18fChvW2ZdPWx0aShndnQociksW10pKSxlPXQ7ZTx0K2g7ZSsrKW9bZl0uY2VsbHNbZV09Zj09PWkmJmU9PT10P3U6c2ModSl9KHQsZnVuY3Rpb24obix0LGkpe2Zvcig7cj10LCgodT1uLnJvd3MpW2ldP3VbaV0uY2VsbHM6W10pW3JdOyl0Kys7dmFyIHIsdTtyZXR1cm4gdH0odCx1LGkpLGksbixyKX0pfSksbmV0KHQuZWxlbWVudCx2dGkodC5yb3dzKSx0LnJvd3MpfWZ1bmN0aW9uIHViaShuLGkpe3ZhciByLHUsZSxvPXQuZnJvbURvbShpLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSxzPW5lKG8sbiksYz1wKHMsZnVuY3Rpb24obil7cmV0dXJuIGhuKG4pfHxybGkobil9KSxoPShlPWksZ3QodT1zLGZ1bmN0aW9uKG4pe3JldHVybiJsaSI9PT12dChuKSYmaXJ0KG4sZSl9KS5mb2xkKGYoW10pLGZ1bmN0aW9uKCl7cmV0dXJuIGd0KHUsZnVuY3Rpb24obil7cmV0dXJuInVsIj09PXZ0KG4pfHwib2wiPT09dnQobil9KS5tYXAoZnVuY3Rpb24obil7dmFyIGk9dC5mcm9tVGFnKHZ0KG4pKTtyZXR1cm4geWNpKGkseWwoZmx0KG4pLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHdvKHQsImxpc3Qtc3R5bGUiKX0pKSxbdC5mcm9tVGFnKCJsaSIpLGldfSkuZ2V0T3IoW10pfSkpO3JldHVybiB1dChjLmNvbmNhdChoLmxlbmd0aD9oOmZhKHI9byk/ZXUocikuZmlsdGVyKGtuKS5mb2xkKGYoW10pLGZ1bmN0aW9uKG4pe3JldHVybltyLG5dfSk6a24ocik/W3JdOltdKSxzYyl9ZnVuY3Rpb24gd3RpKCl7cmV0dXJuIGdmdChbXSl9ZnVuY3Rpb24gZmJpKG4saSl7cmV0dXJuIHd5KGlbMF0sInRhYmxlIix1KG50LG4pKS5iaW5kKGZ1bmN0aW9uKG4pe3ZhciByLHUsZj1pWzBdLGU9aVtpLmxlbmd0aC0xXSxvPXJiaShuKTtyZXR1cm4gdT1lLHl0aShyPW8sZikuYmluZChmdW5jdGlvbihuKXtyZXR1cm4geXRpKHIsdSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpPXIsZj1uLngsdT1uLnksZT10Lngscz11PChvPXQueSk/cHRpKGksZix1LGUsbyk6cHRpKGksZixvLGUsdSksbmV0KGkuZWxlbWVudCx2dGkocykscyk7dmFyIGksZix1LGUsbyxzfSl9KS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGdmdChbKHU9dXQoKHI9bikucm93cyxmdW5jdGlvbihuKXt2YXIgaT11dChuLmNlbGxzLGZ1bmN0aW9uKG4pe3ZhciB0PWd2dChuKTtyZXR1cm4gaGUodCwiY29sc3BhbiIpLGhlKHQsInJvd3NwYW4iKSx0fSksdD1zYyhuLmVsZW1lbnQpO3JldHVybiBzeSh0LGkpLHR9KSxpPXNjKHIuZWxlbWVudCksc3koZj10LmZyb21UYWcoInRib2R5IiksdSksaWkoaSxmKSxpKV0pO3ZhciByLHUsaSxmfSl9KS5nZXRPclRodW5rKHd0aSl9ZnVuY3Rpb24gZWJpKG4saSl7dmFyIGUscixvLHUscyxoLGYsYz1mYnQoaSxuKTtyZXR1cm4gMDxjLmxlbmd0aD9mYmkobixjKTooZT1uLDA8KHI9aSkubGVuZ3RoJiZyWzBdLmNvbGxhcHNlZD93dGkoKToobz1lLHU9clswXSxzPXQuZnJvbURvbSh1LmNsb25lQ29udGVudHMoKSksZj1mdShoPXViaShvLHUpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGlpKHQsbiksdH0scyksMDxoLmxlbmd0aD9nZnQoW2ZdKTpmKSl9ZnVuY3Rpb24gbGIobix0KXtyZXR1cm4gMDw9dCYmdDxuLmxlbmd0aCYmeWMobi5jaGFyQXQodCkpfWZ1bmN0aW9uIGJ0aShuLHQpe3ZhciBpPXZlKG4uaW5uZXJUZXh0KTtyZXR1cm4gdD9pLnJlcGxhY2UoL15bIFxmXG5cclx0XHZdKy8sIiIpOml9ZnVuY3Rpb24ga3RpKG4pe3JldHVybiBoKG4pP24ub3V0ZXJIVE1MOm8obik/eWUuZW5jb2RlUmF3KG4uZGF0YSwhMSk6a2NpKG4pPyI8IS0tIituLmRhdGErIi0tPiI6IiJ9ZnVuY3Rpb24gb2JpKG4sdCl7dmFyIGk9MDtlKG4sZnVuY3Rpb24obil7dmFyIHUsZixzLHIsaCxlLGMsbzswPT09blswXT9pKys6MT09PW5bMF0/KHI9dCxoPW5bMV0sZT1pLG89ZnVuY3Rpb24obil7dmFyIHQsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IobiYmKGkuaW5uZXJIVE1MPW4pO3Q9aS5maXJzdENoaWxkOylyLmFwcGVuZENoaWxkKHQpO3JldHVybiByfShoKSxyLmhhc0NoaWxkTm9kZXMoKSYmZTxyLmNoaWxkTm9kZXMubGVuZ3RoPyhjPXIuY2hpbGROb2Rlc1tlXSkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyxjKTpyLmFwcGVuZENoaWxkKG8pLGkrKyk6Mj09PW5bMF0mJihmPWksKHU9dCkuaGFzQ2hpbGROb2RlcygpJiZmPHUuY2hpbGROb2Rlcy5sZW5ndGgmJihzPXUuY2hpbGROb2Rlc1tmXSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSl9KX1mdW5jdGlvbiB0ZXQobil7dmFyIHQsaT1zaCgodD1uLmdldEJvZHkoKSxwKHV0KGJ1KHQuY2hpbGROb2Rlcyksa3RpKSxmdW5jdGlvbihuKXtyZXR1cm4gMDxuLmxlbmd0aH0pKSxmdW5jdGlvbih0KXt2YXIgaT1jZHQobi5zZXJpYWxpemVyLHQpO3JldHVybiAwPGkubGVuZ3RoP1tpXTpbXX0pLHI9aS5qb2luKCIiKTtyZXR1cm4tMSE9PXIuaW5kZXhPZigiPFwvaWZyYW1lPiIpP3t0eXBlOiJmcmFnbWVudGVkIixmcmFnbWVudHM6aSxjb250ZW50OiIiLGJvb2ttYXJrOm51bGwsYmVmb3JlQm9va21hcms6bnVsbH06e3R5cGU6ImNvbXBsZXRlIixmcmFnbWVudHM6bnVsbCxjb250ZW50OnIsYm9va21hcms6bnVsbCxiZWZvcmVCb29rbWFyazpudWxsfX1mdW5jdGlvbiBpZXQobix0LGkpe2Z1bmN0aW9uIHAobix0LGkscil7Zm9yKHZhciB1PW47dS10PHImJnU8aSYmZlt1XT09PWVbdS10XTspKyt1O3JldHVybntzdGFydDpuLGVuZDp1LGRpYWc6dH19dmFyIGEsaCx2LGYsZSxjLHUscixvLHksbCxzPWk/dC5iZWZvcmVCb29rbWFyazp0LmJvb2ttYXJrOyJmcmFnbWVudGVkIj09PXQudHlwZT8oYT10LmZyYWdtZW50cyxoPW4uZ2V0Qm9keSgpLHY9dXQoYnUoaC5jaGlsZE5vZGVzKSxrdGkpLG9iaSgoZT1hLGM9KGY9dikubGVuZ3RoK2UubGVuZ3RoKzIsdT1uZXcgQXJyYXkoYykscj1uZXcgQXJyYXkoYyksbz1mdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPXkobix0LGksciksaCxjLGw7aWYobnVsbD09PXN8fHMuc3RhcnQ9PT10JiZzLmRpYWc9PT10LXJ8fHMuZW5kPT09biYmcy5kaWFnPT09bi1pKWZvcihoPW4sYz1pO2g8dHx8YzxyOyloPHQmJmM8ciYmZltoXT09PWVbY10/KHUucHVzaChbMCxmW2hdXSksKytoLCsrYyk6ci1pPHQtbj8odS5wdXNoKFsyLGZbaF1dKSwrK2gpOih1LnB1c2goWzEsZVtjXV0pLCsrYyk7ZWxzZXtmb3IobyhuLHMuc3RhcnQsaSxzLnN0YXJ0LXMuZGlhZyx1KSxsPXMuc3RhcnQ7bDxzLmVuZDsrK2wpdS5wdXNoKFswLGZbbF1dKTtvKHMuZW5kLHQscy5lbmQtcy5kaWFnLHIsdSl9fSx5PWZ1bmN0aW9uKG4sdCxpLG8pe3ZhciB3PXQtbixiPW8taTtpZigwPT13fHwwPT1iKXJldHVybiBudWxsO3ZhciBjLGgscyxhLHYsbD13LWIsaz1iK3cseT0oayUyPT0wP2s6MStrKS8yO2Zvcih1WzEreV09bixyWzEreV09dCsxLGM9MDtjPD15OysrYyl7Zm9yKGg9LWM7aDw9YztoKz0yKXtmb3Iocz1oK3ksdVtzXT1oPT09LWN8fGghPT1jJiZ1W3MtMV08dVtzKzFdP3VbcysxXTp1W3MtMV0rMSx2PShhPXVbc10pLW4raS1oO2E8dCYmdjxvJiZmW2FdPT09ZVt2XTspdVtzXT0rK2EsKyt2O2lmKGwlMiE9MCYmbC1jPD1oJiZoPD1sK2MmJnJbcy1sXTw9dVtzXSlyZXR1cm4gcChyW3MtbF0saCtuLWksdCxvKX1mb3IoaD1sLWM7aDw9bCtjO2grPTIpe2ZvcihzPWgreS1sLHJbc109aD09PWwtY3x8aCE9PWwrYyYmcltzKzFdPD1yW3MtMV0/cltzKzFdLTE6cltzLTFdLHY9KGE9cltzXS0xKS1uK2ktaDtuPD1hJiZpPD12JiZmW2FdPT09ZVt2XTspcltzXT1hLS0sdi0tO2lmKGwlMj09MCYmLWM8PWgmJmg8PWMmJnJbc108PXVbcytsXSlyZXR1cm4gcChyW3NdLGgrbi1pLHQsbyl9fX0sbD1bXSxvKDAsZi5sZW5ndGgsMCxlLmxlbmd0aCxsKSxsKSxoKSk6bi5zZXRDb250ZW50KHQuY29udGVudCx7Zm9ybWF0OiJyYXciLG5vX3NlbGVjdGlvbjohZyhzKXx8IXZ3dChzKXx8IXMuaXNGYWtlQ2FyZXR9KTtuLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhzKX1mdW5jdGlvbiByZXQobil7cmV0dXJuImZyYWdtZW50ZWQiPT09bi50eXBlP24uZnJhZ21lbnRzLmpvaW4oIiIpOm4uY29udGVudH1mdW5jdGlvbiBkdGkobil7dmFyIGk9dC5mcm9tVGFnKCJib2R5IixsYmkoKSk7cmV0dXJuIGt2dChpLHJldChuKSksZShnaShpLCIqW2RhdGEtbWNlLWJvZ3VzXSIpLGJjdCksaS5kb20uaW5uZXJIVE1MfWZ1bmN0aW9uIGFiKG4sdCl7cmV0dXJuISghbnx8IXQpJiYocj10LHJldChuKT09PXJldChyKXx8KGk9dCxkdGkobik9PT1kdGkoaSkpKTt2YXIgaSxyfWZ1bmN0aW9uIHVldChuKXtyZXR1cm4gMD09PW4uZ2V0KCl9ZnVuY3Rpb24gdmIobix0LGkpe3VldChpKSYmKG4udHlwaW5nPXQpfWZ1bmN0aW9uIGd0aShuLHQpe24udHlwaW5nJiYodmIobiwhMSx0KSxuLmFkZCgpKX1mdW5jdGlvbiBuaWkoaSl7cmV0dXJue3VuZG9NYW5hZ2VyOntiZWZvcmVDaGFuZ2U6ZnVuY3Rpb24obix0KXt2YXIgcj1pLHU9dDt1ZXQobikmJnUuc2V0KHJ3dChyLnNlbGVjdGlvbikpfSxhZGQ6ZnVuY3Rpb24obix0LHUsZixlLG8pe3JldHVybiBmdW5jdGlvbihuLHQsaSx1LGYsZSxvKXt2YXIgYT10ZXQobikscyxsLGgsYztpZigoZT1yLmV4dGVuZChlPWV8fHt9LGEpLCExPT09dWV0KHUpfHxuLnJlbW92ZWQpfHwocz10LmRhdGFbaS5nZXQoKV0sbi5maXJlKCJCZWZvcmVBZGRVbmRvIix7bGV2ZWw6ZSxsYXN0TGV2ZWw6cyxvcmlnaW5hbEV2ZW50Om99KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl8fHMmJmFiKHMsZSkpcmV0dXJuIG51bGw7aWYodC5kYXRhW2kuZ2V0KCldJiZmLmdldCgpLmVhY2goZnVuY3Rpb24obil7dC5kYXRhW2kuZ2V0KCldLmJlZm9yZUJvb2ttYXJrPW59KSxsPW4uZ2V0UGFyYW0oImN1c3RvbV91bmRvX3JlZG9fbGV2ZWxzIiwwLCJudW1iZXIiKSxsJiZ0LmRhdGEubGVuZ3RoPmwpe2ZvcihoPTA7aDx0LmRhdGEubGVuZ3RoLTE7aCsrKXQuZGF0YVtoXT10LmRhdGFbaCsxXTt0LmRhdGEubGVuZ3RoLS07aS5zZXQodC5kYXRhLmxlbmd0aCl9cmV0dXJuIGUuYm9va21hcms9cnd0KG4uc2VsZWN0aW9uKSxpLmdldCgpPHQuZGF0YS5sZW5ndGgtMSYmKHQuZGF0YS5sZW5ndGg9aS5nZXQoKSsxKSx0LmRhdGEucHVzaChlKSxpLnNldCh0LmRhdGEubGVuZ3RoLTEpLGM9e2xldmVsOmUsbGFzdExldmVsOnMsb3JpZ2luYWxFdmVudDpvfSwwPGkuZ2V0KCk/KG4uc2V0RGlydHkoITApLG4uZmlyZSgiQWRkVW5kbyIsYyksbi5maXJlKCJjaGFuZ2UiLGMpKTpuLmZpcmUoIkFkZFVuZG8iLGMpLGV9KGksbix0LHUsZixlLG8pfSx1bmRvOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gZT1pLHM9dCxmPXIsKHU9bikudHlwaW5nJiYodS5hZGQoKSx1LnR5cGluZz0hMSx2Yih1LCExLHMpKSwwPGYuZ2V0KCkmJihmLnNldChmLmdldCgpLTEpLGlldChlLG89dS5kYXRhW2YuZ2V0KCldLCEwKSxlLnNldERpcnR5KCEwKSxlLmZpcmUoIlVuZG8iLHtsZXZlbDpvfSkpLG87dmFyIGUsdSxzLGYsb30scmVkbzpmdW5jdGlvbihuLHQpe3JldHVybiByPWksZj10LCh1PW4pLmdldCgpPGYubGVuZ3RoLTEmJih1LnNldCh1LmdldCgpKzEpLGlldChyLGU9Zlt1LmdldCgpXSwhMSksci5zZXREaXJ0eSghMCksci5maXJlKCJSZWRvIix7bGV2ZWw6ZX0pKSxlO3ZhciByLHUsZixlfSxjbGVhcjpmdW5jdGlvbihuLHQpe3ZhciByLHU9aSxmPXQ7KHI9bikuZGF0YT1bXTtmLnNldCgwKTtyLnR5cGluZz0hMTt1LmZpcmUoIkNsZWFyVW5kb3MiKX0scmVzZXQ6ZnVuY3Rpb24obil7dmFyIHQ7KHQ9bikuY2xlYXIoKTt0LmFkZCgpfSxoYXNVbmRvOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHU9aSxyPW4sMDx0LmdldCgpfHxyLnR5cGluZyYmci5kYXRhWzBdJiYhYWIodGV0KHUpLHIuZGF0YVswXSk7dmFyIHUscn0saGFzUmVkbzpmdW5jdGlvbihuLHQpe3JldHVybiBpPW4sdC5nZXQoKTxpLmRhdGEubGVuZ3RoLTEmJiFpLnR5cGluZzt2YXIgaX0sdHJhbnNhY3Q6ZnVuY3Rpb24obix0LGkpe3JldHVybiB1PWksZ3RpKHI9bix0KSxyLmJlZm9yZUNoYW5nZSgpLHIuaWdub3JlKHUpLHIuYWRkKCk7dmFyIHIsdX0saWdub3JlOmZ1bmN0aW9uKG4sdCl7dHJ5e24uc2V0KG4uZ2V0KCkrMSk7dCgpfWZpbmFsbHl7bi5zZXQobi5nZXQoKS0xKX19LGV4dHJhOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBmLG8scz1pLGU9dCxoPXU7KGY9bikudHJhbnNhY3QocikmJihvPWYuZGF0YVtlLmdldCgpXS5ib29rbWFyayxpZXQocyxmLmRhdGFbZS5nZXQoKS0xXSwhMCksZi50cmFuc2FjdChoKSYmKGYuZGF0YVtlLmdldCgpLTFdLmJlZm9yZUJvb2ttYXJrPW8pKX19LGZvcm1hdHRlcjp7bWF0Y2g6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIGVmdChpLG4sdCxyLHUpfSxtYXRjaEFsbDpmdW5jdGlvbihuLHQpe3JldHVybiB1PW4sbz10LGY9W10sZT17fSxzPShyPWkpLnNlbGVjdGlvbi5nZXRTdGFydCgpLHIuZG9tLmdldFBhcmVudChzLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpPTA7aTx1Lmxlbmd0aDtpKyspdD11W2ldLCFlW3RdJiZ2ZihyLG4sdCxvKSYmKGVbdF09ITAsZi5wdXNoKHQpKX0sci5kb20uZ2V0Um9vdCgpKSxmO3ZhciByLHUsbyxmLGUsc30sbWF0Y2hOb2RlOmZ1bmN0aW9uKG4sdCxyLHUpe3JldHVybiB2ZihpLG4sdCxyLHUpfSxjYW5BcHBseTpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGY9dC5mb3JtYXR0ZXIuZ2V0KG4pLG89dC5kb20sZSxpLHIsdTtpZihmKWZvcihlPXN3KG8sdC5zZWxlY3Rpb24uZ2V0U3RhcnQoKSksaT1mLmxlbmd0aC0xOzA8PWk7aS0tKXtpZihyPWZbaV0sIXVyKHIpfHxnKHIuZGVmYXVsdEJsb2NrKSlyZXR1cm4hMDtmb3IodT1lLmxlbmd0aC0xOzA8PXU7dS0tKWlmKG8uaXMoZVt1XSxyLnNlbGVjdG9yKSlyZXR1cm4hMH1yZXR1cm4hMX0oaSl9LGNsb3Nlc3Q6ZnVuY3Rpb24ocil7ZnVuY3Rpb24gZShuKXtyZXR1cm4gbnQobix0LmZyb21Eb20odS5nZXRCb2R5KCkpKX1yZXR1cm4gdT1pLGY9cixuLmZyb20odS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKS5iaW5kKGZ1bmN0aW9uKGkpe3JldHVybiByZnQodC5mcm9tRG9tKGkpLGZ1bmN0aW9uKHQpe3JldHVybiB1aHQoZixmdW5jdGlvbihpKXtyZXR1cm4gdmYodSx0LmRvbSxyPWkpP24uc29tZShyKTpuLm5vbmUoKTt2YXIgcn0pfSxlKX0pLmdldE9yTnVsbCgpO3ZhciB1LGZ9LGFwcGx5OmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaGV0KGksbix0LHIpfSxyZW1vdmU6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIG90aShpLG4sdCxyLHUpfSx0b2dnbGU6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGY9bixlPXQsbz1yLHM9KHU9aSkuZm9ybWF0dGVyLmdldChmKTsoIWVmdCh1LGYsZSxvKXx8InRvZ2dsZSJpbiBzWzBdJiYhc1swXS50b2dnbGU/aGV0Om90aSkodSxmLGUsbyl9LGZvcm1hdENoYW5nZWQ6ZnVuY3Rpb24obix0LHIsdSxmKXtyZXR1cm4gaWJpKGksbix0LHIsdSxmKX19LGVkaXRvcjp7Z2V0Q29udGVudDpmdW5jdGlvbih1LGUpe3JldHVybiBvPWkscz11LGg9ZSxuLmZyb20oby5nZXRCb2R5KCkpLmZvbGQoZigidHJlZSI9PT1zLmZvcm1hdD9uZXcgcnUoImJvZHkiLDExKToiIiksZnVuY3Rpb24obil7cmV0dXJuIGY9byx1PW4seT1oLGw9YyhjKHt9LHY9cykse2Zvcm1hdDp5LGdldDohMCxnZXRJbm5lcjohMH0pLGk9di5ub19ldmVudHM/bDpmLmZpcmUoIkJlZm9yZUdldENvbnRlbnQiLGwpLGE9InJhdyI9PT1pLmZvcm1hdD9yLnRyaW0odnBpKGYuc2VyaWFsaXplcix1LmlubmVySFRNTCkpOiJ0ZXh0Ij09PWkuZm9ybWF0P2YuZG9tLmlzRW1wdHkodSk/IiI6dmUodS5pbm5lclRleHR8fHUudGV4dENvbnRlbnQpOiJ0cmVlIj09PWkuZm9ybWF0P2Yuc2VyaWFsaXplci5zZXJpYWxpemUodSxpKToodz0ocD1mKS5zZXJpYWxpemVyLnNlcmlhbGl6ZSh1LGkpLGU9c2kocCksYj1uZXcgUmVnRXhwKCJeKDwiK2UrIltePl0qPigmbmJzcDt8JiMxNjA7fFxcc3zCoHw8YnIgXFwvPnwpPFxcLyIrZSsiPltcclxuXSp8PGJyIFxcLz5bXHJcbl0qKSQiKSx3LnJlcGxhY2UoYiwiIikpLGkuY29udGVudD1kdChbInRleHQiLCJ0cmVlIl0saS5mb3JtYXQpfHx0cCh0LmZyb21Eb20odSkpP2E6ci50cmltKGEpLChpLm5vX2V2ZW50cz9pOmYuZmlyZSgiR2V0Q29udGVudCIsaSkpLmNvbnRlbnQ7dmFyIGYsdix1LHkscCx3LGUsYixsLGksYX0pO3ZhciBvLHMsaH0sc2V0Q29udGVudDpmdW5jdGlvbihuLHQpe3JldHVybiBhd2koaSxuLHQpfSxpbnNlcnRDb250ZW50OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGx3aShpLG4sdCl9LGFkZFZpc3VhbDpmdW5jdGlvbihuKXt2YXIgdCx1PW4scj0odD1pKS5kb20sZj1nKHUpP3U6dC5nZXRCb2R5KCk7dHIodC5oYXNWaXN1YWwpJiYodC5oYXNWaXN1YWw9dC5nZXRQYXJhbSgidmlzdWFsIiwhMCwiYm9vbGVhbiIpKTtlKHIuc2VsZWN0KCJ0YWJsZSxhIixmKSxmdW5jdGlvbihuKXt2YXIgaSx1LGUsZjtzd2l0Y2gobi5ub2RlTmFtZSl7Y2FzZSJUQUJMRSI6aT10LmdldFBhcmFtKCJ2aXN1YWxfdGFibGVfY2xhc3MiLCJtY2UtaXRlbS10YWJsZSIsInN0cmluZyIpO3U9ci5nZXRBdHRyaWIobiwiYm9yZGVyIik7dSYmIjAiIT09dXx8IXQuaGFzVmlzdWFsP3IucmVtb3ZlQ2xhc3MobixpKTpyLmFkZENsYXNzKG4saSk7YnJlYWs7Y2FzZSJBIjpyLmdldEF0dHJpYihuLCJocmVmIil8fChlPXIuZ2V0QXR0cmliKG4sIm5hbWUiKXx8bi5pZCxmPXQuZ2V0UGFyYW0oInZpc3VhbF9hbmNob3JfY2xhc3MiLCJtY2UtaXRlbS1hbmNob3IiLCJzdHJpbmciKSxlJiZ0Lmhhc1Zpc3VhbD9yLmFkZENsYXNzKG4sZik6ci5yZW1vdmVDbGFzcyhuLGYpKX19KTt0LmZpcmUoIlZpc3VhbEFpZCIse2VsZW1lbnQ6dSxoYXNWaXN1YWw6dC5oYXNWaXN1YWx9KX19LHNlbGVjdGlvbjp7Z2V0Q29udGVudDpmdW5jdGlvbihyLHUpe3JldHVybiBmdW5jdGlvbihpLHIsdSl7dmFyIHYsaz0odj1yLGMoYyh7fSx1PXZvaWQgMD09PXU/e306dSkse2Zvcm1hdDp2LGdldDohMCxzZWxlY3Rpb246ITB9KSksZj1pLmZpcmUoIkJlZm9yZUdldENvbnRlbnQiLGspLG8scyx5LGgscCx3LGIsZSxhO3JldHVybiBmLmlzRGVmYXVsdFByZXZlbnRlZCgpPyhpLmZpcmUoIkdldENvbnRlbnQiLGYpLGYuY29udGVudCk6InRleHQiPT09Zi5mb3JtYXQ/KGU9aSxuLmZyb20oZS5zZWxlY3Rpb24uZ2V0Um5nKCkpLm1hcChmdW5jdGlvbih0KXt2YXIgcz1uLmZyb20oZS5kb20uZ2V0UGFyZW50KHQuY29tbW9uQW5jZXN0b3JDb250YWluZXIsZS5kb20uaXNCbG9jaykpLGg9ZS5nZXRCb2R5KCksYz1zLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi5ub2RlTmFtZX0pLmdldE9yKCJkaXYiKS50b0xvd2VyQ2FzZSgpLGE9bC5icm93c2VyLmlzSUUoKSYmInByZSIhPT1jLGY9ZS5kb20uYWRkKGgsYyx7ImRhdGEtbWNlLWJvZ3VzIjoiYWxsIixzdHlsZToib3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsifSx0LmNsb25lQ29udGVudHMoKSksaT1idGkoZixhKSxvPXZlKGYudGV4dENvbnRlbnQpLHIsdTtyZXR1cm4oZS5kb20ucmVtb3ZlKGYpLGxiKG8sMCl8fGxiKG8sby5sZW5ndGgtMSkpPyhyPWJ0aShzLmdldE9yKGgpLGEpLHU9ci5pbmRleE9mKGkpLC0xPT09dT9pOihsYihyLHUtMSk/IiAiOiIiKStpKyhsYihyLHUraS5sZW5ndGgpPyIgIjoiIikpOml9KS5nZXRPcigiIikpOihmLmdldElubmVyPSEwLGE9KHM9Zix5PShvPWkpLnNlbGVjdGlvbi5nZXRSbmcoKSxoPW8uZG9tLmNyZWF0ZSgiYm9keSIpLHA9by5zZWxlY3Rpb24uZ2V0U2VsKCksdz1pdXQobyx0cnQocCkpLChiPXMuY29udGV4dHVhbD9lYmkodC5mcm9tRG9tKG8uZ2V0Qm9keSgpKSx3KS5kb206eS5jbG9uZUNvbnRlbnRzKCkpJiZoLmFwcGVuZENoaWxkKGIpLG8uc2VsZWN0aW9uLnNlcmlhbGl6ZXIuc2VyaWFsaXplKGgscykpLCJ0cmVlIj09PWYuZm9ybWF0P2E6KGYuY29udGVudD1pLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyIiOmEsaS5maXJlKCJHZXRDb250ZW50IixmKSxmLmNvbnRlbnQpKX0oaSxyLHUpfX0scmF3OntnZXRNb2RlbDpmdW5jdGlvbigpe3JldHVybiBuLm5vbmUoKX19fX1mdW5jdGlvbiB0ZShuKXtyZXR1cm4gdyhuLnBsdWdpbnMsInJ0YyIpfWZ1bmN0aW9uIHNiaSh0KXt2YXIgaT10O3JldHVybiBhdCh0LnBsdWdpbnMsInJ0YyIpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIG4uZnJvbSh0LnNldHVwKX0pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gaS5ydGNJbnN0YW5jZT1uaWkodCksbi5ub25lKCl9LGZ1bmN0aW9uKHQpe3ZhciByLHU7cmV0dXJuIGkucnRjSW5zdGFuY2U9KHI9ZihudWxsKSx1PWYoIiIpLHt1bmRvTWFuYWdlcjp7YmVmb3JlQ2hhbmdlOnksYWRkOnIsdW5kbzpyLHJlZG86cixjbGVhcjp5LHJlc2V0OnksaGFzVW5kbzppdCxoYXNSZWRvOml0LHRyYW5zYWN0OnIsaWdub3JlOnksZXh0cmE6eX0sZm9ybWF0dGVyOnttYXRjaDppdCxtYXRjaEFsbDpmKFtdKSxtYXRjaE5vZGU6Zih2b2lkIDApLGNhbkFwcGx5Oml0LGNsb3Nlc3Q6dSxhcHBseTp5LHJlbW92ZTp5LHRvZ2dsZTp5LGZvcm1hdENoYW5nZWQ6Zih7dW5iaW5kOnl9KX0sZWRpdG9yOntnZXRDb250ZW50OnUsc2V0Q29udGVudDp1LGluc2VydENvbnRlbnQ6eSxhZGRWaXN1YWw6eX0sc2VsZWN0aW9uOntnZXRDb250ZW50OnV9LHJhdzp7Z2V0TW9kZWw6ZihuLm5vbmUoKSl9fSksbi5zb21lKGZ1bmN0aW9uKCl7cmV0dXJuIHQoKS50aGVuKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7cmV0dXJuIGVoKG4pP246e319cmV0dXJuIGkucnRjSW5zdGFuY2U9KHI9dC51bmRvTWFuYWdlcix1PXQuZm9ybWF0dGVyLGY9dC5lZGl0b3Isbz10LnNlbGVjdGlvbixzPXQucmF3LHt1bmRvTWFuYWdlcjp7YmVmb3JlQ2hhbmdlOnIuYmVmb3JlQ2hhbmdlLGFkZDpyLmFkZCx1bmRvOnIudW5kbyxyZWRvOnIucmVkbyxjbGVhcjpyLmNsZWFyLHJlc2V0OnIucmVzZXQsaGFzVW5kbzpyLmhhc1VuZG8saGFzUmVkbzpyLmhhc1JlZG8sdHJhbnNhY3Q6ZnVuY3Rpb24obix0LGkpe3JldHVybiByLnRyYW5zYWN0KGkpfSxpZ25vcmU6ZnVuY3Rpb24obix0KXtyZXR1cm4gci5pZ25vcmUodCl9LGV4dHJhOmZ1bmN0aW9uKG4sdCxpLHUpe3JldHVybiByLmV4dHJhKGksdSl9fSxmb3JtYXR0ZXI6e21hdGNoOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB1Lm1hdGNoKG4sZSh0KSxyKX0sbWF0Y2hBbGw6dS5tYXRjaEFsbCxtYXRjaE5vZGU6dS5tYXRjaE5vZGUsY2FuQXBwbHk6ZnVuY3Rpb24obil7cmV0dXJuIHUuY2FuQXBwbHkobil9LGNsb3Nlc3Q6ZnVuY3Rpb24obil7cmV0dXJuIHUuY2xvc2VzdChuKX0sYXBwbHk6ZnVuY3Rpb24obix0KXtyZXR1cm4gdS5hcHBseShuLGUodCkpfSxyZW1vdmU6ZnVuY3Rpb24obix0KXtyZXR1cm4gdS5yZW1vdmUobixlKHQpKX0sdG9nZ2xlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHUudG9nZ2xlKG4sZSh0KSl9LGZvcm1hdENoYW5nZWQ6ZnVuY3Rpb24obix0LGkscixmKXtyZXR1cm4gdS5mb3JtYXRDaGFuZ2VkKHQsaSxyLGYpfX0sZWRpdG9yOntnZXRDb250ZW50OmZ1bmN0aW9uKG4pe3JldHVybiBmLmdldENvbnRlbnQobil9LHNldENvbnRlbnQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gZi5zZXRDb250ZW50KG4sdCl9LGluc2VydENvbnRlbnQ6ZnVuY3Rpb24obil7cmV0dXJuIGYuaW5zZXJ0Q29udGVudChuKX0sYWRkVmlzdWFsOmYuYWRkVmlzdWFsfSxzZWxlY3Rpb246e2dldENvbnRlbnQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gby5nZXRDb250ZW50KHQpfX0scmF3OntnZXRNb2RlbDpmdW5jdGlvbigpe3JldHVybiBuLnNvbWUocy5nZXRSYXdNb2RlbCgpKX19fSksdC5ydGMuaXNSZW1vdGU7dmFyIHIsdSxmLG8sc30pfSl9KX1mdW5jdGlvbiBmZXQobil7cmV0dXJuIG4ucnRjSW5zdGFuY2V8fG5paShuKX1mdW5jdGlvbiBjdChuKXt2YXIgdD1uLnJ0Y0luc3RhbmNlO2lmKHQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IFJUQyBpbnN0YW5jZSBub3QgeWV0IGluaXRpYWxpemVkLiIpO31mdW5jdGlvbiB0aWkodCl7cmV0dXJuIDA9PT10LmRvbS5sZW5ndGg/KG5pKHQpLG4ubm9uZSgpKTpuLnNvbWUodCl9ZnVuY3Rpb24gaWlpKG4sdCxyLHUpe24uYmluZChmdW5jdGlvbihuKXtyZXR1cm4odT92dXQ6ZmIpKG4uZG9tLHU/bi5kb20ubGVuZ3RoOjApLHQuZmlsdGVyKGdyKS5tYXAoZnVuY3Rpb24odCl7dmFyIG89cixmPXUsZT1uLmRvbSxpPXQuZG9tLHM9KGY/ZTppKS5sZW5ndGg7Zj8oeXV0KGUsaSwhMSwhZiksby5zZXRTdGFydChpLHMpKTooeXV0KGksZSwhMSwhZiksby5zZXRFbmQoaSxzKSl9KX0pLm9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgbj11O3JldHVybiB0LmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gcnYuaXNCb29rbWFya05vZGUobi5kb20pfSkuYmluZChuP2tsOmJvKS5vcih0KS5maWx0ZXIoZ3IpLm1hcChmdW5jdGlvbihuKXt2YXIgdCxyPXU7ZXUodD1uKS5lYWNoKGZ1bmN0aW9uKG4pe3ZhciB1PXQuZG9tO3ImJnJiKG4saSh1LDApKT9mYih1LDApOiFyJiZ1YihuLGkodSx1Lmxlbmd0aCkpJiZ2dXQodSx1Lmxlbmd0aCl9KX0pfSl9ZnVuY3Rpb24gaGJpKGkscix1KXt2YXIgaCxzPShoPXIsYyhjKHtmb3JtYXQ6Imh0bWwifSx1PXZvaWQgMD09PXU/e306dSkse3NldDohMCxzZWxlY3Rpb246ITAsY29udGVudDpofSkpLGY9cyxvLGU7aWYoIXMubm9fZXZlbnRzKXtpZihvPWkuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIscyksby5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gdm9pZCBpLmZpcmUoIlNldENvbnRlbnQiLG8pO2Y9b31mLmNvbnRlbnQ9ZnVuY3Rpb24obix0KXtpZigicmF3Ij09PXQuZm9ybWF0KXJldHVybiB0LmNvbnRlbnQ7dmFyIHI9bi5zZWxlY3Rpb24uZ2V0Um5nKCksaT1uLmRvbS5nZXRQYXJlbnQoci5jb21tb25BbmNlc3RvckNvbnRhaW5lcixuLmRvbS5pc0Jsb2NrKSx1PWk/e2NvbnRleHQ6aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfTp7fSxmPW4ucGFyc2VyLnBhcnNlKHQuY29udGVudCxjKGMoe2lzUm9vdENvbnRlbnQ6ITAsZm9yY2VkX3Jvb3RfYmxvY2s6ITF9LHUpLHQpKTtyZXR1cm4gbmwoe3ZhbGlkYXRlOm4udmFsaWRhdGV9LG4uc2NoZW1hKS5zZXJpYWxpemUoZil9KGksZik7ZT1pLnNlbGVjdGlvbi5nZXRSbmcoKTshZnVuY3Rpb24oaSxyKXt2YXIgdT1uLmZyb20oci5maXJzdENoaWxkKS5tYXAodC5mcm9tRG9tKSxmPW4uZnJvbShyLmxhc3RDaGlsZCkubWFwKHQuZnJvbURvbSksZSxvO2kuZGVsZXRlQ29udGVudHMoKTtpLmluc2VydE5vZGUocik7ZT11LmJpbmQoYm8pLmZpbHRlcihncikuYmluZCh0aWkpO289Zi5iaW5kKGtsKS5maWx0ZXIoZ3IpLmJpbmQodGlpKTtpaWkoZSx1LGksITApO2lpaShvLGYsaSwhMSk7aS5jb2xsYXBzZSghMSl9KGUsZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoZi5jb250ZW50KSk7aS5zZWxlY3Rpb24uc2V0Um5nKGUpO2V2KGksZSk7Zi5ub19ldmVudHN8fGkuZmlyZSgiU2V0Q29udGVudCIsZil9ZnVuY3Rpb24gcmlpKG4sdCxpKXt2YXIgcjtuJiZ3KG4sdCkmJigwPT09KHI9cChuW3RdLGZ1bmN0aW9uKG4pe3JldHVybiBuIT09aX0pKS5sZW5ndGg/ZGVsZXRlIG5bdF06blt0XT1yKX1mdW5jdGlvbiBvaWkobil7cmV0dXJuIG4uc2VsZWN0fWZ1bmN0aW9uIHNpaShuKXtyZXR1cm4gbiYmbi5vd25lckRvY3VtZW50JiZvZSh0LmZyb21Eb20obi5vd25lckRvY3VtZW50KSx0LmZyb21Eb20obikpfWZ1bmN0aW9uIGhpaSh0LHUsZixvKXtmdW5jdGlvbiBudChuLHQpe3JldHVybiBoYmkobyxuLHQpfWZ1bmN0aW9uIHR0KCl7dmFyIG49digpLHU9bnVsbD09bj92b2lkIDA6bi5hbmNob3JOb2RlLGY9bnVsbD09bj92b2lkIDA6bi5mb2N1c05vZGUsaSxyO3JldHVybiFufHwhdXx8IWZ8fGN5KHUpfHxjeShmKT8hMDooaT10LmNyZWF0ZVJuZygpLGkuc2V0U3RhcnQodSxuLmFuY2hvck9mZnNldCksaS5jb2xsYXBzZSghMCkscj10LmNyZWF0ZVJuZygpLHIuc2V0U3RhcnQoZixuLmZvY3VzT2Zmc2V0KSxyLmNvbGxhcHNlKCEwKSxpLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhpLlNUQVJUX1RPX1NUQVJULHIpPD0wKX1mdW5jdGlvbiBpdChuKXt2YXIgdD1zKCk7dC5jb2xsYXBzZSghIW4pO2EodCl9ZnVuY3Rpb24gdigpe3JldHVybiB1LmdldFNlbGVjdGlvbj91LmdldFNlbGVjdGlvbigpOnUuZG9jdW1lbnQuc2VsZWN0aW9ufWZ1bmN0aW9uIGZ0KG4sdCl7cmV0dXJuIGd0KHQsZnVuY3Rpb24odCl7cmV0dXJuIGIuaXModCxuKX0pfWZ1bmN0aW9uIGV0KG4pe3JldHVybiBiLmdldFBhcmVudHMobixudWxsLGIuZ2V0Um9vdCgpKX12YXIgeSxwLGIsayxoLGMscnQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gaHx8KGg9e30sYz17fSxrLm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbihuKXt2YXIgaT1uLmVsZW1lbnQsdD1ldChpKSx1PXt9O3IuZWFjaChoLGZ1bmN0aW9uKG4saSl7ZnQoaSx0KS5lYWNoKGZ1bmN0aW9uKHIpe2NbaV18fChlKG4sZnVuY3Rpb24obil7bighMCx7bm9kZTpyLHNlbGVjdG9yOmkscGFyZW50czp0fSl9KSxjW2ldPW4pO3VbaV09bn0pfSk7ci5lYWNoKGMsZnVuY3Rpb24obixmKXt1W2ZdfHwoZGVsZXRlIGNbZl0sci5lYWNoKG4sZnVuY3Rpb24obil7bighMSx7bm9kZTppLHNlbGVjdG9yOmYscGFyZW50czp0fSl9KSl9KX0pKSxoW25dfHwoaFtuXT1bXSksaFtuXS5wdXNoKHQpLGZ0KG4sZXQoay5zZWxlY3Rpb24uZ2V0U3RhcnQoKSkpLmVhY2goZnVuY3Rpb24oKXtjW25dPWhbbl19KSx7dW5iaW5kOmZ1bmN0aW9uKCl7cmlpKGgsbix0KTtyaWkoYyxuLHQpfX19LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzKG4sdCxpKXt0cnl7cmV0dXJuIHQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKG4saSl9Y2F0Y2gobil7cmV0dXJuLTF9fXZhciBpLG4sZixyPXUuZG9jdW1lbnQsZTtpZih2b2lkIDAhPT1vLmJvb2ttYXJrJiYhMT09PWFzKG8pJiYoZT1udXQobyksZS5pc1NvbWUoKSkpcmV0dXJuIGUubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBpdXQobyxbbl0pWzBdfSkuZ2V0T3Ioci5jcmVhdGVSYW5nZSgpKTt0cnl7KGk9digpKSYmIWN5KGkuYW5jaG9yTm9kZSkmJihuPTA8aS5yYW5nZUNvdW50P2kuZ2V0UmFuZ2VBdCgwKTooaS5jcmVhdGVSYW5nZT9pOnIpLmNyZWF0ZVJhbmdlKCksbj1pdXQobyxbbl0pWzBdKX1jYXRjaChzKXt9cmV0dXJuKG49bnx8KHIuY3JlYXRlUmFuZ2U/ci5jcmVhdGVSYW5nZSgpOnIuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSkpLnNldFN0YXJ0JiY5PT09bi5zdGFydENvbnRhaW5lci5ub2RlVHlwZSYmbi5jb2xsYXBzZWQmJihmPXQuZ2V0Um9vdCgpLG4uc2V0U3RhcnQoZiwwKSxuLnNldEVuZChmLDApKSx5JiZwJiYoMD09PXMobi5TVEFSVF9UT19TVEFSVCxuLHkpJiYwPT09cyhuLkVORF9UT19FTkQsbix5KT9uPXA6cD15PW51bGwpLG59LGE9ZnVuY3Rpb24obix0KXt2YXIgcix1LGYsaTtpZigodT1uKSYmKG9paSh1KXx8c2lpKHUuc3RhcnRDb250YWluZXIpJiZzaWkodS5lbmRDb250YWluZXIpKSlpZihmPW9paShuKT9uOm51bGwsZil7cD1udWxsO3RyeXtmLnNlbGVjdCgpfWNhdGNoKG4pe319ZWxzZXtpZihpPXYoKSxuPW8uZmlyZSgiU2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTpuLGZvcndhcmQ6dH0pLnJhbmdlLGkpe3A9bjt0cnl7aS5yZW1vdmVBbGxSYW5nZXMoKTtpLmFkZFJhbmdlKG4pfWNhdGNoKG4pe30hMT09PXQmJmkuZXh0ZW5kJiYoaS5jb2xsYXBzZShuLmVuZENvbnRhaW5lcixuLmVuZE9mZnNldCksaS5leHRlbmQobi5zdGFydENvbnRhaW5lcixuLnN0YXJ0T2Zmc2V0KSk7eT0wPGkucmFuZ2VDb3VudD9pLmdldFJhbmdlQXQoMCk6bnVsbH1uLmNvbGxhcHNlZHx8bi5zdGFydENvbnRhaW5lciE9PW4uZW5kQ29udGFpbmVyfHwhaS5zZXRCYXNlQW5kRXh0ZW50fHxsLmllfHxuLmVuZE9mZnNldC1uLnN0YXJ0T2Zmc2V0PDImJm4uc3RhcnRDb250YWluZXIuaGFzQ2hpbGROb2RlcygpJiYocj1uLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbbi5zdGFydE9mZnNldF0pJiYiSU1HIj09PXIudGFnTmFtZSYmKGkuc2V0QmFzZUFuZEV4dGVudChuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQsbi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpLGkuYW5jaG9yTm9kZT09PW4uc3RhcnRDb250YWluZXImJmkuZm9jdXNOb2RlPT09bi5lbmRDb250YWluZXJ8fGkuc2V0QmFzZUFuZEV4dGVudChyLDAsciwxKSk7by5maXJlKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIix7cmFuZ2U6bixmb3J3YXJkOnR9KX19LHc9e2Jvb2ttYXJrTWFuYWdlcjpudWxsLGNvbnRyb2xTZWxlY3Rpb246bnVsbCxkb206Yj10LHdpbjp1LHNlcmlhbGl6ZXI6ZixlZGl0b3I6az1vLGNvbGxhcHNlOml0LHNldEN1cnNvckxvY2F0aW9uOmZ1bmN0aW9uKG4saSl7dmFyIHI9dC5jcmVhdGVSbmcoKTtnKG4pJiZnKGkpPyhyLnNldFN0YXJ0KG4saSksci5zZXRFbmQobixpKSxhKHIpLGl0KCExKSk6KHJydCh0LHIsby5nZXRCb2R5KCksITApLGEocikpfSxnZXRDb250ZW50OmZ1bmN0aW9uKG4pe3JldHVybiBpPSh0PXZvaWQgMD09PSh0PW4pP3t9OnQpLmZvcm1hdHx8Imh0bWwiLHI9dCxjdChvKS5zZWxlY3Rpb24uZ2V0Q29udGVudChpLHIpO3ZhciB0LGkscn0sc2V0Q29udGVudDpudCxnZXRCb29rbWFyazpmdW5jdGlvbihuLHQpe3JldHVybiBkLmdldEJvb2ttYXJrKG4sdCl9LG1vdmVUb0Jvb2ttYXJrOmZ1bmN0aW9uKG4pe3JldHVybiBkLm1vdmVUb0Jvb2ttYXJrKG4pfSxzZWxlY3Q6ZnVuY3Rpb24oaSxyKXt2YXIgdT10LGY9cjtyZXR1cm4gbi5mcm9tKGkpLm1hcChmdW5jdGlvbihuKXt2YXIgaT11Lm5vZGVJbmRleChuKSx0PXUuY3JlYXRlUm5nKCk7cmV0dXJuIHQuc2V0U3RhcnQobi5wYXJlbnROb2RlLGkpLHQuc2V0RW5kKG4ucGFyZW50Tm9kZSxpKzEpLGYmJihycnQodSx0LG4sITApLHJydCh1LHQsbiwhMSkpLHR9KS5lYWNoKGEpLGl9LGlzQ29sbGFwc2VkOmZ1bmN0aW9uKCl7dmFyIG49cygpLHQ9digpO3JldHVybiEoIW58fG4uaXRlbSkmJihuLmNvbXBhcmVFbmRQb2ludHM/MD09PW4uY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsbik6IXR8fG4uY29sbGFwc2VkKX0saXNGb3J3YXJkOnR0LHNldE5vZGU6ZnVuY3Rpb24obil7cmV0dXJuIG50KHQuZ2V0T3V0ZXJIVE1MKG4pKSxufSxnZXROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7aWYoIXQpcmV0dXJuIG47dmFyIGk9dC5zdGFydENvbnRhaW5lcixyPXQuZW5kQ29udGFpbmVyLGY9dC5zdGFydE9mZnNldCxlPXQuZW5kT2Zmc2V0LHU9dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtyZXR1cm4hdC5jb2xsYXBzZWQmJihpPT09ciYmZS1mPDImJmkuaGFzQ2hpbGROb2RlcygpJiYodT1pLmNoaWxkTm9kZXNbZl0pLDM9PT1pLm5vZGVUeXBlJiYzPT09ci5ub2RlVHlwZSYmKGk9aS5sZW5ndGg9PT1mP3JkdChpLm5leHRTaWJsaW5nLCEwKTppLnBhcmVudE5vZGUscj0wPT09ZT9yZHQoci5wcmV2aW91c1NpYmxpbmcsITEpOnIucGFyZW50Tm9kZSxpJiZpPT09cikpP2k6dSYmMz09PXUubm9kZVR5cGU/dS5wYXJlbnROb2RlOnV9KG8uZ2V0Qm9keSgpLHMoKSl9LGdldFNlbDp2LHNldFJuZzphLGdldFJuZzpzLGdldFN0YXJ0OmZ1bmN0aW9uKG4pe3JldHVybiB0ZHQoby5nZXRCb2R5KCkscygpLG4pfSxnZXRFbmQ6ZnVuY3Rpb24obil7cmV0dXJuIGlkdChvLmdldEJvZHkoKSxzKCksbil9LGdldFNlbGVjdGVkQmxvY2tzOmZ1bmN0aW9uKG4saSl7cmV0dXJuIGZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBmPVtdLHU9bi5nZXRSb290KCksZSxvO2lmKGk9bi5nZXRQYXJlbnQoaXx8dGR0KHUsdCx0LmNvbGxhcHNlZCksbi5pc0Jsb2NrKSxyPW4uZ2V0UGFyZW50KHJ8fGlkdCh1LHQsdC5jb2xsYXBzZWQpLG4uaXNCbG9jayksaSYmaSE9PXUmJmYucHVzaChpKSxpJiZyJiZpIT09cilmb3Iobz1uZXcgeXQoaSx1KTsoZT1vLm5leHQoKSkmJmUhPT1yOyluLmlzQmxvY2soZSkmJmYucHVzaChlKTtyZXR1cm4gciYmaSE9PXImJnIhPT11JiZmLnB1c2gociksZn0odCxzKCksbixpKX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7dmFyIG49cygpLGk7cmV0dXJuIDE8dHJ0KHYoKSkubGVuZ3RofHwhY3cobyk/bjooaT12dyh0LG4pLGkuZWFjaChmdW5jdGlvbihuKXthKG4sdHQoKSl9KSxpLmdldE9yKG4pKX0sc2VsZWN0b3JDaGFuZ2VkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHJ0KG4sdCksd30sc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDpydCxnZXRTY3JvbGxDb250YWluZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGksbj10LmdldFJvb3QoKTtuJiYiQk9EWSIhPT1uLm5vZGVOYW1lOyl7aWYobi5zY3JvbGxIZWlnaHQ+bi5jbGllbnRIZWlnaHQpe2k9bjticmVha31uPW4ucGFyZW50Tm9kZX1yZXR1cm4gaX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24obix0KXtnKG4pPyhvLmlubGluZT93eWk6a3lpKShvLG4sdCk6ZXYobyxzKCksdCl9LHBsYWNlQ2FyZXRBdDpmdW5jdGlvbihuLHQpe3JldHVybiBhKHZydChuLHQsby5nZXREb2MoKSkpfSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgbj1zKCk7cmV0dXJuIG4uY29sbGFwc2VkP2kuZnJvbVJhbmdlU3RhcnQobikuZ2V0Q2xpZW50UmVjdHMoKVswXTpuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dT15PXA9bnVsbDt1dC5kZXN0cm95KCl9fSxkPXJ2KHcpLHV0PWdidCh3LG8pO3JldHVybiB3LmJvb2ttYXJrTWFuYWdlcj1kLHcuY29udHJvbFNlbGVjdGlvbj11dCx3fWZ1bmN0aW9uIGFiaShuLHQpe3ZhciBpLGYsdSxvLHM9cG4oKTt0LmNvbnZlcnRfZm9udHNfdG9fc3BhbnMmJihmPW4sdT1zLG89ci5leHBsb2RlKHQuZm9udF9zaXplX2xlZ2FjeV92YWx1ZXMpLGYuYWRkTm9kZUZpbHRlcigiZm9udCIsZnVuY3Rpb24obil7ZShuLGZ1bmN0aW9uKG4pe3ZhciBpLHQ9dS5wYXJzZShuLmF0dHIoInN0eWxlIikpLHI9bi5hdHRyKCJjb2xvciIpLGY9bi5hdHRyKCJmYWNlIikscz1uLmF0dHIoInNpemUiKTtyJiYodC5jb2xvcj1yKTtmJiYodFsiZm9udC1mYW1pbHkiXT1mKTtzJiYodFsiZm9udC1zaXplIl09b1twYXJzZUludChuLmF0dHIoInNpemUiKSwxMCktMV0pO24ubmFtZT0ic3BhbiI7bi5hdHRyKCJzdHlsZSIsdS5zZXJpYWxpemUodCkpO2k9bjtlKFsiY29sb3IiLCJmYWNlIiwic2l6ZSJdLGZ1bmN0aW9uKG4pe2kuYXR0cihuLG51bGwpfSl9KX0pKTtpPXM7bi5hZGROb2RlRmlsdGVyKCJzdHJpa2UiLGZ1bmN0aW9uKG4pe2UobixmdW5jdGlvbihuKXt2YXIgdD1pLnBhcnNlKG4uYXR0cigic3R5bGUiKSk7dFsidGV4dC1kZWNvcmF0aW9uIl09ImxpbmUtdGhyb3VnaCI7bi5uYW1lPSJzcGFuIjtuLmF0dHIoInN0eWxlIixpLnNlcmlhbGl6ZSh0KSl9KX0pfWZ1bmN0aW9uIGNldChuKXt2YXIgdCxpPWRlY29kZVVSSUNvbXBvbmVudChuKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhpWzBdKTtyZXR1cm57dHlwZTp0PXI/clsxXTp0LGRhdGE6aVsxXX19ZnVuY3Rpb24gY2lpKHQsaSl7dmFyIGYsdSxyO3RyeXtmPWF0b2IoaSl9Y2F0Y2godCl7cmV0dXJuIG4ubm9uZSgpfWZvcih1PW5ldyBVaW50OEFycmF5KGYubGVuZ3RoKSxyPTA7cjx1Lmxlbmd0aDtyKyspdVtyXT1mLmNoYXJDb2RlQXQocik7cmV0dXJuIG4uc29tZShuZXcgQmxvYihbdV0se3R5cGU6dH0pKX1mdW5jdGlvbiBsaWkobil7cmV0dXJuIDA9PT1uLmluZGV4T2YoImJsb2I6Iik/KHQ9bixuZXcgcmkoZnVuY3Rpb24obixpKXtmdW5jdGlvbiB1KCl7aSgiQ2Fubm90IGNvbnZlcnQgIit0KyIgdG8gQmxvYi4gUmVzb3VyY2UgbWlnaHQgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZS4iKX10cnl7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub3BlbigiR0VUIix0LCEwKTtyLnJlc3BvbnNlVHlwZT0iYmxvYiI7ci5vbmxvYWQ9ZnVuY3Rpb24oKXsyMDA9PT1yLnN0YXR1cz9uKHIucmVzcG9uc2UpOnUoKX07ci5vbmVycm9yPXU7ci5zZW5kKCl9Y2F0Y2gobil7dSgpfX0pKTowPT09bi5pbmRleE9mKCJkYXRhOiIpPyhpPW4sbmV3IHJpKGZ1bmN0aW9uKG4pe3ZhciB0PWNldChpKTtjaWkodC50eXBlLHQuZGF0YSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBuKG5ldyBCbG9iKFtdKSl9LG4pfSkpOm51bGw7dmFyIHQsaX1mdW5jdGlvbiBhZXQobil7cmV0dXJuKG58fCJibG9iaWQiKStnYmkrK31mdW5jdGlvbiB2Ymkobix0KXt2YXIgaT17fTtyZXR1cm57ZmluZEFsbDpmdW5jdGlvbihyLHUpe3U9dXx8bHQ7dmFyIGY9dXQocChyP2J1KHIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpKTpbXSxmdW5jdGlvbih0KXt2YXIgaT10LnNyYztyZXR1cm4gbC5maWxlQXBpJiYhdC5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJiF0Lmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKSYmaSYmaSE9PWwudHJhbnNwYXJlbnRTcmMmJigwPT09aS5pbmRleE9mKCJibG9iOiIpPyFuLmlzVXBsb2FkZWQoaSkmJnUodCk6MD09PWkuaW5kZXhPZigiZGF0YToiKSYmdSh0KSl9KSxmdW5jdGlvbihuKXtpZih2b2lkIDAhPT1pW24uc3JjXSlyZXR1cm4gbmV3IHJpKGZ1bmN0aW9uKHQpe2lbbi5zcmNdLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBpP2k6dm9pZCB0KHtpbWFnZTpuLGJsb2JJbmZvOmkuYmxvYkluZm99KX0pfSk7dmFyIHI9bmV3IHJpKGZ1bmN0aW9uKGkscil7dmFyIGUsZixvLGgsYyxsLGEscyx1O2U9dDtvPWk7aD1yOzAhPT0oZj1uKS5zcmMuaW5kZXhPZigiYmxvYjoiKT8obD0oYz1jZXQoZi5zcmMpKS5kYXRhLGE9Yy50eXBlLHM9bCwodT1lLmdldEJ5RGF0YShzLGEpKT9vKHtpbWFnZTpmLGJsb2JJbmZvOnV9KTpsaWkoZi5zcmMpLnRoZW4oZnVuY3Rpb24obil7dT1lLmNyZWF0ZShhZXQoKSxuLHMpO2UuYWRkKHUpO28oe2ltYWdlOmYsYmxvYkluZm86dX0pfSxmdW5jdGlvbihuKXtoKG4pfSkpOih1PWUuZ2V0QnlVcmkoZi5zcmMpKT9vKHtpbWFnZTpmLGJsb2JJbmZvOnV9KTpsaWkoZi5zcmMpLnRoZW4oZnVuY3Rpb24obil7dmFyIHQ9bjtuZXcgcmkoZnVuY3Rpb24obil7dmFyIGk9bmV3IEZpbGVSZWFkZXI7aS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtuKGkucmVzdWx0KX07aS5yZWFkQXNEYXRhVVJMKHQpfSkudGhlbihmdW5jdGlvbih0KXtzPWNldCh0KS5kYXRhO3U9ZS5jcmVhdGUoYWV0KCksbixzKTtlLmFkZCh1KTtvKHtpbWFnZTpmLGJsb2JJbmZvOnV9KX0pfSxmdW5jdGlvbihuKXtoKG4pfSl9KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBkZWxldGUgaVtuLmltYWdlLnNyY10sbn0pLmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgaVtuLnNyY10sdH0pO3JldHVybiBpW24uc3JjXT1yfSk7cmV0dXJuIHJpLmFsbChmKX19fWZ1bmN0aW9uIHZldChuLHQsaSxyKXsobi5wYWRkX2VtcHR5X3dpdGhfYnJ8fHQuaW5zZXJ0KSYmaVtyLm5hbWVdP3IuZW1wdHkoKS5hcHBlbmQobmV3IHJ1KCJiciIsMSkpLnNob3J0RW5kZWQ9ITA6ci5lbXB0eSgpLmFwcGVuZChuZXcgcnUoIiN0ZXh0IiwzKSkudmFsdWU9aXJ9ZnVuY3Rpb24gY3Yobix0LGkscil7cmV0dXJuIHIuaXNFbXB0eSh0LGksZnVuY3Rpb24odCl7cmV0dXJuKGk9bi5nZXRFbGVtZW50UnVsZSh0Lm5hbWUpKSYmaS5wYWRkRW1wdHk7dmFyIGl9KX1mdW5jdGlvbiB5YmkodCxpKXtmdW5jdGlvbiBoKHQpe3ZhciByLGksdT10LmF0dHIoInNyYyIpOyhyPXQpLmF0dHIoInNyYyIpPT09bC50cmFuc3BhcmVudFNyY3x8ZyhyLmF0dHIoImRhdGEtbWNlLXBsYWNlaG9sZGVyIikpfHxnKHQuYXR0cigiZGF0YS1tY2UtYm9ndXMiKSl8fCgoaT0vZGF0YTooW147XSspO2Jhc2U2NCwoW2EtejAtOVwrXC89XHNdKykvaS5leGVjKHUpKT9uLnNvbWUoe3R5cGU6aVsxXSxkYXRhOmRlY29kZVVSSUNvbXBvbmVudChpWzJdKX0pOm4ubm9uZSgpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obix0KXtpZih0LmltYWdlc19kYXRhaW1nX2ZpbHRlcil7dmFyIGk9bmV3IEltYWdlO3JldHVybiBpLnNyYz1uLmF0dHIoInNyYyIpLGV0KG4uYXR0cmlidXRlcy5tYXAsZnVuY3Rpb24obix0KXtpLnNldEF0dHJpYnV0ZSh0LG4pfSksdC5pbWFnZXNfZGF0YWltZ19maWx0ZXIoaSl9cmV0dXJuITB9KHQscyl9KS5iaW5kKGZ1bmN0aW9uKHQpe3ZhciByPXQudHlwZSxpPXQuZGF0YTtyZXR1cm4gbi5mcm9tKGYuZ2V0QnlEYXRhKGkscikpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gY2lpKHIsaSkubWFwKGZ1bmN0aW9uKG4pe3ZhciB0PWYuY3JlYXRlKGFldCgpLG4saSk7cmV0dXJuIGYuYWRkKHQpLHR9KX0pfSkuZWFjaChmdW5jdGlvbihuKXt0LmF0dHIoInNyYyIsbi5ibG9iVXJpKCkpfSl9dmFyIG8scyxmLHU9dC5zY2hlbWE7aS5yZW1vdmVfdHJhaWxpbmdfYnJzJiZ0LmFkZE5vZGVGaWx0ZXIoImJyIixmdW5jdGlvbihuLHQsZil7dmFyIGMsbyxlLGgscyx2LGEseSxwPW4ubGVuZ3RoLGw9ci5leHRlbmQoe30sdS5nZXRCbG9ja0VsZW1lbnRzKCkpLHc9dS5nZXROb25FbXB0eUVsZW1lbnRzKCksYj11LmdldFdoaXRlU3BhY2VFbGVtZW50cygpO2ZvcihsLmJvZHk9MSxjPTA7YzxwO2MrKylpZihlPShvPW5bY10pLnBhcmVudCxsW28ucGFyZW50Lm5hbWVdJiZvPT09ZS5sYXN0Q2hpbGQpe2ZvcihzPW8ucHJldjtzOyl7aWYoInNwYW4iIT09KHY9cy5uYW1lKXx8ImJvb2ttYXJrIiE9PXMuYXR0cigiZGF0YS1tY2UtdHlwZSIpKXsiYnIiPT09diYmKG89bnVsbCk7YnJlYWt9cz1zLnByZXZ9byYmKG8ucmVtb3ZlKCksY3YodSx3LGIsZSkmJihhPXUuZ2V0RWxlbWVudFJ1bGUoZS5uYW1lKSkmJihhLnJlbW92ZUVtcHR5P2UucmVtb3ZlKCk6YS5wYWRkRW1wdHkmJnZldChpLGYsbCxlKSkpfWVsc2V7Zm9yKGg9bztlJiZlLmZpcnN0Q2hpbGQ9PT1oJiZlLmxhc3RDaGlsZD09PWgmJiFsWyhoPWUpLm5hbWVdOyllPWUucGFyZW50O2g9PT1lJiYhMCE9PWkucGFkZF9lbXB0eV93aXRoX2JyJiYoKHk9bmV3IHJ1KCIjdGV4dCIsMykpLnZhbHVlPWlyLG8ucmVwbGFjZSh5KSl9fSk7dC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImhyZWYiLGZ1bmN0aW9uKG4pe3ZhciBmLHQsZT1uLmxlbmd0aCx1O2lmKCFpLmFsbG93X3Vuc2FmZV9saW5rX3RhcmdldClmb3IoO2UtLTspdT1uW2VdLCJhIj09PXUubmFtZSYmIl9ibGFuayI9PT11LmF0dHIoInRhcmdldCIpJiZ1LmF0dHIoInJlbCIsKHQ9dm9pZCAwLHQ9KGY9dS5hdHRyKCJyZWwiKSk/ci50cmltKGYpOiIiLC9cYihub29wZW5lcilcYi9nLnRlc3QodCk/dDp0LnNwbGl0KCIgIikuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiAwPG4ubGVuZ3RofSkuY29uY2F0KFsibm9vcGVuZXIiXSkuc29ydCgpLmpvaW4oIiAiKSkpfSk7aS5hbGxvd19odG1sX2luX25hbWVkX2FuY2hvcnx8dC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImlkLG5hbWUiLGZ1bmN0aW9uKG4pe2Zvcih2YXIgaSxyLHUsdCxmPW4ubGVuZ3RoO2YtLTspaWYoImEiPT09KHQ9bltmXSkubmFtZSYmdC5maXJzdENoaWxkJiYhdC5hdHRyKCJocmVmIikpZm9yKHU9dC5wYXJlbnQsaT10Lmxhc3RDaGlsZDtyPWkucHJldix1Lmluc2VydChpLHQpLGk9cjspO30pO2kuZml4X2xpc3RfZWxlbWVudHMmJnQuYWRkTm9kZUZpbHRlcigidWwsb2wiLGZ1bmN0aW9uKG4pe2Zvcih2YXIgaSx0LHIsdT1uLmxlbmd0aDt1LS07KSJ1bCIhPT0ocj0odD1uW3VdKS5wYXJlbnQpLm5hbWUmJiJvbCIhPT1yLm5hbWV8fCh0LnByZXYmJiJsaSI9PT10LnByZXYubmFtZT90LnByZXYuYXBwZW5kKHQpOigoaT1uZXcgcnUoImxpIiwxKSkuYXR0cigic3R5bGUiLCJsaXN0LXN0eWxlLXR5cGU6IG5vbmUiKSx0LndyYXAoaSkpKX0pO2kudmFsaWRhdGUmJnUuZ2V0VmFsaWRDbGFzc2VzKCkmJnQuYWRkQXR0cmlidXRlRmlsdGVyKCJjbGFzcyIsZnVuY3Rpb24obil7Zm9yKHZhciBmPXUuZ2V0VmFsaWRDbGFzc2VzKCksZT1uLmxlbmd0aDtlLS07KXtmb3IodmFyIG89bltlXSxjPW8uYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpLHQ9IiIscz0wO3M8Yy5sZW5ndGg7cysrKXt2YXIgaD1jW3NdLHI9ITEsaT1mWyIqIl07aSYmaVtoXSYmKHI9ITApO2k9ZltvLm5hbWVdOyhyPSEocnx8IWl8fCFpW2hdKXx8cikmJih0JiYodCs9IiAiKSx0Kz1oKX10Lmxlbmd0aHx8KHQ9bnVsbCk7by5hdHRyKCJjbGFzcyIsdCl9fSk7bz10OyhmPShzPWkpLmJsb2JfY2FjaGUpJiZvLmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjIixmdW5jdGlvbihuKXtyZXR1cm4gZShuLGgpfSl9ZnVuY3Rpb24geWV0KG4sdCl7ZnVuY3Rpb24gZShuKXt2YXIgbz1uLm5hbWUscyx0LGU7Zm9yKChvIGluIHIpJiYoKHQ9dVtvXSk/dC5wdXNoKG4pOnVbb109W25dKSxzPWkubGVuZ3RoO3MtLTspZT1pW3NdLm5hbWUsZSBpbiBuLmF0dHJpYnV0ZXMubWFwJiYoKHQ9ZltlXSk/dC5wdXNoKG4pOmZbZV09W25dKTtyZXR1cm4gbn12YXIgbzt2b2lkIDA9PT10JiYodD1hZSgpKTt2YXIgcj17fSxpPVtdLHU9e30sZj17fTtyZXR1cm4obj1ufHx7fSkudmFsaWRhdGU9ISgidmFsaWRhdGUiaW4gbil8fG4udmFsaWRhdGUsbi5yb290X25hbWU9bi5yb290X25hbWV8fCJib2R5IixvPXtzY2hlbWE6dCxhZGRBdHRyaWJ1dGVGaWx0ZXI6ZnVuY3Rpb24obix0KXtucmkodHJpKG4pLGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWlmKGlbcl0ubmFtZT09PW4pcmV0dXJuIHZvaWQgaVtyXS5jYWxsYmFja3MucHVzaCh0KTtpLnB1c2goe25hbWU6bixjYWxsYmFja3M6W3RdfSl9KX0sZ2V0QXR0cmlidXRlRmlsdGVyczpmdW5jdGlvbigpe3JldHVybltdLmNvbmNhdChpKX0sYWRkTm9kZUZpbHRlcjpmdW5jdGlvbihuLHQpe25yaSh0cmkobiksZnVuY3Rpb24obil7dmFyIGk9cltuXTtpfHwocltuXT1pPVtdKTtpLnB1c2godCl9KX0sZ2V0Tm9kZUZpbHRlcnM6ZnVuY3Rpb24oKXt2YXIgbix0PVtdO2ZvcihuIGluIHIpdyhyLG4pJiZ0LnB1c2goe25hbWU6bixjYWxsYmFja3M6cltuXX0pO3JldHVybiB0fSxmaWx0ZXJOb2RlOmUscGFyc2U6ZnVuY3Rpb24obyxzKXtmdW5jdGlvbiB1dChuKXtmb3IodmFyIHUscixlLGY9dC5nZXRCbG9ja0VsZW1lbnRzKCksaT1uLnByZXY7aSYmMz09PWkudHlwZTspe2lmKHU9aS52YWx1ZS5yZXBsYWNlKHN0LCIiKSwwPHUubGVuZ3RoKXJldHVybiBpLnZhbHVlPXUsMDtpZihyPWkubmV4dCxyKXtpZigzPT09ci50eXBlJiZyLnZhbHVlLmxlbmd0aCl7aT1pLnByZXY7Y29udGludWV9aWYoIWZbci5uYW1lXSYmInNjcmlwdCIhPT1yLm5hbWUmJiJzdHlsZSIhPT1yLm5hbWUpe2k9aS5wcmV2O2NvbnRpbnVlfX1lPWkucHJldjtpLnJlbW92ZSgpO2k9ZX19ZnVuY3Rpb24geShuLHQpe3ZhciBmLGk9bmV3IHJ1KG4sdCk7cmV0dXJuIG4gaW4gciYmKChmPXVbbl0pP2YucHVzaChpKTp1W25dPVtpXSksaX12YXIgYSx2LHR0LGMsaHQsbCxkLGgscnQ9W107cz1zfHx7fTt1PXt9O2Y9e307dmFyIHA9bmtpKGdpaSgic2NyaXB0LHN0eWxlLGhlYWQsaHRtbCxib2R5LHRpdGxlLG1ldGEscGFyYW0iKSx0LmdldEJsb2NrRWxlbWVudHMoKSksdnQ9c2F0KHQpLGN0PXQuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLGx0PXQuY2hpbGRyZW4saXQ9bi52YWxpZGF0ZSxmdD0oImZvcmNlZF9yb290X2Jsb2NrImluIHM/czpuKS5mb3JjZWRfcm9vdF9ibG9jayxldD0hMT09PWZ0PyIiOiEwPT09ZnQ/InAiOmZ0LGI9dC5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKSxvdD0vXlsgXHRcclxuXSsvLHN0PS9bIFx0XHJcbl0rJC8seXQ9L1sgXHRcclxuXSsvZyxhdD0vXlsgXHRcclxuXSskLyxrPXcoYixzLmNvbnRleHQpfHx3KGIsbi5yb290X25hbWUpLHB0PW5iKHt2YWxpZGF0ZTppdCxkb2N1bWVudDpuLmRvY3VtZW50LGFsbG93X2h0bWxfZGF0YV91cmxzOm4uYWxsb3dfaHRtbF9kYXRhX3VybHMsYWxsb3dfc3ZnX2RhdGFfdXJsczpuLmFsbG93X3N2Z19kYXRhX3VybHMsYWxsb3dfc2NyaXB0X3VybHM6bi5hbGxvd19zY3JpcHRfdXJscyxhbGxvd19jb25kaXRpb25hbF9jb21tZW50czpuLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzLHByZXNlcnZlX2NkYXRhOm4ucHJlc2VydmVfY2RhdGEsc2VsZl9jbG9zaW5nX2VsZW1lbnRzOmZ1bmN0aW9uKG4pe3ZhciB0LGk9e307Zm9yKHQgaW4gbikibGkiIT09dCYmInAiIT09dCYmKGlbdF09blt0XSk7cmV0dXJuIGl9KHQuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSxjZGF0YTpmdW5jdGlvbihuKXtoLmFwcGVuZCh5KCIjY2RhdGEiLDQpKS52YWx1ZT1ufSx0ZXh0OmZ1bmN0aW9uKG4sdCl7dmFyIHIsaTtrfHwobj1uLnJlcGxhY2UoeXQsIiAiKSwoaT1oLmxhc3RDaGlsZCkmJih3KHAsaS5uYW1lKXx8ImJyIj09PWkubmFtZSkmJihuPW4ucmVwbGFjZShvdCwiIikpKTswIT09bi5sZW5ndGgmJigocj15KCIjdGV4dCIsMykpLnJhdz0hIXQsaC5hcHBlbmQocikudmFsdWU9bil9LGNvbW1lbnQ6ZnVuY3Rpb24obil7aC5hcHBlbmQoeSgiI2NvbW1lbnQiLDgpKS52YWx1ZT1ufSxwaTpmdW5jdGlvbihuLHQpe2guYXBwZW5kKHkobiw3KSkudmFsdWU9dDt1dChoKX0sZG9jdHlwZTpmdW5jdGlvbihuKXtoLmFwcGVuZCh5KCIjZG9jdHlwZSIsMTApKS52YWx1ZT1uO3V0KGgpfSxzdGFydDpmdW5jdGlvbihuLHIsdSl7dmFyIGE9aXQ/dC5nZXRFbGVtZW50UnVsZShuKTp7fSxlLHMsYyxvO2lmKGEpe2ZvcihlPXkoYS5vdXRwdXROYW1lfHxuLDEpLGUuYXR0cmlidXRlcz1yLGUuc2hvcnRFbmRlZD11LGguYXBwZW5kKGUpLHM9bHRbaC5uYW1lXSxzJiZsdFtlLm5hbWVdJiYhc1tlLm5hbWVdJiZydC5wdXNoKGUpLGM9aS5sZW5ndGg7Yy0tOylvPWlbY10ubmFtZSxvIGluIHIubWFwJiYoKGw9ZltvXSk/bC5wdXNoKGUpOmZbb109W2VdKTtwW25dJiZ1dChlKTt1fHwoaD1lKTshayYmYltuXSYmKGs9ITApfX0sZW5kOmZ1bmN0aW9uKGkpe3ZhciByLHUsZixjLGU9aXQ/dC5nZXRFbGVtZW50UnVsZShpKTp7fSxvLGw7aWYoZSl7aWYocFtpXSYmIWspe2lmKChyPWguZmlyc3RDaGlsZCkmJjM9PT1yLnR5cGUpaWYoMDwodT1yLnZhbHVlLnJlcGxhY2Uob3QsIiIpKS5sZW5ndGgpci52YWx1ZT11LHI9ci5uZXh0O2Vsc2UgZm9yKGY9ci5uZXh0LHIucmVtb3ZlKCkscj1mO3ImJjM9PT1yLnR5cGU7KXU9ci52YWx1ZSxmPXIubmV4dCwwIT09dS5sZW5ndGgmJiFhdC50ZXN0KHUpfHwoci5yZW1vdmUoKSxyPWYpLHI9ZjtpZigocj1oLmxhc3RDaGlsZCkmJjM9PT1yLnR5cGUpaWYoMDwodT1yLnZhbHVlLnJlcGxhY2Uoc3QsIiIpKS5sZW5ndGgpci52YWx1ZT11LHI9ci5wcmV2O2Vsc2UgZm9yKGY9ci5wcmV2LHIucmVtb3ZlKCkscj1mO3ImJjM9PT1yLnR5cGU7KXU9ci52YWx1ZSxmPXIucHJldiwwIT09dS5sZW5ndGgmJiFhdC50ZXN0KHUpfHwoci5yZW1vdmUoKSxyPWYpLHI9Zn1rJiZiW2ldJiYoaz0hMSk7bz1jdih0LGN0LGIsaCk7bD1oLnBhcmVudDtlLnBhZGRJbkVtcHR5QmxvY2smJm8mJmZ1bmN0aW9uKCl7Zm9yKHZhciBuPWg7ZyhuKTspe2lmKG4ubmFtZSBpbiB2dClyZXR1cm4gY3YodCxjdCxiLG4pO249bi5wYXJlbnR9fSgpP3ZldChuLHMscCxoKTplLnJlbW92ZUVtcHR5JiZvP3BbaC5uYW1lXT9oLmVtcHR5KCkucmVtb3ZlKCk6aC51bndyYXAoKTplLnBhZGRFbXB0eSYmKGRpaShjPWgsIiN0ZXh0IikmJmMuZmlyc3RDaGlsZC52YWx1ZT09PWlyfHxvKSYmdmV0KG4scyxwLGgpO2g9bH19fSx0KSxudD1oPW5ldyBydShzLmNvbnRleHR8fG4ucm9vdF9uYW1lLDExKTtpZihwdC5wYXJzZShvLHMuZm9ybWF0KSxpdCYmcnQubGVuZ3RoJiYocy5jb250ZXh0P3MuaW52YWxpZD0hMDpmdW5jdGlvbihuKXtmb3IodmFyIHIsZix1LGMsbyxzLGIsaz1naWkoInRyLHRkLHRoLHRib2R5LHRoZWFkLHRmb290LHRhYmxlIikseT10LmdldE5vbkVtcHR5RWxlbWVudHMoKSxwPXQuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCksdz10LmdldFRleHRCbG9ja0VsZW1lbnRzKCksZD10LmdldFNwZWNpYWxFbGVtZW50cygpLGE9ZnVuY3Rpb24obixpKXt2YXIgcix1LGY7aWYodm9pZCAwPT09aSYmKGk9bi5wYXJlbnQpLGRbbi5uYW1lXSluLmVtcHR5KCkucmVtb3ZlKCk7ZWxzZXtmb3Iocj0wLHU9bi5jaGlsZHJlbigpO3I8dS5sZW5ndGg7cisrKWY9dVtyXSx0LmlzVmFsaWRDaGlsZChpLm5hbWUsZi5uYW1lKXx8YShmLGkpO24udW53cmFwKCl9fSx2PTA7djxuLmxlbmd0aDt2Kyspe3ZhciBsLGk9blt2XSx1PXZvaWQgMCxoPXZvaWQgMDtpZihpLnBhcmVudCYmIWkuZml4ZWQpaWYod1tpLm5hbWVdJiYibGkiPT09aS5wYXJlbnQubmFtZSl7Zm9yKHI9aS5uZXh0O3ImJndbci5uYW1lXTspci5uYW1lPSJsaSIsci5maXhlZD0hMCxpLnBhcmVudC5pbnNlcnQocixpLnBhcmVudCkscj1yLm5leHQ7aS51bndyYXAoKX1lbHNle2ZvcihmPVtpXSx1PWkucGFyZW50O3UmJiF0LmlzVmFsaWRDaGlsZCh1Lm5hbWUsaS5uYW1lKSYmIWtbdS5uYW1lXTt1PXUucGFyZW50KWYucHVzaCh1KTtpZih1JiYxPGYubGVuZ3RoKWlmKHQuaXNWYWxpZENoaWxkKHUubmFtZSxpLm5hbWUpKXtmb3IoZi5yZXZlcnNlKCksYz1sPWUoZlswXS5jbG9uZSgpKSxvPTA7bzxmLmxlbmd0aC0xO28rKyl7Zm9yKHQuaXNWYWxpZENoaWxkKGMubmFtZSxmW29dLm5hbWUpPyhoPWUoZltvXS5jbG9uZSgpKSxjLmFwcGVuZChoKSk6aD1jLHM9ZltvXS5maXJzdENoaWxkO3MmJnMhPT1mW28rMV07KWI9cy5uZXh0LGguYXBwZW5kKHMpLHM9YjtjPWh9Y3YodCx5LHAsbCk/dS5pbnNlcnQoaSxmWzBdLCEwKToodS5pbnNlcnQobCxmWzBdLCEwKSx1Lmluc2VydChpLGwpKTt1PWZbMF07KGN2KHQseSxwLHUpfHxkaWkodSwiYnIiKSkmJnUuZW1wdHkoKS5yZW1vdmUoKX1lbHNlIGEoaSk7ZWxzZSBpLnBhcmVudCYmKCJsaSIhPT1pLm5hbWU/dC5pc1ZhbGlkQ2hpbGQoaS5wYXJlbnQubmFtZSwiZGl2IikmJnQuaXNWYWxpZENoaWxkKCJkaXYiLGkubmFtZSk/aS53cmFwKGUobmV3IHJ1KCJkaXYiLDEpKSk6YShpKTohKHI9aS5wcmV2KXx8InVsIiE9PXIubmFtZSYmIm9sIiE9PXIubmFtZT8hKHI9aS5uZXh0KXx8InVsIiE9PXIubmFtZSYmIm9sIiE9PXIubmFtZT9pLndyYXAoZShuZXcgcnUoInVsIiwxKSkpOnIuaW5zZXJ0KGksci5maXJzdENoaWxkLCEwKTpyLmFwcGVuZChpKSl9fX0ocnQpKSxldCYmKCJib2R5Ij09PW50Lm5hbWV8fHMuaXNSb290Q29udGVudCkmJmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdShuKXtuJiYoKGk9bi5maXJzdENoaWxkKSYmMz09PWkudHlwZSYmKGkudmFsdWU9aS52YWx1ZS5yZXBsYWNlKG90LCIiKSksKGk9bi5sYXN0Q2hpbGQpJiYzPT09aS50eXBlJiYoaS52YWx1ZT1pLnZhbHVlLnJlcGxhY2Uoc3QsIiIpKSl9dmFyIGk9bnQuZmlyc3RDaGlsZCxyPW51bGwsZjtpZih0LmlzVmFsaWRDaGlsZChudC5uYW1lLGV0LnRvTG93ZXJDYXNlKCkpKXtmb3IoO2k7KWY9aS5uZXh0LDM9PT1pLnR5cGV8fDE9PT1pLnR5cGUmJiJwIiE9PWkubmFtZSYmIXBbaS5uYW1lXSYmIWkuYXR0cigiZGF0YS1tY2UtdHlwZSIpPyhyfHwoKHI9eShldCwxKSkuYXR0cihuLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSxudC5pbnNlcnQocixpKSksci5hcHBlbmQoaSkpOih1KHIpLHI9bnVsbCksaT1mO3Uocil9fSgpLCFzLmludmFsaWQpe2ZvcihkIGluIHUpaWYodyh1LGQpKXtmb3IobD1yW2RdLGM9KGE9dVtkXSkubGVuZ3RoO2MtLTspYVtjXS5wYXJlbnR8fGEuc3BsaWNlKGMsMSk7Zm9yKHY9MCx0dD1sLmxlbmd0aDt2PHR0O3YrKylsW3ZdKGEsZCxzKX1mb3Iodj0wLHR0PWkubGVuZ3RoO3Y8dHQ7disrKWlmKChsPWlbdl0pLm5hbWUgaW4gZil7Zm9yKGM9KGE9ZltsLm5hbWVdKS5sZW5ndGg7Yy0tOylhW2NdLnBhcmVudHx8YS5zcGxpY2UoYywxKTtmb3IoYz0wLGh0PWwuY2FsbGJhY2tzLmxlbmd0aDtjPGh0O2MrKylsLmNhbGxiYWNrc1tjXShhLGwubmFtZSxzKX19cmV0dXJuIG50fX0seWJpKG8sbiksbi5pbmxpbmVfc3R5bGVzJiZhYmkobyxuKSxvfWZ1bmN0aW9uIHBiaShuLHQsaSl7LTE9PT1yLmluQXJyYXkodCxpKSYmKG4uYWRkQXR0cmlidXRlRmlsdGVyKGksZnVuY3Rpb24obix0KXtmb3IodmFyIGk9bi5sZW5ndGg7aS0tOyluW2ldLmF0dHIodCxudWxsKX0pLHQucHVzaChpKSl9ZnVuY3Rpb24gd2JpKGksbyl7dmFyIHk9WyJkYXRhLW1jZS1zZWxlY3RlZCJdLHA9byYmby5kb20/by5kb206ZC5ET00sbD1vJiZvLnNjaGVtYT9vLnNjaGVtYTphZShpKTtpLmVudGl0eV9lbmNvZGluZz1pLmVudGl0eV9lbmNvZGluZ3x8Im5hbWVkIjtpLnJlbW92ZV90cmFpbGluZ19icnM9ISgicmVtb3ZlX3RyYWlsaW5nX2JycyJpbiBpKXx8aS5yZW1vdmVfdHJhaWxpbmdfYnJzO3ZhciBzLGg9eWV0KGksbCksYT1pLHY9cDtyZXR1cm4ocz1oKS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXRhYmluZGV4IixmdW5jdGlvbihuLHQpe2Zvcih2YXIgaSxyPW4ubGVuZ3RoO3ItLTspaT1uW3JdLGkuYXR0cigidGFiaW5kZXgiLGkuYXR0cigiZGF0YS1tY2UtdGFiaW5kZXgiKSksaS5hdHRyKHQsbnVsbCl9KSxzLmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjLGhyZWYsc3R5bGUiLGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGksdT0iZGF0YS1tY2UtIit0LGY9YS51cmxfY29udmVydGVyLG89YS51cmxfY29udmVydGVyX3Njb3BlLGU9bi5sZW5ndGg7ZS0tOylyPW5bZV0saT1yLmF0dHIodSksdm9pZCAwIT09aT8oci5hdHRyKHQsMDxpLmxlbmd0aD9pOm51bGwpLHIuYXR0cih1LG51bGwpKTooaT1yLmF0dHIodCksInN0eWxlIj09PXQ/aT12LnNlcmlhbGl6ZVN0eWxlKHYucGFyc2VTdHlsZShpKSxyLm5hbWUpOmYmJihpPWYuY2FsbChvLGksdCxyLm5hbWUpKSxyLmF0dHIodCwwPGkubGVuZ3RoP2k6bnVsbCkpfSkscy5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIixmdW5jdGlvbihuKXtmb3IodmFyIHIsdCxpPW4ubGVuZ3RoO2ktLTspdD1uW2ldLHQuYXR0cigiY2xhc3MiKSYmKHI9dC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UoLyg/Ol58XHMpbWNlLWl0ZW0tXHcrKD8hXFMpL2csIiIpLHQuYXR0cigiY2xhc3MiLDA8ci5sZW5ndGg/cjpudWxsKSl9KSxzLmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgdSxmPXQubGVuZ3RoO2YtLTspdT10W2ZdLCJib29rbWFyayIhPT11LmF0dHIoImRhdGEtbWNlLXR5cGUiKXx8ci5jbGVhbnVwfHwobi5mcm9tKHUuZmlyc3RDaGlsZCkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiFpcChuLnZhbHVlKX0pP3UudW53cmFwKCk6dS5yZW1vdmUoKSl9KSxzLmFkZE5vZGVGaWx0ZXIoIm5vc2NyaXB0IixmdW5jdGlvbihuKXtmb3IodmFyIHQsaT1uLmxlbmd0aDtpLS07KXQ9bltpXS5maXJzdENoaWxkLHQmJih0LnZhbHVlPXllLmRlY29kZSh0LnZhbHVlKSl9KSxzLmFkZE5vZGVGaWx0ZXIoInNjcmlwdCxzdHlsZSIsZnVuY3Rpb24obix0KXtmb3IodmFyIGUsaSxyLHU9ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvKDwhLS1cW0NEQVRBXFt8XF1cXS0tPikvZywiXG4iKS5yZXBsYWNlKC9eW1xyXG5dKnxbXHJcbl0qJC9nLCIiKS5yZXBsYWNlKC9eXHMqKCg8IS0tKT8oXHMqXC9cLyk/XHMqPCFcW0NEQVRBXFt8KDwhLS1ccyopP1wvXCpccyo8IVxbQ0RBVEFcW1xzKlwqXC98KFwvXC8pP1xzKjwhLS18XC9cKlxzKjwhLS1ccypcKlwvKVxzKltcclxuXSovZ2ksIiIpLnJlcGxhY2UoL1xzKihcL1wqXHMqXF1cXT5ccypcKlwvKC0tPik/fFxzKlwvXC9ccypcXVxdPigtLT4pP3xcL1wvXHMqKC0tPik/fFxdXF0+fFwvXCpccyotLT5ccypcKlwvfFxzKi0tPlxzKilccyokL2csIiIpfSxmPW4ubGVuZ3RoO2YtLTspaT1uW2ZdLHI9aS5maXJzdENoaWxkP2kuZmlyc3RDaGlsZC52YWx1ZToiIiwic2NyaXB0Ij09PXQ/KChlPWkuYXR0cigidHlwZSIpKSYmaS5hdHRyKCJ0eXBlIiwibWNlLW5vL3R5cGUiPT09ZT9udWxsOmUucmVwbGFjZSgvXm1jZVwtLywiIikpLCJ4aHRtbCI9PT1hLmVsZW1lbnRfZm9ybWF0JiYwPHIubGVuZ3RoJiYoaS5maXJzdENoaWxkLnZhbHVlPSIvLyA8IVtDREFUQVtcbiIrdShyKSsiXG4vLyBdXF0+IikpOiJ4aHRtbCI9PT1hLmVsZW1lbnRfZm9ybWF0JiYwPHIubGVuZ3RoJiYoaS5maXJzdENoaWxkLnZhbHVlPSI8IS0tXG4iK3UocikrIlxuLS0+Iil9KSxzLmFkZE5vZGVGaWx0ZXIoIiNjb21tZW50IixmdW5jdGlvbihuKXtmb3IodmFyIHQsaT1uLmxlbmd0aDtpLS07KXQ9bltpXSxhLnByZXNlcnZlX2NkYXRhJiYwPT09dC52YWx1ZS5pbmRleE9mKCJbQ0RBVEFbIik/KHQubmFtZT0iI2NkYXRhIix0LnR5cGU9NCx0LnZhbHVlPXYuZGVjb2RlKHQudmFsdWUucmVwbGFjZSgvXlxbQ0RBVEFcW3xcXVxdJC9nLCIiKSkpOjA9PT10LnZhbHVlLmluZGV4T2YoIm1jZTpwcm90ZWN0ZWQgIikmJih0Lm5hbWU9IiN0ZXh0Iix0LnR5cGU9Myx0LnJhdz0hMCx0LnZhbHVlPXVuZXNjYXBlKHQudmFsdWUpLnN1YnN0cigxNCkpfSkscy5hZGROb2RlRmlsdGVyKCJ4bWw6bmFtZXNwYWNlLGlucHV0IixmdW5jdGlvbihuLHQpe2Zvcih2YXIgaSxyPW4ubGVuZ3RoO3ItLTspaT1uW3JdLDc9PT1pLnR5cGU/aS5yZW1vdmUoKToxPT09aS50eXBlJiYoImlucHV0IiE9PXR8fGkuYXR0cigidHlwZSIpfHxpLmF0dHIoInR5cGUiLCJ0ZXh0IikpfSkscy5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXR5cGUiLGZ1bmN0aW9uKG4pe2UobixmdW5jdGlvbihuKXsiZm9ybWF0LWNhcmV0Ij09PW4uYXR0cigiZGF0YS1tY2UtdHlwZSIpJiYobi5pc0VtcHR5KHMuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSk/bi5yZW1vdmUoKTpuLnVud3JhcCgpKX0pfSkscy5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXNyYyxkYXRhLW1jZS1ocmVmLGRhdGEtbWNlLXN0eWxlLGRhdGEtbWNlLXNlbGVjdGVkLGRhdGEtbWNlLWV4cGFuZG8sZGF0YS1tY2UtdHlwZSxkYXRhLW1jZS1yZXNpemUsZGF0YS1tY2UtcGxhY2Vob2xkZXIiLGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPW4ubGVuZ3RoO2ktLTspbltpXS5hdHRyKHQsbnVsbCl9KSx7c2NoZW1hOmwsYWRkTm9kZUZpbHRlcjpoLmFkZE5vZGVGaWx0ZXIsYWRkQXR0cmlidXRlRmlsdGVyOmguYWRkQXR0cmlidXRlRmlsdGVyLHNlcmlhbGl6ZTpmdW5jdGlvbihuLHUpe2Z1bmN0aW9uIGd0KG4pe3JldHVybiBuJiYiYnIiPT09bi5uYW1lfXZhciBhLHV0LHksZnQsZXQsdyxvdCxiLHN0LGssZCxnLGh0LGN0LGx0LG50LGUsYXQsdnQsdixmLHl0LHB0LHR0LGl0LHd0LGJ0LGt0LHJ0LHM9Yyh7Zm9ybWF0OiJodG1sIn0sdT12b2lkIDA9PT11P3t9OnUpLG5pPShhPShnPW4scHQ9aHQ9cywoZD1vKSYmZC5oYXNFdmVudExpc3RlbmVycygiUHJlUHJvY2VzcyIpJiYhcHQubm9fZXZlbnRzPyhsdD1odCx2PShjdD1kKS5kb20sZj1nLmNsb25lTm9kZSghMCksKHl0PWRvY3VtZW50LmltcGxlbWVudGF0aW9uKS5jcmVhdGVIVE1MRG9jdW1lbnQmJihlPXl0LmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksci5lYWNoKCJCT0RZIj09PWYubm9kZU5hbWU/Zi5jaGlsZE5vZGVzOltmXSxmdW5jdGlvbihuKXtlLmJvZHkuYXBwZW5kQ2hpbGQoZS5pbXBvcnROb2RlKG4sITApKX0pLGY9IkJPRFkiIT09Zi5ub2RlTmFtZT9lLmJvZHkuZmlyc3RDaGlsZDplLmJvZHksbnQ9di5kb2Msdi5kb2M9ZSksYXQ9Y3QsdnQ9YyhjKHt9LGx0KSx7bm9kZTpmfSksYXQuZmlyZSgiUHJlUHJvY2VzcyIsdnQpLG50JiYodi5kb2M9bnQpLGYpOmcpLHk9dmUoKHV0PXMpLmdldElubmVyP2EuaW5uZXJIVE1MOnAuZ2V0T3V0ZXJIVE1MKGEpKSx1dC5zZWxlY3Rpb258fHRwKHQuZnJvbURvbShhKSk/eTpyLnRyaW0oeSkpLGR0PShmdD1oLGV0PW5pLG90PSh3PXMpLnNlbGVjdGlvbj9jKHtmb3JjZWRfcm9vdF9ibG9jazohMX0sdyk6dyxiPWZ0LnBhcnNlKGV0LG90KSwhZ3Qoaz1iLmxhc3RDaGlsZCl8fGd0KHN0PWsucHJldikmJihrLnJlbW92ZSgpLHN0LnJlbW92ZSgpKSxiKTtyZXR1cm4idHJlZSI9PT1zLmZvcm1hdD9kdDoodHQ9byxpdD1zLHd0PWR0LHJ0PW5sKGksbCkuc2VyaWFsaXplKHd0KSxpdC5ub19ldmVudHN8fCF0dD9ydDooYnQ9dHQsa3Q9YyhjKHt9LGl0KSx7Y29udGVudDpydH0pLGJ0LmZpcmUoIlBvc3RQcm9jZXNzIixrdCkuY29udGVudCkpfSxhZGRSdWxlczpsLmFkZFZhbGlkRWxlbWVudHMsc2V0UnVsZXM6bC5zZXRWYWxpZEVsZW1lbnRzLGFkZFRlbXBBdHRyOnUocGJpLGgseSksZ2V0VGVtcEF0dHJzOmYoeSksZ2V0Tm9kZUZpbHRlcnM6aC5nZXROb2RlRmlsdGVycyxnZXRBdHRyaWJ1dGVGaWx0ZXJzOmguZ2V0QXR0cmlidXRlRmlsdGVyc319ZnVuY3Rpb24gYWlpKG4sdCl7dmFyIGk9d2JpKG4sdCk7cmV0dXJue3NjaGVtYTppLnNjaGVtYSxhZGROb2RlRmlsdGVyOmkuYWRkTm9kZUZpbHRlcixhZGRBdHRyaWJ1dGVGaWx0ZXI6aS5hZGRBdHRyaWJ1dGVGaWx0ZXIsc2VyaWFsaXplOmkuc2VyaWFsaXplLGFkZFJ1bGVzOmkuYWRkUnVsZXMsc2V0UnVsZXM6aS5zZXRSdWxlcyxhZGRUZW1wQXR0cjppLmFkZFRlbXBBdHRyLGdldFRlbXBBdHRyczppLmdldFRlbXBBdHRycyxnZXROb2RlRmlsdGVyczppLmdldE5vZGVGaWx0ZXJzLGdldEF0dHJpYnV0ZUZpbHRlcnM6aS5nZXRBdHRyaWJ1dGVGaWx0ZXJzfX1mdW5jdGlvbiBwZXQobix0LGkpe3JldHVybiByPWk9dm9pZCAwPT09aT97fTppLGZldChuKS5lZGl0b3Iuc2V0Q29udGVudCh0LHIpO3ZhciByfWZ1bmN0aW9uIHBiKHQpe3JldHVybiBuLmZyb20odCkuZWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5kZXN0cm95KCl9KX1mdW5jdGlvbiBiYmkobix0KXtmdW5jdGlvbiBiKG4pe3JldHVybiB3KGgsbil9dmFyIGksdSxmLGUsbyxzLGgsYz0oaT1uLHU9cCh0a2ksZnVuY3Rpb24obil7cmV0dXJuIHcoaSxuKX0pLCExIT09KGY9aS5mb3JjZWRfcm9vdF9ibG9jaykmJiIiIT09Znx8dS5wdXNoKCJmb3JjZWRfcm9vdF9ibG9jayAoZmFsc2Ugb25seSkiKSxpZyh1KSksbD0oaD1yLm1ha2VNYXAodC5wbHVnaW5zLCIgIiksaWcoZWUoZWUoW10scChpa2ksYiksITApLHNoKHJraSxmdW5jdGlvbihuKXtyZXR1cm4gYihuKT9bbisiIChtb3ZpbmcgdG8gcHJlbWl1bSkiXTpbXX0pLCEwKSkpLGE9MDxsLmxlbmd0aCx2PTA8Yy5sZW5ndGgseT0ibW9iaWxlIj09PXQudGhlbWU7KGF8fHZ8fHkpJiYoZT15PyJcblxuVGhlbWVzOlxuLSBtb2JpbGUiOiIiLG89YT8iXG5cblBsdWdpbnM6XG4tICIrbC5qb2luKCJcbi0gIik6IiIscz12PyJcblxuU2V0dGluZ3M6XG4tICIrYy5qb2luKCJcbi0gIik6IiIsY29uc29sZS53YXJuKCJUaGUgZm9sbG93aW5nIGRlcHJlY2F0ZWQgZmVhdHVyZXMgYXJlIGN1cnJlbnRseSBlbmFibGVkLCB0aGVzZSB3aWxsIGJlIHJlbW92ZWQgaW4gVGlueU1DRSA2LjAuIFNlZSBodHRwczovL3d3dy50aW55LmNsb3VkL2RvY3MvcmVsZWFzZS1ub3Rlcy82LjAtdXBjb21pbmctY2hhbmdlcy8gZm9yIG1vcmUgaW5mb3JtYXRpb24uIitlK28rcykpfWZ1bmN0aW9uIGx2KG4pe3ZhciB0PWJyKG4pP24uam9pbigiICIpOm47cmV0dXJuIHAodXQoaHQodCk/dC5zcGxpdCgiICIpOltdLGxnKSxmdW5jdGlvbihuKXtyZXR1cm4gMDxuLmxlbmd0aH0pfWZ1bmN0aW9uIHdiKG4sdCl7cmV0dXJuIHcobi5zZWN0aW9ucygpLHQpfWZ1bmN0aW9uIHZpaShuLHQpe3JldHVybiBhdChuLCJ0b29sYmFyX21vZGUiKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGF0KG4sInRvb2xiYXJfZHJhd2VyIikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiExPT09bj8id3JhcCI6bn0pfSkuZ2V0T3IodCl9ZnVuY3Rpb24ga2JpKG4sdCxpLGYpe3ZhciBzLGgsYyxlLGEsbyx2LHksZD1sdihpLmZvcmNlZF9wbHVnaW5zKSx3PWx2KGYucGx1Z2lucyksYj13YihzPXQsIm1vYmlsZSIpP3Muc2VjdGlvbnMoKS5tb2JpbGU6e30sZz1iLnBsdWdpbnM/bHYoYi5wbHVnaW5zKTp3LGs9KGg9KGU9dCxhPXcsbz1nLChjPW4pJiYoeT0odj1lKS5zZWN0aW9ucygpLHdiKHYsIm1vYmlsZSIpJiYibW9iaWxlIj09PXkubW9iaWxlLnRoZW1lKT9wKG8sdShkdCxla2kpKTpjJiZ3YihlLCJtb2JpbGUiKT9vOmEpLFtdLmNvbmNhdChsdihkKSkuY29uY2F0KGx2KGgpKSk7aWYobC5icm93c2VyLmlzSUUoKSYmZHQoaywicnRjIikpdGhyb3cgbmV3IEVycm9yKCJSVEMgcGx1Z2luIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgMTEuIik7cmV0dXJuIHIuZXh0ZW5kKGYse3BsdWdpbnM6ay5qb2luKCIgIil9KX1mdW5jdGlvbiBkYmkobix0LGksdSxlKXt2YXIgbCxhLHMsaCx2LHkscCx3LGI9bj97bW9iaWxlOihsPXQsYT17cmVzaXplOiExLHRvb2xiYXJfbW9kZTp2aWkoZS5tb2JpbGV8fHt9LCJzY3JvbGxpbmciKSx0b29sYmFyX3N0aWNreTohMX0sYyhjKGMoe30sdXJpKSxhKSxsP3ttZW51YmFyOiExfTp7fSkpfTp7fSxvPSh2PVsibW9iaWxlIl0sZWh0KGlyaShiLGUpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGR0KHYsdCl9LHVnKHk9e30pLHVnKHA9e30pKSx7c2VjdGlvbnM6Zigodz17dDp5LGY6cH0pLnQpLHNldHRpbmdzOmYody5mKX0pLGs9ci5leHRlbmQoaSx1LG8uc2V0dGluZ3MoKSxuJiZ3YihvLCJtb2JpbGUiKT9mdW5jdGlvbihuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHQ9YXQoby5zZWN0aW9ucygpLCJtb2JpbGUiKS5nZXRPcih7fSk7cmV0dXJuIHIuZXh0ZW5kKHt9LG4sdCl9KCk6e30se3ZhbGlkYXRlOiEwLGV4dGVybmFsX3BsdWdpbnM6KHM9dSxoPW8uc2V0dGluZ3MoKS5leHRlcm5hbF9wbHVnaW5zfHx7fSxzJiZzLmV4dGVybmFsX3BsdWdpbnM/ci5leHRlbmQoe30scy5leHRlcm5hbF9wbHVnaW5zLGgpOmgpfSk7cmV0dXJuIGtiaShuLG8sdSxrKX1mdW5jdGlvbiBwcyh0LGkscil7cmV0dXJuIG4uZnJvbShpLnNldHRpbmdzW3JdKS5maWx0ZXIodCl9ZnVuY3Rpb24geWlpKG4sdCl7cmV0dXJuIHQuZG9tW25dfWZ1bmN0aW9uIHBpaShuLHQpe3JldHVybiBwYXJzZUludChiZih0LG4pLDEwKX1mdW5jdGlvbiB3aWkobixpLHIpe3ZhciBmLHUsbyxzLGUsaCxjPXQuZnJvbURvbShuLmdldEJvZHkoKSksbD1uLmlubGluZT9jOnQuZnJvbURvbSh2aChjKS5kb20uZG9jdW1lbnRFbGVtZW50KSxhPShmPW4uaW5saW5lLG89aSxzPXIsZT0odT1sKS5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3g6by0oZj9lLmxlZnQrdS5kb20uY2xpZW50TGVmdCtja2kodSk6MCkseTpzLShmP2UudG9wK3UuZG9tLmNsaWVudFRvcCtoa2kodSk6MCl9KSx2PWEueCx5PWEueSxwPW9raShoPWwpLHc9c2tpKGgpO3JldHVybiAwPD12JiYwPD15JiZ2PD1wJiZ5PD13fWZ1bmN0aW9uIGJpaShpKXtmdW5jdGlvbiB1KCl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigiVGhlbWUgZGlkIG5vdCBwcm92aWRlIGEgTm90aWZpY2F0aW9uTWFuYWdlciBpbXBsZW1lbnRhdGlvbi4iKTt9dmFyIHQ9aS50aGVtZTtyZXR1cm4gdCYmdC5nZXROb3RpZmljYXRpb25NYW5hZ2VySW1wbD90LmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsKCk6e29wZW46bixjbG9zZTpuLHJlcG9zaXRpb246bixnZXRBcmdzOm59fWZ1bmN0aW9uIGgoKXtyZXR1cm4gbi5mcm9tKHJbMF0pfWZ1bmN0aW9uIG8oKXswPHIubGVuZ3RoJiZ1KCkucmVwb3NpdGlvbihyKX1mdW5jdGlvbiBsKG4pe2l5KHIsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1ufSkuZWFjaChmdW5jdGlvbihuKXtyLnNwbGljZShuLDEpfSl9ZnVuY3Rpb24gYShmLGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSwhaS5yZW1vdmVkJiYoYT0ocz1pKS5pbmxpbmU/cy5nZXRCb2R5KCk6cy5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpLG4uZnJvbShhKS5tYXAodC5mcm9tRG9tKS5tYXAodGEpLmdldE9yKCExKSkpcmV0dXJuIGUmJmkuZmlyZSgiQmVmb3JlT3Blbk5vdGlmaWNhdGlvbiIse25vdGlmaWNhdGlvbjpmfSksZ3QocixmdW5jdGlvbihuKXtyZXR1cm4hKCh0PXUoKS5nZXRBcmdzKG4pKS50eXBlIT09Zi50eXBlfHx0LnRleHQhPT1mLnRleHR8fHQucHJvZ3Jlc3NCYXJ8fHQudGltZW91dHx8Zi5wcm9ncmVzc0Jhcnx8Zi50aW1lb3V0KTt2YXIgdH0pLmdldE9yVGh1bmsoZnVuY3Rpb24oKXtpLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKGkpO3ZhciBuPXUoKS5vcGVuKGYsZnVuY3Rpb24oKXtsKG4pO28oKTtoKCkuZm9sZChmdW5jdGlvbigpe3JldHVybiBpLmZvY3VzKCl9LGZ1bmN0aW9uKG4pe3JldHVybiB0LmZyb21Eb20obi5nZXRFbCgpKS5kb20uZm9jdXMoKX0pfSk7cmV0dXJuIHIucHVzaChuKSxvKCksaS5maXJlKCJPcGVuTm90aWZpY2F0aW9uIix7bm90aWZpY2F0aW9uOmMoe30sbil9KSxufSk7dmFyIHMsYX12YXIgcyxyPVtdLHY9ZihyKTtyZXR1cm4ocz1pKS5vbigiU2tpbkxvYWRlZCIsZnVuY3Rpb24oKXt2YXIgbj1zLmdldFBhcmFtKCJzZXJ2aWNlX21lc3NhZ2UiKTtuJiZhKHt0ZXh0Om4sdHlwZToid2FybmluZyIsdGltZW91dDowfSwhMSk7bygpfSkscy5vbigic2hvdyBSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IE5vZGVDaGFuZ2UiLGZ1bmN0aW9uKCl7dWkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG8pfSkscy5vbigicmVtb3ZlIixmdW5jdGlvbigpe2Uoci5zbGljZSgpLGZ1bmN0aW9uKG4pe3UoKS5jbG9zZShuKX0pfSkse29wZW46YSxjbG9zZTpmdW5jdGlvbigpe2goKS5lYWNoKGZ1bmN0aW9uKG4pe3UoKS5jbG9zZShuKTtsKG4pO28oKX0pfSxnZXROb3RpZmljYXRpb25zOnZ9fWZ1bmN0aW9uIGZyaSh0KXtmdW5jdGlvbiBpKCl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigiVGhlbWUgZGlkIG5vdCBwcm92aWRlIGEgV2luZG93TWFuYWdlciBpbXBsZW1lbnRhdGlvbi4iKTt9dmFyIGk9dC50aGVtZTtyZXR1cm4gaSYmaS5nZXRXaW5kb3dNYW5hZ2VySW1wbD9pLmdldFdpbmRvd01hbmFnZXJJbXBsKCk6e29wZW46bixvcGVuVXJsOm4sYWxlcnQ6bixjb25maXJtOm4sY2xvc2U6bixnZXRQYXJhbXM6bixzZXRQYXJhbXM6bn19ZnVuY3Rpb24gZihuLHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgcj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTtpZih0KXJldHVybiB0LmFwcGx5KG4scil9fWZ1bmN0aW9uIHUobil7dC5maXJlKCJDbG9zZVdpbmRvdyIse2RpYWxvZzpufSk7MD09PShyPXAocixmdW5jdGlvbih0KXtyZXR1cm4gdCE9PW59KSkubGVuZ3RoJiZ0LmZvY3VzKCl9ZnVuY3Rpb24gbyhuKXt0LmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKHQpO2J3KHQpO3ZhciBpLHU9bigpO3JldHVybiBpPXUsci5wdXNoKGkpLHQuZmlyZSgiT3BlbldpbmRvdyIse2RpYWxvZzppfSksdX12YXIgcj1bXTtyZXR1cm4gdC5vbigicmVtb3ZlIixmdW5jdGlvbigpe2UocixmdW5jdGlvbihuKXtpKCkuY2xvc2Uobil9KX0pLHtvcGVuOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG8oZnVuY3Rpb24oKXtyZXR1cm4gaSgpLm9wZW4obix0LHUpfSl9LG9wZW5Vcmw6ZnVuY3Rpb24obil7cmV0dXJuIG8oZnVuY3Rpb24oKXtyZXR1cm4gaSgpLm9wZW5Vcmwobix1KX0pfSxhbGVydDpmdW5jdGlvbihuLHQscil7dmFyIHU9aSgpO3UuYWxlcnQobixmKHJ8fHUsdCkpfSxjb25maXJtOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdT1pKCk7dS5jb25maXJtKG4sZihyfHx1LHQpKX0sY2xvc2U6ZnVuY3Rpb24oKXtuLmZyb20ocltyLmxlbmd0aC0xXSkuZWFjaChmdW5jdGlvbihuKXtpKCkuY2xvc2Uobik7dShuKX0pfX19ZnVuY3Rpb24gZXJpKG4sdCl7bi5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3R5cGU6ImVycm9yIix0ZXh0OnR9KX1mdW5jdGlvbiBnYihuLHQpe24uX3NraW5Mb2FkZWQ/ZXJpKG4sdCk6bi5vbigiU2tpbkxvYWRlZCIsZnVuY3Rpb24oKXtlcmkobix0KX0pfWZ1bmN0aW9uIGJldChuLHQsaSl7a2J0KG4sdCx7bWVzc2FnZTppfSk7Y29uc29sZS5lcnJvcihpKX1mdW5jdGlvbiBrZXQobix0LGkpe3JldHVybiBpPyJGYWlsZWQgdG8gbG9hZCAiK24rIjogIitpKyIgZnJvbSB1cmwgIit0OiJGYWlsZWQgdG8gbG9hZCAiK24rIiB1cmw6ICIrdH1mdW5jdGlvbiBkZXQobix0LGkpe2JldChuLCJQbHVnaW5Mb2FkRXJyb3IiLGtldCgicGx1Z2luIix0LGkpKX1mdW5jdGlvbiBsa2kobil7dmFyIGksdDtuLmNvbnRlbnRDU1M9bi5jb250ZW50Q1NTLmNvbmNhdChrdWkobiwodD0oaT1uKS5nZXRQYXJhbSgiY29udGVudF9jc3MiKSxodCh0KT91dCh0LnNwbGl0KCIsIiksbGcpOmJyKHQpP3Q6ITE9PT10fHxpLmlubGluZT9bXTpbImRlZmF1bHQiXSkpLGt1aShuLGhwdChuKSkpfWZ1bmN0aW9uIG9yaSgpe2Z1bmN0aW9uIGkobix0KXtyZXR1cm57c3RhdHVzOm4scmVzdWx0VXJpOnR9fWZ1bmN0aW9uIHQodCl7cmV0dXJuIHQgaW4gbn12YXIgbj17fTtyZXR1cm57aGFzQmxvYlVyaTp0LGdldFJlc3VsdFVyaTpmdW5jdGlvbih0KXt2YXIgaT1uW3RdO3JldHVybiBpP2kucmVzdWx0VXJpOm51bGx9LGlzUGVuZGluZzpmdW5jdGlvbihpKXtyZXR1cm4hIXQoaSkmJjE9PT1uW2ldLnN0YXR1c30saXNVcGxvYWRlZDpmdW5jdGlvbihpKXtyZXR1cm4hIXQoaSkmJjI9PT1uW2ldLnN0YXR1c30sbWFya1BlbmRpbmc6ZnVuY3Rpb24odCl7blt0XT1pKDEsbnVsbCl9LG1hcmtVcGxvYWRlZDpmdW5jdGlvbih0LHIpe25bdF09aSgyLHIpfSxyZW1vdmVGYWlsZWQ6ZnVuY3Rpb24odCl7ZGVsZXRlIG5bdF19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuPXt9fX19ZnVuY3Rpb24gc3JpKG4pe2Z1bmN0aW9uIHQoKXtyZXR1cm4gTWF0aC5yb3VuZCg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KX1yZXR1cm4gbit2ZGkrKysoInMiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKDM2KSt0KCkrdCgpK3QoKSl9ZnVuY3Rpb24gYWtpKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZ3Qobix0KS5nZXRPclVuZGVmaW5lZCgpfWZ1bmN0aW9uIGkobil7aWYoIW4uYmxvYnx8IW4uYmFzZTY0KXRocm93IG5ldyBFcnJvcigiYmxvYiBhbmQgYmFzZTY0IHJlcHJlc2VudGF0aW9ucyBvZiB0aGUgaW1hZ2UgYXJlIHJlcXVpcmVkIGZvciBCbG9iSW5mbyB0byBiZSBjcmVhdGVkIik7dmFyIGk9bi5pZHx8c3JpKCJibG9iaWQiKSxyPW4ubmFtZXx8aSx0PW4uYmxvYjtyZXR1cm57aWQ6ZihpKSxuYW1lOmYociksZmlsZW5hbWU6ZihuLmZpbGVuYW1lfHxyKyIuIisoeyJpbWFnZS9qcGVnIjoianBnIiwiaW1hZ2UvanBnIjoianBnIiwiaW1hZ2UvZ2lmIjoiZ2lmIiwiaW1hZ2UvcG5nIjoicG5nIiwiaW1hZ2UvYXBuZyI6ImFwbmciLCJpbWFnZS9hdmlmIjoiYXZpZiIsImltYWdlL3N2Zyt4bWwiOiJzdmciLCJpbWFnZS93ZWJwIjoid2VicCIsImltYWdlL2JtcCI6ImJtcCIsImltYWdlL3RpZmYiOiJ0aWZmIn1bdC50eXBlLnRvTG93ZXJDYXNlKCldfHwiZGF0IikpLGJsb2I6Zih0KSxiYXNlNjQ6ZihuLmJhc2U2NCksYmxvYlVyaTpmKG4uYmxvYlVyaXx8VVJMLmNyZWF0ZU9iamVjdFVSTCh0KSksdXJpOmYobi51cmkpfX1mdW5jdGlvbiByKG4pe3JldHVybiB0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkKCk9PT1ufSl9dmFyIG49W107cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihuLHQscix1LGYpe2lmKGh0KG4pKXJldHVybiBpKHtpZDpuLG5hbWU6dSxmaWxlbmFtZTpmLGJsb2I6dCxiYXNlNjQ6cn0pO2lmKGVoKG4pKXJldHVybiBpKG4pO3Rocm93IG5ldyBFcnJvcigiVW5rbm93biBpbnB1dCB0eXBlIik7fSxhZGQ6ZnVuY3Rpb24odCl7cih0LmlkKCkpfHxuLnB1c2godCl9LGdldDpyLGdldEJ5VXJpOmZ1bmN0aW9uKG4pe3JldHVybiB0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmJsb2JVcmkoKT09PW59KX0sZ2V0QnlEYXRhOmZ1bmN0aW9uKG4saSl7cmV0dXJuIHQoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmFzZTY0KCk9PT1uJiZ0LmJsb2IoKS50eXBlPT09aX0pfSxmaW5kRmlyc3Q6dCxyZW1vdmVCeVVyaTpmdW5jdGlvbih0KXtuPXAobixmdW5jdGlvbihuKXtyZXR1cm4gbi5ibG9iVXJpKCkhPT10fHx2b2lkIFVSTC5yZXZva2VPYmplY3RVUkwobi5ibG9iVXJpKCkpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtlKG4sZnVuY3Rpb24obil7VVJMLnJldm9rZU9iamVjdFVSTChuLmJsb2JVcmkoKSl9KTtuPVtdfX19ZnVuY3Rpb24gdmtpKHQsaSl7ZnVuY3Rpb24gZShuLHQscix1KXt2YXIgZj1uZXcgWE1MSHR0cFJlcXVlc3QsZTtmLm9wZW4oIlBPU1QiLGkudXJsKTtmLndpdGhDcmVkZW50aWFscz1pLmNyZWRlbnRpYWxzO2YudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24obil7dShuLmxvYWRlZC9uLnRvdGFsKjEwMCl9O2Yub25lcnJvcj1mdW5jdGlvbigpe3IoIkltYWdlIHVwbG9hZCBmYWlsZWQgZHVlIHRvIGEgWEhSIFRyYW5zcG9ydCBlcnJvci4gQ29kZTogIitmLnN0YXR1cyl9O2Yub25sb2FkPWZ1bmN0aW9uKCl7dmFyIG4sdSxlO2Yuc3RhdHVzPDIwMHx8MzAwPD1mLnN0YXR1cz9yKCJIVFRQIEVycm9yOiAiK2Yuc3RhdHVzKToobj1KU09OLnBhcnNlKGYucmVzcG9uc2VUZXh0KSkmJiJzdHJpbmciPT10eXBlb2Ygbi5sb2NhdGlvbj90KCh1PWkuYmFzZVBhdGgsZT1uLmxvY2F0aW9uLHU/dS5yZXBsYWNlKC9cLyQvLCIiKSsiLyIrZS5yZXBsYWNlKC9eXC8vLCIiKTplKSk6cigiSW52YWxpZCBKU09OOiAiK2YucmVzcG9uc2VUZXh0KX07ZT1uZXcgRm9ybURhdGE7ZS5hcHBlbmQoImZpbGUiLG4uYmxvYigpLG4uZmlsZW5hbWUoKSk7Zi5zZW5kKGUpfWZ1bmN0aW9uIG8obix0KXtyZXR1cm57dXJsOnQsYmxvYkluZm86bixzdGF0dXM6ITB9fWZ1bmN0aW9uIGYobix0LGkpe3JldHVybnt1cmw6IiIsYmxvYkluZm86bixzdGF0dXM6ITEsZXJyb3I6e21lc3NhZ2U6dCxvcHRpb25zOml9fX1mdW5jdGlvbiBzKG4sdCl7ci5lYWNoKHVbbl0sZnVuY3Rpb24obil7bih0KX0pO2RlbGV0ZSB1W25dfXZhciB1PXt9O3JldHVybiExPT09ZnQoaS5oYW5kbGVyKSYmKGkuaGFuZGxlcj1lKSx7dXBsb2FkOmZ1bmN0aW9uKGgsYyl7cmV0dXJuIGkudXJsfHxpLmhhbmRsZXIhPT1lPyhsPWgsYT1jLGw9ci5ncmVwKGgsZnVuY3Rpb24obil7cmV0dXJuIXQuaXNVcGxvYWRlZChuLmJsb2JVcmkoKSl9KSxyaS5hbGwoci5tYXAobCxmdW5jdGlvbihyKXtyZXR1cm4gdC5pc1BlbmRpbmcoci5ibG9iVXJpKCkpPyhoPXIuYmxvYlVyaSgpLG5ldyByaShmdW5jdGlvbihuKXt1W2hdPXVbaF18fFtdO3VbaF0ucHVzaChuKX0pKTooZT1yLGM9aS5oYW5kbGVyLGw9YSx0Lm1hcmtQZW5kaW5nKGUuYmxvYlVyaSgpKSxuZXcgcmkoZnVuY3Rpb24oaSl7dmFyIHIsdTt0cnl7dT1mdW5jdGlvbigpe3ImJnIuY2xvc2UoKX07YyhlLGZ1bmN0aW9uKG4pe3UoKTt0Lm1hcmtVcGxvYWRlZChlLmJsb2JVcmkoKSxuKTtzKGUuYmxvYlVyaSgpLG8oZSxuKSk7aShvKGUsbikpfSxmdW5jdGlvbihuLHIpe3ZhciBvPXJ8fHt9O3UoKTt0LnJlbW92ZUZhaWxlZChlLmJsb2JVcmkoKSk7cyhlLmJsb2JVcmkoKSxmKGUsbixvKSk7aShmKGUsbixvKSl9LGZ1bmN0aW9uKHQpe3Q8MHx8MTAwPHR8fG4uZnJvbShyKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZnJvbShsKS5tYXAoa2hpKX0pLmVhY2goZnVuY3Rpb24obil7KHI9bikucHJvZ3Jlc3NCYXIudmFsdWUodCl9KX0pfWNhdGNoKGgpe2koZihlLGgubWVzc2FnZSx7fSkpfX0pKTt2YXIgZSxjLGwsaH0pKSk6bmV3IHJpKGZ1bmN0aW9uKG4pe24oW10pfSk7dmFyIGwsYX19fWZ1bmN0aW9uIGhyaShuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbi5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3RleHQ6bi50cmFuc2xhdGUoIkltYWdlIHVwbG9hZGluZy4uLiIpLHR5cGU6ImluZm8iLHRpbWVvdXQ6LTEscHJvZ3Jlc3NCYXI6ITB9KX19ZnVuY3Rpb24gY3JpKG4sdCl7cmV0dXJuIHZraSh0LHt1cmw6bi5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF91cmwiLCIiLCJzdHJpbmciKSxiYXNlUGF0aDpuLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2Jhc2VfcGF0aCIsIiIsInN0cmluZyIpLGNyZWRlbnRpYWxzOm4uZ2V0UGFyYW0oImltYWdlc191cGxvYWRfY3JlZGVudGlhbHMiLCExLCJib29sZWFuIiksaGFuZGxlcjpuLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2hhbmRsZXIiLG51bGwsImZ1bmN0aW9uIil9KX1mdW5jdGlvbiB5a2kobil7ZnVuY3Rpb24gZih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIG4uc2VsZWN0aW9uP3QoaSk6W119fWZ1bmN0aW9uIHYobix0LGkpe2Zvcih2YXIgcj0wOy0xIT09KHI9bi5pbmRleE9mKHQscikpJiYobj1uLnN1YnN0cmluZygwLHIpK2krbi5zdWJzdHIocit0Lmxlbmd0aCkscis9aS5sZW5ndGgtdC5sZW5ndGgrMSksLTEhPT1yOyk7cmV0dXJuIG59ZnVuY3Rpb24geShuLHQsaSl7cmV0dXJuIG49dihuLCdzcmM9IicrdCsnIicsJ3NyYz0iJytpKyciJysoaT09PWwudHJhbnNwYXJlbnRTcmM/JyBkYXRhLW1jZS1wbGFjZWhvbGRlcj0iMSInOiIiKSksdihuLCdkYXRhLW1jZS1zcmM9IicrdCsnIicsJ2RhdGEtbWNlLXNyYz0iJytpKyciJyl9ZnVuY3Rpb24gbyh0LGkpe2Uobi51bmRvTWFuYWdlci5kYXRhLGZ1bmN0aW9uKG4peyJmcmFnbWVudGVkIj09PW4udHlwZT9uLmZyYWdtZW50cz11dChuLmZyYWdtZW50cyxmdW5jdGlvbihuKXtyZXR1cm4geShuLHQsaSl9KTpuLmNvbnRlbnQ9eShuLmNvbnRlbnQsdCxpKX0pfWZ1bmN0aW9uIHcodSl7cmV0dXJuIHI9cnx8Y3JpKG4saSksYSgpLnRoZW4oZihmdW5jdGlvbihpKXt2YXIgcz11dChpLGZ1bmN0aW9uKG4pe3JldHVybiBuLmJsb2JJbmZvfSk7cmV0dXJuIHIudXBsb2FkKHMsaHJpKG4pKS50aGVuKGYoZnVuY3Rpb24ocil7dmFyIGY9W10scz11dChyLGZ1bmN0aW9uKHIsdSl7dmFyIGMsaCxlLGEsdj1pW3VdLmJsb2JJbmZvLHM9aVt1XS5pbWFnZTtyZXR1cm4gci5zdGF0dXMmJm4uZ2V0UGFyYW0oImltYWdlc19yZXBsYWNlX2Jsb2JfdXJpcyIsITAsImJvb2xlYW4iKT8odC5yZW1vdmVCeVVyaShzLnNyYyksdGUobil8fChoPXMsZT1yLnVybCxhPW4uY29udmVydFVSTChlLCJzcmMiKSxvKGguc3JjLGUpLG4uJChoKS5hdHRyKHtzcmM6bi5nZXRQYXJhbSgiaW1hZ2VzX3JldXNlX2ZpbGVuYW1lIiwhMSwiYm9vbGVhbiIpP2UrKC0xPT09ZS5pbmRleE9mKCI/Iik/Ij8iOiImIikrKG5ldyBEYXRlKS5nZXRUaW1lKCk6ZSwiZGF0YS1tY2Utc3JjIjphfSkpKTpyLmVycm9yJiYoci5lcnJvci5vcHRpb25zLnJlbW92ZSYmKG8ocy5nZXRBdHRyaWJ1dGUoInNyYyIpLGwudHJhbnNwYXJlbnRTcmMpLGYucHVzaChzKSksYz1yLmVycm9yLm1lc3NhZ2UsZ2IobixsdS50cmFuc2xhdGUoWyJGYWlsZWQgdG8gdXBsb2FkIGltYWdlOiB7MH0iLGNdKSkpLHtlbGVtZW50OnMsc3RhdHVzOnIuc3RhdHVzLHVwbG9hZFVyaTpyLnVybCxibG9iSW5mbzp2fX0pO3JldHVybiAwPHMubGVuZ3RoJiZudC5maXJlSWZDaGFuZ2VkKCksMDxmLmxlbmd0aCYmKHRlKG4pP2NvbnNvbGUuZXJyb3IoIlJlbW92aW5nIGltYWdlcyBvbiBmYWlsZWQgdXBsb2FkcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQgZm9yIFJUQyIpOm4udW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXtlKGYsZnVuY3Rpb24oaSl7bi5kb20ucmVtb3ZlKGkpO3QucmVtb3ZlQnlVcmkoaS5zcmMpfSl9KSksdSYmdShzKSxzfSkpfSkpfWZ1bmN0aW9uIGIodCl7aWYodXB0KG4pKXJldHVybiB3KHQpfWZ1bmN0aW9uIGcodCl7cmV0dXJuITEhPT12bChkLGZ1bmN0aW9uKG4pe3JldHVybiBuKHQpfSkmJigwIT09dC5nZXRBdHRyaWJ1dGUoInNyYyIpLmluZGV4T2YoImRhdGE6Iil8fG4uZ2V0UGFyYW0oImltYWdlc19kYXRhaW1nX2ZpbHRlciIsbHQsImZ1bmN0aW9uIikodCkpfWZ1bmN0aW9uIGsocil7cmV0dXJuIHIucmVwbGFjZSgvc3JjPSIoYmxvYjpbXiJdKykiL2csZnVuY3Rpb24ocix1KXt2YXIgZT1pLmdldFJlc3VsdFVyaSh1KSxmO3JldHVybiBlPydzcmM9IicrZSsnIic6KGY9KGY9dC5nZXRCeVVyaSh1KSl8fGZ1KG4uZWRpdG9yTWFuYWdlci5nZXQoKSxmdW5jdGlvbihuLHQpe3JldHVybiBufHx0LmVkaXRvclVwbG9hZCYmdC5lZGl0b3JVcGxvYWQuYmxvYkNhY2hlLmdldEJ5VXJpKHUpfSxudWxsKSxmPydzcmM9ImRhdGE6JytmLmJsb2IoKS50eXBlKyI7YmFzZTY0LCIrZi5iYXNlNjQoKSsnIic6cil9KX12YXIgcixzLHUsaCx0PWFraSgpLGk9b3JpKCksZD1bXSxudD0oaD1oaShudWxsKSwodT1uKS5vbigiY2hhbmdlIEFkZFVuZG8iLGZ1bmN0aW9uKG4pe2guc2V0KGMoe30sbi5sZXZlbCkpfSkse2ZpcmVJZkNoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgbj11LnVuZG9NYW5hZ2VyLmRhdGE7eW8obikuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiFhYihoLmdldCgpLG4pfSkuZWFjaChmdW5jdGlvbih0KXt1LnNldERpcnR5KCEwKTt1LmZpcmUoImNoYW5nZSIse2xldmVsOnQsbGFzdExldmVsOnJnKG4sbi5sZW5ndGgtMikuZ2V0T3JOdWxsKCl9KX0pfX0pLGE9ZnVuY3Rpb24oKXtyZXR1cm4ocz1zfHx2YmkoaSx0KSkuZmluZEFsbChuLmdldEJvZHkoKSxnKS50aGVuKGYoZnVuY3Rpb24odCl7cmV0dXJuIHQ9cCh0LGZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgdHx8dm9pZCBnYihuLHQpfSksdGUobil8fGUodCxmdW5jdGlvbihuKXtvKG4uaW1hZ2Uuc3JjLG4uYmxvYkluZm8uYmxvYlVyaSgpKTtuLmltYWdlLnNyYz1uLmJsb2JJbmZvLmJsb2JVcmkoKTtuLmltYWdlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3JjIil9KSx0fSkpfTtyZXR1cm4gbi5vbigiU2V0Q29udGVudCIsZnVuY3Rpb24oKXsodXB0KG4pP2I6YSkoKX0pLG4ub24oIlJhd1NhdmVDb250ZW50IixmdW5jdGlvbihuKXtuLmNvbnRlbnQ9ayhuLmNvbnRlbnQpfSksbi5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24obil7bi5zb3VyY2Vfdmlld3x8InJhdyI9PT1uLmZvcm1hdHx8InRyZWUiPT09bi5mb3JtYXR8fChuLmNvbnRlbnQ9ayhuLmNvbnRlbnQpKX0pLG4ub24oIlBvc3RSZW5kZXIiLGZ1bmN0aW9uKCl7bi5wYXJzZXIuYWRkTm9kZUZpbHRlcigiaW1nIixmdW5jdGlvbihuKXtlKG4sZnVuY3Rpb24obil7dmFyIHIsdT1uLmF0dHIoInNyYyIpO3QuZ2V0QnlVcmkodSl8fChyPWkuZ2V0UmVzdWx0VXJpKHUpKSYmbi5hdHRyKCJzcmMiLHIpfSl9KX0pLHtibG9iQ2FjaGU6dCxhZGRGaWx0ZXI6ZnVuY3Rpb24obil7ZC5wdXNoKG4pfSx1cGxvYWRJbWFnZXM6dyx1cGxvYWRJbWFnZXNBdXRvOmIsc2NhbkZvckltYWdlczphLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0LmRlc3Ryb3koKTtpLmRlc3Ryb3koKTtzPXI9bnVsbH19fWZ1bmN0aW9uIGxyaShuLHQpe2Z1bmN0aW9uIHUobil7aT0ic3RyaW5nIj09dHlwZW9mIG4/e25hbWU6bixjbGFzc2VzOltdLGF0dHJzOnt9fTpuO3ZhciB0LHI9bGkuY3JlYXRlKGkubmFtZSksdT1yO3JldHVybih0PWkpLmNsYXNzZXMubGVuZ3RoJiZsaS5hZGRDbGFzcyh1LHQuY2xhc3Nlcy5qb2luKCIgIikpLGxpLnNldEF0dHJpYnModSx0LmF0dHJzKSxyfXZhciBmLGksZSxzPXQmJnQuc2NoZW1hfHxhZSh7fSksbz1mdW5jdGlvbihuLHQsaSl7dmFyIGUsZixsLGgseSxwLGMsYT0wPHQubGVuZ3RoJiZ0WzBdLHc9YSYmYS5uYW1lLHY9KGg9dyx5PSJzdHJpbmciIT10eXBlb2YobD1uKT9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6bCwhKCEoYz0ocD1zLmdldEVsZW1lbnRSdWxlKHkpKSYmcC5wYXJlbnRzUmVxdWlyZWQpfHwhYy5sZW5ndGgpJiYoaCYmLTEhPT1yLmluQXJyYXkoYyxoKT9oOmNbMF0pKTtpZih2KXc9PT12PyhmPXRbMF0sdD10LnNsaWNlKDEpKTpmPXY7ZWxzZSBpZihhKWY9dFswXSx0PXQuc2xpY2UoMSk7ZWxzZSBpZighaSlyZXR1cm4gbjtyZXR1cm4gZiYmKGU9dShmKSkuYXBwZW5kQ2hpbGQobiksaSYmKGV8fChlPWxpLmNyZWF0ZSgiZGl2IikpLmFwcGVuZENoaWxkKG4pLHIuZWFjaChpLGZ1bmN0aW9uKHQpe3ZhciBpPXUodCk7ZS5pbnNlcnRCZWZvcmUoaSxuKX0pKSxvKGUsdCxmJiZmLnNpYmxpbmdzKX07cmV0dXJuIG4mJm4ubGVuZ3RoPyhmPXUoaT1uWzBdKSwoZT1saS5jcmVhdGUoImRpdiIpKS5hcHBlbmRDaGlsZChvKGYsbi5zbGljZSgxKSxpLnNpYmxpbmdzKSksZSk6IiJ9ZnVuY3Rpb24gcGtpKG4pe3ZhciBpLHQ9e2NsYXNzZXM6W10sYXR0cnM6e319O3JldHVybiIqIiE9PShuPXQuc2VsZWN0b3I9ci50cmltKG4pKSYmKGk9bi5yZXBsYWNlKC8oPzooWyNcLl18Ojo/KShbXHdcLV0rKXwoXFspKFteXF1dKylcXT8pL2csZnVuY3Rpb24obixpLHUsZixlKXtzd2l0Y2goaSl7Y2FzZSIjIjp0LmF0dHJzLmlkPXU7YnJlYWs7Y2FzZSIuIjp0LmNsYXNzZXMucHVzaCh1KTticmVhaztjYXNlIjoiOi0xIT09ci5pbkFycmF5KCJjaGVja2VkIGRpc2FibGVkIGVuYWJsZWQgcmVhZC1vbmx5IHJlcXVpcmVkIi5zcGxpdCgiICIpLHUpJiYodC5hdHRyc1t1XT11KX12YXIgbztyZXR1cm4iWyIhPT1mfHwobz1lLm1hdGNoKC8oW1x3XC1dKykoPzpcPVwiKFteXCJdKykpPy8pKSYmKHQuYXR0cnNbb1sxXV09b1syXSksIiJ9KSksdC5uYW1lPWl8fCJkaXYiLHR9ZnVuY3Rpb24gd2tpKG4sdCl7ZnVuY3Rpb24gYShuKXtyZXR1cm4gbi5yZXBsYWNlKC8lKFx3KykvZywiIil9dmFyIGksYyxsPSIiLG89KGM9bi5nZXRQYXJhbSgicHJldmlld19zdHlsZXMiLCJmb250LWZhbWlseSBmb250LXNpemUgZm9udC13ZWlnaHQgZm9udC1zdHlsZSB0ZXh0LWRlY29yYXRpb24gdGV4dC10cmFuc2Zvcm0gY29sb3IgYmFja2dyb3VuZC1jb2xvciBib3JkZXIgYm9yZGVyLXJhZGl1cyBvdXRsaW5lIHRleHQtc2hhZG93IiksaHQoYyk/YzoiIiksdjtpZigiIj09PW8pcmV0dXJuIiI7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZighKHQ9bi5mb3JtYXR0ZXIuZ2V0KHQpKSlyZXR1cm47dD10WzBdfWlmKCJwcmV2aWV3ImluIHQpe2lmKHY9YXQodCwicHJldmlldyIpLGF5KHYsITEpKXJldHVybiIiO289di5nZXRPcihvKX12YXIgdSxzPXQuYmxvY2t8fHQuaW5saW5lfHwic3BhbiIsaD0odT10LnNlbGVjdG9yKSYmInN0cmluZyI9PXR5cGVvZiB1Pyh1PSh1PXUuc3BsaXQoL1xzKixccyovKVswXSkucmVwbGFjZSgvXHMqKH5cK3x+fFwrfD4pXHMqL2csIiQxIiksci5tYXAodS5zcGxpdCgvKD86PnxccysoPyFbXlxbXF1dK1xdKSkvKSxmdW5jdGlvbihuKXt2YXIgdD1yLm1hcChuLnNwbGl0KC8oPzp+XCt8fnxcKykvKSxwa2kpLGk9dC5wb3AoKTtyZXR1cm4gdC5sZW5ndGgmJihpLnNpYmxpbmdzPXQpLGl9KS5yZXZlcnNlKCkpOltdLGY9aC5sZW5ndGg/KGhbMF0ubmFtZXx8KGhbMF0ubmFtZT1zKSxzPXQuc2VsZWN0b3IsbHJpKGgsbikpOmxyaShbc10sbiksZT1saS5zZWxlY3QocyxmKVswXXx8Zi5maXJzdENoaWxkO3JldHVybiBoayh0LnN0eWxlcyxmdW5jdGlvbihuLHQpe3ZhciBpPWEobik7aSYmbGkuc2V0U3R5bGUoZSx0LGkpfSksaGsodC5hdHRyaWJ1dGVzLGZ1bmN0aW9uKG4sdCl7dmFyIGk9YShuKTtpJiZsaS5zZXRBdHRyaWIoZSx0LGkpfSksaGsodC5jbGFzc2VzLGZ1bmN0aW9uKG4pe3ZhciB0PWEobik7bGkuaGFzQ2xhc3MoZSx0KXx8bGkuYWRkQ2xhc3MoZSx0KX0pLG4uZmlyZSgiUHJldmlld0Zvcm1hdHMiKSxsaS5zZXRTdHlsZXMoZix7cG9zaXRpb246ImFic29sdXRlIixsZWZ0Oi02NTUzNX0pLG4uZ2V0Qm9keSgpLmFwcGVuZENoaWxkKGYpLGk9bGkuZ2V0U3R5bGUobi5nZXRCb2R5KCksImZvbnRTaXplIiwhMCksaT0vcHgkLy50ZXN0KGkpP3BhcnNlSW50KGksMTApOjAsaGsoby5zcGxpdCgiICIpLGZ1bmN0aW9uKHQpe3ZhciByPWxpLmdldFN0eWxlKGUsdCwhMCk7aWYoISgiYmFja2dyb3VuZC1jb2xvciI9PT10JiYvdHJhbnNwYXJlbnR8cmdiYVxzKlwoW14pXSssXHMqMFwpLy50ZXN0KHIpJiYocj1saS5nZXRTdHlsZShuLmdldEJvZHkoKSx0LCEwKSwiI2ZmZmZmZiI9PT1saS50b0hleChyKS50b0xvd2VyQ2FzZSgpKXx8ImNvbG9yIj09PXQmJiIjMDAwMDAwIj09PWxpLnRvSGV4KHIpLnRvTG93ZXJDYXNlKCkpKXtpZigiZm9udC1zaXplIj09PXQmJi9lbXwlJC8udGVzdChyKSl7aWYoMD09PWkpcmV0dXJuO3I9cGFyc2VGbG9hdChyKS8oLyUkLy50ZXN0KHIpPzEwMDoxKSppKyJweCJ9ImJvcmRlciI9PT10JiZyJiYobCs9InBhZGRpbmc6MCAycHg7Iik7bCs9dCsiOiIrcisiOyJ9fSksbi5maXJlKCJBZnRlclByZXZpZXdGb3JtYXRzIiksbGkucmVtb3ZlKGYpLGx9ZnVuY3Rpb24gYXJpKG4pe3ZhciBzLGMsbyx0LGksbCxmPSh0PXt9LChpPWZ1bmN0aW9uKG4scil7biYmKGh0KG4pPyhlKHI9YnIocik/cjpbcl0sZnVuY3Rpb24obil7dHIobi5kZWVwKSYmKG4uZGVlcD0hdXIobikpO3RyKG4uc3BsaXQpJiYobi5zcGxpdD0hdXIobil8fGt0KG4pKTt0cihuLnJlbW92ZSkmJnVyKG4pJiYha3QobikmJihuLnJlbW92ZT0ibm9uZSIpO3VyKG4pJiZrdChuKSYmKG4ubWl4ZWQ9ITAsbi5ibG9ja19leHBhbmQ9ITApO2h0KG4uY2xhc3NlcykmJihuLmNsYXNzZXM9bi5jbGFzc2VzLnNwbGl0KC9ccysvKSl9KSx0W25dPXIpOmV0KG4sZnVuY3Rpb24obix0KXtpKHQsbil9KSl9KSgoYz0ocz1uKS5kb20sbz17dmFsaWdudG9wOlt7c2VsZWN0b3I6InRkLHRoIixzdHlsZXM6e3ZlcnRpY2FsQWxpZ246InRvcCJ9fV0sdmFsaWdubWlkZGxlOlt7c2VsZWN0b3I6InRkLHRoIixzdHlsZXM6e3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fV0sdmFsaWduYm90dG9tOlt7c2VsZWN0b3I6InRkLHRoIixzdHlsZXM6e3ZlcnRpY2FsQWxpZ246ImJvdHRvbSJ9fV0sYWxpZ25sZWZ0Olt7c2VsZWN0b3I6ImZpZ3VyZS5pbWFnZSIsY29sbGFwc2VkOiExLGNsYXNzZXM6ImFsaWduLWxlZnQiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246ImxlZnQifSxpbmhlcml0OiExLHByZXZpZXc6ITEsZGVmYXVsdEJsb2NrOiJkaXYifSx7c2VsZWN0b3I6ImltZyx0YWJsZSxhdWRpbyx2aWRlbyIsY29sbGFwc2VkOiExLHN0eWxlczp7ZmxvYXQ6ImxlZnQifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25jZW50ZXI6W3tzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoiY2VudGVyIn0saW5oZXJpdDohMSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUiLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1jZW50ZXIiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImltZyxhdWRpbyx2aWRlbyIsY29sbGFwc2VkOiExLHN0eWxlczp7ZGlzcGxheToiYmxvY2siLG1hcmdpbkxlZnQ6ImF1dG8iLG1hcmdpblJpZ2h0OiJhdXRvIn0scHJldmlldzohMX0se3NlbGVjdG9yOiJ0YWJsZSIsY29sbGFwc2VkOiExLHN0eWxlczp7bWFyZ2luTGVmdDoiYXV0byIsbWFyZ2luUmlnaHQ6ImF1dG8ifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25yaWdodDpbe3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1yaWdodCIsY2VGYWxzZU92ZXJyaWRlOiEwLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9LHtzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoicmlnaHQifSxpbmhlcml0OiExLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIsZGVmYXVsdEJsb2NrOiJkaXYifSx7c2VsZWN0b3I6ImltZyx0YWJsZSxhdWRpbyx2aWRlbyIsY29sbGFwc2VkOiExLHN0eWxlczp7ZmxvYXQ6InJpZ2h0In0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWduanVzdGlmeTpbe3NlbGVjdG9yOiJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLHN0eWxlczp7dGV4dEFsaWduOiJqdXN0aWZ5In0saW5oZXJpdDohMSxkZWZhdWx0QmxvY2s6ImRpdiIscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGJvbGQ6W3tpbmxpbmU6InN0cm9uZyIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19LHtpbmxpbmU6InNwYW4iLHN0eWxlczp7Zm9udFdlaWdodDoiYm9sZCJ9fSx7aW5saW5lOiJiIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLGl0YWxpYzpbe2lubGluZToiZW0iLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfSx7aW5saW5lOiJzcGFuIixzdHlsZXM6e2ZvbnRTdHlsZToiaXRhbGljIn19LHtpbmxpbmU6ImkiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0sdW5kZXJsaW5lOlt7aW5saW5lOiJzcGFuIixzdHlsZXM6e3RleHREZWNvcmF0aW9uOiJ1bmRlcmxpbmUifSxleGFjdDohMH0se2lubGluZToidSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19XSxzdHJpa2V0aHJvdWdoOlt7aW5saW5lOiJzcGFuIixzdHlsZXM6e3RleHREZWNvcmF0aW9uOiJsaW5lLXRocm91Z2gifSxleGFjdDohMH0se2lubGluZToic3RyaWtlIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX0se2lubGluZToicyIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19XSxmb3JlY29sb3I6e2lubGluZToic3BhbiIsc3R5bGVzOntjb2xvcjoiJXZhbHVlIn0sbGlua3M6ITAscmVtb3ZlX3NpbWlsYXI6ITAsY2xlYXJfY2hpbGRfc3R5bGVzOiEwfSxoaWxpdGVjb2xvcjp7aW5saW5lOiJzcGFuIixzdHlsZXM6e2JhY2tncm91bmRDb2xvcjoiJXZhbHVlIn0sbGlua3M6ITAscmVtb3ZlX3NpbWlsYXI6ITAsY2xlYXJfY2hpbGRfc3R5bGVzOiEwfSxmb250bmFtZTp7aW5saW5lOiJzcGFuIix0b2dnbGU6ITEsc3R5bGVzOntmb250RmFtaWx5OiIldmFsdWUifSxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGZvbnRzaXplOntpbmxpbmU6InNwYW4iLHRvZ2dsZTohMSxzdHlsZXM6e2ZvbnRTaXplOiIldmFsdWUifSxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGxpbmVoZWlnaHQ6e3NlbGVjdG9yOiJoMSxoMixoMyxoNCxoNSxoNixwLGxpLHRkLHRoLGRpdiIsZGVmYXVsdEJsb2NrOiJwIixzdHlsZXM6e2xpbmVIZWlnaHQ6IiV2YWx1ZSJ9fSxmb250c2l6ZV9jbGFzczp7aW5saW5lOiJzcGFuIixhdHRyaWJ1dGVzOnsiY2xhc3MiOiIldmFsdWUifX0sYmxvY2txdW90ZTp7YmxvY2s6ImJsb2NrcXVvdGUiLHdyYXBwZXI6ITAscmVtb3ZlOiJhbGwifSxzdWJzY3JpcHQ6e2lubGluZToic3ViIn0sc3VwZXJzY3JpcHQ6e2lubGluZToic3VwIn0sY29kZTp7aW5saW5lOiJjb2RlIn0sbGluazp7aW5saW5lOiJhIixzZWxlY3RvcjoiYSIscmVtb3ZlOiJhbGwiLHNwbGl0OiEwLGRlZXA6ITAsb25tYXRjaDpmdW5jdGlvbihuKXtyZXR1cm4gaChuKSYmbi5oYXNBdHRyaWJ1dGUoImhyZWYiKX0sb25mb3JtYXQ6ZnVuY3Rpb24obix0LGkpe3IuZWFjaChpLGZ1bmN0aW9uKHQsaSl7Yy5zZXRBdHRyaWIobixpLHQpfSl9fSxsYW5nOntpbmxpbmU6InNwYW4iLGNsZWFyX2NoaWxkX3N0eWxlczohMCxyZW1vdmVfc2ltaWxhcjohMCxhdHRyaWJ1dGVzOntsYW5nOiIldmFsdWUiLCJkYXRhLW1jZS1sYW5nIjpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PW4/dm9pZCAwOm4uY3VzdG9tVmFsdWUpJiZ2b2lkIDAhPT10P3Q6bnVsbH19fSxyZW1vdmVmb3JtYXQ6W3tzZWxlY3RvcjoiYixzdHJvbmcsZW0saSxmb250LHUsc3RyaWtlLHMsc3ViLHN1cCxkZm4sY29kZSxzYW1wLGtiZCx2YXIsY2l0ZSxtYXJrLHEsZGVsLGlucyxzbWFsbCIscmVtb3ZlOiJhbGwiLHNwbGl0OiEwLGV4cGFuZDohMSxibG9ja19leHBhbmQ6ITAsZGVlcDohMH0se3NlbGVjdG9yOiJzcGFuIixhdHRyaWJ1dGVzOlsic3R5bGUiLCJjbGFzcyJdLHJlbW92ZToiZW1wdHkiLHNwbGl0OiEwLGV4cGFuZDohMSxkZWVwOiEwfSx7c2VsZWN0b3I6IioiLGF0dHJpYnV0ZXM6WyJzdHlsZSIsImNsYXNzIl0sc3BsaXQ6ITEsZXhwYW5kOiExLGRlZXA6ITB9XX0sci5lYWNoKCJwIGgxIGgyIGgzIGg0IGg1IGg2IGRpdiBhZGRyZXNzIHByZSBkdCBkZCBzYW1wIi5zcGxpdCgvXHMvKSxmdW5jdGlvbihuKXtvW25dPXtibG9jazpuLHJlbW92ZToiYWxsIn19KSxvKSksaShzLmdldFBhcmFtKCJmb3JtYXRzIikpLHtnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIGcobik/dFtuXTp0fSxoYXM6ZnVuY3Rpb24obil7cmV0dXJuIHcodCxuKX0scmVnaXN0ZXI6aSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKG4pe3JldHVybiBuJiZ0W25dJiZkZWxldGUgdFtuXSx0fX0pLGE9aGkobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKG4pe24uYWRkU2hvcnRjdXQoIm1ldGErYiIsIiIsIkJvbGQiKTtuLmFkZFNob3J0Y3V0KCJtZXRhK2kiLCIiLCJJdGFsaWMiKTtuLmFkZFNob3J0Y3V0KCJtZXRhK3UiLCIiLCJVbmRlcmxpbmUiKTtmb3IodmFyIHQ9MTt0PD02O3QrKyluLmFkZFNob3J0Y3V0KCJhY2Nlc3MrIit0LCIiLFsiRm9ybWF0QmxvY2siLCExLCJoIit0XSk7bi5hZGRTaG9ydGN1dCgiYWNjZXNzKzciLCIiLFsiRm9ybWF0QmxvY2siLCExLCJwIl0pO24uYWRkU2hvcnRjdXQoImFjY2Vzcys4IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwiZGl2Il0pO24uYWRkU2hvcnRjdXQoImFjY2Vzcys5IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwiYWRkcmVzcyJdKX0obiksKGw9bikub24oIm1vdXNldXAga2V5ZG93biIsZnVuY3Rpb24obil7dmFyIHQ9bCxpPW4ua2V5Q29kZSxyPXQuc2VsZWN0aW9uLHU9dC5nZXRCb2R5KCk7aGZ0KHQsbnVsbCwhMSk7OCE9PWkmJjQ2IT09aXx8IXIuaXNDb2xsYXBzZWQoKXx8ci5nZXRTdGFydCgpLmlubmVySFRNTCE9PXJsfHxoZnQodCxscyh1LHIuZ2V0U3RhcnQoKSkpOzM3IT09aSYmMzkhPT1pfHxoZnQodCxscyh1LHIuZ2V0U3RhcnQoKSkpfSkse2dldDpmLmdldCxoYXM6Zi5oYXMscmVnaXN0ZXI6Zi5yZWdpc3Rlcix1bnJlZ2lzdGVyOmYudW5yZWdpc3RlcixhcHBseTpmdW5jdGlvbih0LGkscil7dmFyIHU9dCxmPWksZT1yO2N0KG4pLmZvcm1hdHRlci5hcHBseSh1LGYsZSl9LHJlbW92ZTpmdW5jdGlvbih0LGkscix1KXt2YXIgZj10LGU9aSxvPXIscz11O2N0KG4pLmZvcm1hdHRlci5yZW1vdmUoZixlLG8scyl9LHRvZ2dsZTpmdW5jdGlvbih0LGkscil7dmFyIHU9dCxmPWksZT1yO2N0KG4pLmZvcm1hdHRlci50b2dnbGUodSxmLGUpfSxtYXRjaDpmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gZj10LGU9aSxvPXIscz11LGN0KG4pLmZvcm1hdHRlci5tYXRjaChmLGUsbyxzKTt2YXIgZixlLG8sc30sY2xvc2VzdDpmdW5jdGlvbih0KXtyZXR1cm4gaT10LGN0KG4pLmZvcm1hdHRlci5jbG9zZXN0KGkpO3ZhciBpfSxtYXRjaEFsbDpmdW5jdGlvbih0LGkpe3JldHVybiByPXQsdT1pLGN0KG4pLmZvcm1hdHRlci5tYXRjaEFsbChyLHUpO3ZhciByLHV9LG1hdGNoTm9kZTpmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gZj10LGU9aSxvPXIscz11LGN0KG4pLmZvcm1hdHRlci5tYXRjaE5vZGUoZixlLG8scyk7dmFyIGYsZSxvLHN9LGNhbkFwcGx5OmZ1bmN0aW9uKHQpe3JldHVybiBpPXQsY3QobikuZm9ybWF0dGVyLmNhbkFwcGx5KGkpO3ZhciBpfSxmb3JtYXRDaGFuZ2VkOmZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiBmPWEsZT10LG89aSxzPXIsaD11LGN0KG4pLmZvcm1hdHRlci5mb3JtYXRDaGFuZ2VkKGYsZSxvLHMsaCk7dmFyIGYsZSxvLHMsaH0sZ2V0Q3NzVGV4dDp1KHdraSxuKX19ZnVuY3Rpb24gdnJpKG4pe3N3aXRjaChuLnRvTG93ZXJDYXNlKCkpe2Nhc2UidW5kbyI6Y2FzZSJyZWRvIjpjYXNlIm1jZXJlcGFpbnQiOmNhc2UibWNlZm9jdXMiOnJldHVybiAxO2RlZmF1bHQ6cmV0dXJufX1mdW5jdGlvbiB5cmkobil7ZnVuY3Rpb24gZihuKXt2YihpLCExLG8pO2kuYWRkKHt9LG4pfXZhciBoLHQsaSxvLHMsYz1vYygpLGU9aGkoMCksdT1oaSgwKSxyPXtkYXRhOltdLHR5cGluZzohMSxiZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD1lLGk9YztjdChuKS51bmRvTWFuYWdlci5iZWZvcmVDaGFuZ2UodCxpKX0sYWRkOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGY9cixvPXUscz1lLGg9YyxsPXQsYT1pLGN0KG4pLnVuZG9NYW5hZ2VyLmFkZChmLG8scyxoLGwsYSk7dmFyIGYsbyxzLGgsbCxhfSx1bmRvOmZ1bmN0aW9uKCl7cmV0dXJuIHQ9cixpPWUsZj11LGN0KG4pLnVuZG9NYW5hZ2VyLnVuZG8odCxpLGYpO3ZhciB0LGksZn0scmVkbzpmdW5jdGlvbigpe3JldHVybiB0PXUsaT1yLmRhdGEsY3QobikudW5kb01hbmFnZXIucmVkbyh0LGkpO3ZhciB0LGl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIHQ9cixpPXU7Y3QobikudW5kb01hbmFnZXIuY2xlYXIodCxpKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD1yO2N0KG4pLnVuZG9NYW5hZ2VyLnJlc2V0KHQpfSxoYXNVbmRvOmZ1bmN0aW9uKCl7cmV0dXJuIHQ9cixpPXUsY3QobikudW5kb01hbmFnZXIuaGFzVW5kbyh0LGkpO3ZhciB0LGl9LGhhc1JlZG86ZnVuY3Rpb24oKXtyZXR1cm4gdD1yLGk9dSxjdChuKS51bmRvTWFuYWdlci5oYXNSZWRvKHQsaSk7dmFyIHQsaX0sdHJhbnNhY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGk9cix1PWUsZj10LGN0KG4pLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGksdSxmKTt2YXIgaSx1LGZ9LGlnbm9yZTpmdW5jdGlvbih0KXt2YXIgaT1lLHI9dDtjdChuKS51bmRvTWFuYWdlci5pZ25vcmUoaSxyKX0sZXh0cmE6ZnVuY3Rpb24odCxpKXt2YXIgZj1yLGU9dSxvPXQscz1pO2N0KG4pLnVuZG9NYW5hZ2VyLmV4dHJhKGYsZSxvLHMpfX07cmV0dXJuIHRlKG4pfHwoaT1yLG89ZSxzPWhpKCExKSwodD1uKS5vbigiaW5pdCIsZnVuY3Rpb24oKXtpLmFkZCgpfSksdC5vbigiQmVmb3JlRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKG4pe3ZyaShuLmNvbW1hbmQpfHwoZ3RpKGksbyksaS5iZWZvcmVDaGFuZ2UoKSl9KSx0Lm9uKCJFeGVjQ29tbWFuZCIsZnVuY3Rpb24obil7dnJpKG4uY29tbWFuZCl8fGYobil9KSx0Lm9uKCJPYmplY3RSZXNpemVTdGFydCBjdXQiLGZ1bmN0aW9uKCl7aS5iZWZvcmVDaGFuZ2UoKX0pLHQub24oIlNhdmVDb250ZW50IE9iamVjdFJlc2l6ZWQgYmx1ciIsZiksdC5vbigiZHJhZ2VuZCIsZiksdC5vbigia2V5dXAiLGZ1bmN0aW9uKG4pe3ZhciByPW4ua2V5Q29kZTtuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoKDMzPD1yJiZyPD0zNnx8Mzc8PXImJnI8PTQwfHw0NT09PXJ8fG4uY3RybEtleSkmJihmKCksdC5ub2RlQ2hhbmdlZCgpKSw0NiE9PXImJjghPT1yfHx0Lm5vZGVDaGFuZ2VkKCkscy5nZXQoKSYmaS50eXBpbmcmJiExPT09YWIodGV0KHQpLGkuZGF0YVswXSkmJighMT09PXQuaXNEaXJ0eSgpJiYodC5zZXREaXJ0eSghMCksdC5maXJlKCJjaGFuZ2UiLHtsZXZlbDppLmRhdGFbMF0sbGFzdExldmVsOm51bGx9KSksdC5maXJlKCJUeXBpbmdVbmRvIikscy5zZXQoITEpLHQubm9kZUNoYW5nZWQoKSkpfSksdC5vbigia2V5ZG93biIsZnVuY3Rpb24obil7dmFyIHIsdD1uLmtleUNvZGU7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KDMzPD10JiZ0PD0zNnx8Mzc8PXQmJnQ8PTQwfHw0NT09PXQ/aS50eXBpbmcmJmYobik6KHI9bi5jdHJsS2V5JiYhbi5hbHRLZXl8fG4ubWV0YUtleSwhKHQ8MTZ8fDIwPHQpfHwyMjQ9PT10fHw5MT09PXR8fGkudHlwaW5nfHxyfHwoaS5iZWZvcmVDaGFuZ2UoKSx2YihpLCEwLG8pLGkuYWRkKHt9LG4pLHMuc2V0KCEwKSkpKX0pLHQub24oIm1vdXNlZG93biIsZnVuY3Rpb24obil7aS50eXBpbmcmJmYobil9KSx0Lm9uKCJpbnB1dCIsZnVuY3Rpb24obil7bi5pbnB1dFR5cGUmJigiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0Ij09PW4uaW5wdXRUeXBlfHwiaW5zZXJ0VGV4dCI9PT1uLmlucHV0VHlwZSYmbnVsbD09PW4uZGF0YXx8Imluc2VydEZyb21QYXN0ZSI9PT1uLmlucHV0VHlwZXx8Imluc2VydEZyb21Ecm9wIj09PW4uaW5wdXRUeXBlKSYmZihuKX0pLHQub24oIkFkZFVuZG8gVW5kbyBSZWRvIENsZWFyVW5kb3MiLGZ1bmN0aW9uKG4pe24uaXNEZWZhdWx0UHJldmVudGVkKCl8fHQubm9kZUNoYW5nZWQoKX0pKSwoaD1uKS5hZGRTaG9ydGN1dCgibWV0YSt6IiwiIiwiVW5kbyIpLGguYWRkU2hvcnRjdXQoIm1ldGEreSxtZXRhK3NoaWZ0K3oiLCIiLCJSZWRvIikscn1mdW5jdGlvbiBwcmkobil7cmV0dXJuImtleWRvd24iPT09bi50eXBlfHwia2V5dXAiPT09bi50eXBlfWZ1bmN0aW9uIHdyaShuKXt2YXIgdD1uLmtleUNvZGU7cmV0dXJuIHQ9PT1zLkJBQ0tTUEFDRXx8dD09PXMuREVMRVRFfWZ1bmN0aW9uIHdzKG4saSl7cmV0dXJuIGFoKHQuZnJvbURvbShpKSxuLmdldFBhcmFtKCJpbmxpbmVfYm91bmRhcmllc19zZWxlY3RvciIsImFbaHJlZl0sY29kZSwubWNlLWFubm90YXRpb24iLCJzdHJpbmciKSl9ZnVuY3Rpb24gaG8odCxpLHIpe3ZhciB1LGYsZT0odT10LGY9aSxwKGQuRE9NLmdldFBhcmVudHMoci5jb250YWluZXIoKSwiKiIsZiksdSkpO3JldHVybiBuLmZyb20oZVtlLmxlbmd0aC0xXSl9ZnVuY3Rpb24geXIobix0KXtpZighdClyZXR1cm4gdDt2YXIgcj10LmNvbnRhaW5lcigpLHU9dC5vZmZzZXQoKTtyZXR1cm4gbj9kaChyKT9vKHIubmV4dFNpYmxpbmcpP2koci5uZXh0U2libGluZywwKTppLmFmdGVyKHIpOmNuKHQpP2kocix1KzEpOnQ6ZGgocik/byhyLnByZXZpb3VzU2libGluZyk/aShyLnByZXZpb3VzU2libGluZyxyLnByZXZpb3VzU2libGluZy5kYXRhLmxlbmd0aCk6aS5iZWZvcmUocik6bG4odCk/aShyLHUtMSk6dH1mdW5jdGlvbiBia2kobil7cmV0dXJuIGxhdChuKXx8ZmEobil9ZnVuY3Rpb24gbmsoaSxyKXtyZXR1cm4gb2UoaSxyKT9weShyLGJraSwodT1pLGZ1bmN0aW9uKG4pe3JldHVybiBudCh1LHQuZnJvbURvbShuLmRvbS5wYXJlbnROb2RlKSl9KSk6bi5ub25lKCk7dmFyIHV9ZnVuY3Rpb24gYnJpKG4pe3ZhciBpLHQscjtuLmRvbS5pc0VtcHR5KG4uZ2V0Qm9keSgpKSYmKG4uc2V0Q29udGVudCgiIikscj0odD0oaT1uKS5nZXRCb2R5KCkpLmZpcnN0Q2hpbGQmJmkuZG9tLmlzQmxvY2sodC5maXJzdENoaWxkKT90LmZpcnN0Q2hpbGQ6dCxpLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihyLDApKX1mdW5jdGlvbiBra2kobix0KXtyZXR1cm57ZnJvbTpuLHRvOnR9fWZ1bmN0aW9uIGdldChuLGkpe3JldHVybiBuayh0LmZyb21Eb20obiksdC5mcm9tRG9tKGkuY29udGFpbmVyKCkpKS5tYXAoZnVuY3Rpb24obil7cmV0dXJue2Jsb2NrOm4scG9zaXRpb246aX19KX1mdW5jdGlvbiBrcmkobil7dmFyIHQsaT1peSh0PW51KG4pLHRmKS5mb2xkKGYodCksZnVuY3Rpb24obil7cmV0dXJuIHQuc2xpY2UoMCxuKX0pO3JldHVybiBlKGksbmkpLGl9ZnVuY3Rpb24gZHJpKG4sdCl7cmV0dXJuIGd0KG5lKHQsbikucmV2ZXJzZSgpLGZ1bmN0aW9uKG4pe3JldHVybiBwdChuKX0pLmVhY2gobmkpfWZ1bmN0aW9uIGRraShuLHIsdSxmKXtpZihwdCh1KSlyZXR1cm4gdnModSksd2kodS5kb20pOzA9PT1wKGxjdChmKSxmdW5jdGlvbihuKXtyZXR1cm4hcHQobil9KS5sZW5ndGgmJnB0KHIpJiZvdShmLHQuZnJvbVRhZygiYnIiKSk7dmFyIG89bGYodS5kb20saS5iZWZvcmUoZi5kb20pKTtyZXR1cm4gZShrcmkociksZnVuY3Rpb24obil7b3UoZixuKX0pLGRyaShuLHIpLG99ZnVuY3Rpb24gZ2tpKG4sdCxpKXtpZihwdChpKSlyZXR1cm4gbmkoaSkscHQodCkmJnZzKHQpLHdpKHQuZG9tKTt2YXIgcj1hZihpLmRvbSk7cmV0dXJuIGUoa3JpKHQpLGZ1bmN0aW9uKG4pe2lpKGksbil9KSxkcmkobix0KSxyfWZ1bmN0aW9uIGdyaShuLGkpe3ZjKG4saS5kb20pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXROb2RlKCl9KS5tYXAodC5mcm9tRG9tKS5maWx0ZXIoYmgpLmVhY2gobmkpfWZ1bmN0aW9uIG51aSh0LGkscil7cmV0dXJuIGdyaSghMCxpKSxncmkoITEsciksKG9lKG89cixlPWkpPyhmPW5lKGUsbyksbi5mcm9tKGZbZi5sZW5ndGgtMV0pKTpuLm5vbmUoKSkuZm9sZCh1KGdraSx0LGksciksdShka2ksdCxpLHIpKTt2YXIgZSxvLGZ9ZnVuY3Rpb24gdHVpKG4sdCxpLHIpe3JldHVybiB0P251aShuLHIsaSk6bnVpKG4saSxyKX1mdW5jdGlvbiB0ayhyLHUpe3ZhciBzLGgsYyxmLGUsbyxsLGE9dC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSx2PShzPWEuZG9tLGg9dSwoKGM9ci5zZWxlY3Rpb24uZ2V0Um5nKCkpLmNvbGxhcHNlZD8oZT1oLG89Z2V0KGY9cyxpLmZyb21SYW5nZVN0YXJ0KGMpKSxsPW8uYmluZChmdW5jdGlvbih0KXtyZXR1cm4gdnIoZSxmLHQucG9zaXRpb24pLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGdldChmLHQpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcj1mLHU9ZSxzdCgoaT10KS5wb3NpdGlvbi5nZXROb2RlKCkpJiYhMT09PXB0KGkuYmxvY2spP3ZjKCExLGkuYmxvY2suZG9tKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRXF1YWwoaS5wb3NpdGlvbik/dnIodSxyLHQpLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIGdldChyLG4pfSk6bi5zb21lKGkpfSkuZ2V0T3IoaSk6aTt2YXIgcix1LGl9KX0pfSksZGkobyxsLGtraSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiExPT09bnQobi5mcm9tLmJsb2NrLG4udG8uYmxvY2spJiZldSgoaT1uKS5mcm9tLmJsb2NrKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBldShpLnRvLmJsb2NrKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG50KG4sdCl9KX0pLmlzU29tZSgpJiYhMT09PXJ0KCh0PW4pLmZyb20uYmxvY2suZG9tKSYmITE9PT1ydCh0LnRvLmJsb2NrLmRvbSk7dmFyIHQsaX0pKTpuLm5vbmUoKSkuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gdHVpKGEsdSxuLmZyb20uYmxvY2ssbi50by5ibG9jayl9KSk7cmV0dXJuIHYuZWFjaChmdW5jdGlvbihuKXtyLnNlbGVjdGlvbi5zZXRSbmcobi50b1JhbmdlKCkpfSksdi5pc1NvbWUoKX1mdW5jdGlvbiBpdWkobixpKXt2YXIgcj10LmZyb21Eb20oaSksZj11KG50LG4pO3JldHVybiB1YShyLG5wLGYpLmlzU29tZSgpfWZ1bmN0aW9uIG5kaShuKXt2YXIgcixlLHUscyxvLGYsaCxjLGwsYSx2PXQuZnJvbURvbShuLmdldEJvZHkoKSkseT1uLnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gZj15LGw9bGYoKG89dikuZG9tLGkuZnJvbVJhbmdlU3RhcnQoZikpLmlzTm9uZSgpLGE9eXUoby5kb20saS5mcm9tUmFuZ2VFbmQoZikpLmlzTm9uZSgpLCFpdWkoaD1vLChjPWYpLnN0YXJ0Q29udGFpbmVyKSYmIWl1aShoLGMuZW5kQ29udGFpbmVyKSYmbCYmYT8oKHM9bikuc2V0Q29udGVudCgiIikscy5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oKSwhMCk6KHI9dixlPW4uc2VsZWN0aW9uLHU9ZS5nZXRSbmcoKSxkaShuayhyLHQuZnJvbURvbSh1LnN0YXJ0Q29udGFpbmVyKSksbmsocix0LmZyb21Eb20odS5lbmRDb250YWluZXIpKSxmdW5jdGlvbihuLHQpe3JldHVybiExPT09bnQobix0KSYmKHUuZGVsZXRlQ29udGVudHMoKSx0dWkociwhMCxuLHQpLmVhY2goZnVuY3Rpb24obil7ZS5zZXRSbmcobi50b1JhbmdlKCkpfSksITApfSkuZ2V0T3IoITEpKX1mdW5jdGlvbiBpayhuKXtyZXR1cm4hbi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmbmRpKG4pfWZ1bmN0aW9uIGllKHQsaSxyLHUsZil7cmV0dXJuIG4uZnJvbShpLl9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0NhcmV0KHQscix1LGYpKX1mdW5jdGlvbiBlbCh0LGkpe3ZhciByLHU7cmV0dXJuIHQuZmlyZSgiQmVmb3JlT2JqZWN0U2VsZWN0ZWQiLHt0YXJnZXQ6aX0pLmlzRGVmYXVsdFByZXZlbnRlZCgpP24ubm9uZSgpOm4uc29tZSgoKHU9KHI9aSkub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZWxlY3ROb2RlKHIpLHUpKX1mdW5jdGlvbiBydWkodCxyLHUpe3ZhciBoPWNpdCgxLHQuZ2V0Qm9keSgpLHIpLGY9aS5mcm9tUmFuZ2VTdGFydChoKSxzPWYuZ2V0Tm9kZSgpLGUsbztyZXR1cm4gZGEocyk/aWUoMSx0LHMsIWYuaXNBdEVuZCgpLCExKTooZT1mLmdldE5vZGUoITApLGRhKGUpKT9pZSgxLHQsZSwhMSwhMSk6KG89dC5kb20uZ2V0UGFyZW50KGYuZ2V0Tm9kZSgpLGZ1bmN0aW9uKG4pe3JldHVybiBiZGkobil8fHdkaShuKX0pLGRhKG8pP2llKDEsdCxvLCExLHUpOm4ubm9uZSgpKX1mdW5jdGlvbiBub3Qobix0LGkpe3JldHVybiB0LmNvbGxhcHNlZD9ydWkobix0LGkpLmdldE9yKHQpOnR9ZnVuY3Rpb24gdGRpKG4pe3JldHVybiBlbyhuKXx8dGwobil9ZnVuY3Rpb24gaWRpKG4pe3JldHVybiBvbyhuKXx8aWwobil9ZnVuY3Rpb24gdXVpKG4sdCxpLHIsdSxmKXt2YXIgcyxlO3JldHVybiBpZShyLG4sZi5nZXROb2RlKCF1KSx1LCEwKS5lYWNoKGZ1bmN0aW9uKGkpe3ZhciByO3QuY29sbGFwc2VkPyhyPXQuY2xvbmVSYW5nZSgpLHU/ci5zZXRFbmQoaS5zdGFydENvbnRhaW5lcixpLnN0YXJ0T2Zmc2V0KTpyLnNldFN0YXJ0KGkuZW5kQ29udGFpbmVyLGkuZW5kT2Zmc2V0KSxyLmRlbGV0ZUNvbnRlbnRzKCkpOnQuZGVsZXRlQ29udGVudHMoKTtuLnNlbGVjdGlvbi5zZXRSbmcoaSl9KSxzPW4uZG9tLG8oZT1pKSYmMD09PWUuZGF0YS5sZW5ndGgmJnMucmVtb3ZlKGUpLCEwfWZ1bmN0aW9uIHJrKG4sdCl7dmFyIGY9bi5zZWxlY3Rpb24uZ2V0Um5nKCkscjtpZighbyhmLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSlyZXR1cm4hMTt2YXIgcz10P2J0LkZvcndhcmRzOmJ0LkJhY2t3YXJkcyxoPXZ1KG4uZ2V0Qm9keSgpKSxjPXUobGl0LHQ/aC5uZXh0OmgucHJldiksbD10P3RkaTppZGksZT1rYShzLG4uZ2V0Qm9keSgpLGYpLGk9eXIodCxjKGUpKTtyZXR1cm4haXx8IWl3KGUsaSk/ITE6bChpKT91dWkobixmLGUuZ2V0Tm9kZSgpLHMsdCxpKToocj1jKGkpLCEhKHImJmwocikmJml3KGkscikpJiZ1dWkobixmLGUuZ2V0Tm9kZSgpLHMsdCxyKSl9ZnVuY3Rpb24gZnVpKGkscix1KXtyZXR1cm4gdnIocixpLHUpLmJpbmQoZnVuY3Rpb24oZil7ZnVuY3Rpb24geShuKXtyZXR1cm4gaG4odC5mcm9tRG9tKG4pKSYmIWVmKHYsbyxsKX1yZXR1cm4gcz1mLmdldE5vZGUoKSxucCh0LmZyb21Eb20ocykpfHxmYSh0LmZyb21Eb20ocykpfHwobD1pLG89ZixncHQoIShhPXIpLHY9dSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBncHQoYSxvKS5mb2xkKGl0LHkpfSx5KSk/bi5ub25lKCk6ciYmcnQoZi5nZXROb2RlKCkpfHwhMT09PXImJnJ0KGYuZ2V0Tm9kZSghMCkpPyhoPWksYz11LGU9Zi5nZXROb2RlKCExPT09ciksbmsodC5mcm9tRG9tKGgpLHQuZnJvbURvbShjLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gcHQobik/cHIucmVtb3ZlKG4uZG9tKTpwci5tb3ZlVG9FbGVtZW50KGUpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBuLnNvbWUocHIubW92ZVRvRWxlbWVudChlKSl9KSk6ciYmb28odSl8fCExPT09ciYmZW8odSk/bi5zb21lKHByLm1vdmVUb1Bvc2l0aW9uKGYpKTpuLm5vbmUoKTt2YXIgaCxjLGUsbCxhLHYsbyxzfSl9ZnVuY3Rpb24gZXVpKHQsaSl7cmV0dXJuIG4uZnJvbShnYyh0LmdldEJvZHkoKSxpKSl9ZnVuY3Rpb24gcmRpKHIsdSl7dmFyIGY9ci5zZWxlY3Rpb24uZ2V0Tm9kZSgpO3JldHVybiBldWkocixmKS5maWx0ZXIocnQpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdj1yLmdldEJvZHkoKSxrPWNpdCgoZT11KT8xOi0xLHYsci5zZWxlY3Rpb24uZ2V0Um5nKCkpLGY9aS5mcm9tUmFuZ2VTdGFydChrKSxsPXQuZnJvbURvbSh2KSwoITE9PT1lJiZvbyhmKT9uLnNvbWUocHIucmVtb3ZlKGYuZ2V0Tm9kZSghMCkpKTplJiZlbyhmKT9uLnNvbWUocHIucmVtb3ZlKGYuZ2V0Tm9kZSgpKSk6ITE9PT1lJiZlbyhmKSYmbHV0KGwsZik/Z3dpKGwsZikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBwci5yZW1vdmUobi5nZXROb2RlKCkpfSk6ZSYmb28oZikmJmN1dChsLGYpP25iaShsLGYpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gcHIucmVtb3ZlKG4uZ2V0Tm9kZSgpKX0pOihhPXYsbz1lLHA9KHM9ZikuZ2V0Tm9kZSghMT09PSh3PW8pKSxiPXc/ImFmdGVyIjoiYmVmb3JlIixoKHApJiZwLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKT09PWI/KGM9cy5nZXROb2RlKCExPT09KHk9bykpLCh5JiZydChjLm5leHRTaWJsaW5nKT9uLnNvbWUocHIubW92ZVRvRWxlbWVudChjLm5leHRTaWJsaW5nKSk6ITE9PT15JiZydChjLnByZXZpb3VzU2libGluZyk/bi5zb21lKHByLm1vdmVUb0VsZW1lbnQoYy5wcmV2aW91c1NpYmxpbmcpKTpuLm5vbmUoKSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBmdWkoYSxvLHMpfSxuLnNvbWUpKTpmdWkoYSxvLHMpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGk9YSxyPXMsdC5mb2xkKGZ1bmN0aW9uKHQpe3JldHVybiBuLnNvbWUocHIucmVtb3ZlKHQpKX0sZnVuY3Rpb24odCl7cmV0dXJuIG4uc29tZShwci5tb3ZlVG9FbGVtZW50KHQpKX0sZnVuY3Rpb24odCl7cmV0dXJuIGVmKHIsdCxpKT9uLm5vbmUoKTpuLnNvbWUocHIubW92ZVRvUG9zaXRpb24odCkpfSk7dmFyIGkscn0pKSkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiBuLmZvbGQoZnVuY3Rpb24obil7cmV0dXJuIGYuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCkseXMoZixoLHQuZnJvbURvbShuKSksITB9LChzPWg9dSxmdW5jdGlvbihuKXt2YXIgdD1zP2kuYmVmb3JlKG4pOmkuYWZ0ZXIobik7cmV0dXJuIG8uc2VsZWN0aW9uLnNldFJuZyh0LnRvUmFuZ2UoKSksITB9KSwoZT1vPWY9cixmdW5jdGlvbihuKXtyZXR1cm4gZS5zZWxlY3Rpb24uc2V0Um5nKG4udG9SYW5nZSgpKSwhMH0pKTt2YXIgZSxvLHMsZixofSk7dmFyIGEsbyxzLHksYyx3LHAsYix2LGUsayxmLGx9LGx0KX1mdW5jdGlvbiB1ZGkobixpKXt2YXIgcj1uLnNlbGVjdGlvbi5nZXROb2RlKCk7cmV0dXJuISghcnQocil8fHl5KHIpKSYmZXVpKG4sci5wYXJlbnROb2RlKS5maWx0ZXIocnQpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZShnaSh0LmZyb21Eb20obi5nZXRCb2R5KCkpLCIubWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKSxuaSkseXMobixpLHQuZnJvbURvbShuLnNlbGVjdGlvbi5nZXROb2RlKCkpKSxicmkobiksITB9LGx0KX1mdW5jdGlvbiBvdWkobil7dmFyIHUscj1uLmRvbSxmPW4uc2VsZWN0aW9uLHQ9Z2Mobi5nZXRCb2R5KCksZi5nZXROb2RlKCkpO3JldHVybiBndSh0KSYmci5pc0Jsb2NrKHQpJiZyLmlzRW1wdHkodCkmJih1PXIuY3JlYXRlKCJiciIseyJkYXRhLW1jZS1ib2d1cyI6IjEifSksci5zZXRIVE1MKHQsIiIpLHQuYXBwZW5kQ2hpbGQodSksZi5zZXRSbmcoaS5iZWZvcmUodSkudG9SYW5nZSgpKSksITB9ZnVuY3Rpb24gdWsobix0KXtyZXR1cm4obi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT9yZGk6dWRpKShuLHQpfWZ1bmN0aW9uIGZrKHQscil7cmV0dXJuISF0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYodT10LGY9cixlPWkuZnJvbVJhbmdlU3RhcnQodS5zZWxlY3Rpb24uZ2V0Um5nKCkpLHZyKGYsdS5nZXRCb2R5KCksZSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybihmP3d3aTpid2kpKG4pfSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gbi5mcm9tKGhpdChmPzA6LTEsdCkpfSkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiB1LnNlbGVjdGlvbi5zZWxlY3QobiksITB9KSk7dmFyIHUsZixlfWZ1bmN0aW9uIHN1aShuKXtyZXR1cm4gb2wobikmJm4uZGF0YVswXT09PWZpfWZ1bmN0aW9uIGh1aShuKXtyZXR1cm4gb2wobikmJm4uZGF0YVtuLmRhdGEubGVuZ3RoLTFdPT09Zml9ZnVuY3Rpb24gY3VpKG4pe3JldHVybiBuLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmkpfWZ1bmN0aW9uIGVrKG4sdCl7cmV0dXJuKG4/ZnVuY3Rpb24obil7aWYob2wobi5wcmV2aW91c1NpYmxpbmcpKXJldHVybiBodWkobi5wcmV2aW91c1NpYmxpbmcpfHxuLnByZXZpb3VzU2libGluZy5hcHBlbmREYXRhKGZpKSxuLnByZXZpb3VzU2libGluZztpZihvbChuKSlyZXR1cm4gc3VpKG4pfHxuLmluc2VydERhdGEoMCxmaSksbjt2YXIgdD1jdWkobik7cmV0dXJuIG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxuKSx0fTpmdW5jdGlvbihuKXtpZihvbChuLm5leHRTaWJsaW5nKSlyZXR1cm4gc3VpKG4ubmV4dFNpYmxpbmcpfHxuLm5leHRTaWJsaW5nLmluc2VydERhdGEoMCxmaSksbi5uZXh0U2libGluZztpZihvbChuKSlyZXR1cm4gaHVpKG4pfHxuLmFwcGVuZERhdGEoZmkpLG47dmFyIHQ9Y3VpKG4pO3JldHVybiBuLm5leHRTaWJsaW5nP24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxuLm5leHRTaWJsaW5nKTpuLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCksdH0pKHQpfWZ1bmN0aW9uIGx1aShuLHQpe3JldHVybiBvKG4uY29udGFpbmVyKCkpP2VrKHQsbi5jb250YWluZXIoKSk6ZWsodCxuLmdldE5vZGUoKSl9ZnVuY3Rpb24gYXVpKG4sdCl7dmFyIGk9dC5nZXQoKTtyZXR1cm4gaSYmbi5jb250YWluZXIoKT09PWkmJmRoKGkpfWZ1bmN0aW9uIHRvdCh0LHIpe3JldHVybiByLmZvbGQoZnVuY3Rpb24ocil7Y3ModC5nZXQoKSk7dmFyIHU9a2RpKHIpO3JldHVybiB0LnNldCh1KSxuLnNvbWUoaSh1LHUubGVuZ3RoLTEpKX0sZnVuY3Rpb24obil7cmV0dXJuIHdpKG4pLm1hcChmdW5jdGlvbihuKXtpZihhdWkobix0KSlyZXR1cm4gaSh0LmdldCgpLDEpO2NzKHQuZ2V0KCkpO3ZhciByPWx1aShuLCEwKTtyZXR1cm4gdC5zZXQociksaShyLDEpfSl9LGZ1bmN0aW9uKG4pe3JldHVybiBhZihuKS5tYXAoZnVuY3Rpb24obil7aWYoYXVpKG4sdCkpcmV0dXJuIGkodC5nZXQoKSx0LmdldCgpLmxlbmd0aC0xKTtjcyh0LmdldCgpKTt2YXIgcj1sdWkobiwhMSk7cmV0dXJuIHQuc2V0KHIpLGkocixyLmxlbmd0aC0xKX0pfSxmdW5jdGlvbihyKXtjcyh0LmdldCgpKTt2YXIgdT1kZGkocik7cmV0dXJuIHQuc2V0KHUpLG4uc29tZShpKHUsMSkpfSl9ZnVuY3Rpb24gdnVpKHQsaSl7Zm9yKHZhciB1LHI9MDtyPHQubGVuZ3RoO3IrKylpZih1PXRbcl0uYXBwbHkobnVsbCxpKSx1LmlzU29tZSgpKXJldHVybiB1O3JldHVybiBuLm5vbmUoKX1mdW5jdGlvbiB5dWkobix0KXtyZXR1cm4gcm8odCxuKXx8bn1mdW5jdGlvbiBmZGkodCxpLHIpe3ZhciBmPWd1aShyKSxlPXl1aShpLGYuY29udGFpbmVyKCkpO3JldHVybiBobyh0LGUsZikuZm9sZChmdW5jdGlvbigpe3JldHVybiB5dShlLGYpLmJpbmQodShobyx0LGUpKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGFpLmJlZm9yZShuKX0pfSxuLm5vbmUpfWZ1bmN0aW9uIGVkaShuLHQpe3JldHVybiBudWxsPT09bHMobix0KX1mdW5jdGlvbiBwdWkobix0LGkpe3JldHVybiBobyhuLHQsaSkuZmlsdGVyKHUoZWRpLHQpKX1mdW5jdGlvbiBvZGkodCxpLHIpe3ZhciB1PW5maShyKTtyZXR1cm4gcHVpKHQsaSx1KS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBsZih0LHUpLmlzTm9uZSgpP24uc29tZShhaS5zdGFydCh0KSk6bi5ub25lKCl9KX1mdW5jdGlvbiBzZGkodCxpLHIpe3ZhciB1PWd1aShyKTtyZXR1cm4gcHVpKHQsaSx1KS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiB5dSh0LHUpLmlzTm9uZSgpP24uc29tZShhaS5lbmQodCkpOm4ubm9uZSgpfSl9ZnVuY3Rpb24gaGRpKHQsaSxyKXt2YXIgZj1uZmkociksZT15dWkoaSxmLmNvbnRhaW5lcigpKTtyZXR1cm4gaG8odCxlLGYpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbGYoZSxmKS5iaW5kKHUoaG8sdCxlKSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBhaS5hZnRlcihuKX0pfSxuLm5vbmUpfWZ1bmN0aW9uIHd1aShuKXtyZXR1cm4hMT09PSh0PXVvdChuKSwicnRsIj09PWQuRE9NLmdldFN0eWxlKHQsImRpcmVjdGlvbiIsITApfHwoaT10LnRleHRDb250ZW50LHBkaS50ZXN0KGkpKSk7dmFyIHQsaX1mdW5jdGlvbiB5ZihuLHQsaSl7cmV0dXJuIHZ1aShbZmRpLG9kaSxzZGksaGRpXSxbbix0LGldKS5maWx0ZXIod3VpKX1mdW5jdGlvbiBidWkobil7cmV0dXJuIG4uZm9sZChmKCJiZWZvcmUiKSxmKCJzdGFydCIpLGYoImVuZCIpLGYoImFmdGVyIikpfWZ1bmN0aW9uIG9rKG4pe3JldHVybiBuLmZvbGQoYWkuYmVmb3JlLGFpLmJlZm9yZSxhaS5hZnRlcixhaS5hZnRlcil9ZnVuY3Rpb24gaW90KG4pe3JldHVybiBuLmZvbGQoYWkuc3RhcnQsYWkuc3RhcnQsYWkuZW5kLGFpLmVuZCl9ZnVuY3Rpb24gY2RpKG4sdCxpLHIsdSxmKXtyZXR1cm4gZGkoaG8odCxpLHIpLGhvKHQsaSx1KSxmdW5jdGlvbih0LHIpe3JldHVybiB0IT09ciYmKG89cix1PXJvKHQsZT1pKSxzPXJvKG8sZSksdSYmdT09PXMpP2FpLmFmdGVyKG4/dDpyKTpmO3ZhciBlLG8sdSxzfSkuZ2V0T3IoZil9ZnVuY3Rpb24gbGRpKG4sdCl7cmV0dXJuIG4uZm9sZChsdCxmdW5jdGlvbihuKXtyZXR1cm4gaT10LCEoYnVpKHI9bik9PT1idWkoaSkmJnVvdChyKT09PXVvdChpKSk7dmFyIHIsaX0pfWZ1bmN0aW9uIGFkaSh0LGkpe3JldHVybiB0P2kuZm9sZCh2byhuLnNvbWUsYWkuc3RhcnQpLG4ubm9uZSx2byhuLnNvbWUsYWkuYWZ0ZXIpLG4ubm9uZSk6aS5mb2xkKG4ubm9uZSx2byhuLnNvbWUsYWkuYmVmb3JlKSxuLm5vbmUsdm8obi5zb21lLGFpLmVuZCkpfWZ1bmN0aW9uIHJvdChuLHQsaSxyKXt2YXIgZj15cihuLHIpLGU9eWYodCxpLGYpO3JldHVybiB5Zih0LGksZikuYmluZCh1KGFkaSxuKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBzPXQsbz1pLGg9ZSxjPXlyKGY9bixyKSx2cihmLG8sYykubWFwKHUoeXIsZikpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gaC5tYXAob2spfSxmdW5jdGlvbihuKXtyZXR1cm4geWYocyxvLG4pLm1hcCh1KGNkaSxmLHMsbyxjLG4pKS5maWx0ZXIodShsZGksaCkpfSkuZmlsdGVyKHd1aSk7dmFyIGYscyxvLGgsY30pfWZ1bmN0aW9uIHNrKG4pe2Zvcih2YXIgaSxyPVtdLHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXJbdC0xXT1hcmd1bWVudHNbdF07aT13aW5kb3cuY29uc29sZTtpJiYoaS5lcnJvcnx8aS5sb2cpLmFwcGx5KGksZWUoW25dLHIsITEpKX1mdW5jdGlvbiB0Zmkobix0LHIpe3ZhciB1PW4/MTotMTtyZXR1cm4gdC5zZXRSbmcoaShyLmNvbnRhaW5lcigpLHIub2Zmc2V0KCkrdSkudG9SYW5nZSgpKSx0LmdldFNlbCgpLm1vZGlmeSgibW92ZSIsbj8iZm9yd2FyZCI6ImJhY2t3YXJkIiwid29yZCIpLCEwfWZ1bmN0aW9uIGNrKG4sdCl7cmV0dXJuIG49PT1idC5CYWNrd2FyZHM/cnkodCk6dH1mdW5jdGlvbiBpZmkodCxpLHIsdSl7Zm9yKHZhciBmLGEsYyxsLHMsaCx2PXZ1KHIpLGU9dSxvPVtdO2U7KXtpZihmPShzPXYsaD1lLGk9PT1idC5Gb3J3YXJkcz9zLm5leHQoaCk6cy5wcmV2KGgpKSwhZilicmVhaztpZihzdChmLmdldE5vZGUoITEpKSlyZXR1cm4gaT09PWJ0LkZvcndhcmRzP3twb3NpdGlvbnM6Y2soaSxvKS5jb25jYXQoW2ZdKSxicmVha1R5cGU6cmUuQnIsYnJlYWtBdDpuLnNvbWUoZil9Ontwb3NpdGlvbnM6Y2soaSxvKSxicmVha1R5cGU6cmUuQnIsYnJlYWtBdDpuLnNvbWUoZil9O2lmKGYuaXNWaXNpYmxlKCkpe2lmKHQoZSxmKSlyZXR1cm4gYT0oYz1lLHN0KChsPWYpLmdldE5vZGUoaT09PWJ0LkZvcndhcmRzKSk/cmUuQnI6ITE9PT1lZihjLGwpP3JlLkJsb2NrOnJlLldyYXApLHtwb3NpdGlvbnM6Y2soaSxvKSxicmVha1R5cGU6YSxicmVha0F0Om4uc29tZShmKX07by5wdXNoKGYpO2U9Zn1lbHNlIGU9Zn1yZXR1cm57cG9zaXRpb25zOmNrKGksbyksYnJlYWtUeXBlOnJlLkVvbCxicmVha0F0Om4ubm9uZSgpfX1mdW5jdGlvbiByZmkobix0LGkscil7cmV0dXJuIHQoaSxyKS5icmVha0F0Lm1hcChmdW5jdGlvbihyKXt2YXIgdT10KGkscikucG9zaXRpb25zO3JldHVybiBuPT09YnQuQmFja3dhcmRzP3UuY29uY2F0KHIpOltyXS5jb25jYXQodSl9KS5nZXRPcihbXSl9ZnVuY3Rpb24gZm90KHQsaSl7cmV0dXJuIGZ1KHQsZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG4uc29tZShyKX0sZnVuY3Rpb24obil7cmV0dXJuIGRpKG9yKG4uZ2V0Q2xpZW50UmVjdHMoKSksb3Ioci5nZXRDbGllbnRSZWN0cygpKSxmdW5jdGlvbih0LHUpe3ZhciBmPU1hdGguYWJzKGktdC5sZWZ0KTtyZXR1cm4gTWF0aC5hYnMoaS11LmxlZnQpPD1mP3I6bn0pLm9yKHQpfSl9LG4ubm9uZSgpKX1mdW5jdGlvbiB1Zmkobix0KXtyZXR1cm4gb3IodC5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBmb3Qobix0LmxlZnQpfSl9ZnVuY3Rpb24gZ2RpKG4pe2Z1bmN0aW9uIGkodCl7cmV0dXJuIHV0KHQsZnVuY3Rpb24odCl7dmFyIGk9b3ModCk7cmV0dXJuIGkubm9kZT1uLGl9KX1pZihoKG4pKXJldHVybiBpKG4uZ2V0Q2xpZW50UmVjdHMoKSk7aWYobyhuKSl7dmFyIHQ9bi5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHQuc2V0U3RhcnQobiwwKSx0LnNldEVuZChuLG4uZGF0YS5sZW5ndGgpLGkodC5nZXRDbGllbnRSZWN0cygpKX19ZnVuY3Rpb24gZW90KG4pe3JldHVybiBzaChuLGdkaSl9ZnVuY3Rpb24gZmZpKG4sdCxpLHIsdSxmKXtmdW5jdGlvbiBzKHIpe3ZhciBvPWVvdChbcl0pLHMsZjtmb3IoLTE9PT1uJiYobz1vLnJldmVyc2UoKSkscz0wO3M8by5sZW5ndGg7cysrKWlmKGY9b1tzXSwhaShmLGMpKXtpZigwPGUubGVuZ3RoJiZ0KGYscG8oZSkpJiZoKyssZi5saW5lPWgsdShmKSlyZXR1cm4hMDtlLnB1c2goZil9fXZhciBoPTAsZT1bXSxjPXBvKGYuZ2V0Q2xpZW50UmVjdHMoKSksbztyZXR1cm4gYz8obz1mLmdldE5vZGUoKSxzKG8pLGZ1bmN0aW9uKG4sdCxpLHIpe2Zvcig7cj1hYyhyLG4sa3ksdCk7KWlmKGkocikpcmV0dXJufShuLHIscyxvKSxlKTplfWZ1bmN0aW9uIGVmaShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQubGluZT5ufX1mdW5jdGlvbiBvb3Qobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmxpbmU9PT1ufX1mdW5jdGlvbiBzb3Qobix0KXtyZXR1cm4gTWF0aC5hYnMobi5sZWZ0LXQpfWZ1bmN0aW9uIGhvdChuLHQpe3JldHVybiBNYXRoLmFicyhuLnJpZ2h0LXQpfWZ1bmN0aW9uIG9maShuLHQpe3JldHVybiBuPj10LmxlZnQmJm48PXQucmlnaHR9ZnVuY3Rpb24gaWdpKG4sdCl7cmV0dXJuIG4+PXQudG9wJiZuPD10LmJvdHRvbX1mdW5jdGlvbiBhayhuLHQsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPWx0KSx1eShuLGZ1bmN0aW9uKG4scil7aWYob2ZpKHQscikpcmV0dXJuIGkocik/cjpuO2lmKG9maSh0LG4pKXJldHVybiBpKG4pP246cjt2YXIgdT1NYXRoLm1pbihzb3Qobix0KSxob3Qobix0KSksZj1NYXRoLm1pbihzb3Qocix0KSxob3Qocix0KSk7cmV0dXJuIGY9PT11JiZoaChyLCJub2RlIikmJnVuaShyLm5vZGUpfHxmPHU/cjpufSl9ZnVuY3Rpb24gc2ZpKG4sdCxpLHIsdSl7dmFyIGY9d29pKHIsbixreSx0LCF1KTtkbyBpZighZnx8aShmKSlyZXR1cm47d2hpbGUoZj13b2koZixuLGt5LHQpKX1mdW5jdGlvbiByZ2kobix0LGkpe2Z1bmN0aW9uIGYobil7cmV0dXJuIXloKG4ubm9kZSkmJiF0dShuLm5vZGUpfXZhciBlLG8scixzPWVvdChwKGJ1KG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksaHMpKSxoPXAocyx1KGlnaSxpKSk7cmV0dXJuKHI9YWsoaCx0LGYpKSYmKHI9YWsoZnVuY3Rpb24obix0LGkpe2Z1bmN0aW9uIGYobixpKXt2YXIgdT1wKGVvdChbaV0pLGZ1bmN0aW9uKGkpe3JldHVybiFuKGksdCl9KTtyZXR1cm4gcj1yLmNvbmNhdCh1KSwwPT09dS5sZW5ndGh9dm9pZCAwPT09aSYmKGk9ITApO3ZhciByPVtdO3JldHVybiByLnB1c2godCksc2ZpKGJzLlVwLG4sdShmLGhjKSx0Lm5vZGUsaSksc2ZpKGJzLkRvd24sbix1KGYsY2MpLHQubm9kZSxpKSxyfShuLHIsZihyKSksdCxmKSkmJmhzKHIubm9kZSk/e25vZGU6KGU9cikubm9kZSxiZWZvcmU6c290KGUsbz10KTxob3QoZSxvKX06bnVsbH1mdW5jdGlvbiB1ZShuLHQpe24uc2VsZWN0aW9uLnNldFJuZyh0KTtldihuLG4uc2VsZWN0aW9uLmdldFJuZygpKX1mdW5jdGlvbiBjb3QodCxpLHIpe3JldHVybiBuLnNvbWUobm90KHQsaSxyKSl9ZnVuY3Rpb24gaGZpKHQsaSxyLGYsZSxvKXt2YXIgcz1pPT09YnQuRm9yd2FyZHMscD12dSh0LmdldEJvZHkoKSksdz11KGxpdCxzP3AubmV4dDpwLnByZXYpLGE9cz9mOmUsdixsLGgseSxjO3JldHVybiFyLmNvbGxhcHNlZCYmKHY9YnAociksbyh2KSk/aWUoaSx0LHYsaT09PWJ0LkJhY2t3YXJkcywhMSk6KGw9a2EoaSx0LmdldEJvZHkoKSxyKSxhKGwpKT9lbCh0LGwuZ2V0Tm9kZSghcykpOihoPXlyKHMsdyhsKSkseT10YXQociksIWgpP3k/bi5zb21lKHIpOm4ubm9uZSgpOmEoaCk/aWUoaSx0LGguZ2V0Tm9kZSghcykscywhMSk6KGM9dyhoKSxjJiZhKGMpJiZpdyhoLGMpP2llKGksdCxjLmdldE5vZGUoIXMpLHMsITEpOnk/Y290KHQsaC50b1JhbmdlKCksITEpOm4ubm9uZSgpKX1mdW5jdGlvbiBjZmkodCxyLHUsZixlLG8pe3ZhciBzPWthKHIsdC5nZXRCb2R5KCksdSkseT1wbyhzLmdldENsaWVudFJlY3RzKCkpLGE9cj09PWJzLkRvd24sayxkLHYsbDtpZigheSlyZXR1cm4gbi5ub25lKCk7dmFyIHcsYj1wKChhP3JuaTppbmkpKHQuZ2V0Qm9keSgpLGVmaSgxKSxzKSxvb3QoMSkpLGM9eS5sZWZ0LGg9YWsoYixjKTtyZXR1cm4gaCYmbyhoLm5vZGUpPyhrPU1hdGguYWJzKGMtaC5sZWZ0KSxkPU1hdGguYWJzKGMtaC5yaWdodCksaWUocix0LGgubm9kZSxrPGQsITEpKToodz1mKHMpP3MuZ2V0Tm9kZSgpOmUocyk/cy5nZXROb2RlKCEwKTpicCh1KSkmJigodj1mdW5jdGlvbihuLHQscix1KXtmdW5jdGlvbiBhKG4pe3JldHVybiBwbyhuLmdldENsaWVudFJlY3RzKCkpfXZhciBoLGMsbCx2PXZ1KHQpLGU9W10seT0wLGY9MT09PW4/KGg9di5uZXh0LGM9Y2MsbD1oYyxpLmFmdGVyKHUpKTooaD12LnByZXYsYz1oYyxsPWNjLGkuYmVmb3JlKHUpKSxwPWEoZikscyxvO2RvIGlmKGYuaXNWaXNpYmxlKCkmJihzPWEoZiksIWwocyxwKSkpe2lmKDA8ZS5sZW5ndGgmJmMocyxwbyhlKSkmJnkrKyxvPW9zKHMpLG8ucG9zaXRpb249ZixvLmxpbmU9eSxyKG8pKXJldHVybiBlO2UucHVzaChvKX13aGlsZShmPWgoZikpO3JldHVybiBlfShyLHQuZ2V0Qm9keSgpLGVmaSgxKSx3KSxsPWFrKHAodixvb3QoMSkpLGMpLGwpfHwobD1wbyhwKHYsb290KDApKSkpKT9jb3QodCxsLnBvc2l0aW9uLnRvUmFuZ2UoKSwhMSk6MD09PWIubGVuZ3RoP2RvdCh0LGEpLmZpbHRlcihhP2U6ZikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBub3QodCxuLnRvUmFuZ2UoKSwhMSl9KTpuLm5vbmUoKX1mdW5jdGlvbiBsZmkobix0LGkpe3JldHVybiBkb3Qobix0KS5maWx0ZXIoaSkuZXhpc3RzKGZ1bmN0aW9uKHQpe3JldHVybiBuLnNlbGVjdGlvbi5zZXRSbmcodC50b1JhbmdlKCkpLCEwfSl9ZnVuY3Rpb24gdmsobix0KXt2YXIgaT1uLmRvbS5jcmVhdGVSbmcoKTtpLnNldFN0YXJ0KHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSk7aS5zZXRFbmQodC5jb250YWluZXIoKSx0Lm9mZnNldCgpKTtuLnNlbGVjdGlvbi5zZXRSbmcoaSl9ZnVuY3Rpb24gYWZpKG4sdCl7bj90LnNldEF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiLCJpbmxpbmUtYm91bmRhcnkiKTp0LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKX1mdW5jdGlvbiB2Zmkobix0LGkpe3JldHVybiB0b3QodCxpKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHZrKG4sdCksaX0pfWZ1bmN0aW9uIHlmaShuLHQscil7cmV0dXJuISFiYShuKSYmKGU9dCxvPXIscz0oZj1uKS5nZXRCb2R5KCksaD1pLmZyb21SYW5nZVN0YXJ0KGYuc2VsZWN0aW9uLmdldFJuZygpKSxyb3Qobyx1KHdzLGYpLHMsaCkuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gdmZpKGYsZSxuKX0pLmlzU29tZSgpKTt2YXIgZixlLG8scyxofWZ1bmN0aW9uIHBmaShuLHQpe3JldHVybiEhYmEodCkmJih1PW4sZT0oZj10KS5zZWxlY3Rpb24uZ2V0Um5nKCkscj11P2kuZnJvbVJhbmdlRW5kKGUpOmkuZnJvbVJhbmdlU3RhcnQoZSksISFmdChmLnNlbGVjdGlvbi5nZXRTZWwoKS5tb2RpZnkpJiYodSYmY24ocik/dGZpKCEwLGYuc2VsZWN0aW9uLHIpOiEodXx8IWxuKHIpKSYmdGZpKCExLGYuc2VsZWN0aW9uLHIpKSk7dmFyIHUsZixlLHJ9ZnVuY3Rpb24gdWdpKG4pe3ZhciByPWhpKG51bGwpLGY9dSh3cyxuKTtyZXR1cm4gbi5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24obyl7dmFyIHYscyx3LGIseSxrLGQsZyxudCxoLGMsYSx0dDshYmEobil8fGwuYnJvd3Nlci5pc0lFKCkmJm8uaW5pdGlhbHx8KHk9ZixrPW4uZG9tLGQ9by5wYXJlbnRzLGUocmh0KGc9cCh1dChnaSh0LmZyb21Eb20oay5nZXRSb290KCkpLCcqW2RhdGEtbWNlLXNlbGVjdGVkPSJpbmxpbmUtYm91bmRhcnkiXScpLGZ1bmN0aW9uKG4pe3JldHVybiBuLmRvbX0pLHkpLG50PXAoZCx5KSksdShhZmksITEpKSxlKHJodChudCxnKSx1KGFmaSwhMCkpLGM9ciwoaD1uKS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmITAhPT1oLmNvbXBvc2luZyYmYy5nZXQoKSYmKGE9aS5mcm9tUmFuZ2VTdGFydChoLnNlbGVjdGlvbi5nZXRSbmcoKSksaS5pc1RleHRQb3NpdGlvbihhKSYmITE9PT0oY24odHQ9YSl8fGxuKHR0KSkmJih2ayhoLHd2aShjLmdldCgpLGEpKSxjLnNldChudWxsKSkpLHY9ZixzPW4sdz1yLGI9by5wYXJlbnRzLHMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJmUocChiLHYpLGZ1bmN0aW9uKCl7dmFyIG49aS5mcm9tUmFuZ2VTdGFydChzLnNlbGVjdGlvbi5nZXRSbmcoKSk7eWYodixzLmdldEJvZHkoKSxuKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiB2Zmkocyx3LG4pfSl9KSl9KSxyfWZ1bmN0aW9uIHlrKG4sdCxyKXtpZihiYShuKSl7dmFyIGY9ZG90KG4sdCkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciByPW4uc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiB0P2kuZnJvbVJhbmdlRW5kKHIpOmkuZnJvbVJhbmdlU3RhcnQocil9KTtyZXR1cm4geWYodSh3cyxuKSxuLmdldEJvZHkoKSxmKS5leGlzdHMoZnVuY3Rpb24odCl7dmFyIGk9b2sodCk7cmV0dXJuIHRvdChyLGkpLmV4aXN0cyhmdW5jdGlvbih0KXtyZXR1cm4gdmsobix0KSwhMH0pfSl9cmV0dXJuITF9ZnVuY3Rpb24gd2ZpKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0b3QodCxpKS5leGlzdHMoZnVuY3Rpb24odCl7cmV0dXJuIHZrKG4sdCksITB9KX19ZnVuY3Rpb24gYmZpKG4sdCxyLGYpe3ZhciBlPW4uZ2V0Qm9keSgpLG89dSh3cyxuKTtuLnVuZG9NYW5hZ2VyLmlnbm9yZShmdW5jdGlvbigpe3ZhciB1LHMsaDtuLnNlbGVjdGlvbi5zZXRSbmcoKHU9cixzPWYsKGg9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQodS5jb250YWluZXIoKSx1Lm9mZnNldCgpKSxoLnNldEVuZChzLmNvbnRhaW5lcigpLHMub2Zmc2V0KCkpLGgpKTtuLmV4ZWNDb21tYW5kKCJEZWxldGUiKTt5ZihvLGUsaS5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSkpLm1hcChpb3QpLm1hcCh3Zmkobix0KSl9KTtuLm5vZGVDaGFuZ2VkKCl9ZnVuY3Rpb24gcGsocixlLG8pe3ZhciBwLGgsYSxjLHMseSxsLHYsdztyZXR1cm4gci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmYmEocik/KHA9aS5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSksYT1lLGM9byxzPXAseT0oaD1yKS5nZXRCb2R5KCksbD1ybyhzLmNvbnRhaW5lcigpLHkpfHx5LHY9dSh3cyxoKSwodz15Zih2LGwscykpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGM/dC5mb2xkKGYobi5zb21lKGlvdCh0KSkpLG4ubm9uZSxmKG4uc29tZShvayh0KSkpLG4ubm9uZSk6dC5mb2xkKG4ubm9uZSxmKG4uc29tZShvayh0KSkpLG4ubm9uZSxmKG4uc29tZShpb3QodCkpKSl9KS5tYXAod2ZpKGgsYSkpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgbj1mdyhjLGwscyksaT1uLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIHlmKHYsbCxuKX0pO3JldHVybiBkaSh3LGksZnVuY3Rpb24oKXtyZXR1cm4gaG8odixsLHMpLmV4aXN0cyhmdW5jdGlvbihuKXtyZXR1cm4hIWRpKHdpKGk9biksYWYoaSksZnVuY3Rpb24obix0KXt2YXIgcj15cighMCxuKSx1PXlyKCExLHQpO3JldHVybiB5dShpLHIpLmZvcmFsbChmdW5jdGlvbihuKXtyZXR1cm4gbi5pc0VxdWFsKHUpfSl9KS5nZXRPcighMCkmJih5cyhoLGMsdC5mcm9tRG9tKG4pKSwhMCk7dmFyIGl9KX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gaS5iaW5kKGZ1bmN0aW9uKCl7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBjP2JmaShoLGEscyxuKTpiZmkoaCxhLG4scyksITB9KX0pfSkuZ2V0T3IoITEpfSkpOiExfWZ1bmN0aW9uIGZnaShuKXtyZXR1cm4gMT09PXljdChuKX1mdW5jdGlvbiBlZ2kobixyKXt2YXIgZSxzPXQuZnJvbURvbShuLmdldEJvZHkoKSksaD10LmZyb21Eb20obi5zZWxlY3Rpb24uZ2V0U3RhcnQoKSksbz1wKGl5KGU9bmUoaCxzKSx0ZikuZm9sZChmKGUpLGZ1bmN0aW9uKG4pe3JldHVybiBlLnNsaWNlKDAsbil9KSxmZ2kpO3JldHVybiB5byhvKS5leGlzdHMoZnVuY3Rpb24oZil7dmFyIGEsdixzLGgseSxjLHcsYixrLGQ9aS5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksZz1yLGw9ZCxlPWYuZG9tO3JldHVybiEoIWRpKHdpKGUpLGFmKGUpLGZ1bmN0aW9uKG4sdCl7dmFyIGk9eXIoITAsbikscj15cighMSx0KSx1PXlyKCExLGwpO3JldHVybiBnP3l1KGUsdSkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlzRXF1YWwocikmJmwuaXNFcXVhbChpKX0pOmxmKGUsdSkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlzRXF1YWwoaSkmJmwuaXNFcXVhbChyKX0pfSkuZ2V0T3IoITApfHxzZigoYT1mKS5kb20pJiZmbnQoYS5kb20pfHwodj1yLGg9ZiwwPT09KGs9dXQocChvLHUocHdpLHM9bikpLGZ1bmN0aW9uKG4pe3JldHVybiBuLmRvbX0pKS5sZW5ndGg/eXMocyx2LGgpOihjPWguZG9tLGI9c250KGssKHc9b2Z0KCExKSkuZG9tKSxvdSh0LmZyb21Eb20oYyksdyksbmkodC5mcm9tRG9tKGMpKSx5PWkoYiwwKSxzLnNlbGVjdGlvbi5zZXRSbmcoeS50b1JhbmdlKCkpKSwwKSl9KX1mdW5jdGlvbiB3ayhuLHQpe3JldHVybiEhbi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmZWdpKG4sdCl9ZnVuY3Rpb24gbG90KG4saSxyKXtyZXR1cm4gbi5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSx5cyhuLGksdC5mcm9tRG9tKHIpKSwhMH1mdW5jdGlvbiBiayh0LGkpe3JldHVybiB0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyh1PXQsbz0ocj1pKT90bDppbCxjPXI/YnQuRm9yd2FyZHM6YnQuQmFja3dhcmRzLGY9a2EoYyx1LmdldEJvZHkoKSx1LnNlbGVjdGlvbi5nZXRSbmcoKSksbyhmKT9sb3QodSxyLGYuZ2V0Tm9kZSghcikpOm4uZnJvbSh5cihyLGYpKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG8obikmJml3KGYsbil9KS5leGlzdHMoZnVuY3Rpb24obil7cmV0dXJuIGxvdCh1LHIsbi5nZXROb2RlKCFyKSl9KSk6KGg9aSxlPShzPXQpLnNlbGVjdGlvbi5nZXROb2RlKCksISF0dShlKSYmbG90KHMsaCxlKSk7dmFyIHMsaCxlLHUscixvLGMsZn1mdW5jdGlvbiBhb3Qobil7dmFyIHQ9cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHQpPzA6dH1mdW5jdGlvbiBrZmkobix0KXtyZXR1cm4obnx8InRhYmxlIj09PXZ0KHQpPyJtYXJnaW4iOiJwYWRkaW5nIikrKCJydGwiPT09YmYodCwiZGlyZWN0aW9uIik/Ii1yaWdodCI6Ii1sZWZ0Iil9ZnVuY3Rpb24gZGZpKG4pe3ZhciB0LGk9Ym9pKG4pO3JldHVybiFuLm1vZGUuaXNSZWFkT25seSgpJiYoMTxpLmxlbmd0aHx8KHQ9bix2bChpLGZ1bmN0aW9uKG4pe3ZhciBpPWtnKG4sa2ZpKHNwdCh0KSxuKSkubWFwKGFvdCkuZ2V0T3IoMCk7cmV0dXJuImZhbHNlIiE9PXQuZG9tLmdldENvbnRlbnRFZGl0YWJsZShuLmRvbSkmJjA8aX0pKSl9ZnVuY3Rpb24gZ2ZpKG4pe3JldHVybiBrbihuKXx8ZmEobil9ZnVuY3Rpb24gbmVpKG4saSl7dmFyIHI9bi5kb20sZj1uLnNlbGVjdGlvbixvPW4uZm9ybWF0dGVyLHU9bi5nZXRQYXJhbSgiaW5kZW50YXRpb24iLCI0MHB4Iiwic3RyaW5nIikscz0vW2EteiVdKyQvaS5leGVjKHUpWzBdLGg9cGFyc2VJbnQodSwxMCksYz1zcHQobiksbD1zaShuKTtuLnF1ZXJ5Q29tbWFuZFN0YXRlKCJJbnNlcnRVbm9yZGVyZWRMaXN0Iil8fG4ucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydE9yZGVyZWRMaXN0Iil8fCIiIT09bHx8ci5nZXRQYXJlbnQoZi5nZXROb2RlKCksci5pc0Jsb2NrKXx8by5hcHBseSgiZGl2Iik7ZShib2kobiksZnVuY3Rpb24obil7dmFyIHUsbz1yLHY9aSxsPWgsYT1zLGY9bi5kb20sZT1rZmkoYyx0LmZyb21Eb20oZikpOyJvdXRkZW50Ij09PXY/KHU9TWF0aC5tYXgoMCxhb3QoZi5zdHlsZVtlXSktbCksby5zZXRTdHlsZShmLGUsdT91K2E6IiIpKToodT1hb3QoZi5zdHlsZVtlXSkrbCthLG8uc2V0U3R5bGUoZixlLHUpKX0pfWZ1bmN0aW9uIHRlaShuKXtpZihuLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZkZmkobikpe3ZhciByPW4uZG9tLHU9bi5zZWxlY3Rpb24uZ2V0Um5nKCksZT1pLmZyb21SYW5nZVN0YXJ0KHUpLGY9ci5nZXRQYXJlbnQodS5zdGFydENvbnRhaW5lcixyLmlzQmxvY2spO2lmKG51bGwhPT1mJiZhZnQodC5mcm9tRG9tKGYpLGUpKXJldHVybiBuZWkobiwib3V0ZGVudCIpLCEwfXJldHVybiExfWZ1bmN0aW9uIGllaShuLHQpe24uZ2V0RG9jKCkuZXhlY0NvbW1hbmQodCwhMSxudWxsKX1mdW5jdGlvbiByZWkodCl7cmV0dXJuIHZvaWQgMD09PXQudG91Y2hlc3x8MSE9PXQudG91Y2hlcy5sZW5ndGg/bi5ub25lKCk6bi5zb21lKHQudG91Y2hlc1swXSl9ZnVuY3Rpb24gdm90KG4sdCl7cmV0dXJuIHcobix0Lm5vZGVOYW1lKX1mdW5jdGlvbiBvZ2kobil7dmFyIHUsZix2LHk9bi5kb20scz1uLnNlbGVjdGlvbixwPW4uc2NoZW1hLGM9cC5nZXRCbG9ja0VsZW1lbnRzKCksaT1zLmdldFN0YXJ0KCksbD1uLmdldEJvZHkoKSxhPXNpKG4pLHc7aWYoaSYmaChpKSYmYSYmKHc9bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHAuaXNWYWxpZENoaWxkKHcsYS50b0xvd2VyQ2FzZSgpKSYmKGI9YyxrPWwsZD1pLCF2aShrZHQodC5mcm9tRG9tKGQpLHQuZnJvbURvbShrKSksZnVuY3Rpb24obil7cmV0dXJuIHZvdChiLG4uZG9tKX0pKSkpe2Zvcih2YXIgYixrLGQsZyxlLHI9cy5nZXRSbmcoKSxudD1yLnN0YXJ0Q29udGFpbmVyLHR0PXIuc3RhcnRPZmZzZXQsaXQ9ci5lbmRDb250YWluZXIscnQ9ci5lbmRPZmZzZXQsdXQ9YXMobiksaT1sLmZpcnN0Q2hpbGQ7aTspZz1jLG8oZT1pKXx8aChlKSYmIXZvdChnLGUpJiYhYXIoZSk/ZnVuY3Rpb24obix0KXtpZihvKHQpJiYoMD09PXQubm9kZVZhbHVlLmxlbmd0aHx8L15ccyskLy50ZXN0KHQubm9kZVZhbHVlKSYmKCF0Lm5leHRTaWJsaW5nfHx2b3Qobix0Lm5leHRTaWJsaW5nKSkpKXJldHVybiAxfShjLGkpPyhpPShmPWkpLm5leHRTaWJsaW5nLHkucmVtb3ZlKGYpKToodXx8KHU9eS5jcmVhdGUoYSxwYShuKSksaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh1LGkpLHY9ITApLGk9KGY9aSkubmV4dFNpYmxpbmcsdS5hcHBlbmRDaGlsZChmKSk6KHU9bnVsbCxpPWkubmV4dFNpYmxpbmcpO3YmJnV0JiYoci5zZXRTdGFydChudCx0dCksci5zZXRFbmQoaXQscnQpLHMuc2V0Um5nKHIpLG4ubm9kZUNoYW5nZWQoKSl9fWZ1bmN0aW9uIHVlaShuLHQpe3QuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpJiYoYW4odCksbi5zZWxlY3Rpb24uc2V0Um5nKG4uc2VsZWN0aW9uLmdldFJuZygpKSxuLnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyh0KSl9ZnVuY3Rpb24gc2dpKG4saSl7dmFyIHI9YnkodC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1jYXJldF0iKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4uZG9tfSkuZ2V0T3JOdWxsKCk7aWYocilyZXR1cm4iY29tcG9zaXRpb25zdGFydCI9PT1pLnR5cGU/KGkucHJldmVudERlZmF1bHQoKSxpLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgdWVpKG4scikpOnZvaWQobmF0KHIpJiYodWVpKG4sciksbi51bmRvTWFuYWdlci5hZGQoKSkpfWZ1bmN0aW9uIGZlaShuLHQscil7dmFyIGUsZixvLHM9dnUobi5nZXRCb2R5KCkpLGg9dShsaXQsMT09PXQ/cy5uZXh0OnMucHJldik7ci5jb2xsYXBzZWQmJiIiIT09c2kobikmJihlPW4uZG9tLmdldFBhcmVudChyLnN0YXJ0Q29udGFpbmVyLCJQUkUiKSkmJihoKGkuZnJvbVJhbmdlU3RhcnQocikpfHwobz1uLmRvbS5jcmVhdGUoc2kobikpLCghbC5pZXx8MTE8PWwuaWUpJiYoby5pbm5lckhUTUw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JyksZj1vLDE9PT10P24uJChlKS5hZnRlcihmKTpuLiQoZSkuYmVmb3JlKGYpLG4uc2VsZWN0aW9uLnNlbGVjdChmLCEwKSxuLnNlbGVjdGlvbi5jb2xsYXBzZSgpKSl9ZnVuY3Rpb24gZWVpKHQsaSl7cmV0dXJuIHI9dCx1PWk/YnQuRm9yd2FyZHM6YnQuQmFja3dhcmRzLGY9ci5zZWxlY3Rpb24uZ2V0Um5nKCksaGZpKHIsdSxmLGVvLG9vLGtvaSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBmZWkocix1LGYpLG4ubm9uZSgpfSkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiB1ZSh0LG4pLCEwfSk7dmFyIHIsdSxmfWZ1bmN0aW9uIG9laSh0LGkpe3JldHVybiB1PWk/MTotMSxmPShyPXQpLnNlbGVjdGlvbi5nZXRSbmcoKSxjZmkocix1LGYsZnVuY3Rpb24obil7cmV0dXJuIGVvKG4pfHxsbnQobil9LGZ1bmN0aW9uKG4pe3JldHVybiBvbyhuKXx8YW50KG4pfSxrb2kpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZmVpKHIsdSxmKSxuLm5vbmUoKX0pLmV4aXN0cyhmdW5jdGlvbihuKXtyZXR1cm4gdWUodCxuKSwhMH0pO3ZhciByLHUsZn1mdW5jdGlvbiBzZWkobix0KXtyZXR1cm4gbGZpKG4sdCx0P29vOmVvKX1mdW5jdGlvbiBoZ2kobil7cmV0dXJuIGR0KFsiZmlnY2FwdGlvbiJdLHZ0KG4pKX1mdW5jdGlvbiBoZWkobil7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gdC5zZXRTdGFydEJlZm9yZShuLmRvbSksdC5zZXRFbmRCZWZvcmUobi5kb20pLHR9ZnVuY3Rpb24gY2VpKG4sdCxpKXsoaT9paTp3Y3QpKG4sdCl9ZnVuY3Rpb24gY2dpKG4scil7dmFyIGY9dC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSxlPWkuZnJvbVJhbmdlU3RhcnQobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLG89c2kobikscz1wYShuKSxoPWUsYz11KG50LGYpO3JldHVybiBweSh0LmZyb21Eb20oaC5jb250YWluZXIoKSksdGYsYykuZmlsdGVyKGhnaSkuZXhpc3RzKGZ1bmN0aW9uKCl7dmFyIHYsdSx5LHAsaCx3LGIsayxpLGMsZCxnLGwsYSxudCx0dDtyZXR1cm4obD1mLGE9ZSxyPyh0dD1sLmRvbSx2dih0dCxhKS5icmVha0F0LmlzTm9uZSgpKToobnQ9bC5kb20sYXYobnQsYSkuYnJlYWtBdC5pc05vbmUoKSkpPyh2PSh1PWYscD1zLGg9ciwiIj09PSh5PW8pPyhkPWgsY2VpKHUsZz10LmZyb21UYWcoImJyIiksZCksaGVpKGcpKToodz11LGI9aCxrPXAsaT10LmZyb21UYWcoeSksYz10LmZyb21UYWcoImJyIiksc2UoaSxrKSxpaShpLGMpLGNlaSh3LGksYiksaGVpKGMpKSksbi5zZWxlY3Rpb24uc2V0Um5nKHYpLCEwKTohMX0pfWZ1bmN0aW9uIGxlaShuLHQpe3JldHVybiEhbi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmY2dpKG4sdCl9ZnVuY3Rpb24gdihuKXtmb3IodmFyIGk9W10sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspaVt0LTFdPWFyZ3VtZW50c1t0XTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseShudWxsLGkpfX1mdW5jdGlvbiBzbChuLHQpe3JldHVybiBndCgoaT10LHNoKHV0KG4sZnVuY3Rpb24obil7cmV0dXJuIGMoe3NoaWZ0S2V5OiExLGFsdEtleTohMSxjdHJsS2V5OiExLG1ldGFLZXk6ITEsa2V5Q29kZTowLGFjdGlvbjp5fSxuKX0pLGZ1bmN0aW9uKG4pe3JldHVybiBpLmtleUNvZGU9PT1uLmtleUNvZGUmJmkuc2hpZnRLZXk9PT1uLnNoaWZ0S2V5JiZpLmFsdEtleT09PW4uYWx0S2V5JiZpLmN0cmxLZXk9PT1uLmN0cmxLZXkmJmkubWV0YUtleT09PW4ubWV0YUtleT9bbl06W119KSksZnVuY3Rpb24obil7cmV0dXJuIG4uYWN0aW9uKCl9KTt2YXIgaX1mdW5jdGlvbiBhZWkobix0KXt2YXIgaT10P2J0LkZvcndhcmRzOmJ0LkJhY2t3YXJkcyxyPW4uc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBoZmkobixpLHIsdGwsaWwsdHUpLmV4aXN0cyhmdW5jdGlvbih0KXtyZXR1cm4gdWUobix0KSwhMH0pfWZ1bmN0aW9uIHZlaShuLHQpe3ZhciBpPXQ/MTotMSxyPW4uc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBjZmkobixpLHIsdGwsaWwsdHUpLmV4aXN0cyhmdW5jdGlvbih0KXtyZXR1cm4gdWUobix0KSwhMH0pfWZ1bmN0aW9uIHllaShuLHQpe3JldHVybiBsZmkobix0LHQ/aWw6dGwpfWZ1bmN0aW9uIHBlaShpLHIsdSxmLGUpe3ZhciBvLGM9Z2kodC5mcm9tRG9tKHUpLCJ0ZCx0aCxjYXB0aW9uIikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLmRvbX0pLGw9cCgobz1pLHNoKGMsZnVuY3Rpb24obil7dmFyIHQsaT17bGVmdDoodD1vcyhuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSkubGVmdC0gLTEsdG9wOnQudG9wLSAtMSxyaWdodDp0LnJpZ2h0Ky0yLGJvdHRvbTp0LmJvdHRvbSstMix3aWR0aDp0LndpZHRoKy0xLGhlaWdodDp0LmhlaWdodCstMX07cmV0dXJuW3t4OmkubGVmdCx5Om8oaSksY2VsbDpufSx7eDppLnJpZ2h0LHk6byhpKSxjZWxsOm59XX0pKSxmdW5jdGlvbihuKXtyZXR1cm4gcihuLGUpfSkscz1mLGg9ZTtyZXR1cm4gZnUobCxmdW5jdGlvbih0LGkpe3JldHVybiB0LmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbi5zb21lKGkpfSxmdW5jdGlvbih0KXt2YXIgcj1NYXRoLnNxcnQoTWF0aC5hYnModC54LXMpK01hdGguYWJzKHQueS1oKSksdT1NYXRoLnNxcnQoTWF0aC5hYnMoaS54LXMpK01hdGguYWJzKGkueS1oKSk7cmV0dXJuIG4uc29tZSh1PHI/aTp0KX0pfSxuLm5vbmUoKSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLmNlbGx9KX1mdW5jdGlvbiB3ZWkobix0LGkpe3ZhciB1LGYscj1uKHQsaSk7cmV0dXJuIHIuYnJlYWtUeXBlPT09cmUuV3JhcCYmMD09PXIucG9zaXRpb25zLmxlbmd0aHx8IXN0KGkuZ2V0Tm9kZSgpKSYmci5icmVha1R5cGU9PT1yZS5CciYmMT09PXIucG9zaXRpb25zLmxlbmd0aD8odT1uLGY9dCwhci5icmVha0F0LmV4aXN0cyhmdW5jdGlvbihuKXtyZXR1cm4gdShmLG4pLmJyZWFrQXQuaXNTb21lKCl9KSk6ci5icmVha0F0LmlzTm9uZSgpfWZ1bmN0aW9uIGxnaShuLHQscil7dmFyIHUsZixlLG89bi5zZWxlY3Rpb24uZ2V0Um5nKCkscz10PzE6LTE7cmV0dXJuISghYnB0KCl8fCh1PXQsZj1yLGU9aS5mcm9tUmFuZ2VTdGFydChvKSwhdmMoIXUsZikuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlzRXF1YWwoZSl9KSl8fChpZShzLG4sciwhdCwhMSkuZWFjaChmdW5jdGlvbih0KXt1ZShuLHQpfSksMCkpfWZ1bmN0aW9uIGJlaShpLHIsdSl7dmFyIGUsZixvPShlPSEhcixmPXUuZ2V0Tm9kZShlKSxoKGYpJiYiVEFCTEUiPT09Zi5ub2RlTmFtZT9uLnNvbWUoZik6bi5ub25lKCkpLHM9ITE9PT1yO28uZm9sZChmdW5jdGlvbigpe3JldHVybiB1ZShpLHUudG9SYW5nZSgpKX0sZnVuY3Rpb24obil7cmV0dXJuIHZjKHMsaS5nZXRCb2R5KCkpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbi5pc0VxdWFsKHUpfSkuZm9sZChmdW5jdGlvbigpe3JldHVybiB1ZShpLHUudG9SYW5nZSgpKX0sZnVuY3Rpb24oKXt2YXIgZixlLG89cixzPW4saD11OyhlPXNpKGY9aSkpP2YudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgbj10LmZyb21UYWcoZSksaTtzZShuLHBhKGYpKTtpaShuLHQuZnJvbVRhZygiYnIiKSk7KG8/ZGw6b3UpKHQuZnJvbURvbShzKSxuKTtpPWYuZG9tLmNyZWF0ZVJuZygpO2kuc2V0U3RhcnQobi5kb20sMCk7aS5zZXRFbmQobi5kb20sMCk7dWUoZixpKX0pOnVlKGYsaC50b1JhbmdlKCkpfSl9KX1mdW5jdGlvbiBhZ2kobix0LHIsdSl7dmFyIGgsZSxjLGwsbyxhLHYseSxwLHcsaz1uLnNlbGVjdGlvbi5nZXRSbmcoKSxmPWkuZnJvbVJhbmdlU3RhcnQoayksYj1uLmdldEJvZHkoKSxzO3JldHVybiB0fHwhaG5pKHUsZik/ISghdHx8IWNuaSh1LGYpKSYmKGg9YixwPWU9cixiZWkobix0LHM9eW8oKHc9Yz1mKS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBzbmkocCxuLmxlZnQsbi50b3ApfSkuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gdWZpKHdpKHQ9bikubWFwKGZ1bmN0aW9uKG4pe3JldHVybltuXS5jb25jYXQodnYodCxuKS5wb3NpdGlvbnMpfSkuZ2V0T3IoW10pLHcpO3ZhciB0fSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBvcihjLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIGZvdCh0Z2koaCxpLmFmdGVyKGUpKSxuLmxlZnQpfSl9KS5nZXRPcihpLmFmdGVyKGUpKSksITApOihzPShsPWIsdj1vPXIsb3IoKHk9YT1mKS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBvbmkodixuLmxlZnQsbi50b3ApfSkuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gdWZpKGFmKHQ9bikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBhdih0LG4pLnBvc2l0aW9ucy5jb25jYXQobil9KS5nZXRPcihbXSkseSk7dmFyIHR9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIG9yKGEuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gZm90KG5naShsLGkuYmVmb3JlKG8pKSxuLmxlZnQpfSl9KS5nZXRPcihpLmJlZm9yZShvKSkpLGJlaShuLHQscyksITApfWZ1bmN0aW9uIGtlaSh0LGkscil7cmV0dXJuIG4uZnJvbSh0LmRvbS5nZXRQYXJlbnQodC5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJ0ZCx0aCIpKS5iaW5kKGZ1bmN0aW9uKHUpe3JldHVybiBuLmZyb20odC5kb20uZ2V0UGFyZW50KHUsInRhYmxlIikpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gcih0LGksbix1KX0pfSkuZ2V0T3IoITEpfWZ1bmN0aW9uIGRlaShuLHQpe3JldHVybiBrZWkobix0LGxnaSl9ZnVuY3Rpb24gZ2VpKG4sdCl7cmV0dXJuIGtlaShuLHQsYWdpKX1mdW5jdGlvbiB5dihuLHQpe3ZhciByLHMsdT10LGY9bi5kb20saD1uLnNjaGVtYS5nZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKSxpLGU7aWYodCl7aWYoL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKSYmKHM9ZnVuY3Rpb24obil7Zm9yKDtuOyl7aWYoMT09PW4ubm9kZVR5cGV8fDM9PT1uLm5vZGVUeXBlJiZuLmRhdGEmJi9bXHJcblxzXS8udGVzdChuLmRhdGEpKXJldHVybiBuO249bi5uZXh0U2libGluZ319KHQuZmlyc3RDaGlsZCkpJiYvXihVTHxPTHxETCkkLy50ZXN0KHMubm9kZU5hbWUpJiZ0Lmluc2VydEJlZm9yZShmLmRvYy5jcmVhdGVUZXh0Tm9kZShpciksdC5maXJzdENoaWxkKSxpPWYuY3JlYXRlUm5nKCksdC5ub3JtYWxpemUoKSx0Lmhhc0NoaWxkTm9kZXMoKSl7Zm9yKGU9bmV3IHl0KHQsdCk7cj1lLmN1cnJlbnQoKTspe2lmKG8ocikpe2kuc2V0U3RhcnQociwwKTtpLnNldEVuZChyLDApO2JyZWFrfWlmKGhbci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7aS5zZXRTdGFydEJlZm9yZShyKTtpLnNldEVuZEJlZm9yZShyKTticmVha311PXI7cj1lLm5leHQoKX1yfHwoaS5zZXRTdGFydCh1LDApLGkuc2V0RW5kKHUsMCkpfWVsc2Ugc3QodCk/dC5uZXh0U2libGluZyYmZi5pc0Jsb2NrKHQubmV4dFNpYmxpbmcpPyhpLnNldFN0YXJ0QmVmb3JlKHQpLGkuc2V0RW5kQmVmb3JlKHQpKTooaS5zZXRTdGFydEFmdGVyKHQpLGkuc2V0RW5kQWZ0ZXIodCkpOihpLnNldFN0YXJ0KHQsMCksaS5zZXRFbmQodCwwKSk7bi5zZWxlY3Rpb24uc2V0Um5nKGkpO2V2KG4saSl9fWZ1bmN0aW9uIHlvdCh0KXtyZXR1cm4gbi5mcm9tKHQuZG9tLmdldFBhcmVudCh0LnNlbGVjdGlvbi5nZXRTdGFydCghMCksdC5kb20uaXNCbG9jaykpfWZ1bmN0aW9uIG5vaShuLHQpe3JldHVybiBuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5ub2RlTmFtZT09PXR9ZnVuY3Rpb24gdG9pKG4pe3JldHVybiBuJiYvXihPTHxVTHxMSSkkLy50ZXN0KG4ubm9kZU5hbWUpfWZ1bmN0aW9uIGtrKG4pe3ZhciB0PW4ucGFyZW50Tm9kZTtyZXR1cm4vXihMSXxEVHxERCkkLy50ZXN0KHQubm9kZU5hbWUpP3Q6bn1mdW5jdGlvbiBkayhuLHQsaSl7Zm9yKHZhciByPW5baT8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdO3ImJiFoKHIpOylyPXJbaT8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciXTtyZXR1cm4gcj09PXR9ZnVuY3Rpb24gcG90KG4pe24uaW5uZXJIVE1MPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPid9ZnVuY3Rpb24gd290KG4sdCl7cmV0dXJuIG4ubm9kZU5hbWU9PT10fHxuLnByZXZpb3VzU2libGluZyYmbi5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWU9PT10fWZ1bmN0aW9uIGlvaShuLHQpe3JldHVybiB0JiZuLmlzQmxvY2sodCkmJiEvXihURHxUSHxDQVBUSU9OfEZPUk0pJC8udGVzdCh0Lm5vZGVOYW1lKSYmIS9eKGZpeGVkfGFic29sdXRlKS9pLnRlc3QodC5zdHlsZS5wb3NpdGlvbikmJiJ0cnVlIiE9PW4uZ2V0Q29udGVudEVkaXRhYmxlKHQpfWZ1bmN0aW9uIGJvdChuLHQsaSl7cmV0dXJuITE9PT1vKHQpP2k6bj8xPT09aSYmdC5kYXRhLmNoYXJBdChpLTEpPT09Zmk/MDppOmk9PT10LmRhdGEubGVuZ3RoLTEmJnQuZGF0YS5jaGFyQXQoaSk9PT1maT90LmRhdGEubGVuZ3RoOml9ZnVuY3Rpb24gcm9pKG4sdCl7Zm9yKHZhciB1LHI9bi5nZXRSb290KCksaT10O2khPT1yJiYiZmFsc2UiIT09bi5nZXRDb250ZW50RWRpdGFibGUoaSk7KSJ0cnVlIj09PW4uZ2V0Q29udGVudEVkaXRhYmxlKGkpJiYodT1pKSxpPWkucGFyZW50Tm9kZTtyZXR1cm4gaSE9PXI/dTpyfWZ1bmN0aW9uIHB2KGkscil7dmFyIHU9c2koaSk7dSYmdS50b0xvd2VyQ2FzZSgpPT09ci50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmZ1bmN0aW9uKGkscix1KXt2YXIgZj1pLmRvbSxlLG87bi5mcm9tKHUuc3R5bGUpLm1hcChmLnBhcnNlU3R5bGUpLmVhY2goZnVuY3Rpb24obil7dmFyIGk9Zmx0KHQuZnJvbURvbShyKSksdT1jKGMoe30saSksbik7Zi5zZXRTdHlsZXMocix1KX0pO2RpKG4uZnJvbSh1LmNsYXNzKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4uc3BsaXQoL1xzKy8pfSksbi5mcm9tKHIuY2xhc3NOYW1lKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHAobi5zcGxpdCgvXHMrLyksZnVuY3Rpb24obil7cmV0dXJuIiIhPT1ufSl9KSxmdW5jdGlvbihuLHQpe3ZhciBpPXAodCxmdW5jdGlvbih0KXtyZXR1cm4hZHQobix0KX0pLHU9ZWUoZWUoW10sbiwhMCksaSwhMCk7Zi5zZXRBdHRyaWIociwiY2xhc3MiLHUuam9pbigiICIpKX0pO2U9WyJzdHlsZSIsImNsYXNzIl07bz15bCh1LGZ1bmN0aW9uKG4sdCl7cmV0dXJuIWR0KGUsdCl9KTtmLnNldEF0dHJpYnMocixvKX0oaSxyLHBhKGkpKX1mdW5jdGlvbiB2Z2kobixpKXtmdW5jdGlvbiBydCh0KXt2YXIgZSxmPXUsaD1wdC5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSxpPXR8fCJUQUJMRSI9PT1rfHwiSFIiPT09az9zLmNyZWF0ZSh0fHx2KTpyLmNsb25lTm9kZSghMSksbz1pO2lmKCExPT09bi5nZXRQYXJhbSgia2VlcF9zdHlsZXMiLCEwKSlzLnNldEF0dHJpYihpLCJzdHlsZSIsbnVsbCkscy5zZXRBdHRyaWIoaSwiY2xhc3MiLG51bGwpO2Vsc2UgZm9yKDtoW2Yubm9kZU5hbWVdJiYoc2YoZil8fGFyKGYpfHwoZT1mLmNsb25lTm9kZSghMSkscy5zZXRBdHRyaWIoZSwiaWQiLCIiKSxpLmhhc0NoaWxkTm9kZXMoKT9lLmFwcGVuZENoaWxkKGkuZmlyc3RDaGlsZCk6bz1lLGkuYXBwZW5kQ2hpbGQoZSkpKSwoZj1mLnBhcmVudE5vZGUpJiZmIT09Y3Q7KTtyZXR1cm4gcHYobixpKSxwb3QobyksaX1mdW5jdGlvbiBsdChuKXt2YXIgdCxlLGY9Ym90KG4sdSx0dCksaTtpZighbyh1KXx8IShuPzA8ZjpmPHUubm9kZVZhbHVlLmxlbmd0aCkpe2lmKHUucGFyZW50Tm9kZT09PXImJm50JiYhbnx8biYmaCh1KSYmdT09PXIuZmlyc3RDaGlsZClyZXR1cm4gMTtpZih3b3QodSwiVEFCTEUiKXx8d290KHUsIkhSIikpcmV0dXJuIG50JiYhbnx8IW50JiZuO2ZvcihpPW5ldyB5dCh1LHIpLG8odSkmJihuJiYwPT09Zj9pLnByZXYoKTpufHxmIT09dS5ub2RlVmFsdWUubGVuZ3RofHxpLm5leHQoKSk7dD1pLmN1cnJlbnQoKTspe2lmKGgodCkpe2lmKCF0LmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSYmKGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHd0W2VdJiYiYnIiIT09ZSkpcmV0dXJufWVsc2UgaWYobyh0KSYmIXRzKHQubm9kZVZhbHVlKSlyZXR1cm47bj9pLnByZXYoKTppLm5leHQoKX1yZXR1cm4gMX19ZnVuY3Rpb24gYXQoKXtjPS9eKEhbMS02XXxQUkV8RklHVVJFKSQvLnRlc3QoaykmJiJIR1JPVVAiIT09ZnQ/cnQodik6cnQoKTtuLmdldFBhcmFtKCJlbmRfY29udGFpbmVyX29uX2VtcHR5X2Jsb2NrIiwhMSkmJmlvaShzLHkpJiZzLmlzRW1wdHkocik/Yz1zLnNwbGl0KHkscik6cy5pbnNlcnRBZnRlcihjLHIpO3l2KG4sYyl9dmFyIHZ0LGMsZyxudCxzPW4uZG9tLHB0PW4uc2NoZW1hLHd0PXB0LmdldE5vbkVtcHR5RWxlbWVudHMoKSxwPW4uc2VsZWN0aW9uLmdldFJuZygpLHIseSxrLGZ0LHcsZXQsdix1dCxrdCxmLGIsaXQsZHQsYSxvdCxzdCxkLGd0LGh0LGwsbmksY3Q7dncocyxwKS5lYWNoKGZ1bmN0aW9uKG4pe3Auc2V0U3RhcnQobi5zdGFydENvbnRhaW5lcixuLnN0YXJ0T2Zmc2V0KTtwLnNldEVuZChuLmVuZENvbnRhaW5lcixuLmVuZE9mZnNldCl9KTt2YXIgdT1wLnN0YXJ0Q29udGFpbmVyLHR0PXAuc3RhcnRPZmZzZXQsdj1zaShuKSxidD0hKCFpfHwhaS5zaGlmdEtleSksdGk9ISghaXx8IWkuY3RybEtleSk7aCh1KSYmdS5oYXNDaGlsZE5vZGVzKCkmJihudD10dD51LmNoaWxkTm9kZXMubGVuZ3RoLTEsdT11LmNoaWxkTm9kZXNbTWF0aC5taW4odHQsdS5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fHUsdHQ9bnQmJm8odSk/dS5ub2RlVmFsdWUubGVuZ3RoOjApO2N0PXJvaShzLHUpO2N0JiYoKHYmJiFidHx8IXYmJmJ0KSYmKHU9ZnVuY3Rpb24obix0LGkscil7dmFyIGUscyx1LGMsbCxhLGg9dnx8IlAiLG89bi5kb20seT1yb2kobyxpKSxmPW8uZ2V0UGFyZW50KGksby5pc0Jsb2NrKTtpZighZnx8IWlvaShvLGYpKXtpZihsPSgoZj1mfHx5KT09PW4uZ2V0Qm9keSgpfHwoYT1mKSYmL14oVER8VEh8Q0FQVElPTikkLy50ZXN0KGEubm9kZU5hbWUpP2Y6Zi5wYXJlbnROb2RlKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCFmLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm4gcHYobixlPW8uY3JlYXRlKGgpKSxmLmFwcGVuZENoaWxkKGUpLHQuc2V0U3RhcnQoZSwwKSx0LnNldEVuZChlLDApLGU7Zm9yKHU9aTt1LnBhcmVudE5vZGUhPT1mOyl1PXUucGFyZW50Tm9kZTtmb3IoO3UmJiFvLmlzQmxvY2sodSk7KXU9KHM9dSkucHJldmlvdXNTaWJsaW5nO2lmKHMmJm4uc2NoZW1hLmlzVmFsaWRDaGlsZChsLGgudG9Mb3dlckNhc2UoKSkpe2ZvcihwdihuLGU9by5jcmVhdGUoaCkpLHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxzKSx1PXM7dSYmIW8uaXNCbG9jayh1KTspYz11Lm5leHRTaWJsaW5nLGUuYXBwZW5kQ2hpbGQodSksdT1jO3Quc2V0U3RhcnQoaSxyKTt0LnNldEVuZChpLHIpfX1yZXR1cm4gaX0obixwLHUsdHQpKSx5PShyPXMuZ2V0UGFyZW50KHUscy5pc0Jsb2NrKSk/cy5nZXRQYXJlbnQoci5wYXJlbnROb2RlLHMuaXNCbG9jayk6bnVsbCxrPXI/ci5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOiIiLCJMSSIhPT0oZnQ9eT95Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiIpfHx0aXx8KHk9KHI9eSkucGFyZW50Tm9kZSxrPWZ0KSwvXihMSXxEVHxERCkkLy50ZXN0KGspJiZzLmlzRW1wdHkocik/KGt0PXJ0LGY9eSxiPXIsaXQ9dixsPSh1dD1uKS5kb20sbmk9dXQuc2VsZWN0aW9uLmdldFJuZygpLGYhPT11dC5nZXRCb2R5KCkmJihhPShpdD10b2koZHQ9ZikmJnRvaShkdC5wYXJlbnROb2RlKT8iTEkiOml0KT9rdChpdCk6bC5jcmVhdGUoIkJSIiksZGsoZixiLCEwKSYmZGsoZixiLCExKT9ub2koZiwiTEkiKT8ob3Q9a2soZiksbC5pbnNlcnRBZnRlcihhLG90KSwobnVsbD09PShodD0oZ3Q9ZikucGFyZW50Tm9kZSl8fHZvaWQgMD09PWh0P3ZvaWQgMDpodC5maXJzdENoaWxkKT09PWd0P2wucmVtb3ZlKG90KTpsLnJlbW92ZShmKSk6bC5yZXBsYWNlKGEsZik6KGRrKGYsYiwhMCk/bm9pKGYsIkxJIik/KGwuaW5zZXJ0QWZ0ZXIoYSxrayhmKSksYS5hcHBlbmRDaGlsZChsLmRvYy5jcmVhdGVUZXh0Tm9kZSgiICIpKSxhLmFwcGVuZENoaWxkKGYpKTpmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsZik6ZGsoZixiLCExKT9sLmluc2VydEFmdGVyKGEsa2soZikpOihmPWtrKGYpLChzdD1uaS5jbG9uZVJhbmdlKCkpLnNldFN0YXJ0QWZ0ZXIoYiksc3Quc2V0RW5kQWZ0ZXIoZiksZD1zdC5leHRyYWN0Q29udGVudHMoKSwiTEkiPT09aXQmJmQuZmlyc3RDaGlsZCYmIkxJIj09PWQuZmlyc3RDaGlsZC5ub2RlTmFtZT8oYT1kLmZpcnN0Q2hpbGQsbC5pbnNlcnRBZnRlcihkLGYpKToobC5pbnNlcnRBZnRlcihkLGYpLGwuaW5zZXJ0QWZ0ZXIoYSxmKSkpLGwucmVtb3ZlKGIpKSx5dih1dCxhKSkpOnYmJnI9PT1uLmdldEJvZHkoKXx8KHY9dnx8IlAiLGtoKHIpPyhjPWFuKHIpLHMuaXNFbXB0eShyKSYmcG90KHIpLHB2KG4sYykseXYobixjKSk6bHQoKT9hdCgpOmx0KCEwKT8oYz1yLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJ0KCkscikseXYobix3b3QociwiSFIiKT9jOnIpKTooKGV0PSh3PXApLmNsb25lUmFuZ2UoKSkuc2V0U3RhcnQody5zdGFydENvbnRhaW5lcixib3QoITAsdy5zdGFydENvbnRhaW5lcix3LnN0YXJ0T2Zmc2V0KSksZXQuc2V0RW5kKHcuZW5kQ29udGFpbmVyLGJvdCghMSx3LmVuZENvbnRhaW5lcix3LmVuZE9mZnNldCkpLCh2dD1ldC5jbG9uZVJhbmdlKCkpLnNldEVuZEFmdGVyKHIpLGc9dnQuZXh0cmFjdENvbnRlbnRzKCksZShzeXQodC5mcm9tRG9tKGcpLGdyKSxmdW5jdGlvbihuKXt2YXIgdD1uLmRvbTt0Lm5vZGVWYWx1ZT12ZSh0Lm5vZGVWYWx1ZSl9KSxmdW5jdGlvbihuKXtmb3IoO28obikmJihuLm5vZGVWYWx1ZT1uLm5vZGVWYWx1ZS5yZXBsYWNlKC9eW1xyXG5dKy8sIiIpKSxuPW4uZmlyc3RDaGlsZDspO30oZyksYz1nLmZpcnN0Q2hpbGQscy5pbnNlcnRBZnRlcihnLHIpLGZ1bmN0aW9uKG4sdCl7dmFyIHIsdSxpPWMsZj1bXTtpZihpKXtmb3IoO2k9aS5maXJzdENoaWxkOyl7aWYobi5pc0Jsb2NrKGkpKXJldHVybjtoKGkpJiYhdFtpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiZmLnB1c2goaSl9Zm9yKHI9Zi5sZW5ndGg7ci0tOykhKGk9ZltyXSkuaGFzQ2hpbGROb2RlcygpfHxpLmZpcnN0Q2hpbGQ9PT1pLmxhc3RDaGlsZCYmIiI9PT1pLmZpcnN0Q2hpbGQubm9kZVZhbHVlP24ucmVtb3ZlKGkpOih1PWkpJiYiQSI9PT11Lm5vZGVOYW1lJiZuLmlzRW1wdHkodSkmJm4ucmVtb3ZlKGkpfX0ocyx3dCksZnVuY3Rpb24obix0KXt0Lm5vcm1hbGl6ZSgpO3ZhciBpPXQubGFzdENoaWxkO2kmJiEvXihsZWZ0fHJpZ2h0KSQvZ2kudGVzdChuLmdldFN0eWxlKGksImZsb2F0IiwhMCkpfHxuLmFkZCh0LCJiciIpfShzLHIpLHMuaXNFbXB0eShyKSYmcG90KHIpLGMubm9ybWFsaXplKCkscy5pc0VtcHR5KGMpPyhzLnJlbW92ZShjKSxhdCgpKToocHYobixjKSx5dihuLGMpKSkscy5zZXRBdHRyaWIoYywiaWQiLCIiKSxuLmZpcmUoIk5ld0Jsb2NrIix7bmV3QmxvY2s6Y30pKSl9ZnVuY3Rpb24gdW9pKG4sdCxpKXt2YXIgcj1uLmRvbS5jcmVhdGVSbmcoKTtpPyhyLnNldFN0YXJ0QmVmb3JlKHQpLHIuc2V0RW5kQmVmb3JlKHQpKTooci5zZXRTdGFydEFmdGVyKHQpLHIuc2V0RW5kQWZ0ZXIodCkpO24uc2VsZWN0aW9uLnNldFJuZyhyKTtldihuLHIpfWZ1bmN0aW9uIHlnaShuLGkpe3ZhciByPXQuZnJvbVRhZygiYnIiKTtvdSh0LmZyb21Eb20oaSkscik7bi51bmRvTWFuYWdlci5hZGQoKX1mdW5jdGlvbiBwZ2kobixpKXtsbmkobi5nZXRCb2R5KCksaSl8fGRsKHQuZnJvbURvbShpKSx0LmZyb21UYWcoImJyIikpO3ZhciByPXQuZnJvbVRhZygiYnIiKTtkbCh0LmZyb21Eb20oaSkscik7dW9pKG4sci5kb20sITEpO24udW5kb01hbmFnZXIuYWRkKCl9ZnVuY3Rpb24gZm9pKG4pe3JldHVybiBuJiYiQSI9PT1uLm5vZGVOYW1lJiYiaHJlZiJpbiBufWZ1bmN0aW9uIHdnaShuKXtyZXR1cm4gbi5mb2xkKGl0LGZvaSxmb2ksaXQpfWZ1bmN0aW9uIGJnaShuLHQpe3QuZm9sZCh5LHUoeWdpLG4pLHUocGdpLG4pLHkpfWZ1bmN0aW9uIGVvaShuLHQpe3ZhciByLGYsZSxvPShmPXUod3Mscj1uKSxlPWkuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpLHlmKGYsci5nZXRCb2R5KCksZSkuZmlsdGVyKHdnaSkpO28uaXNTb21lKCk/by5lYWNoKHUoYmdpLG4pKTpmdW5jdGlvbihuLHQpe3ZhciBmLGgsbD1uLnNlbGVjdGlvbix1PW4uZG9tLHI9bC5nZXRSbmcoKSxjLGUsaTt2dyh1LHIpLmVhY2goZnVuY3Rpb24obil7ci5zZXRTdGFydChuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQpO3Iuc2V0RW5kKG4uZW5kQ29udGFpbmVyLG4uZW5kT2Zmc2V0KX0pO2U9ci5zdGFydE9mZnNldDtpPXIuc3RhcnRDb250YWluZXI7MT09PWkubm9kZVR5cGUmJmkuaGFzQ2hpbGROb2RlcygpJiYoYz1lPmkuY2hpbGROb2Rlcy5sZW5ndGgtMSxpPWkuY2hpbGROb2Rlc1tNYXRoLm1pbihlLGkuY2hpbGROb2Rlcy5sZW5ndGgtMSldfHxpLGU9YyYmMz09PWkubm9kZVR5cGU/aS5ub2RlVmFsdWUubGVuZ3RoOjApO3ZhciBvPXUuZ2V0UGFyZW50KGksdS5pc0Jsb2NrKSxzPW8/dS5nZXRQYXJlbnQoby5wYXJlbnROb2RlLHUuaXNCbG9jayk6bnVsbCxhPXM/cy5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOiIiLHY9ISghdHx8IXQuY3RybEtleSk7IkxJIiE9PWF8fHZ8fChvPXMpO2kmJjM9PT1pLm5vZGVUeXBlJiZlPj1pLm5vZGVWYWx1ZS5sZW5ndGgmJiFmdW5jdGlvbihuKXtmb3IodmFyIHQscj1uZXcgeXQoaSxvKSx1PW4uZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3Q9ci5uZXh0KCk7KWlmKHVbdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8MDx0Lmxlbmd0aClyZXR1cm4gMX0obi5zY2hlbWEpJiYoZj11LmNyZWF0ZSgiYnIiKSxyLmluc2VydE5vZGUoZiksci5zZXRTdGFydEFmdGVyKGYpLHIuc2V0RW5kQWZ0ZXIoZiksaD0hMCk7Zj11LmNyZWF0ZSgiYnIiKTtlaXQodSxyLGYpO3VvaShuLGYsaCk7bi51bmRvTWFuYWdlci5hZGQoKX0obix0KX1mdW5jdGlvbiBvb2kobixpKXtyZXR1cm4geW90KG4pLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gMDxpLmxlbmd0aCYmYWgodC5mcm9tRG9tKG4pLGkpfSkuaXNTb21lKCl9ZnVuY3Rpb24ga2dpKG4pe3JldHVybiBvb2kobixuLmdldFBhcmFtKCJub19uZXdsaW5lX3NlbGVjdG9yIiwiIikpfWZ1bmN0aW9uIGtvdChuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIiI9PT1zaSh0KT09PW59fWZ1bmN0aW9uIHNvaShuKXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIHlvdChpKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIGZhKHQuZnJvbURvbShuKSl9KS5pc1NvbWUoKT09PW59fWZ1bmN0aW9uIGhvaShuLHQpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4geW90KGkpLmZvbGQoZigiIiksZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUudG9VcHBlckNhc2UoKX0pPT09bi50b1VwcGVyQ2FzZSgpPT09dH19ZnVuY3Rpb24gZ2sobil7cmV0dXJuIGhvaSgicHJlIixuKX1mdW5jdGlvbiBuZChuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0UGFyYW0oImJyX2luX3ByZSIsITApPT09bn19ZnVuY3Rpb24gZGdpKG4pe3JldHVybiBvb2kobixuLmdldFBhcmFtKCJicl9uZXdsaW5lX3NlbGVjdG9yIiwiLm1jZS10b2MgaDIsZmlnY2FwdGlvbixjYXB0aW9uIikpfWZ1bmN0aW9uIHd2KG4sdCl7cmV0dXJuIHR9ZnVuY3Rpb24gY29pKG4pe3ZhciBpPXNpKG4pLHQ9ZnVuY3Rpb24obix0KXtmb3IodmFyIHUscj1uLmdldFJvb3QoKSxpPXQ7aSE9PXImJiJmYWxzZSIhPT1uLmdldENvbnRlbnRFZGl0YWJsZShpKTspInRydWUiPT09bi5nZXRDb250ZW50RWRpdGFibGUoaSkmJih1PWkpLGk9aS5wYXJlbnROb2RlO3JldHVybiBpIT09cj91OnJ9KG4uZG9tLG4uc2VsZWN0aW9uLmdldFN0YXJ0KCkpO3JldHVybiB0JiZuLnNjaGVtYS5pc1ZhbGlkQ2hpbGQodC5ub2RlTmFtZSxpfHwiUCIpfWZ1bmN0aW9uIHdyKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIsdSl7cmV0dXJuIGZ1KHQsZnVuY3Rpb24obix0KXtyZXR1cm4gbiYmdChyLHUpfSwhMCk/bi5zb21lKGkpOm4ubm9uZSgpfX1mdW5jdGlvbiBsb2kobix0KXt2YXIgcixpO3I9bjtpPXQ7dnVpKFt3cihba2dpXSxlci5ub25lKCkpLHdyKFtob2koInN1bW1hcnkiLCEwKV0sZXIuYnIoKSksd3IoW2drKCEwKSxuZCghMSksd3ZdLGVyLmJyKCkpLHdyKFtnayghMCksbmQoITEpXSxlci5ibG9jaygpKSx3cihbZ2soITApLG5kKCEwKSx3dl0sZXIuYmxvY2soKSksd3IoW2drKCEwKSxuZCghMCldLGVyLmJyKCkpLHdyKFtzb2koITApLHd2XSxlci5icigpKSx3cihbc29pKCEwKV0sZXIuYmxvY2soKSksd3IoW2tvdCghMCksd3YsY29pXSxlci5ibG9jaygpKSx3cihba290KCEwKV0sZXIuYnIoKSksd3IoW2RnaV0sZXIuYnIoKSksd3IoW2tvdCghMSksd3ZdLGVyLmJyKCkpLHdyKFtjb2ldLGVyLmJsb2NrKCkpXSxbciwhKCFpfHwhaS5zaGlmdEtleSldKS5nZXRPcihlci5ub25lKCkpLmZvbGQoZnVuY3Rpb24oKXtlb2kobix0KX0sZnVuY3Rpb24oKXt2Z2kobix0KX0seSl9ZnVuY3Rpb24gYW9pKG4pe3JldHVybiBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIHZvaShuKXtyZXR1cm4gbi5rZXlDb2RlPT09cy5QQUdFX1VQfHxuLmtleUNvZGU9PT1zLlBBR0VfRE9XTn1mdW5jdGlvbiB5b2kobix0LGkpe2kmJiFuLmdldCgpP3Qub24oIk5vZGVDaGFuZ2UiLGFvaSwhMCk6IWkmJm4uZ2V0KCkmJnQub2ZmKCJOb2RlQ2hhbmdlIixhb2kpO24uc2V0KGkpfWZ1bmN0aW9uIHBvaShyLHUpe3ZhciBmPXUuY29udGFpbmVyKCksZT11Lm9mZnNldCgpO3JldHVybiBvKGYpPyhmLmluc2VydERhdGEoZSxyKSxuLnNvbWUoaShmLGUrci5sZW5ndGgpKSk6dHcodSkubWFwKGZ1bmN0aW9uKG4pe3ZhciBmPXQuZnJvbVRleHQocik7cmV0dXJuKHUuaXNBdEVuZCgpP2RsOm91KShuLGYpLGkoZi5kb20sci5sZW5ndGgpfSl9ZnVuY3Rpb24gZ2dpKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmPW4sKCFhdXQoZT1pKSYmKHI9ZSxsZigodT1mKS5kb20scikuaXNOb25lKCl8fHl1KHUuZG9tLHIpLmlzTm9uZSgpfHxhZnQodSxyKXx8dm50KHUscil8fGx1dCh1LHIpfHxjdXQodSxyKXx8cmd0KGYsZSl8fHVndChmLGUpKT95bmk6cG5pKSh0KTt2YXIgdSxyLGYsZX19ZnVuY3Rpb24gbm5pKG4pe3ZhciByLGYsaD1pLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKSxlPXQuZnJvbURvbShuLmdldEJvZHkoKSksbyxzO3JldHVybiBuLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyhvPXUod3Msbikscz1pLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKSx5ZihvLG4uZ2V0Qm9keSgpLHMpLmJpbmQoKGY9ZSxmdW5jdGlvbihuKXtyZXR1cm4gbi5mb2xkKGZ1bmN0aW9uKG4pe3JldHVybiBsZihmLmRvbSxpLmJlZm9yZShuKSl9LGZ1bmN0aW9uKG4pe3JldHVybiB3aShuKX0sZnVuY3Rpb24obil7cmV0dXJuIGFmKG4pfSxmdW5jdGlvbihuKXtyZXR1cm4geXUoZi5kb20saS5hZnRlcihuKSl9KX0pKS5iaW5kKGdnaShlLGgpKS5leGlzdHMoKHI9bixmdW5jdGlvbihuKXtyZXR1cm4gci5zZWxlY3Rpb24uc2V0Um5nKG4udG9SYW5nZSgpKSxyLm5vZGVDaGFuZ2VkKCksITB9KSkpOiExfWZ1bmN0aW9uIHRuaShuKXt2YXIgdCxjLGYsbCxhLG8saSxoLHkscCxlLHcsYixrLHI9dWdpKG4pO3JldHVybiBuLm9uKCJrZXl1cCBjb21wb3NpdGlvbnN0YXJ0Iix1KHNnaSxuKSksaz1yLChiPW4pLm9uKCJrZXlkb3duIixmdW5jdGlvbihuKXt2YXIgdCxpLHUscjshMT09PW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PWIsaT1rLHU9bixyPWtyKCkub3Msc2woW3trZXlDb2RlOnMuUklHSFQsYWN0aW9uOnYoZWVpLHQsITApfSx7a2V5Q29kZTpzLkxFRlQsYWN0aW9uOnYoZWVpLHQsITEpfSx7a2V5Q29kZTpzLlVQLGFjdGlvbjp2KG9laSx0LCExKX0se2tleUNvZGU6cy5ET1dOLGFjdGlvbjp2KG9laSx0LCEwKX0se2tleUNvZGU6cy5SSUdIVCxhY3Rpb246dihkZWksdCwhMCl9LHtrZXlDb2RlOnMuTEVGVCxhY3Rpb246dihkZWksdCwhMSl9LHtrZXlDb2RlOnMuVVAsYWN0aW9uOnYoZ2VpLHQsITEpfSx7a2V5Q29kZTpzLkRPV04sYWN0aW9uOnYoZ2VpLHQsITApfSx7a2V5Q29kZTpzLlJJR0hULGFjdGlvbjp2KGFlaSx0LCEwKX0se2tleUNvZGU6cy5MRUZULGFjdGlvbjp2KGFlaSx0LCExKX0se2tleUNvZGU6cy5VUCxhY3Rpb246dih2ZWksdCwhMSl9LHtrZXlDb2RlOnMuRE9XTixhY3Rpb246dih2ZWksdCwhMCl9LHtrZXlDb2RlOnMuUklHSFQsYWN0aW9uOnYoeWZpLHQsaSwhMCl9LHtrZXlDb2RlOnMuTEVGVCxhY3Rpb246dih5ZmksdCxpLCExKX0se2tleUNvZGU6cy5SSUdIVCxjdHJsS2V5OiFyLmlzT1NYKCksYWx0S2V5OnIuaXNPU1goKSxhY3Rpb246dihmbmksdCxpKX0se2tleUNvZGU6cy5MRUZULGN0cmxLZXk6IXIuaXNPU1goKSxhbHRLZXk6ci5pc09TWCgpLGFjdGlvbjp2KGVuaSx0LGkpfSx7a2V5Q29kZTpzLlVQLGFjdGlvbjp2KGxlaSx0LCExKX0se2tleUNvZGU6cy5ET1dOLGFjdGlvbjp2KGxlaSx0LCEwKX1dLHUpLmVhY2goZnVuY3Rpb24oKXt1LnByZXZlbnREZWZhdWx0KCl9KSl9KSx3PXIsKGU9bikub24oImtleWRvd24iLGZ1bmN0aW9uKG4pe3ZhciB0LGkscjshMT09PW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJihpPXcscj1uLHNsKFt7a2V5Q29kZTpzLkJBQ0tTUEFDRSxhY3Rpb246dih0ZWksdD1lLCExKX0se2tleUNvZGU6cy5CQUNLU1BBQ0UsYWN0aW9uOnYodWssdCwhMSl9LHtrZXlDb2RlOnMuREVMRVRFLGFjdGlvbjp2KHVrLHQsITApfSx7a2V5Q29kZTpzLkJBQ0tTUEFDRSxhY3Rpb246dihyayx0LCExKX0se2tleUNvZGU6cy5ERUxFVEUsYWN0aW9uOnYocmssdCwhMCl9LHtrZXlDb2RlOnMuQkFDS1NQQUNFLGFjdGlvbjp2KHBrLHQsaSwhMSl9LHtrZXlDb2RlOnMuREVMRVRFLGFjdGlvbjp2KHBrLHQsaSwhMCl9LHtrZXlDb2RlOnMuQkFDS1NQQUNFLGFjdGlvbjp2KG9iLHQsITEpfSx7a2V5Q29kZTpzLkRFTEVURSxhY3Rpb246dihvYix0LCEwKX0se2tleUNvZGU6cy5CQUNLU1BBQ0UsYWN0aW9uOnYoZmssdCwhMSl9LHtrZXlDb2RlOnMuREVMRVRFLGFjdGlvbjp2KGZrLHQsITApfSx7a2V5Q29kZTpzLkJBQ0tTUEFDRSxhY3Rpb246dihiayx0LCExKX0se2tleUNvZGU6cy5ERUxFVEUsYWN0aW9uOnYoYmssdCwhMCl9LHtrZXlDb2RlOnMuQkFDS1NQQUNFLGFjdGlvbjp2KGlrLHQsITEpfSx7a2V5Q29kZTpzLkRFTEVURSxhY3Rpb246dihpayx0LCEwKX0se2tleUNvZGU6cy5CQUNLU1BBQ0UsYWN0aW9uOnYodGssdCwhMSl9LHtrZXlDb2RlOnMuREVMRVRFLGFjdGlvbjp2KHRrLHQsITApfSx7a2V5Q29kZTpzLkJBQ0tTUEFDRSxhY3Rpb246dih3ayx0LCExKX0se2tleUNvZGU6cy5ERUxFVEUsYWN0aW9uOnYod2ssdCwhMCl9XSxyKS5lYWNoKGZ1bmN0aW9uKCl7ci5wcmV2ZW50RGVmYXVsdCgpfSkpfSksZS5vbigia2V5dXAiLGZ1bmN0aW9uKG4pe3ZhciB0LGk7ITE9PT1uLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoaT1uLHNsKFt7a2V5Q29kZTpzLkJBQ0tTUEFDRSxhY3Rpb246dihvdWksdD1lKX0se2tleUNvZGU6cy5ERUxFVEUsYWN0aW9uOnYob3VpLHQpfV0saSkpfSksKHA9bikub24oImtleWRvd24iLGZ1bmN0aW9uKG4pe3ZhciB0LGkscjtuLmtleUNvZGU9PT1zLkVOVEVSJiYodD1wLChpPW4pLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaS5wcmV2ZW50RGVmYXVsdCgpLChyPXQudW5kb01hbmFnZXIpLnR5cGluZyYmKHIudHlwaW5nPSExLHIuYWRkKCkpLHQudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXshMT09PXQuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJnQuZXhlY0NvbW1hbmQoIkRlbGV0ZSIpO2xvaSh0LGkpfSkpKX0pLCh5PW4pLm9uKCJrZXlkb3duIixmdW5jdGlvbihuKXt2YXIgdDshMT09PW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PW4sc2woW3trZXlDb2RlOnMuU1BBQ0VCQVIsYWN0aW9uOnYobm5pLHkpfV0sdCkuZWFjaChmdW5jdGlvbigpe3QucHJldmVudERlZmF1bHQoKX0pKX0pLGk9bz1uLGg9Z3R0KGZ1bmN0aW9uKCl7aS5jb21wb3Npbmd8fG9ndChpKX0sMCksYW5pLmlzSUUoKSYmKGkub24oImtleXByZXNzIixmdW5jdGlvbigpe2gudGhyb3R0bGUoKX0pLGkub24oInJlbW92ZSIsZnVuY3Rpb24oKXtoLmNhbmNlbCgpfSkpLG8ub24oImlucHV0IixmdW5jdGlvbihuKXshMT09PW4uaXNDb21wb3NpbmcmJm9ndChvKX0pLGE9ciwobD1uKS5vbigia2V5ZG93biIsZnVuY3Rpb24obil7dmFyIHQsaSxyOyExPT09bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGk9YSxyPW4sc2woW3trZXlDb2RlOnMuRU5ELGFjdGlvbjp2KHNlaSx0PWwsITApfSx7a2V5Q29kZTpzLkhPTUUsYWN0aW9uOnYoc2VpLHQsITEpfSx7a2V5Q29kZTpzLkVORCxhY3Rpb246dih5ZWksdCwhMCl9LHtrZXlDb2RlOnMuSE9NRSxhY3Rpb246dih5ZWksdCwhMSl9LHtrZXlDb2RlOnMuRU5ELGFjdGlvbjp2KHlrLHQsITAsaSl9LHtrZXlDb2RlOnMuSE9NRSxhY3Rpb246dih5ayx0LCExLGkpfV0scikuZWFjaChmdW5jdGlvbigpe3IucHJldmVudERlZmF1bHQoKX0pKX0pLHQ9bixjPXIsdm5pLm9zLmlzT1NYKCl8fChmPWhpKCExKSx0Lm9uKCJrZXlkb3duIixmdW5jdGlvbihuKXt2b2kobikmJnlvaShmLHQsITApfSksdC5vbigia2V5dXAiLGZ1bmN0aW9uKG4pe3ZhciBpLHIsdTshMT09PW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJih1PW4sc2woW3trZXlDb2RlOnMuUEFHRV9VUCxhY3Rpb246dih5ayxpPXQsITEscj1jKX0se2tleUNvZGU6cy5QQUdFX0RPV04sYWN0aW9uOnYoeWssaSwhMCxyKX1dLHUpKTt2b2kobikmJmYuZ2V0KCkmJih5b2koZix0LCExKSx0Lm5vZGVDaGFuZ2VkKCkpfSkpLHJ9ZnVuY3Rpb24gZ290KG4pe3ZhciB0LGk7dGhpcy5sYXN0UGF0aD1bXTt0aGlzLmVkaXRvcj1uO2k9dGhpczsib25zZWxlY3Rpb25jaGFuZ2UiaW4gbi5nZXREb2MoKXx8bi5vbigiTm9kZUNoYW5nZSBjbGljayBtb3VzZXVwIGtleXVwIGZvY3VzIixmdW5jdGlvbihpKXt2YXIgcj1uLnNlbGVjdGlvbi5nZXRSbmcoKSx1PXtzdGFydENvbnRhaW5lcjpyLnN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0OnIuc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyOnIuZW5kQ29udGFpbmVyLGVuZE9mZnNldDpyLmVuZE9mZnNldH07Im5vZGVjaGFuZ2UiIT09aS50eXBlJiZ5cnQodSx0KXx8bi5maXJlKCJTZWxlY3Rpb25DaGFuZ2UiKTt0PXV9KTtuLm9uKCJjb250ZXh0bWVudSIsZnVuY3Rpb24oKXtuLmZpcmUoIlNlbGVjdGlvbkNoYW5nZSIpfSk7bi5vbigiU2VsZWN0aW9uQ2hhbmdlIixmdW5jdGlvbigpe3ZhciB0PW4uc2VsZWN0aW9uLmdldFN0YXJ0KCEwKTt0JiYobC5yYW5nZXx8IW4uc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpJiZjdyhuKSYmIWkuaXNTYW1lRWxlbWVudFBhdGgodCkmJm4uZG9tLmlzQ2hpbGRPZih0LG4uZ2V0Qm9keSgpKSYmbi5ub2RlQ2hhbmdlZCh7c2VsZWN0aW9uQ2hhbmdlOiEwfSl9KTtuLm9uKCJtb3VzZXVwIixmdW5jdGlvbih0KXshdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmY3cobikmJigiSU1HIj09PW4uc2VsZWN0aW9uLmdldE5vZGUoKS5ub2RlTmFtZT91aS5zZXRFZGl0b3JUaW1lb3V0KG4sZnVuY3Rpb24oKXtuLm5vZGVDaGFuZ2VkKCl9KTpuLm5vZGVDaGFuZ2VkKCkpfSl9ZnVuY3Rpb24gZG9pKG4pe3JldHVybiBoKG4pJiZsYXQodC5mcm9tRG9tKG4pKX1mdW5jdGlvbiBnb2kobil7dmFyIHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPW4ub3duZXJEb2N1bWVudCxyPWkuZG9jdW1lbnRFbGVtZW50LHU9aS5kZWZhdWx0VmlldztyZXR1cm57dG9wOnQudG9wK3UucGFnZVlPZmZzZXQtci5jbGllbnRUb3AsbGVmdDp0LmxlZnQrdS5wYWdlWE9mZnNldC1yLmNsaWVudExlZnR9fWZ1bmN0aW9uIG5zaShuKXtuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX1mdW5jdGlvbiBibmkobix0KXt2YXIgaT11aS50aHJvdHRsZShmdW5jdGlvbihuLGkpe3QuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCk7dC5zZWxlY3Rpb24ucGxhY2VDYXJldEF0KG4saSl9LDApO3JldHVybiB0Lm9uKCJyZW1vdmUiLGkuc3RvcCksZnVuY3Rpb24ocil7cmV0dXJuIG4ub24oZnVuY3Rpb24obil7dmFyIGssZix1LGUsbyxoLGMsbCxhLHYseSxkLGcscyxudCxwLHcsdHQsaXQsYixydD1NYXRoLm1heChNYXRoLmFicyhyLnNjcmVlblgtbi5zY3JlZW5YKSxNYXRoLmFicyhyLnNjcmVlblktbi5zY3JlZW5ZKSk7aWYoIW4uZHJhZ2dpbmcmJjEwPHJ0KXtpZih0LmZpcmUoImRyYWdzdGFydCIse3RhcmdldDpuLmVsZW1lbnR9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47bi5kcmFnZ2luZz0hMDt0LmZvY3VzKCl9bi5kcmFnZ2luZyYmKGQ9bixrPXtwYWdlWDoobnQ9cixwPShzPXQpLmlubGluZT9nb2kocy5nZXRCb2R5KCkpOntsZWZ0OjAsdG9wOjB9LGI9KGl0PXMpLmdldEJvZHkoKSx3PWl0LmlubGluZT97bGVmdDpiLnNjcm9sbExlZnQsdG9wOmIuc2Nyb2xsVG9wfTp7bGVmdDowLHRvcDowfSwoZz17cGFnZVg6KHR0PWZ1bmN0aW9uKG4sdCl7aWYodC50YXJnZXQub3duZXJEb2N1bWVudD09PW4uZ2V0RG9jKCkpcmV0dXJue2xlZnQ6dC5wYWdlWCx0b3A6dC5wYWdlWX07dmFyIHIsaSx1LGYsZSxvPWdvaShuLmdldENvbnRlbnRBcmVhQ29udGFpbmVyKCkpLHM9KGk9KHI9bikuZ2V0Qm9keSgpLHU9ci5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQsZj17bGVmdDppLnNjcm9sbExlZnQsdG9wOmkuc2Nyb2xsVG9wfSxlPXtsZWZ0Omkuc2Nyb2xsTGVmdHx8dS5zY3JvbGxMZWZ0LHRvcDppLnNjcm9sbFRvcHx8dS5zY3JvbGxUb3B9LHIuaW5saW5lP2Y6ZSk7cmV0dXJue2xlZnQ6dC5wYWdlWC1vLmxlZnQrcy5sZWZ0LHRvcDp0LnBhZ2VZLW8udG9wK3MudG9wfX0ocyxudCkpLmxlZnQtcC5sZWZ0K3cubGVmdCxwYWdlWTp0dC50b3AtcC50b3Ardy50b3B9KS5wYWdlWC1kLnJlbFgpLHBhZ2VZOmcucGFnZVkrNX0sdj1uLmdob3N0LHk9dC5nZXRCb2R5KCksdi5wYXJlbnROb2RlIT09eSYmeS5hcHBlbmRDaGlsZCh2KSxmPW4uZ2hvc3QsZT1uLndpZHRoLG89bi5oZWlnaHQsaD1uLm1heFgsYz1uLm1heFksYT1sPTAsZi5zdHlsZS5sZWZ0PSh1PWspLnBhZ2VYKyJweCIsZi5zdHlsZS50b3A9dS5wYWdlWSsicHgiLGM8dS5wYWdlWStvJiYoYT11LnBhZ2VZK28tYyksZi5zdHlsZS53aWR0aD1lLShsPWg8dS5wYWdlWCtlP3UucGFnZVgrZS1oOmwpKyJweCIsZi5zdHlsZS5oZWlnaHQ9by1hKyJweCIsaShyLmNsaWVudFgsci5jbGllbnRZKSl9KX19ZnVuY3Rpb24ga25pKG4pe2Z1bmN0aW9uIHYobil7dmFyIGkscix1LGYsZSxvOzA9PT1uLmJ1dHRvbiYmKGk9Z3QodC5kb20uZ2V0UGFyZW50cyhuLnRhcmdldCksZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0obikpcmV0dXJuITA7cmV0dXJuITF9fShpZCxldHIpKS5nZXRPcihudWxsKSxlPXQuZ2V0Qm9keSgpLGlkKG89aSkmJm8hPT1lJiYocj10LmRvbS5nZXRQb3MoaSksdT10LmdldEJvZHkoKSxmPXQuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50LGwuc2V0KHtlbGVtZW50OmksZHJhZ2dpbmc6ITEsc2NyZWVuWDpuLnNjcmVlblgsc2NyZWVuWTpuLnNjcmVlblksbWF4WDoodC5pbmxpbmU/dS5zY3JvbGxXaWR0aDpmLm9mZnNldFdpZHRoKS0yLG1heFk6KHQuaW5saW5lP3Uuc2Nyb2xsSGVpZ2h0OmYub2Zmc2V0SGVpZ2h0KS0yLHJlbFg6bi5wYWdlWC1yLngscmVsWTpuLnBhZ2VZLXIueSx3aWR0aDppLm9mZnNldFdpZHRoLGhlaWdodDppLm9mZnNldEhlaWdodCxnaG9zdDpmdW5jdGlvbihuLGkscil7dmFyIHU9dC5kb20sZj1uLmNsb25lTm9kZSghMCksZTtyZXR1cm4gdS5zZXRTdHlsZXMoZix7d2lkdGg6aSxoZWlnaHQ6cn0pLHUuc2V0QXR0cmliKGYsImRhdGEtbWNlLXNlbGVjdGVkIixudWxsKSxlPXUuY3JlYXRlKCJkaXYiLHsiY2xhc3MiOiJtY2UtZHJhZy1jb250YWluZXIiLCJkYXRhLW1jZS1ib2d1cyI6ImFsbCIsdW5zZWxlY3RhYmxlOiJvbiIsY29udGVudGVkaXRhYmxlOiJmYWxzZSJ9KSx1LnNldFN0eWxlcyhlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLG9wYWNpdHk6LjUsb3ZlcmZsb3c6ImhpZGRlbiIsYm9yZGVyOjAscGFkZGluZzowLG1hcmdpbjowLHdpZHRoOmksaGVpZ2h0OnJ9KSx1LnNldFN0eWxlcyhmLHttYXJnaW46MCxib3hTaXppbmc6ImJvcmRlci1ib3gifSksZS5hcHBlbmRDaGlsZChmKSxlfShpLGkub2Zmc2V0V2lkdGgsaS5vZmZzZXRIZWlnaHQpfSkpKX1mdW5jdGlvbiB5KG4pe2Uub24oZnVuY3Rpb24odCl7dmFyIGYsZSxvLHIscyx1O3QuZHJhZ2dpbmcmJigocj0zPT09KHU9KG89aSkuc2VsZWN0aW9uLmdldFNlbCgpLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXIpLm5vZGVUeXBlP3UucGFyZW50Tm9kZTp1KT09PShzPXQuZWxlbWVudCl8fG8uZG9tLmlzQ2hpbGRPZihyLHMpfHxpZChyKXx8KChlPXQuZWxlbWVudC5jbG9uZU5vZGUoITApKS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksZj1lLGkuZmlyZSgiZHJvcCIse2NsaWVudFg6bi5jbGllbnRYLGNsaWVudFk6bi5jbGllbnRZfSkuaXNEZWZhdWx0UHJldmVudGVkKCl8fGkudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXtuc2kodC5lbGVtZW50KTtpLmluc2VydENvbnRlbnQoaS5kb20uZ2V0T3V0ZXJIVE1MKGYpKTtpLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpfSkpLGkuZmlyZSgiZHJhZ2VuZCIpKX0pO2FzaShlKX12YXIgZixjLGUsaSxsLHQsYT1vYygpLHI9ZC5ET00sdT1kb2N1bWVudCxvPWJuaShsPWEsdD1uKSxoPShmPWU9YSxmdW5jdGlvbigpe2Yub24oZnVuY3Rpb24obil7bi5kcmFnZ2luZyYmYy5maXJlKCJkcmFnZW5kIil9KTthc2koZil9KTsoYz1pPW4pLm9uKCJtb3VzZWRvd24iLHYpO24ub24oIm1vdXNlbW92ZSIsbyk7bi5vbigibW91c2V1cCIseSk7ci5iaW5kKHUsIm1vdXNlbW92ZSIsbyk7ci5iaW5kKHUsIm1vdXNldXAiLGgpO24ub24oInJlbW92ZSIsZnVuY3Rpb24oKXtyLnVuYmluZCh1LCJtb3VzZW1vdmUiLG8pO3IudW5iaW5kKHUsIm1vdXNldXAiLGgpfSk7bi5vbigia2V5ZG93biIsZnVuY3Rpb24obil7bi5rZXlDb2RlPT09cy5FU0MmJmgoKX0pfWZ1bmN0aW9uIGRuaShuKXtmdW5jdGlvbiByKG4pe3ZhciBpO24uaXNEZWZhdWx0UHJldmVudGVkKCl8fChpPW4uZGF0YVRyYW5zZmVyKSYmKGR0KGkudHlwZXMsIkZpbGVzIil8fDA8aS5maWxlcy5sZW5ndGgpJiYobi5wcmV2ZW50RGVmYXVsdCgpLCJkcm9wIj09PW4udHlwZSYmZ2IodCwiRHJvcHBlZCBmaWxlIHR5cGUgaXMgbm90IHN1cHBvcnRlZCIpKX1mdW5jdGlvbiB1KG4pe2t3KHQsbi50YXJnZXQpJiZyKG4pfWZ1bmN0aW9uIGYoKXt2YXIgbj1kLkRPTSxpPXQuZG9tLGY9ZG9jdW1lbnQsbz10LmlubGluZT90LmdldEJvZHkoKTp0LmdldERvYygpLHM9WyJkcm9wIiwiZHJhZ292ZXIiXTtlKHMsZnVuY3Rpb24odCl7bi5iaW5kKGYsdCx1KTtpLmJpbmQobyx0LHIpfSk7dC5vbigicmVtb3ZlIixmdW5jdGlvbigpe2UocyxmdW5jdGlvbih0KXtuLnVuYmluZChmLHQsdSk7aS51bmJpbmQobyx0LHIpfSl9KX12YXIgaSx0O2tuaShuKTsoaT1uKS5vbigiZHJvcCIsZnVuY3Rpb24obil7dmFyIHQ9dm9pZCAwIT09bi5jbGllbnRYP2kuZ2V0RG9jKCkuZWxlbWVudEZyb21Qb2ludChuLmNsaWVudFgsbi5jbGllbnRZKTpudWxsOyhpZCh0KXx8ImZhbHNlIj09PWkuZG9tLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudCh0KSkmJm4ucHJldmVudERlZmF1bHQoKX0pO24uZ2V0UGFyYW0oImJsb2NrX3Vuc3VwcG9ydGVkX2Ryb3AiLCEwLCJib29sZWFuIikmJih0PW4pLm9uKCJpbml0IixmdW5jdGlvbigpe3VpLnNldEVkaXRvclRpbWVvdXQodCxmLDApfSl9ZnVuY3Rpb24gdGQobix0KXtyZXR1cm4gZ2Mobi5nZXRCb2R5KCksdCl9ZnVuY3Rpb24gZ25pKG4pe2Z1bmN0aW9uIHR0KG4pe3JldHVybiBuIT09aCYmKGtzKG4pfHx0dShuKSkmJnIuaXNDaGlsZE9mKG4saCl9ZnVuY3Rpb24gZnQobil7cmV0dXJuIGVvKG4pfHxvbyhuKXx8dGwobil8fGlsKG4pfWZ1bmN0aW9uIGl0KG4pe24mJmYuc2V0Um5nKG4pfWZ1bmN0aW9uIGIodCxpLHIsdSl7cmV0dXJuIHZvaWQgMD09PXUmJih1PSEwKSxuLmZpcmUoIlNob3dDYXJldCIse3RhcmdldDppLGRpcmVjdGlvbjp0LGJlZm9yZTpyfSkuaXNEZWZhdWx0UHJldmVudGVkKCk/bnVsbDoodSYmZi5zY3JvbGxJbnRvVmlldyhpLC0xPT09dCksay5zaG93KHIsaSkpfWZ1bmN0aW9uIGV0KG4pe3JldHVybiBocihuKXx8cnAobil8fHVwKG4pfWZ1bmN0aW9uIG90KG4pe3JldHVybiBldChuLnN0YXJ0Q29udGFpbmVyKXx8ZXQobi5lbmRDb250YWluZXIpfWZ1bmN0aW9uIGEoaSxvKXt2YXIgeSx3O2lmKCFpKXJldHVybiBudWxsO2lmKGkuY29sbGFwc2VkKXtpZighb3QoaSkpe3ZhciB2PW8/MTotMSxjPWthKHYsaCxpKSxrPWMuZ2V0Tm9kZSghbyk7aWYoaHMoaykpcmV0dXJuIGIodixrLCEhbyYmIWMuaXNBdEVuZCgpLCExKTtpZih5PWMuZ2V0Tm9kZShvKSxocyh5KSlyZXR1cm4gYih2LHksIW8mJiFjLmlzQXRFbmQoKSwhMSl9cmV0dXJuIG51bGx9dmFyIHM9aS5zdGFydENvbnRhaW5lcixhPWkuc3RhcnRPZmZzZXQsaXQ9aS5lbmRPZmZzZXQ7cmV0dXJuKDM9PT1zLm5vZGVUeXBlJiYwPT09YSYma3Mocy5wYXJlbnROb2RlKSYmKHM9cy5wYXJlbnROb2RlLGE9ci5ub2RlSW5kZXgocykscz1zLnBhcmVudE5vZGUpLDEhPT1zLm5vZGVUeXBlKT9udWxsOml0PT09YSsxJiZzPT09aS5lbmRDb250YWluZXImJih3PXMuY2hpbGROb2Rlc1thXSx0dCh3KSk/ZnVuY3Rpb24oaSl7dmFyIG89aS5jbG9uZU5vZGUoITApLHM9bi5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDppLHRhcmdldENsb25lOm99KSxoLGM7cmV0dXJuIHMuaXNEZWZhdWx0UHJldmVudGVkKCk/bnVsbDooaD1mdW5jdGlvbihpLHUsZSl7dmFyIGg9bi4kLG89YnkodC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSwiIyIrZCkuZm9sZChmdW5jdGlvbigpe3JldHVybiBoKFtdKX0sZnVuY3Rpb24obil7cmV0dXJuIGgoW24uZG9tXSl9KSxzLGM7cmV0dXJuIDA9PT1vLmxlbmd0aCYmKG89aCgnPGRpdiBkYXRhLW1jZS1ib2d1cz0iYWxsIiBjbGFzcz0ibWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iPjxcL2Rpdj4nKS5hdHRyKCJpZCIsZCkpLmFwcGVuZFRvKG4uZ2V0Qm9keSgpKSxzPXIuY3JlYXRlUm5nKCksdT09PWUmJmwuaWU/KG8uZW1wdHkoKS5hcHBlbmQoJzxwIHN0eWxlPSJmb250LXNpemU6IDAiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPsKgPFwvcD4nKS5hcHBlbmQodSkscy5zZXRTdGFydEFmdGVyKG9bMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSxzLnNldEVuZEFmdGVyKHUpKTooby5lbXB0eSgpLmFwcGVuZChpcikuYXBwZW5kKHUpLmFwcGVuZChpcikscy5zZXRTdGFydChvWzBdLmZpcnN0Q2hpbGQsMSkscy5zZXRFbmQob1swXS5sYXN0Q2hpbGQsMCkpLG8uY3NzKHt0b3A6ci5nZXRQb3MoaSxuLmdldEJvZHkoKSkueX0pLG9bMF0uZm9jdXMoKSxjPWYuZ2V0U2VsKCksYy5yZW1vdmVBbGxSYW5nZXMoKSxjLmFkZFJhbmdlKHMpLHN9KGkscy50YXJnZXRDbG9uZSxvKSxjPXQuZnJvbURvbShpKSxlKGdpKHQuZnJvbURvbShuLmdldEJvZHkoKSksIipbZGF0YS1tY2Utc2VsZWN0ZWRdIiksZnVuY3Rpb24obil7bnQoYyxuKXx8aGUobixnKX0pLHIuZ2V0QXR0cmliKGksZyl8fGkuc2V0QXR0cmlidXRlKGcsIjEiKSx1PWkscCgpLGgpfSh3KTpudWxsfWZ1bmN0aW9uIHYoKXt1JiZ1LnJlbW92ZUF0dHJpYnV0ZShnKTtieSh0LmZyb21Eb20obi5nZXRCb2R5KCkpLCIjIitkKS5lYWNoKG5pKTt1PW51bGx9dmFyIHUsbyx1dCxjLGY9bi5zZWxlY3Rpb24scj1uLmRvbSx5PXIuaXNCbG9jayxoPW4uZ2V0Qm9keSgpLGs9YnZpKG4saCx5LGZ1bmN0aW9uKCl7cmV0dXJuIGFzKG4pfSksZD0ic2VsLSIrci51bmlxdWVJZCgpLGc9ImRhdGEtbWNlLXNlbGVjdGVkIixodD1mLmdldFJuZyxwPWZ1bmN0aW9uKCl7ay5oaWRlKCl9O3JldHVybiBsLmNlRmFsc2UmJiF0ZShuKSYmKG4ub24oIm1vdXNldXAiLGZ1bmN0aW9uKHQpe3ZhciBpPWh0KCk7aS5jb2xsYXBzZWQmJndpaShuLHQuY2xpZW50WCx0LmNsaWVudFkpJiZydWkobixpLCExKS5lYWNoKGl0KX0pLG4ub24oImNsaWNrIixmdW5jdGlvbih0KXt2YXIgaT10ZChuLHQudGFyZ2V0KTtpJiYoa3MoaSkmJih0LnByZXZlbnREZWZhdWx0KCksbi5mb2N1cygpKSx2c2koaSkmJnIuaXNDaGlsZE9mKGksZi5nZXROb2RlKCkpJiZ2KCkpfSksbi5vbigiYmx1ciBOZXdCbG9jayIsdiksbi5vbigiUmVzaXplV2luZG93IEZ1bGxzY3JlZW5TdGF0ZUNoYW5nZWQiLGsucmVwb3NpdGlvbiksbi5vbigidGFwIixmdW5jdGlvbih0KXt2YXIgaT10LnRhcmdldCxyPXRkKG4saSk7a3Mocik/KHQucHJldmVudERlZmF1bHQoKSxlbChuLHIpLmVhY2goYSkpOnR0KGkpJiZlbChuLGkpLmVhY2goYSl9LCEwKSxuLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKHQpe3ZhciBzLGMsbCx3LGssZSxvLHU9dC50YXJnZXQ7KHU9PT1ofHwiSFRNTCI9PT11Lm5vZGVOYW1lfHxyLmlzQ2hpbGRPZih1LGgpKSYmITEhPT13aWkobix0LmNsaWVudFgsdC5jbGllbnRZKSYmKChzPXRkKG4sdSkpP2tzKHMpPyh0LnByZXZlbnREZWZhdWx0KCksZWwobixzKS5lYWNoKGEpKToodigpLHZzaShzKSYmdC5zaGlmdEtleXx8bHJ0KHQuY2xpZW50WCx0LmNsaWVudFksZi5nZXRSbmcoKSl8fChwKCksZi5wbGFjZUNhcmV0QXQodC5jbGllbnRYLHQuY2xpZW50WSkpKTp0dCh1KT9lbChuLHUpLmVhY2goYSk6ITE9PT1ocyh1KSYmKHYoKSxwKCksKGM9cmdpKGgsdC5jbGllbnRYLHQuY2xpZW50WSkpJiYobD11LHc9Yy5ub2RlLGU9ci5nZXRQYXJlbnQobCx5KSxvPXIuZ2V0UGFyZW50KHcseSksIXd1KGUpJiYobCE9PW8mJnIuaXNDaGlsZE9mKGUsbykmJiExPT09a3ModGQobixlKSl8fCFyLmlzQ2hpbGRPZihvLGUpJiYoaz1vLHIuZ2V0UGFyZW50KGUseSkhPT1yLmdldFBhcmVudChrLHkpKSYmZnVuY3Rpb24obil7dmFyIHU9bi5maXJzdENoaWxkLHQscjtpZighd3UodSkpcmV0dXJuKHQ9aS5iZWZvcmUodSksc3QodC5nZXROb2RlKCkpJiYxPT09bi5jaGlsZE5vZGVzLmxlbmd0aCk/IWZ0KHQpOihyPXZ1KG4pLm5leHQodCksciYmIWZ0KHIpKX0oZSkpfHwodC5wcmV2ZW50RGVmYXVsdCgpLGl0KGIoMSxjLm5vZGUsYy5iZWZvcmUsITEpKSxuLmdldEJvZHkoKS5mb2N1cygpKSkpKX0pLG4ub24oImtleXByZXNzIixmdW5jdGlvbihuKXtzLm1vZGlmaWVyUHJlc3NlZChuKXx8a3MoZi5nZXROb2RlKCkpJiZuLnByZXZlbnREZWZhdWx0KCl9KSxuLm9uKCJHZXRTZWxlY3Rpb25SYW5nZSIsZnVuY3Rpb24obil7dmFyIHQ9bi5yYW5nZTt1JiYodS5wYXJlbnROb2RlPygodD10LmNsb25lUmFuZ2UoKSkuc2VsZWN0Tm9kZSh1KSxuLnJhbmdlPXQpOnU9bnVsbCl9KSxuLm9uKCJTZXRTZWxlY3Rpb25SYW5nZSIsZnVuY3Rpb24odCl7dmFyIHUsbyxpLGYscyxlLGgsYzt0LnJhbmdlPSh1PXQucmFuZ2Usbz1uLnNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKSxpPXIuY3JlYXRlUm5nKCksZj11LnN0YXJ0Q29udGFpbmVyLHM9dS5zdGFydE9mZnNldCxlPXUuZW5kQ29udGFpbmVyLGg9dS5lbmRPZmZzZXQsdyhvLGYubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/MD09PXM/aS5zZXRTdGFydEJlZm9yZShmKTppLnNldFN0YXJ0QWZ0ZXIoZik6aS5zZXRTdGFydChmLHMpLHcobyxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpPzA9PT1oP2kuc2V0RW5kQmVmb3JlKGUpOmkuc2V0RW5kQWZ0ZXIoZSk6aS5zZXRFbmQoZSxoKSxpKTtjPWEodC5yYW5nZSx0LmZvcndhcmQpO2MmJih0LnJhbmdlPWMpfSksbi5vbigiQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZSIsZnVuY3Rpb24obil7dmFyIHQ9bi5yYW5nZSxpPXQuc3RhcnRDb250YWluZXIucGFyZW50Tm9kZTtvdCh0KXx8Im1jZXBhc3RlYmluIj09PWkuaWR8fHAoKTtyLmhhc0NsYXNzKGksIm1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIil8fHYoKX0pLG4ub24oImNvcHkiLGZ1bmN0aW9uKG4pe3ZhciB0LHUsaT1uLmNsaXBib2FyZERhdGE7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8IW4uY2xpcGJvYXJkRGF0YXx8bC5pZXx8KHQ9KHU9ci5nZXQoZCkpJiZ1LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIilbMF0pJiYobi5wcmV2ZW50RGVmYXVsdCgpLGkuY2xlYXJEYXRhKCksaS5zZXREYXRhKCJ0ZXh0L2h0bWwiLHQub3V0ZXJIVE1MKSxpLnNldERhdGEoInRleHQvcGxhaW4iLHQub3V0ZXJUZXh0fHx0LmlubmVyVGV4dCkpfSksZG5pKG4pLHV0PWd0dChmdW5jdGlvbigpe3ZhciBuLHQ7by5yZW1vdmVkfHwhby5nZXRCb2R5KCkuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCl8fChuPW8uc2VsZWN0aW9uLmdldFJuZygpKS5jb2xsYXBzZWQmJih0PW5vdChvLG4sITEpLG8uc2VsZWN0aW9uLnNldFJuZyh0KSl9LDApLChvPW4pLm9uKCJmb2N1cyIsZnVuY3Rpb24oKXt1dC50aHJvdHRsZSgpfSksby5vbigiYmx1ciIsZnVuY3Rpb24oKXt1dC5jYW5jZWwoKX0pLChjPW4pLm9uKCJpbml0IixmdW5jdGlvbigpe2Mub24oImZvY3VzaW4iLGZ1bmN0aW9uKG4pe3ZhciB0LGkscj1uLnRhcmdldDt0dShyKSYmKHQ9Z2MoYy5nZXRCb2R5KCksciksaT1ydCh0KT90OnIsYy5zZWxlY3Rpb24uZ2V0Tm9kZSgpIT09aSYmZWwoYyxpKS5lYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBjLnNlbGVjdGlvbi5zZXRSbmcobil9KSl9KX0pKSx7c2hvd0NhcmV0OmIsc2hvd0Jsb2NrQ2FyZXRDb250YWluZXI6ZnVuY3Rpb24obil7bi5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikmJihhbihuKSxpdChodCgpKSxmLnNjcm9sbEludG9WaWV3KG4pKX0saGlkZUZha2VDYXJldDpwLGRlc3Ryb3k6ZnVuY3Rpb24oKXtrLmRlc3Ryb3koKTt1PW51bGx9fX1mdW5jdGlvbiBudHIobil7ZnVuY3Rpb24gZih0LGkpe3RyeXtuLmdldERvYygpLmV4ZWNDb21tYW5kKHQsITEsaSl9Y2F0Y2godCl7fX1mdW5jdGlvbiB1KG4pe3JldHVybiBuLmlzRGVmYXVsdFByZXZlbnRlZCgpfWZ1bmN0aW9uIGUoKXtuLnNob3J0Y3V0cy5hZGQoIm1ldGErYSIsbnVsbCwiU2VsZWN0QWxsIil9ZnVuY3Rpb24gcCgpe24uaW5saW5lfHx0LmJpbmQobi5nZXREb2MoKSwibW91c2Vkb3duIG1vdXNldXAiLGZ1bmN0aW9uKHQpe3ZhciByO3QudGFyZ2V0PT09bi5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQmJihyPWkuZ2V0Um5nKCksbi5nZXRCb2R5KCkuZm9jdXMoKSwibW91c2Vkb3duIj09PXQudHlwZT9ocihyLnN0YXJ0Q29udGFpbmVyKXx8aS5wbGFjZUNhcmV0QXQodC5jbGllbnRYLHQuY2xpZW50WSk6aS5zZXRSbmcocikpfSl9ZnVuY3Rpb24gdygpe1JhbmdlLnByb3RvdHlwZS5nZXRDbGllbnRSZWN0c3x8bi5vbigibW91c2Vkb3duIixmdW5jdGlvbih0KXt2YXIgaTt1KHQpfHwiSFRNTCIhPT10LnRhcmdldC5ub2RlTmFtZXx8KChpPW4uZ2V0Qm9keSgpKS5ibHVyKCksdWkuc2V0RWRpdG9yVGltZW91dChuLGZ1bmN0aW9uKCl7aS5mb2N1cygpfSkpfSl9ZnVuY3Rpb24gYigpe24ub24oImNsaWNrIixmdW5jdGlvbihyKXt2YXIgdT1yLnRhcmdldDsvXihJTUd8SFIpJC8udGVzdCh1Lm5vZGVOYW1lKSYmImZhbHNlIiE9PXQuZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KHUpJiYoci5wcmV2ZW50RGVmYXVsdCgpLG4uc2VsZWN0aW9uLnNlbGVjdCh1KSxuLm5vZGVDaGFuZ2VkKCkpOyJBIj09PXUubm9kZU5hbWUmJnQuaGFzQ2xhc3ModSwibWNlLWl0ZW0tYW5jaG9yIikmJihyLnByZXZlbnREZWZhdWx0KCksaS5zZWxlY3QodSkpfSl9ZnVuY3Rpb24gbygpe24ub24oImtleWRvd24iLGZ1bmN0aW9uKG4pe2lmKCF1KG4pJiZuLmtleUNvZGU9PT1jJiZpLmlzQ29sbGFwc2VkKCkmJjA9PT1pLmdldFJuZygpLnN0YXJ0T2Zmc2V0KXt2YXIgdD1pLmdldE5vZGUoKS5wcmV2aW91c1NpYmxpbmc7aWYodCYmdC5ub2RlTmFtZSYmInRhYmxlIj09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gbi5wcmV2ZW50RGVmYXVsdCgpLCExfX0pfWZ1bmN0aW9uIGsoKXtuLmdldFBhcmFtKCJyZWFkb25seSIpfHxuLm9uKCJCZWZvcmVFeGVjQ29tbWFuZCBtb3VzZWRvd24iLGZ1bmN0aW9uKCl7ZigiU3R5bGVXaXRoQ1NTIiwhMSk7ZigiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSk7Y3B0KG4pfHxmKCJlbmFibGVPYmplY3RSZXNpemluZyIsITEpfSl9ZnVuY3Rpb24gZCgpe24uY29udGVudFN0eWxlcy5wdXNoKCJpbWc6LW1vei1icm9rZW4gey1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb246MTttaW4td2lkdGg6MjRweDttaW4taGVpZ2h0OjI0cHh9Iil9ZnVuY3Rpb24gZygpe24uaW5saW5lfHxuLm9uKCJrZXlkb3duIixmdW5jdGlvbigpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1kb2N1bWVudC5ib2R5JiZuLmdldFdpbigpLmZvY3VzKCl9KX1mdW5jdGlvbiBoKCl7bi5pbmxpbmV8fChuLmNvbnRlbnRTdHlsZXMucHVzaCgiYm9keSB7bWluLWhlaWdodDogMTUwcHh9Iiksbi5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBpOyJIVE1MIj09PXQudGFyZ2V0Lm5vZGVOYW1lJiYoMTE8bC5pZT9uLmdldEJvZHkoKS5mb2N1cygpOihpPW4uc2VsZWN0aW9uLmdldFJuZygpLG4uZ2V0Qm9keSgpLmZvY3VzKCksbi5zZWxlY3Rpb24uc2V0Um5nKGkpLG4uc2VsZWN0aW9uLm5vcm1hbGl6ZSgpLG4ubm9kZUNoYW5nZWQoKSkpfSkpfWZ1bmN0aW9uIG50KCl7bC5tYWMmJm4ub24oImtleWRvd24iLGZ1bmN0aW9uKHQpeyFzLm1ldGFLZXlQcmVzc2VkKHQpfHx0LnNoaWZ0S2V5fHwzNyE9PXQua2V5Q29kZSYmMzkhPT10LmtleUNvZGV8fCh0LnByZXZlbnREZWZhdWx0KCksbi5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIiwzNz09PXQua2V5Q29kZT8iYmFja3dhcmQiOiJmb3J3YXJkIiwibGluZWJvdW5kYXJ5IikpfSl9ZnVuY3Rpb24gdHQoKXtuLm9uKCJjbGljayIsZnVuY3Rpb24obil7dmFyIHQ9bi50YXJnZXQ7ZG8gaWYoIkEiPT09dC50YWdOYW1lKXJldHVybiB2b2lkIG4ucHJldmVudERlZmF1bHQoKTt3aGlsZSh0PXQucGFyZW50Tm9kZSl9KTtuLmNvbnRlbnRTdHlsZXMucHVzaCgiLm1jZS1jb250ZW50LWJvZHkgey13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZX0iKX1mdW5jdGlvbiBpdCgpe24ub24oImluaXQiLGZ1bmN0aW9uKCl7bi5kb20uYmluZChuLmdldEJvZHkoKSwic3VibWl0IixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KX0pfWZ1bmN0aW9uIGV0KCl7dmFyIHI9dC5nZXRBdHRyaWJzKGkuZ2V0U3RhcnQoKS5jbG9uZU5vZGUoITEpKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdT1pLmdldFN0YXJ0KCk7dSE9PW4uZ2V0Qm9keSgpJiYodC5zZXRBdHRyaWIodSwic3R5bGUiLG51bGwpLHJ0KHIsZnVuY3Rpb24obil7dS5zZXRBdHRyaWJ1dGVOb2RlKG4uY2xvbmVOb2RlKCEwKSl9KSl9fWZ1bmN0aW9uIG90KCl7cmV0dXJuIWkuaXNDb2xsYXBzZWQoKSYmdC5nZXRQYXJlbnQoaS5nZXRTdGFydCgpLHQuaXNCbG9jaykhPT10LmdldFBhcmVudChpLmdldEVuZCgpLHQuaXNCbG9jayl9ZnVuY3Rpb24gc3Qobil7dmFyIHI9dC5jcmVhdGUoImJvZHkiKSx1PW4uY2xvbmVDb250ZW50cygpO3JldHVybiByLmFwcGVuZENoaWxkKHUpLGkuc2VyaWFsaXplci5zZXJpYWxpemUocix7Zm9ybWF0OiJodG1sIn0pfXZhciBydD1yLmVhY2gsYz1zLkJBQ0tTUEFDRSxodD1zLkRFTEVURSx0PW4uZG9tLGk9bi5zZWxlY3Rpb24sY3Q9bi5wYXJzZXIsYT1sLmdlY2tvLGx0PWwuaWUsdXQ9bC53ZWJraXQsdj0iZGF0YTp0ZXh0L21jZS1pbnRlcm5hbCwiLGZ0PWx0PyJUZXh0IjoiVVJMIixhdD15O3JldHVybiB0ZShuKT8odXQmJihwKCksYigpLGl0KCksZSgpLGwuaU9TJiYoZygpLGgoKSx0dCgpKSksYSYmKHcoKSxrKCksZCgpLG50KCkpKToobi5vbigia2V5ZG93biIsZnVuY3Rpb24ocil7aWYoIXUocikmJnIua2V5Q29kZT09PXMuQkFDS1NQQUNFKXt2YXIgZSxvPShlPWkuZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyLGg9ZS5zdGFydE9mZnNldCxjPXQuZ2V0Um9vdCgpLGY9bztpZihlLmNvbGxhcHNlZCYmMD09PWgpe2Zvcig7ZiYmZi5wYXJlbnROb2RlJiZmLnBhcmVudE5vZGUuZmlyc3RDaGlsZD09PWYmJmYucGFyZW50Tm9kZSE9PWM7KWY9Zi5wYXJlbnROb2RlOyJCTE9DS1FVT1RFIj09PWYudGFnTmFtZSYmKG4uZm9ybWF0dGVyLnRvZ2dsZSgiYmxvY2txdW90ZSIsbnVsbCxmKSwoZT10LmNyZWF0ZVJuZygpKS5zZXRTdGFydChvLDApLGUuc2V0RW5kKG8sMCksaS5zZXRSbmcoZSkpfX19KSxuLm9uKCJrZXlkb3duIixmdW5jdGlvbihpKXt2YXIgZixyLGUsbyxzPWkua2V5Q29kZTt1KGkpfHxzIT09aHQmJnMhPT1jfHwoZj1uLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpLHI9bi5nZXRCb2R5KCksZiYmIXQuaXNFbXB0eShyKXx8IWYmJihlPXN0KG4uc2VsZWN0aW9uLmdldFJuZygpKSwobz10LmNyZWF0ZVJuZygpKS5zZWxlY3ROb2RlKG4uZ2V0Qm9keSgpKSxlIT09c3QobykpfHwoaS5wcmV2ZW50RGVmYXVsdCgpLG4uc2V0Q29udGVudCgiIiksci5maXJzdENoaWxkJiZ0LmlzQmxvY2soci5maXJzdENoaWxkKT9uLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihyLmZpcnN0Q2hpbGQsMCk6bi5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24ociwwKSxuLm5vZGVDaGFuZ2VkKCkpKX0pLGwud2luZG93c1Bob25lfHxuLm9uKCJrZXl1cCBmb2N1c2luIG1vdXNldXAiLGZ1bmN0aW9uKG4pe3MubW9kaWZpZXJQcmVzc2VkKG4pfHxpLm5vcm1hbGl6ZSgpfSwhMCksdXQmJihwKCksYigpLHNpKG4pJiZuLm9uKCJpbml0IixmdW5jdGlvbigpe2YoIkRlZmF1bHRQYXJhZ3JhcGhTZXBhcmF0b3IiLHNpKG4pKX0pLGl0KCksbygpLGN0LmFkZE5vZGVGaWx0ZXIoImJyIixmdW5jdGlvbihuKXtmb3IodmFyIHQ9bi5sZW5ndGg7dC0tOykiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSI9PT1uW3RdLmF0dHIoImNsYXNzIikmJm5bdF0ucmVtb3ZlKCl9KSxsLmlPUz8oZygpLGgoKSx0dCgpKTplKCkpLDExPD1sLmllJiYoaCgpLG8oKSksbC5pZSYmKGUoKSxmKCJBdXRvVXJsRGV0ZWN0IiwhMSksbi5vbigiZHJhZ3N0YXJ0IixmdW5jdGlvbih0KXt2YXIgcix1LGY7KHI9dCkuZGF0YVRyYW5zZmVyJiYobi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmIklNRyI9PT1yLnRhcmdldC50YWdOYW1lJiZpLnNlbGVjdChyLnRhcmdldCksMDwodT1uLnNlbGVjdGlvbi5nZXRDb250ZW50KCkpLmxlbmd0aCYmKGY9ditlc2NhcGUobi5pZCkrIiwiK2VzY2FwZSh1KSxyLmRhdGFUcmFuc2Zlci5zZXREYXRhKGZ0LGYpKSl9KSxuLm9uKCJkcm9wIixmdW5jdGlvbih0KXt2YXIgZixvLGUscjt1KHQpfHwoZj10LmRhdGFUcmFuc2ZlciYmKHI9dC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShmdCkpJiYwPD1yLmluZGV4T2Yodik/KHI9ci5zdWJzdHIodi5sZW5ndGgpLnNwbGl0KCIsIikse2lkOnVuZXNjYXBlKHJbMF0pLGh0bWw6dW5lc2NhcGUoclsxXSl9KTpudWxsKSYmZi5pZCE9PW4uaWQmJih0LnByZXZlbnREZWZhdWx0KCksbz12cnQodC54LHQueSxuLmdldERvYygpKSxpLnNldFJuZyhvKSxlPWYuaHRtbCxuLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIpP24uZXhlY0NvbW1hbmQoIm1jZUluc2VydENsaXBib2FyZENvbnRlbnQiLCExLHtjb250ZW50OmUsaW50ZXJuYWw6ITB9KTpuLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxlKSl9KSksYSYmKG4ub24oImtleWRvd24iLGZ1bmN0aW9uKHIpe2lmKCF1KHIpJiZyLmtleUNvZGU9PT1jJiZuLmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaHIiKS5sZW5ndGgmJmkuaXNDb2xsYXBzZWQoKSYmMD09PWkuZ2V0Um5nKCkuc3RhcnRPZmZzZXQpe3ZhciBlPWkuZ2V0Tm9kZSgpLGY9ZS5wcmV2aW91c1NpYmxpbmc7aWYoIkhSIj09PWUubm9kZU5hbWUpcmV0dXJuIHQucmVtb3ZlKGUpLHZvaWQgci5wcmV2ZW50RGVmYXVsdCgpO2YmJmYubm9kZU5hbWUmJiJociI9PT1mLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJih0LnJlbW92ZShmKSxyLnByZXZlbnREZWZhdWx0KCkpfX0pLHcoKSxuLm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24odCl7dmFyIGk7aWYoIXUodCkmJig4PT09dC5rZXlDb2RlfHw0Nj09PXQua2V5Q29kZSkmJm90KCkpcmV0dXJuIGk9ZXQoKSxuLmdldERvYygpLmV4ZWNDb21tYW5kKCJkZWxldGUiLCExLG51bGwpLGkoKSx0LnByZXZlbnREZWZhdWx0KCksITF9KSx0LmJpbmQobi5nZXREb2MoKSwiY3V0IixmdW5jdGlvbih0KXt2YXIgaTshdSh0KSYmb3QoKSYmKGk9ZXQoKSx1aS5zZXRFZGl0b3JUaW1lb3V0KG4sZnVuY3Rpb24oKXtpKCl9KSl9KSxrKCksbi5vbigiU2V0Q29udGVudCBFeGVjQ29tbWFuZCIsZnVuY3Rpb24obil7InNldGNvbnRlbnQiIT09bi50eXBlJiYibWNlSW5zZXJ0TGluayIhPT1uLmNvbW1hbmR8fHJ0KHQuc2VsZWN0KCJhIiksZnVuY3Rpb24obil7dmFyIGk9bi5wYXJlbnROb2RlLHI9dC5nZXRSb290KCk7aWYoaS5sYXN0Q2hpbGQ9PT1uKXtmb3IoO2kmJiF0LmlzQmxvY2soaSk7KXtpZihpLnBhcmVudE5vZGUubGFzdENoaWxkIT09aXx8aT09PXIpcmV0dXJuO2k9aS5wYXJlbnROb2RlfXQuYWRkKGksImJyIix7ImRhdGEtbWNlLWJvZ3VzIjoxfSl9fSl9KSxkKCksbnQoKSxvKCkpKSx7cmVmcmVzaENvbnRlbnRFZGl0YWJsZTphdCxpc0hpZGRlbjpmdW5jdGlvbigpe2lmKCFhfHxuLnJlbW92ZWQpcmV0dXJuITE7dmFyIHQ9bi5zZWxlY3Rpb24uZ2V0U2VsKCk7cmV0dXJuIXR8fCF0LnJhbmdlQ291bnR8fDA9PT10LnJhbmdlQ291bnR9fX1mdW5jdGlvbiBuc3Qobil7cmV0dXJuIHlsKG4sZnVuY3Rpb24obil7cmV0dXJuITE9PT10cihuKX0pfWZ1bmN0aW9uIHRzaShuKXt2YXIgdD1uLnNldHRpbmdzO3JldHVybiBuc3Qoe2Jsb2NrX2VsZW1lbnRzOnQuYmxvY2tfZWxlbWVudHMsYm9vbGVhbl9hdHRyaWJ1dGVzOnQuYm9vbGVhbl9hdHRyaWJ1dGVzLGN1c3RvbV9lbGVtZW50czp0LmN1c3RvbV9lbGVtZW50cyxleHRlbmRlZF92YWxpZF9lbGVtZW50czp0LmV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzLGludmFsaWRfZWxlbWVudHM6dC5pbnZhbGlkX2VsZW1lbnRzLGludmFsaWRfc3R5bGVzOnQuaW52YWxpZF9zdHlsZXMsbW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHM6dC5tb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cyxub25fZW1wdHlfZWxlbWVudHM6dC5ub25fZW1wdHlfZWxlbWVudHMsc2NoZW1hOnQuc2NoZW1hLHNlbGZfY2xvc2luZ19lbGVtZW50czp0LnNlbGZfY2xvc2luZ19lbGVtZW50cyxzaG9ydF9lbmRlZF9lbGVtZW50czp0LnNob3J0X2VuZGVkX2VsZW1lbnRzLHNwZWNpYWw6dC5zcGVjaWFsLHRleHRfYmxvY2tfZWxlbWVudHM6dC50ZXh0X2Jsb2NrX2VsZW1lbnRzLHRleHRfaW5saW5lX2VsZW1lbnRzOnQudGV4dF9pbmxpbmVfZWxlbWVudHMsdmFsaWRfY2hpbGRyZW46dC52YWxpZF9jaGlsZHJlbix2YWxpZF9jbGFzc2VzOnQudmFsaWRfY2xhc3Nlcyx2YWxpZF9lbGVtZW50czp0LnZhbGlkX2VsZW1lbnRzLHZhbGlkX3N0eWxlczp0LnZhbGlkX3N0eWxlcyx2ZXJpZnlfaHRtbDp0LnZlcmlmeV9odG1sLHdoaXRlc3BhY2VfZWxlbWVudHM6dC53aGl0ZXNwYWNlX2VsZW1lbnRzLHBhZGRfZW1wdHlfYmxvY2tfaW5saW5lX2NoaWxkcmVuOnQuZm9ybWF0X2VtcHR5X2xpbmVzfSl9ZnVuY3Rpb24gaXNpKG4pe3ZhciB0PW4uc2V0dGluZ3MsaT1uLmVkaXRvclVwbG9hZC5ibG9iQ2FjaGU7cmV0dXJuIG5zdCh7YWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6dC5hbGxvd19jb25kaXRpb25hbF9jb21tZW50cyxhbGxvd19odG1sX2RhdGFfdXJsczp0LmFsbG93X2h0bWxfZGF0YV91cmxzLGFsbG93X3N2Z19kYXRhX3VybHM6dC5hbGxvd19zdmdfZGF0YV91cmxzLGFsbG93X2h0bWxfaW5fbmFtZWRfYW5jaG9yOnQuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3IsYWxsb3dfc2NyaXB0X3VybHM6dC5hbGxvd19zY3JpcHRfdXJscyxhbGxvd191bnNhZmVfbGlua190YXJnZXQ6dC5hbGxvd191bnNhZmVfbGlua190YXJnZXQsY29udmVydF9mb250c190b19zcGFuczp0LmNvbnZlcnRfZm9udHNfdG9fc3BhbnMsZml4X2xpc3RfZWxlbWVudHM6dC5maXhfbGlzdF9lbGVtZW50cyxmb250X3NpemVfbGVnYWN5X3ZhbHVlczp0LmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzLGZvcmNlZF9yb290X2Jsb2NrOnQuZm9yY2VkX3Jvb3RfYmxvY2ssZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnM6dC5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyxwYWRkX2VtcHR5X3dpdGhfYnI6dC5wYWRkX2VtcHR5X3dpdGhfYnIscHJlc2VydmVfY2RhdGE6dC5wcmVzZXJ2ZV9jZGF0YSxyZW1vdmVfdHJhaWxpbmdfYnJzOnQucmVtb3ZlX3RyYWlsaW5nX2JycyxpbmxpbmVfc3R5bGVzOnQuaW5saW5lX3N0eWxlcyxyb290X25hbWU6bi5pbmxpbmU/bi5nZXRFbGVtZW50KCkubm9kZU5hbWUudG9Mb3dlckNhc2UoKTp2b2lkIDAsdmFsaWRhdGU6ITAsYmxvYl9jYWNoZTppLGRvY3VtZW50Om4uZ2V0RG9jKCksaW1hZ2VzX2RhdGFpbWdfZmlsdGVyOnQuaW1hZ2VzX2RhdGFpbWdfZmlsdGVyfSl9ZnVuY3Rpb24gdHRyKGkpe3ZhciByLHUsZjtpLmJpbmRQZW5kaW5nRXZlbnREZWxlZ2F0ZXMoKTtpLmluaXRpYWxpemVkPSEwO2kuZmlyZSgiSW5pdCIpO2kuZm9jdXMoITApO2Y9KHU9aSkuZG9tLmdldFJvb3QoKTt1LmlubGluZXx8Y3codSkmJnUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSE9PWZ8fHdpKGYpLmVhY2goZnVuY3Rpb24oaSl7dmFyIHIsZSxvLGYscz1pLmdldE5vZGUoKSxoPXloKHMpP3dpKHMpLmdldE9yKGkpOmk7bC5icm93c2VyLmlzSUUoKT8ocj11LGU9aC50b1JhbmdlKCksbz10LmZyb21Eb20oci5nZXRCb2R5KCkpLGY9KGtrdChyKT9uLmZyb20oZSk6bi5ub25lKCkpLm1hcChka3QpLmZpbHRlcihncnQobykpLHIuYm9va21hcms9Zi5pc1NvbWUoKT9mOnIuYm9va21hcmspOnUuc2VsZWN0aW9uLnNldFJuZyhoLnRvUmFuZ2UoKSl9KTtpLm5vZGVDaGFuZ2VkKHtpbml0aWFsOiEwfSk7aS5leGVjQ2FsbGJhY2soImluaXRfaW5zdGFuY2VfY2FsbGJhY2siLGkpOyhyPWkpLnNldHRpbmdzLmF1dG9fZm9jdXMmJnVpLnNldEVkaXRvclRpbWVvdXQocixmdW5jdGlvbigpe3ZhciBuPSEwPT09ci5zZXR0aW5ncy5hdXRvX2ZvY3VzP3I6ci5lZGl0b3JNYW5hZ2VyLmdldChyLnNldHRpbmdzLmF1dG9fZm9jdXMpO24uZGVzdHJveWVkfHxuLmZvY3VzKCl9LDEwMCl9ZnVuY3Rpb24gcnNpKG4pe3JldHVybihuLmlubGluZT9uLnVpOm4uZG9tKS5zdHlsZVNoZWV0TG9hZGVyfWZ1bmN0aW9uIHVzaShuKXtmdW5jdGlvbiBzKCl7ay51bmxvYWRBbGwobCk7bi5pbmxpbmV8fG4udWkuc3R5bGVTaGVldExvYWRlci51bmxvYWRBbGwoYyl9ZnVuY3Rpb24gaCgpe24ucmVtb3ZlZD9zKCk6bi5vbigicmVtb3ZlIixzKX12YXIgZixrPXJzaShuKSxjPWhwdChuKSxsPW4uY29udGVudENTUyxpLGEsdixlLG8seSxwLHcsdSxiO3JldHVybiAwPG4uY29udGVudFN0eWxlcy5sZW5ndGgmJihmPSIiLHIuZWFjaChuLmNvbnRlbnRTdHlsZXMsZnVuY3Rpb24obil7Zis9bisiXHJcbiJ9KSxuLmRvbS5hZGRTdHlsZShmKSksYj1yaS5hbGwoKGk9bixhPWwsdj1jLGU9W25ldyByaShmdW5jdGlvbihuLHQpe3JldHVybiByc2koaSkubG9hZEFsbChhLG4sdCl9KV0saS5pbmxpbmU/ZTplLmNvbmNhdChbbmV3IHJpKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkudWkuc3R5bGVTaGVldExvYWRlci5sb2FkQWxsKHYsbix0KX0pXSkpKS50aGVuKGgpLmNhdGNoKGgpLG4uc2V0dGluZ3MuY29udGVudF9zdHlsZSYmKHk9KG89bikuc2V0dGluZ3MuY29udGVudF9zdHlsZSxwPXQuZnJvbURvbShvLmdldEJvZHkoKSksdz1wZyhnbyhwKSksZHUodT10LmZyb21UYWcoInN0eWxlIiksInR5cGUiLCJ0ZXh0L2NzcyIpLGlpKHUsdC5mcm9tVGV4dCh5KSksaWkodyx1KSxvLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7bmkodSl9KSksYn1mdW5jdGlvbiB0c3Qobil7dmFyIHQ7ITAhPT1uLnJlbW92ZWQmJih0ZSh0PW4pfHx0LmxvYWQoe2luaXRpYWw6ITAsZm9ybWF0OiJodG1sIn0pLHQuc3RhcnRDb250ZW50PXQuZ2V0Q29udGVudCh7Zm9ybWF0OiJyYXcifSksdHRyKG4pKX1mdW5jdGlvbiBpc3QobixmKXt2YXIgcnQ9bi5zZXR0aW5ncyx1dD1uLmdldEVsZW1lbnQoKSxwPW4uZ2V0RG9jKCksbCx3LGZ0LGgsc3QsY3QsbHQsYXQsYSxiLGssZyx2LHZ0LGV0LG8sbnQseXQsdHQseSxpdCxvdCx3dCxidDtydC5pbmxpbmV8fChuLmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PW4ub3JnVmlzaWJpbGl0eSk7Znx8bi5pbmxpbmV8fChwLm9wZW4oKSxwLndyaXRlKG4uaWZyYW1lSFRNTCkscC5jbG9zZSgpKTtuLmlubGluZSYmKHVzdC5hZGRDbGFzcyh1dCwibWNlLWNvbnRlbnQtYm9keSIpLG4uY29udGVudERvY3VtZW50PXA9ZG9jdW1lbnQsbi5jb250ZW50V2luZG93PXdpbmRvdyxuLmJvZHlFbGVtZW50PXV0LG4uY29udGVudEFyZWFDb250YWluZXI9dXQpO3Y9bi5nZXRCb2R5KCk7di5kaXNhYmxlZD0hMDtuLnJlYWRvbmx5PSEhcnQucmVhZG9ubHk7bi5yZWFkb25seXx8KG4uaW5saW5lJiYic3RhdGljIj09PXVzdC5nZXRTdHlsZSh2LCJwb3NpdGlvbiIsITApJiYodi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSx2LmNvbnRlbnRFZGl0YWJsZT1uLmdldFBhcmFtKCJjb250ZW50X2VkaXRhYmxlX3N0YXRlIiwhMCkpO3YuZGlzYWJsZWQ9ITE7bi5lZGl0b3JVcGxvYWQ9eWtpKG4pO24uc2NoZW1hPWFlKHRzaShuKSk7bi5kb209ZChwLHtrZWVwX3ZhbHVlczohMCx1cmxfY29udmVydGVyOm4uY29udmVydFVSTCx1cmxfY29udmVydGVyX3Njb3BlOm4saGV4X2NvbG9yczpydC5mb3JjZV9oZXhfc3R5bGVfY29sb3JzLHVwZGF0ZV9zdHlsZXM6ITAscm9vdF9lbGVtZW50Om4uaW5saW5lP24uZ2V0Qm9keSgpOm51bGwsY29sbGVjdDpmdW5jdGlvbigpe3JldHVybiBuLmlubGluZX0sc2NoZW1hOm4uc2NoZW1hLGNvbnRlbnRDc3NDb3JzOm4uZ2V0UGFyYW0oImNvbnRlbnRfY3NzX2NvcnMiLCExLCJib29sZWFuIikscmVmZXJyZXJQb2xpY3k6ZXB0KG4pLG9uU2V0QXR0cmliOmZ1bmN0aW9uKHQpe24uZmlyZSgiU2V0QXR0cmliIix0KX19KTtuLnBhcnNlcj0oKHc9eWV0KGlzaShsPW4pLGwuc2NoZW1hKSkuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMsaHJlZixzdHlsZSx0YWJpbmRleCIsZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaSxmPW4ubGVuZ3RoLGU9bC5kb20sdT0iZGF0YS1tY2UtIit0O2YtLTspKGk9KHI9bltmXSkuYXR0cih0KSkmJiFyLmF0dHIodSkmJjAhPT1pLmluZGV4T2YoImRhdGE6IikmJjAhPT1pLmluZGV4T2YoImJsb2I6IikmJigic3R5bGUiPT09dD8oKGk9ZS5zZXJpYWxpemVTdHlsZShlLnBhcnNlU3R5bGUoaSksci5uYW1lKSkubGVuZ3RofHwoaT1udWxsKSxyLmF0dHIodSxpKSxyLmF0dHIodCxpKSk6InRhYmluZGV4Ij09PXQ/KHIuYXR0cih1LGkpLHIuYXR0cih0LG51bGwpKTpyLmF0dHIodSxsLmNvbnZlcnRVUkwoaSx0LHIubmFtZSkpKX0pLHcuYWRkTm9kZUZpbHRlcigic2NyaXB0IixmdW5jdGlvbihuKXtmb3IodmFyIGkscix0PW4ubGVuZ3RoO3QtLTspaT1uW3RdLHI9aS5hdHRyKCJ0eXBlIil8fCJuby90eXBlIiwwIT09ci5pbmRleE9mKCJtY2UtIikmJmkuYXR0cigidHlwZSIsIm1jZS0iK3IpfSksbC5zZXR0aW5ncy5wcmVzZXJ2ZV9jZGF0YSYmdy5hZGROb2RlRmlsdGVyKCIjY2RhdGEiLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpPW4ubGVuZ3RoO2ktLTspdD1uW2ldLHQudHlwZT04LHQubmFtZT0iI2NvbW1lbnQiLHQudmFsdWU9IltDREFUQVsiK2wuZG9tLmVuY29kZSh0LnZhbHVlKSsiXV0ifSksdy5hZGROb2RlRmlsdGVyKCJwLGgxLGgyLGgzLGg0LGg1LGg2LGRpdiIsZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9bi5sZW5ndGgscj1sLnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7aS0tOyl0PW5baV0sdC5pc0VtcHR5KHIpJiYwPT09dC5nZXRBbGwoImJyIikubGVuZ3RoJiYodC5hcHBlbmQobmV3IHJ1KCJiciIsMSkpLnNob3J0RW5kZWQ9ITApfSksdyk7bi5zZXJpYWxpemVyPWFpaSgoaD0oZnQ9bikuc2V0dGluZ3MsYyhjKGMoe30saXNpKGZ0KSksdHNpKGZ0KSksbnN0KHt1cmxfY29udmVydGVyOmgudXJsX2NvbnZlcnRlcix1cmxfY29udmVydGVyX3Njb3BlOmgudXJsX2NvbnZlcnRlcl9zY29wZSxlbGVtZW50X2Zvcm1hdDpoLmVsZW1lbnRfZm9ybWF0LGVudGl0aWVzOmguZW50aXRpZXMsZW50aXR5X2VuY29kaW5nOmguZW50aXR5X2VuY29kaW5nLGluZGVudDpoLmluZGVudCxpbmRlbnRfYWZ0ZXI6aC5pbmRlbnRfYWZ0ZXIsaW5kZW50X2JlZm9yZTpoLmluZGVudF9iZWZvcmV9KSkpLG4pO24uc2VsZWN0aW9uPWhpaShuLmRvbSxuLmdldFdpbigpLG4uc2VyaWFsaXplcixuKTtuLmFubm90YXRvcj1vYnQobik7bi5mb3JtYXR0ZXI9YXJpKG4pO24udW5kb01hbmFnZXI9eXJpKG4pO24uX25vZGVDaGFuZ2VEaXNwYXRjaGVyPW5ldyB3bmkobik7bi5fc2VsZWN0aW9uT3ZlcnJpZGVzPWduaShuKTthPW47Yj1vYygpO2s9aGkoITEpO2c9eXZ0KGZ1bmN0aW9uKG4pe2EuZmlyZSgibG9uZ3ByZXNzIixjKGMoe30sbikse3R5cGU6ImxvbmdwcmVzcyJ9KSk7ay5zZXQoITApfSw0MDApO2Eub24oInRvdWNoc3RhcnQiLGZ1bmN0aW9uKG4pe3JlaShuKS5lYWNoKGZ1bmN0aW9uKHQpe2cuY2FuY2VsKCk7dmFyIGk9e3g6dC5jbGllbnRYLHk6dC5jbGllbnRZLHRhcmdldDpuLnRhcmdldH07Zy50aHJvdHRsZShuKTtrLnNldCghMSk7Yi5zZXQoaSl9KX0sITApO2Eub24oInRvdWNobW92ZSIsZnVuY3Rpb24obil7Zy5jYW5jZWwoKTtyZWkobikuZWFjaChmdW5jdGlvbihuKXtiLm9uKGZ1bmN0aW9uKHQpe3ZhciBpPW4scj10LHU9TWF0aC5hYnMoaS5jbGllbnRYLXIueCksZj1NYXRoLmFicyhpLmNsaWVudFktci55KTsoNTx1fHw1PGYpJiYoYi5jbGVhcigpLGsuc2V0KCExKSxhLmZpcmUoImxvbmdwcmVzc2NhbmNlbCIpKX0pfSl9LCEwKTthLm9uKCJ0b3VjaGVuZCB0b3VjaGNhbmNlbCIsZnVuY3Rpb24obil7Zy5jYW5jZWwoKTsidG91Y2hjYW5jZWwiIT09bi50eXBlJiZiLmdldCgpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXQuaXNFcXVhbE5vZGUobi50YXJnZXQpfSkuZWFjaChmdW5jdGlvbigpe2suZ2V0KCk/bi5wcmV2ZW50RGVmYXVsdCgpOmEuZmlyZSgidGFwIixjKGMoe30sbikse3R5cGU6InRhcCJ9KSl9KX0sITApOyhsdD1jdD1uKS5vbigiY2xpY2siLGZ1bmN0aW9uKG4pe2x0LmRvbS5nZXRQYXJlbnQobi50YXJnZXQsImRldGFpbHMiKSYmbi5wcmV2ZW50RGVmYXVsdCgpfSk7KGF0PWN0KS5wYXJzZXIuYWRkTm9kZUZpbHRlcigiZGV0YWlscyIsZnVuY3Rpb24obil7ZShuLGZ1bmN0aW9uKG4pe24uYXR0cigiZGF0YS1tY2Utb3BlbiIsbi5hdHRyKCJvcGVuIikpO24uYXR0cigib3BlbiIsIm9wZW4iKX0pfSk7YXQuc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIixmdW5jdGlvbihuKXtlKG4sZnVuY3Rpb24obil7dmFyIHQ9bi5hdHRyKCJkYXRhLW1jZS1vcGVuIik7bi5hdHRyKCJvcGVuIixodCh0KT90Om51bGwpO24uYXR0cigiZGF0YS1tY2Utb3BlbiIsbnVsbCl9KX0pO3RlKG4pfHwoc3Q9bikub24oImNsaWNrIixmdW5jdGlvbihuKXt2YXIgZixyLHQsdSxlOzM8PW4uZGV0YWlsJiYodD0oZj1zdCkuc2VsZWN0aW9uLmdldFJuZygpLHU9aS5mcm9tUmFuZ2VTdGFydCh0KSxlPWkuZnJvbVJhbmdlRW5kKHQpLCFpLmlzRWxlbWVudFBvc2l0aW9uKHUpfHxkb2kocj11LmNvbnRhaW5lcigpKSYmd2kocikuZWFjaChmdW5jdGlvbihuKXtyZXR1cm4gdC5zZXRTdGFydChuLmNvbnRhaW5lcigpLG4ub2Zmc2V0KCkpfSksIWkuaXNFbGVtZW50UG9zaXRpb24oZSl8fGRvaShyPXUuY29udGFpbmVyKCkpJiZhZihyKS5lYWNoKGZ1bmN0aW9uKG4pe3JldHVybiB0LnNldEVuZChuLmNvbnRhaW5lcigpLG4ub2Zmc2V0KCkpfSksZi5zZWxlY3Rpb24uc2V0Um5nKGd1dCh0KSkpfSk7d3Q9dGUodnQ9bik/aGkobnVsbCk6dG5pKHZ0KTtvdD13dDsoaXQ9bikuYWRkQ29tbWFuZCgiZGVsZXRlIixmdW5jdGlvbigpe3ZhciBuLHQ9b3Q7dGVpKG49aXQpfHx1ayhuLCExKXx8cmsobiwhMSl8fHBrKG4sdCwhMSl8fHRrKG4sITEpfHxvYihuKXx8ZmsobiwhMSl8fGJrKG4sITEpfHxpayhuKXx8d2sobiwhMSl8fChpZWkobiwiRGVsZXRlIiksYnJpKG4pKX0pO2l0LmFkZENvbW1hbmQoImZvcndhcmREZWxldGUiLGZ1bmN0aW9uKCl7dmFyIG4sdD1vdDt1ayhuPWl0LCEwKXx8cmsobiwhMCl8fHBrKG4sdCwhMCl8fHRrKG4sITApfHxvYihuKXx8ZmsobiwhMCl8fGJrKG4sITApfHxpayhuKXx8d2sobiwhMCl8fGllaShuLCJGb3J3YXJkRGVsZXRlIil9KTtzaShldD1uKSYmZXQub24oIk5vZGVDaGFuZ2UiLHUob2dpLGV0KSk7bnQ9KG89bikuZG9tO3l0PXNpKG8pO3R0PW8uZ2V0UGFyYW0oInBsYWNlaG9sZGVyIixrdmkuZ2V0QXR0cmliKG8uZ2V0RWxlbWVudCgpLCJwbGFjZWhvbGRlciIpLCJzdHJpbmciKTt5PWZ1bmN0aW9uKG4saSl7dmFyIHUscixmOyhmdW5jdGlvbihuKXtpZihwcmkobikpe3ZhciB0PW4ua2V5Q29kZTtyZXR1cm4hd3JpKG4pJiYocy5tZXRhS2V5UHJlc3NlZChuKXx8bi5hbHRLZXl8fDExMjw9dCYmdDw9MTIzfHxkdCh5ZGksdCkpfX0pKG4pfHwodT1vLmdldEJvZHkoKSxyPSEocHJpKGY9bikmJiEod3JpKGYpfHwia2V5dXAiPT09Zi50eXBlJiYyMjk9PT1mLmtleUNvZGUpKSYmZnVuY3Rpb24obixpLHIpe2lmKHB0KHQuZnJvbURvbShpKSwhMSkpe3ZhciBmPSIiPT09cix1PWkuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIXV8fCFuLmdldFN0eWxlKGkuZmlyc3RFbGVtZW50Q2hpbGQsInBhZGRpbmctbGVmdCIpJiYhbi5nZXRTdHlsZShpLmZpcnN0RWxlbWVudENoaWxkLCJwYWRkaW5nLXJpZ2h0IikmJihmPyFuLmlzQmxvY2sodSk6cj09PXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl9cmV0dXJuITF9KG50LHUseXQpLCIiIT09bnQuZ2V0QXR0cmliKHUsZHVpKT09PXImJiFpfHwobnQuc2V0QXR0cmliKHUsZHVpLHI/dHQ6bnVsbCksbnQuc2V0QXR0cmliKHUsImFyaWEtcGxhY2Vob2xkZXIiLHI/dHQ6bnVsbCksby5maXJlKCJQbGFjZWhvbGRlclRvZ2dsZSIse3N0YXRlOnJ9KSxvLm9uKHI/ImtleWRvd24iOiJrZXl1cCIseSksby5vZmYocj8ia2V5dXAiOiJrZXlkb3duIix5KSkpfTt0dCYmby5vbigiaW5pdCIsZnVuY3Rpb24obil7eShuLCEwKTtvLm9uKCJjaGFuZ2UgU2V0Q29udGVudCBFeGVjQ29tbWFuZCIseSk7by5vbigicGFzdGUiLGZ1bmN0aW9uKG4pe3JldHVybiB1aS5zZXRFZGl0b3JUaW1lb3V0KG8sZnVuY3Rpb24oKXtyZXR1cm4geShuKX0pfSl9KTtidD1zYmkobiksZnVuY3Rpb24obil7dmFyIHQ9bi5zZXR0aW5ncyxmPW4uZ2V0RG9jKCksdT1uLmdldEJvZHkoKSxpO24uZmlyZSgiUHJlSW5pdCIpO3QuYnJvd3Nlcl9zcGVsbGNoZWNrfHx0LmdlY2tvX3NwZWxsY2hlY2t8fChmLmJvZHkuc3BlbGxjaGVjaz0hMSx1c3Quc2V0QXR0cmliKHUsInNwZWxsY2hlY2siLCJmYWxzZSIpKTtuLnF1aXJrcz1udHIobik7bi5maXJlKCJQb3N0UmVuZGVyIik7aT1uLmdldFBhcmFtKCJkaXJlY3Rpb25hbGl0eSIsbHUuaXNSdGwoKT8icnRsIjp2b2lkIDApO3ZvaWQgMCE9PWkmJih1LmRpcj1pKTt0LnByb3RlY3QmJm4ub24oIkJlZm9yZVNldENvbnRlbnQiLGZ1bmN0aW9uKG4pe3IuZWFjaCh0LnByb3RlY3QsZnVuY3Rpb24odCl7bi5jb250ZW50PW4uY29udGVudC5yZXBsYWNlKHQsZnVuY3Rpb24obil7cmV0dXJuIjwhLS1tY2U6cHJvdGVjdGVkICIrZXNjYXBlKG4pKyItLT4ifSl9KX0pO24ub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7bi5hZGRWaXN1YWwobi5nZXRCb2R5KCkpfSk7bi5vbigiY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24odCl7bi5jb21wb3Npbmc9ImNvbXBvc2l0aW9uc3RhcnQiPT09dC50eXBlfSl9KG4pO2J0LmZvbGQoZnVuY3Rpb24oKXt1c2kobikudGhlbihmdW5jdGlvbigpe3JldHVybiB0c3Qobil9KX0sZnVuY3Rpb24odCl7bi5zZXRQcm9ncmVzc1N0YXRlKCEwKTt1c2kobikudGhlbihmdW5jdGlvbigpe3QoKS50aGVuKGZ1bmN0aW9uKCl7bi5zZXRQcm9ncmVzc1N0YXRlKCExKTt0c3Qobil9LGZ1bmN0aW9uKHQpe24ubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0eXBlOiJlcnJvciIsdGV4dDpTdHJpbmcodCl9KTt0c3Qobil9KX0pfSl9ZnVuY3Rpb24gaXRyKG4saSl7dmFyIGYsZSxvLHUsaD1uLnRyYW5zbGF0ZSgiUmljaCBUZXh0IEFyZWEiKSxyPShmPW4uaWQsZT1oLGkuaGVpZ2h0LG89bi5nZXRQYXJhbSgiaWZyYW1lX2F0dHJzIix7fSksc2UodT10LmZyb21UYWcoImlmcmFtZSIpLG8pLHNlKHUse2lkOmYrIl9pZnIiLGZyYW1lQm9yZGVyOiIwIixhbGxvd1RyYW5zcGFyZW5jeToidHJ1ZSIsdGl0bGU6ZX0pLHdwKHUsInRveC1lZGl0LWFyZWFfX2lmcmFtZSIpLHUuZG9tKSxzO3JldHVybiByLm9ubG9hZD1mdW5jdGlvbigpe3Iub25sb2FkPW51bGw7bi5maXJlKCJsb2FkIil9LHM9ZnVuY3Rpb24obix0KXt2YXIgaSxyO3JldHVybiBkb2N1bWVudC5kb21haW4hPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUmJmwuYnJvd3Nlci5pc0lFKCk/KGk9c3JpKCJtY2UiKSxuW2ldPWZ1bmN0aW9uKCl7aXN0KG4pfSxyPSdqYXZhc2NyaXB0OihmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49IicrZG9jdW1lbnQuZG9tYWluKyciO3ZhciBlZCA9IHdpbmRvdy5wYXJlbnQudGlueW1jZS5nZXQoIicrbi5pZCsnIik7ZG9jdW1lbnQud3JpdGUoZWQuaWZyYW1lSFRNTCk7ZG9jdW1lbnQuY2xvc2UoKTtlZC4nK2krIih0cnVlKTt9KSgpIixidi5zZXRBdHRyaWIodCwic3JjIixyKSwhMCk6ITF9KG4sciksbi5jb250ZW50QXJlYUNvbnRhaW5lcj1pLmlmcmFtZUNvbnRhaW5lcixuLmlmcmFtZUVsZW1lbnQ9cixuLmlmcmFtZUhUTUw9ZnVuY3Rpb24obil7dmFyIHQ9bi5nZXRQYXJhbSgiZG9jdHlwZSIsIjwhRE9DVFlQRSBodG1sPiIpKyI8aHRtbD48aGVhZD4iO24uZ2V0UGFyYW0oImRvY3VtZW50X2Jhc2VfdXJsIiwiIikhPT1uLmRvY3VtZW50QmFzZVVybCYmKHQrPSc8YmFzZSBocmVmPSInK24uZG9jdW1lbnRCYXNlVVJJLmdldFVSSSgpKyciIC8+Jyk7dCs9JzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPic7dmFyIGk9aXB0KG4sImJvZHlfaWQiLCJ0aW55bWNlIikscj1pcHQobiwiYm9keV9jbGFzcyIsIiIpLHU9bi50cmFuc2xhdGUobi5nZXRQYXJhbSgiaWZyYW1lX2FyaWFfdGV4dCIsIlJpY2ggVGV4dCBBcmVhLiBQcmVzcyBBTFQtMCBmb3IgaGVscC4iLCJzdHJpbmciKSk7cmV0dXJuIHJwdChuKSYmKHQrPSc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iJytycHQobikrJyIgLz4nKSx0KygnPFwvaGVhZD48Ym9keSBpZD0iJytpKyciIGNsYXNzPSJtY2UtY29udGVudC1ib2R5ICcrcisnIiBkYXRhLWlkPSInK24uaWQpKyciIGFyaWEtbGFiZWw9IicrdSsnIj48YnI+PFwvYm9keT48XC9odG1sPid9KG4pLGJ2LmFkZChpLmlmcmFtZUNvbnRhaW5lcixyKSxzfWZ1bmN0aW9uIGZzaShuKXtyZXR1cm4gbi5yZXBsYWNlKC9eXC0vLCIiKX1mdW5jdGlvbiBlc2kobil7cmV0dXJue2VkaXRvckNvbnRhaW5lcjpuLGlmcmFtZUNvbnRhaW5lcjpuLGFwaTp7fX19ZnVuY3Rpb24gcnRyKG4pe3ZhciBpLHIsdCxmLGUsdSxvLHM9bi5nZXRFbGVtZW50KCk7cmV0dXJuIG4ub3JnRGlzcGxheT1zLnN0eWxlLmRpc3BsYXksaHQod2EobikpP24udGhlbWUucmVuZGVyVUkoKTpmdCh3YShuKSk/KHI9KGk9bikuZ2V0RWxlbWVudCgpLCh0PXdhKGkpKGkscikpLmVkaXRvckNvbnRhaW5lci5ub2RlVHlwZSYmKHQuZWRpdG9yQ29udGFpbmVyLmlkPXQuZWRpdG9yQ29udGFpbmVyLmlkfHxpLmlkKyJfcGFyZW50IiksdC5pZnJhbWVDb250YWluZXImJnQuaWZyYW1lQ29udGFpbmVyLm5vZGVUeXBlJiYodC5pZnJhbWVDb250YWluZXIuaWQ9dC5pZnJhbWVDb250YWluZXIuaWR8fGkuaWQrIl9pZnJhbWVjb250YWluZXIiKSx0LmhlaWdodD10LmlmcmFtZUhlaWdodHx8ci5vZmZzZXRIZWlnaHQsdCk6KG89KGY9bikuZ2V0RWxlbWVudCgpLGYuaW5saW5lP2VzaShudWxsKTooZT1vLHU9eXNpLmNyZWF0ZSgiZGl2IikseXNpLmluc2VydEFmdGVyKHUsZSksZXNpKHUpKSl9ZnVuY3Rpb24gb3NpKHQpe3ZhciBvLHYscCxpLGIsdSxrLGQsZixzLGcsYTt0LmZpcmUoIlNjcmlwdHNMb2FkZWQiKTtvPXQ7dj1yLnRyaW0oZnB0KG8pKTtwPW8udWkucmVnaXN0cnkuZ2V0QWxsKCkuaWNvbnM7ZXQoYyhjKHt9LGRiLmdldCgiZGVmYXVsdCIpLmljb25zKSxkYi5nZXQodikuaWNvbnMpLGZ1bmN0aW9uKG4sdCl7dyhwLHQpfHxvLnVpLnJlZ2lzdHJ5LmFkZEljb24odCxuKX0pO3U9d2EoaT10KTtodCh1KT8oaS5zZXR0aW5ncy50aGVtZT1mc2kodSksYj1zby5nZXQodSksaS50aGVtZT1uZXcgYihpLHNvLnVybHNbdV0pLGkudGhlbWUuaW5pdCYmaS50aGVtZS5pbml0KGksc28udXJsc1t1XXx8aS5kb2N1bWVudEJhc2VVcmwucmVwbGFjZSgvXC8kLywiIiksaS4kKSk6aS50aGVtZT17fTtkPVtdO3IuZWFjaChzaXQoaz10KS5zcGxpdCgvWyAsXS8pLGZ1bmN0aW9uKG4pe3BzaShrLGQsZnNpKG4pKX0pO3ZhciBoPXJ0cih0KSxsPXQsZT1uLmZyb20oaC5hcGkpLmdldE9yKHt9KSxudD17c2hvdzpuLmZyb20oZS5zaG93KS5nZXRPcih5KSxoaWRlOm4uZnJvbShlLmhpZGUpLmdldE9yKHkpLGRpc2FibGU6bi5mcm9tKGUuZGlzYWJsZSkuZ2V0T3IoeSksaXNEaXNhYmxlZDpuLmZyb20oZS5pc0Rpc2FibGVkKS5nZXRPcihpdCksZW5hYmxlOmZ1bmN0aW9uKCl7bC5tb2RlLmlzUmVhZE9ubHkoKXx8bi5mcm9tKGUuZW5hYmxlKS5tYXAoZGhpKX19O3JldHVybiBsLnVpPWMoYyh7fSxsLnVpKSxudCksYT17ZWRpdG9yQ29udGFpbmVyOmguZWRpdG9yQ29udGFpbmVyLGlmcmFtZUNvbnRhaW5lcjpoLmlmcmFtZUNvbnRhaW5lcn0sdC5lZGl0b3JDb250YWluZXI9YS5lZGl0b3JDb250YWluZXJ8fG51bGwsbGtpKHQpLHQuaW5saW5lP2lzdCh0KTooZz1pdHIoZj10LHM9YSkscy5lZGl0b3JDb250YWluZXImJihidi5nZXQocy5lZGl0b3JDb250YWluZXIpLnN0eWxlLmRpc3BsYXk9Zi5vcmdEaXNwbGF5LGYuaGlkZGVuPWJ2LmlzSGlkZGVuKHMuZWRpdG9yQ29udGFpbmVyKSksZi5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT0ibm9uZSIsYnYuc2V0QXR0cmliKGYuaWQsImFyaWEtaGlkZGVuIiwidHJ1ZSIpLHZvaWQoZ3x8aXN0KGYpKSl9ZnVuY3Rpb24gc3NpKG4pe3JldHVybiItIj09PW4uY2hhckF0KDApfWZ1bmN0aW9uIGhzaSh0LGkscil7cmV0dXJuIG4uZnJvbShpKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIDA8bi5sZW5ndGgmJiFkYi5oYXMobil9KS5tYXAoZnVuY3Rpb24oaSl7cmV0dXJue3VybDp0LmVkaXRvck1hbmFnZXIuYmFzZVVSTCsiL2ljb25zLyIraSsiL2ljb25zIityKyIuanMiLG5hbWU6bi5zb21lKGkpfX0pfWZ1bmN0aW9uIHV0cih0LGkpe3ZhciBvLHMsZj1kZi5TY3JpcHRMb2FkZXIsYz1mLGw9aSxoPWZ1bmN0aW9uKCl7dmFyIHUsYyx2LG8scCxoLGwscyxhO3A9ZjtzPW9wdChoPXQpO2E9aC5nZXRQYXJhbSgibGFuZ3VhZ2VfdXJsIiwiIiwic3RyaW5nIik7ITE9PT1sdS5oYXNDb2RlKHMpJiYiZW4iIT09cyYmKGw9IiIhPT1hP2E6aC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrIi9sYW5ncy8iK3MrIi5qcyIscC5hZGQobCx5LHZvaWQgMCxmdW5jdGlvbigpe2JldChoLCJMYW5ndWFnZUxvYWRFcnJvciIsa2V0KCJsYW5ndWFnZSIsbCxzKSl9KSk7dj1mO2UoZnVuY3Rpb24obil7Zm9yKHZhciBpPVtdLHI9ZnVuY3Rpb24obil7aS5wdXNoKG4pfSx0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5lYWNoKHIpO3JldHVybiBpfShbaHNpKG89dCwiZGVmYXVsdCIsaSksbi5mcm9tKG8uZ2V0UGFyYW0oImljb25zX3VybCIsIiIsInN0cmluZyIpKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIDA8bi5sZW5ndGh9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue3VybDp0LG5hbWU6bi5ub25lKCl9fSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBoc2kobyxmcHQobyksIiIpfSldKSxmdW5jdGlvbihuKXt2LmFkZChuLnVybCx5LHZvaWQgMCxmdW5jdGlvbigpe2JldChvLCJJY29uc0xvYWRFcnJvciIsa2V0KCJpY29ucyIsbi51cmwsbi5uYW1lLmdldE9yVW5kZWZpbmVkKCkpKX0pfSk7dT10O2M9aTtyLmVhY2godS5nZXRQYXJhbSgiZXh0ZXJuYWxfcGx1Z2lucyIpLGZ1bmN0aW9uKG4sdCl7cHUubG9hZCh0LG4seSx2b2lkIDAsZnVuY3Rpb24oKXtkZXQodSxuLHQpfSk7dS5zZXR0aW5ncy5wbHVnaW5zKz0iICIrdH0pO3IuZWFjaChzaXQodSkuc3BsaXQoL1sgLF0vKSxmdW5jdGlvbihuKXt2YXIgaSx0OyhuPXIudHJpbShuKSkmJiFwdS51cmxzW25dJiYoc3NpKG4pPyhuPW4uc3Vic3RyKDEsbi5sZW5ndGgpLGk9cHUuZGVwZW5kZW5jaWVzKG4pLHIuZWFjaChpLGZ1bmN0aW9uKG4pe3ZhciB0PXB1LmNyZWF0ZVVybCh7cHJlZml4OiJwbHVnaW5zLyIscmVzb3VyY2U6bixzdWZmaXg6Ii9wbHVnaW4iK2MrIi5qcyJ9LG4pO3B1LmxvYWQodC5yZXNvdXJjZSx0LHksdm9pZCAwLGZ1bmN0aW9uKCl7ZGV0KHUsdC5wcmVmaXgrdC5yZXNvdXJjZSt0LnN1ZmZpeCx0LnJlc291cmNlKX0pfSkpOih0PXtwcmVmaXg6InBsdWdpbnMvIixyZXNvdXJjZTpuLHN1ZmZpeDoiL3BsdWdpbiIrYysiLmpzIn0scHUubG9hZChuLHQseSx2b2lkIDAsZnVuY3Rpb24oKXtkZXQodSx0LnByZWZpeCt0LnJlc291cmNlK3Quc3VmZml4LG4pfSkpKX0pO2YubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7dC5yZW1vdmVkfHxvc2kodCl9LHQsZnVuY3Rpb24oKXt0LnJlbW92ZWR8fG9zaSh0KX0pfSx1PXdhKG89dCk7aHQodSk/KHNzaSh1KXx8dyhzby51cmxzLHUpfHwoKHM9by5nZXRQYXJhbSgidGhlbWVfdXJsIikpP3NvLmxvYWQodSxvLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKHMpKTpzby5sb2FkKHUsInRoZW1lcy8iK3UrIi90aGVtZSIrbCsiLmpzIikpLGMubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7c28ud2FpdEZvcih1LGgpfSkpOmgoKX1mdW5jdGlvbiBjc2koaSl7cmV0dXJuIGZ1bmN0aW9uKHIsdSl7cmV0dXJuIG4uZnJvbSh1KS5tYXAodC5mcm9tRG9tKS5maWx0ZXIoc3UpLmJpbmQoZnVuY3Rpb24odSl7cmV0dXJuIGY9aSxlPXIsbz11LmRvbSxyZnQodC5mcm9tRG9tKG8pLGZ1bmN0aW9uKHQpe3JldHVybiBrZyhpPXQsZikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiJmb250Ij09PXZ0KGkpP2F0KG90cixmKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiB1bHQoaSxuKX0pOm4ubm9uZSgpfSk7dmFyIGl9LGZ1bmN0aW9uKG4pe3JldHVybiBudCh0LmZyb21Eb20oZSksbil9KS5vcigocz11LmRvbSxuLmZyb20oZC5ET00uZ2V0U3R5bGUocyxpLCEwKSkpKTt2YXIgZixlLG8sc30pLmdldE9yKCIiKX19ZnVuY3Rpb24gZnRyKG4pe3JldHVybiB3aShuLmdldEJvZHkoKSkubWFwKGZ1bmN0aW9uKG4pe3ZhciB0PW4uY29udGFpbmVyKCk7cmV0dXJuIG8odCk/dC5wYXJlbnROb2RlOnR9KX1mdW5jdGlvbiByc3QoaSxyKXtyZXR1cm4gZT1pLG89d3N0KG4uc29tZSxyKSxmPWUsbi5mcm9tKGYuc2VsZWN0aW9uLmdldFJuZygpKS5iaW5kKGZ1bmN0aW9uKHQpe3ZhciBpPWYuZ2V0Qm9keSgpO3JldHVybiB0LnN0YXJ0Q29udGFpbmVyPT09aSYmMD09PXQuc3RhcnRPZmZzZXQ/bi5ub25lKCk6bi5mcm9tKGYuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSl9KS5vclRodW5rKHUoZnRyLGUpKS5tYXAodC5mcm9tRG9tKS5maWx0ZXIoc3UpLmJpbmQobyk7dmFyIGUsbyxmfWZ1bmN0aW9uIGxzaShuLHQpe3ZhciBpLGYsdTtyZXR1cm4vXlswLTkuXSskLy50ZXN0KHQpPyhpPXBhcnNlSW50KHQsMTApLDE8PWkmJmk8PTcpPyhmPXIuZXhwbG9kZShuLmdldFBhcmFtKCJmb250X3NpemVfc3R5bGVfdmFsdWVzIiwieHgtc21hbGwseC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSIpKSx1PXIuZXhwbG9kZShuLmdldFBhcmFtKCJmb250X3NpemVfY2xhc3NlcyIsIiIpKSx1P3VbaS0xXXx8dDpmW2ktMV18fHQpOnQ6dH1mdW5jdGlvbiBiaShuKXt0aGlzLmNvbW1hbmRzPXtzdGF0ZTp7fSxleGVjOnt9LHZhbHVlOnt9fTt0aGlzLmVkaXRvcj1uO3RoaXMuc2V0dXBDb21tYW5kcyhuKX1mdW5jdGlvbiBhdHIobix0LGkpe3ZhciByLGYsdSxlLG8scztwdnQobix0KSYmITE9PT1pPyhmPXQscHAocj1uKT9yLmRvbS5jbGFzc0xpc3QucmVtb3ZlKGYpOihvPWYsMDwocz1wKG5pdChlPXIsImNsYXNzIiksZnVuY3Rpb24obil7cmV0dXJuIG4hPT1vfSkpLmxlbmd0aD9kdShlLCJjbGFzcyIscy5qb2luKCIgIikpOmhlKGUsImNsYXNzIikpLDA9PT0ocHAodT1yKT91LmRvbS5jbGFzc0xpc3Q6bml0KHUsImNsYXNzIikpLmxlbmd0aCYmaGUodSwiY2xhc3MiKSk6aSYmd3Aobix0KX1mdW5jdGlvbiBmc3Qobix0LGkpe3RyeXtuLmdldERvYygpLmV4ZWNDb21tYW5kKHQsITEsU3RyaW5nKGkpKX1jYXRjaChuKXt9fWZ1bmN0aW9uIHVkKG4sdCl7bi5kb20uY29udGVudEVkaXRhYmxlPXQ/InRydWUiOiJmYWxzZSJ9ZnVuY3Rpb24gdnRyKGkscil7dmFyIG8sZix1PXQuZnJvbURvbShpLmdldEJvZHkoKSk7YXRyKHUsIm1jZS1jb250ZW50LXJlYWRvbmx5IixyKTtyPyhpLnNlbGVjdGlvbi5jb250cm9sU2VsZWN0aW9uLmhpZGVSZXNpemVSZWN0KCksaS5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxuLmZyb20oaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpKS5lYWNoKGZ1bmN0aW9uKG4pe24ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfSksdWQodSwhKGkucmVhZG9ubHk9ITApKSxlKGdpKHUsJypbY29udGVudGVkaXRhYmxlPSJ0cnVlIl0nKSxmdW5jdGlvbihuKXtkdShuLG5oLCJ0cnVlIik7dWQobiwhMSl9KSk6KHVkKHUsIShpLnJlYWRvbmx5PSExKSksZShnaSh1LCIqWyIrbmgrJz0idHJ1ZSJdJyksZnVuY3Rpb24obil7aGUobixuaCk7dWQobiwhMCl9KSxmc3QoaSwiU3R5bGVXaXRoQ1NTIiwhMSksZnN0KGksImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsITEpLGZzdChpLCJlbmFibGVPYmplY3RSZXNpemluZyIsITEpLChhcyhvPWkpfHwoZj1vLGRydChnbyh0LmZyb21Eb20oZi5nZXRFbGVtZW50KCkpKSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiEodm9pZCAwIT09KHQ9bi5kb20uY2xhc3NMaXN0KSYmKHQuY29udGFpbnMoInRveC1lZGl0LWFyZWEiKXx8dC5jb250YWlucygidG94LWVkaXQtYXJlYV9faWZyYW1lIil8fHQuY29udGFpbnMoIm1jZS1jb250ZW50LWJvZHkiKSkpJiZrdyhmLG4uZG9tKTt2YXIgdH0pLmlzU29tZSgpKSkmJmkuZm9jdXMoKSxpLnNlbGVjdGlvbi5zZXRSbmcoaS5zZWxlY3Rpb24uZ2V0Um5nKCkpLGkubm9kZUNoYW5nZWQoKSl9ZnVuY3Rpb24gZ3Mobil7cmV0dXJuIG4ucmVhZG9ubHl9ZnVuY3Rpb24gYnNpKG4pe24ucGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcigiY29udGVudGVkaXRhYmxlIixmdW5jdGlvbih0KXtncyhuKSYmZSh0LGZ1bmN0aW9uKG4pe24uYXR0cihuaCxuLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpKTtuLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsImZhbHNlIil9KX0pO24uc2VyaWFsaXplci5hZGRBdHRyaWJ1dGVGaWx0ZXIobmgsZnVuY3Rpb24odCl7Z3MobikmJmUodCxmdW5jdGlvbihuKXtuLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsbi5hdHRyKG5oKSl9KX0pO24uc2VyaWFsaXplci5hZGRUZW1wQXR0cihuaCl9ZnVuY3Rpb24gdGgobil7dGhpcy5iaW5kaW5ncz17fTt0aGlzLnNldHRpbmdzPW58fHt9O3RoaXMuc2NvcGU9dGhpcy5zZXR0aW5ncy5zY29wZXx8dGhpczt0aGlzLnRvZ2dsZUV2ZW50PXRoaXMuc2V0dGluZ3MudG9nZ2xlRXZlbnR8fGl0fWZ1bmN0aW9uIGt2KG4pe3JldHVybiBuLl9ldmVudERpc3BhdGNoZXJ8fChuLl9ldmVudERpc3BhdGNoZXI9bmV3IGVzdCh7c2NvcGU6bix0b2dnbGVFdmVudDpmdW5jdGlvbih0LGkpe2VzdC5pc05hdGl2ZSh0KSYmbi50b2dnbGVOYXRpdmVFdmVudCYmbi50b2dnbGVOYXRpdmVFdmVudCh0LGkpfX0pKSxuLl9ldmVudERpc3BhdGNoZXJ9ZnVuY3Rpb24gZmQobix0KXtpZigic2VsZWN0aW9uY2hhbmdlIj09PXQpcmV0dXJuIG4uZ2V0RG9jKCk7aWYoIW4uaW5saW5lJiYvXm1vdXNlfHRvdWNofGNsaWNrfGNvbnRleHRtZW51fGRyb3B8ZHJhZ292ZXJ8ZHJhZ2VuZC8udGVzdCh0KSlyZXR1cm4gbi5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQ7dmFyIGk9bHB0KG4pO3JldHVybiBpPyhuLmV2ZW50Um9vdHx8KG4uZXZlbnRSb290PW9kLnNlbGVjdChpKVswXSksbi5ldmVudFJvb3QpOm4uZ2V0Qm9keSgpfWZ1bmN0aW9uIGtzaShuLGkscil7dmFyIHUsZixlLG87bi5oaWRkZW58fGdzKG4pP2dzKG4pJiYodT1uLCJjbGljayIhPT0oZj1yKS50eXBlfHxzLm1ldGFLZXlQcmVzc2VkKGYpfHwoZT10LmZyb21Eb20oZi50YXJnZXQpLG89dSxmbihlLCJhIixmdW5jdGlvbihuKXtyZXR1cm4gbnQobix0LmZyb21Eb20oby5nZXRCb2R5KCkpKX0pLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIHVsdChuLCJocmVmIil9KS5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBpLHQ7Zi5wcmV2ZW50RGVmYXVsdCgpOy9eIy8udGVzdChuKT8oaT11LmRvbS5zZWxlY3QobisnLFtuYW1lPSInKyh3byh0PW4sIiMiKT90LnN1YnN0cmluZygxKTp0KSsnIl0nKSkubGVuZ3RoJiZ1LnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyhpWzBdLCEwKTp3aW5kb3cub3BlbihuLCJfYmxhbmsiLCJyZWw9bm9vcGVuZXIgbm9yZWZlcnJlcixtZW51YmFyPXllcyx0b29sYmFyPXllcyxsb2NhdGlvbj15ZXMsc3RhdHVzPXllcyxyZXNpemFibGU9eWVzLHNjcm9sbGJhcnM9eWVzIil9KSkpOm4uZmlyZShpLHIpfWZ1bmN0aW9uIGRzaShuLHQpe3ZhciBpLHI7bi5kZWxlZ2F0ZXN8fChuLmRlbGVnYXRlcz17fSk7bi5kZWxlZ2F0ZXNbdF18fG4ucmVtb3ZlZHx8KHI9ZmQobix0KSxscHQobik/KGlofHwoaWg9e30sbi5lZGl0b3JNYW5hZ2VyLm9uKCJyZW1vdmVFZGl0b3IiLGZ1bmN0aW9uKCl7bi5lZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvcnx8aWgmJihldChpaCxmdW5jdGlvbih0LGkpe24uZG9tLnVuYmluZChmZChuLGkpKX0pLGloPW51bGwpfSkpLGloW3RdfHwoaWhbdF09aT1mdW5jdGlvbihpKXtmb3IodmFyIGYsZT1pLnRhcmdldCxyPW4uZWRpdG9yTWFuYWdlci5nZXQoKSx1PXIubGVuZ3RoO3UtLTspZj1yW3VdLmdldEJvZHkoKSwoZj09PWV8fG9kLmlzQ2hpbGRPZihlLGYpKSYma3NpKHJbdV0sdCxpKX0sb2QuYmluZChyLHQsaSkpKToob2QuYmluZChyLHQsaT1mdW5jdGlvbihpKXtrc2kobix0LGkpfSksbi5kZWxlZ2F0ZXNbdF09aSkpfWZ1bmN0aW9uIGdzaShuLHQsaSxyKXt2YXIgZj1pW3QuZ2V0KCldLHU9aVtyXTt0cnl7dS5hY3RpdmF0ZSgpfWNhdGNoKG4pe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgYWN0aXZhdGluZyBlZGl0b3IgbW9kZSAiK3IrIjoiLG4pfWYuZGVhY3RpdmF0ZSgpO2YuZWRpdG9yUmVhZE9ubHkhPT11LmVkaXRvclJlYWRPbmx5JiZ2dHIobix1LmVkaXRvclJlYWRPbmx5KTt0LnNldChyKTtuLmZpcmUoIlN3aXRjaE1vZGUiLHttb2RlOnJ9KX1mdW5jdGlvbiBwdHIobil7dmFyIGksdD17fSxyO29zdChzc3Qobi50b0xvd2VyQ2FzZSgpLCIrIiksZnVuY3Rpb24obil7biBpbiB0aGk/dFtuXT0hMDovXlswLTldezIsfSQvLnRlc3Qobik/dC5rZXlDb2RlPXBhcnNlSW50KG4sMTApOih0LmNoYXJDb2RlPW4uY2hhckNvZGVBdCgwKSx0LmtleUNvZGU9YnRyW25dfHxuLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSl9KTtyPVt0LmtleUNvZGVdO2ZvcihpIGluIHRoaSl0W2ldP3IucHVzaChpKTp0W2ldPSExO3JldHVybiB0LmlkPXIuam9pbigiLCIpLHQuYWNjZXNzJiYodC5hbHQ9ITAsbC5tYWM/dC5jdHJsPSEwOnQuc2hpZnQ9ITApLHQubWV0YSYmKGwubWFjP3QubWV0YT0hMDoodC5jdHJsPSEwLHQubWV0YT0hMSkpLHR9ZnVuY3Rpb24gZmUobil7dGhpcy5zaG9ydGN1dHM9e307dGhpcy5wZW5kaW5nUGF0dGVybnM9W107dGhpcy5lZGl0b3I9bjt2YXIgdD10aGlzO24ub24oImtleXVwIGtleXByZXNzIGtleWRvd24iLGZ1bmN0aW9uKG4peyh0Lmhhc01vZGlmaWVyKG4pfHx0LmlzRnVuY3Rpb25LZXkobikpJiYhbi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKG9zdCh0LnNob3J0Y3V0cyxmdW5jdGlvbihpKXtpZih0Lm1hdGNoU2hvcnRjdXQobixpKSlyZXR1cm4gdC5wZW5kaW5nUGF0dGVybnM9aS5zdWJwYXR0ZXJucy5zbGljZSgwKSwia2V5ZG93biI9PT1uLnR5cGUmJnQuZXhlY3V0ZVNob3J0Y3V0QWN0aW9uKGkpLCEwfSksdC5tYXRjaFNob3J0Y3V0KG4sdC5wZW5kaW5nUGF0dGVybnNbMF0pJiYoMT09PXQucGVuZGluZ1BhdHRlcm5zLmxlbmd0aCYmImtleWRvd24iPT09bi50eXBlJiZ0LmV4ZWN1dGVTaG9ydGN1dEFjdGlvbih0LnBlbmRpbmdQYXR0ZXJuc1swXSksdC5wZW5kaW5nUGF0dGVybnMuc2hpZnQoKSkpfSl9ZnVuY3Rpb24gYihuLHQsaSl7ZnVuY3Rpb24gdShuLHQpe3JldHVybiBmdW5jdGlvbihpLHIpe3JldHVybiBuW2kudG9Mb3dlckNhc2UoKV09YyhjKHt9LHIpLHt0eXBlOnR9KX19dmFyIHIsZixlLGZ0LGIsZXQsayxvdCxzdCxodCxjdCxnLGx0LGF0LG50LHZ0LHl0LHR0LG89dGhpcyxzLGgsdixydCxwLHV0O3RoaXMucGx1Z2lucz17fTt0aGlzLmNvbnRlbnRDU1M9W107dGhpcy5jb250ZW50U3R5bGVzPVtdO3RoaXMubG9hZGVkQ1NTPXt9O3RoaXMuaXNOb3REaXJ0eT0hMTt0aGlzLmVkaXRvck1hbmFnZXI9aTt0aGlzLmRvY3VtZW50QmFzZVVybD1pLmRvY3VtZW50QmFzZVVSTDtyaGkodGhpcyxuaGkpO3RoaXMuc2V0dGluZ3M9KGh0PShzdD10aGlzKS5kb2N1bWVudEJhc2VVcmwsY3Q9aS5kZWZhdWx0U2V0dGluZ3MsbHQ9aHQsYXQ9dWtpLG50PXN0LHZ0PXtpZDpuLHRoZW1lOiJzaWx2ZXIiLHRvb2xiYXJfbW9kZTp2aWkoZz10LCJmbG9hdGluZyIpLHBsdWdpbnM6IiIsZG9jdW1lbnRfYmFzZV91cmw6bHQsYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXI6ITAsc3VibWl0X3BhdGNoOiEwLGFkZF91bmxvYWRfdHJpZ2dlcjohMCxjb252ZXJ0X3VybHM6ITAscmVsYXRpdmVfdXJsczohMCxyZW1vdmVfc2NyaXB0X2hvc3Q6ITAsb2JqZWN0X3Jlc2l6aW5nOiEwLGRvY3R5cGU6IjwhRE9DVFlQRSBodG1sPiIsdmlzdWFsOiEwLGZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzOiJ4eC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSwzMDAlIixmb3JjZWRfcm9vdF9ibG9jazoicCIsaGlkZGVuX2lucHV0OiEwLGlubGluZV9zdHlsZXM6ITAsY29udmVydF9mb250c190b19zcGFuczohMCxpbmRlbnQ6ITAsaW5kZW50X2JlZm9yZToicCxoMSxoMixoMyxoNCxoNSxoNixibG9ja3F1b3RlLGRpdix0aXRsZSxzdHlsZSxwcmUsc2NyaXB0LHRkLHRoLHVsLG9sLGxpLGRsLGR0LGRkLGFyZWEsdGFibGUsdGhlYWQsdGZvb3QsdGJvZHksdHIsc2VjdGlvbixzdW1tYXJ5LGFydGljbGUsaGdyb3VwLGFzaWRlLGZpZ3VyZSxmaWdjYXB0aW9uLG9wdGlvbixvcHRncm91cCxkYXRhbGlzdCIsaW5kZW50X2FmdGVyOiJwLGgxLGgyLGgzLGg0LGg1LGg2LGJsb2NrcXVvdGUsZGl2LHRpdGxlLHN0eWxlLHByZSxzY3JpcHQsdGQsdGgsdWwsb2wsbGksZGwsZHQsZGQsYXJlYSx0YWJsZSx0aGVhZCx0Zm9vdCx0Ym9keSx0cixzZWN0aW9uLHN1bW1hcnksYXJ0aWNsZSxoZ3JvdXAsYXNpZGUsZmlndXJlLGZpZ2NhcHRpb24sb3B0aW9uLG9wdGdyb3VwLGRhdGFsaXN0IixlbnRpdHlfZW5jb2Rpbmc6Im5hbWVkIix1cmxfY29udmVydGVyOm50LmNvbnZlcnRVUkwsdXJsX2NvbnZlcnRlcl9zY29wZTpudH0seXQ9YyhjKHt9LHZ0KSxhdD91cmk6e30pLCExIT09KHR0PWRiaShycml8fGZraSxycmkseXQsY3QsZykpLmRlcHJlY2F0aW9uX3dhcm5pbmdzJiZiYmkoZyx0dCksdHQpO3RoaXMuc2V0dGluZ3Muc3VmZml4JiYoaS5zdWZmaXg9dGhpcy5zZXR0aW5ncy5zdWZmaXgpO3RoaXMuc3VmZml4PWkuc3VmZml4O3RoaXMuc2V0dGluZ3MuYmFzZV91cmwmJmkuX3NldEJhc2VVcmwodGhpcy5zZXR0aW5ncy5iYXNlX3VybCk7dGhpcy5iYXNlVXJpPWkuYmFzZVVSSTt0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSYmKGRmLlNjcmlwdExvYWRlci5fc2V0UmVmZXJyZXJQb2xpY3kodGhpcy5zZXR0aW5ncy5yZWZlcnJlcl9wb2xpY3kpLGQuRE9NLnN0eWxlU2hlZXRMb2FkZXIuX3NldFJlZmVycmVyUG9saWN5KHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5KSk7cnIubGFuZ3VhZ2VMb2FkPXRoaXMuc2V0dGluZ3MubGFuZ3VhZ2VfbG9hZDtyci5iYXNlVVJMPWkuYmFzZVVSTDt0aGlzLmlkPW47dGhpcy5zZXREaXJ0eSghMSk7dGhpcy5kb2N1bWVudEJhc2VVUkk9bmV3IHVvKHRoaXMuc2V0dGluZ3MuZG9jdW1lbnRfYmFzZV91cmwse2Jhc2VfdXJpOnRoaXMuYmFzZVVyaX0pO3RoaXMuYmFzZVVSST10aGlzLmJhc2VVcmk7dGhpcy5pbmxpbmU9ISF0aGlzLnNldHRpbmdzLmlubGluZTt0aGlzLnNob3J0Y3V0cz1uZXcgaWhpKHRoaXMpO3RoaXMuZWRpdG9yQ29tbWFuZHM9bmV3IHdzaSh0aGlzKTt0aGlzLnNldHRpbmdzLmNhY2hlX3N1ZmZpeCYmKGwuY2FjaGVTdWZmaXg9dGhpcy5zZXR0aW5ncy5jYWNoZV9zdWZmaXgucmVwbGFjZSgvXltcP1wmXSsvLCIiKSk7dGhpcy51aT17cmVnaXN0cnk6e2FkZEF1dG9jb21wbGV0ZXI6KGI9e30sKHI9e2FkZEJ1dHRvbjp1KGY9e30sImJ1dHRvbiIpLGFkZEdyb3VwVG9vbGJhckJ1dHRvbjp1KGYsImdyb3VwdG9vbGJhcmJ1dHRvbiIpLGFkZFRvZ2dsZUJ1dHRvbjp1KGYsInRvZ2dsZWJ1dHRvbiIpLGFkZE1lbnVCdXR0b246dShmLCJtZW51YnV0dG9uIiksYWRkU3BsaXRCdXR0b246dShmLCJzcGxpdGJ1dHRvbiIpLGFkZE1lbnVJdGVtOnUoZT17fSwibWVudWl0ZW0iKSxhZGROZXN0ZWRNZW51SXRlbTp1KGUsIm5lc3RlZG1lbnVpdGVtIiksYWRkVG9nZ2xlTWVudUl0ZW06dShlLCJ0b2dnbGVtZW51aXRlbSIpLGFkZEF1dG9jb21wbGV0ZXI6dShmdD17fSwiYXV0b2NvbXBsZXRlciIpLGFkZENvbnRleHRNZW51OnUoZXQ9e30sImNvbnRleHRtZW51IiksYWRkQ29udGV4dFRvb2xiYXI6dShrPXt9LCJjb250ZXh0dG9vbGJhciIpLGFkZENvbnRleHRGb3JtOnUoaywiY29udGV4dGZvcm0iKSxhZGRTaWRlYmFyOnUob3Q9e30sInNpZGViYXIiKSxhZGRJY29uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGJbbi50b0xvd2VyQ2FzZSgpXT10fSxnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm57YnV0dG9uczpmLG1lbnVJdGVtczplLGljb25zOmIscG9wdXBzOmZ0LGNvbnRleHRNZW51czpldCxjb250ZXh0VG9vbGJhcnM6ayxzaWRlYmFyczpvdH19fSkuYWRkQXV0b2NvbXBsZXRlciksYWRkQnV0dG9uOnIuYWRkQnV0dG9uLGFkZENvbnRleHRGb3JtOnIuYWRkQ29udGV4dEZvcm0sYWRkQ29udGV4dE1lbnU6ci5hZGRDb250ZXh0TWVudSxhZGRDb250ZXh0VG9vbGJhcjpyLmFkZENvbnRleHRUb29sYmFyLGFkZEljb246ci5hZGRJY29uLGFkZE1lbnVCdXR0b246ci5hZGRNZW51QnV0dG9uLGFkZE1lbnVJdGVtOnIuYWRkTWVudUl0ZW0sYWRkTmVzdGVkTWVudUl0ZW06ci5hZGROZXN0ZWRNZW51SXRlbSxhZGRTaWRlYmFyOnIuYWRkU2lkZWJhcixhZGRTcGxpdEJ1dHRvbjpyLmFkZFNwbGl0QnV0dG9uLGFkZFRvZ2dsZUJ1dHRvbjpyLmFkZFRvZ2dsZUJ1dHRvbixhZGRHcm91cFRvb2xiYXJCdXR0b246ci5hZGRHcm91cFRvb2xiYXJCdXR0b24sYWRkVG9nZ2xlTWVudUl0ZW06ci5hZGRUb2dnbGVNZW51SXRlbSxnZXRBbGw6ci5nZXRBbGx9LHN0eWxlU2hlZXRMb2FkZXI6dm9pZCAwLHNob3c6eSxoaWRlOnksZW5hYmxlOnksZGlzYWJsZTp5LGlzRGlzYWJsZWQ6aXR9O3V0PShydD1oaSgiZGVzaWduIikscD1oaSh7ZGVzaWduOnthY3RpdmF0ZTp5LGRlYWN0aXZhdGU6eSxlZGl0b3JSZWFkT25seTohMX0scmVhZG9ubHk6e2FjdGl2YXRlOnksZGVhY3RpdmF0ZTp5LGVkaXRvclJlYWRPbmx5OiEwfX0pLChoPXM9dGhpcykuc2VyaWFsaXplcj9ic2koaCk6aC5vbigiUHJlSW5pdCIsZnVuY3Rpb24oKXtic2koaCl9KSwodj1zKS5vbigiU2hvd0NhcmV0IixmdW5jdGlvbihuKXtncyh2KSYmbi5wcmV2ZW50RGVmYXVsdCgpfSksdi5vbigiT2JqZWN0U2VsZWN0ZWQiLGZ1bmN0aW9uKG4pe2dzKHYpJiZuLnByZXZlbnREZWZhdWx0KCl9KSx7aXNSZWFkT25seTpmdW5jdGlvbigpe3JldHVybiBncyhzKX0sc2V0OmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihuLHQsaSxyKXtpZihyIT09aS5nZXQoKSl7aWYoIXcodCxyKSl0aHJvdyBuZXcgRXJyb3IoIkVkaXRvciBtb2RlICciK3IrIicgaXMgaW52YWxpZCIpO24uaW5pdGlhbGl6ZWQ/Z3NpKG4saSx0LHIpOm4ub24oImluaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIGdzaShuLGksdCxyKX0pfX0ocyxwLmdldCgpLHJ0LG4pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcnQuZ2V0KCl9LHJlZ2lzdGVyOmZ1bmN0aW9uKG4sdCl7cC5zZXQoZnVuY3Rpb24obix0LGkpe3ZhciByO2lmKGR0KHd0cix0KSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBvdmVycmlkZSBkZWZhdWx0IG1vZGUgIit0KTtyZXR1cm4gYyhjKHt9LG4pLCgocj17fSlbdF09YyhjKHt9LGkpLHtkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dHJ5e2kuZGVhY3RpdmF0ZSgpfWNhdGNoKG4pe2NvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgZGVhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIrdCsiOiIsbil9fX0pLHIpKX0ocC5nZXQoKSxuLHQpKX19KTt0aGlzLm1vZGU9dXQ7dGhpcy5zZXRNb2RlPXV0LnNldDtpLmZpcmUoIlNldHVwRWRpdG9yIix7ZWRpdG9yOnRoaXN9KTt0aGlzLmV4ZWNDYWxsYmFjaygic2V0dXAiLHRoaXMpO3RoaXMuJD1hLm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24oKXtyZXR1cm57Y29udGV4dDpvLmlubGluZT9vLmdldEJvZHkoKTpvLmdldERvYygpLGVsZW1lbnQ6by5nZXRCb2R5KCl9fSl9ZnVuY3Rpb24gZmhpKG4pe3ZhciB0PW4udHlwZTtwZihhby5nZXQoKSxmdW5jdGlvbihpKXtzd2l0Y2godCl7Y2FzZSJzY3JvbGwiOmkuZmlyZSgiU2Nyb2xsV2luZG93IixuKTticmVhaztjYXNlInJlc2l6ZSI6aS5maXJlKCJSZXNpemVXaW5kb3ciLG4pfX0pfWZ1bmN0aW9uIGVoaShuKXtuIT09c2hpJiYobj9hKHdpbmRvdykub24oInJlc2l6ZSBzY3JvbGwiLGZoaSk6YSh3aW5kb3cpLm9mZigicmVzaXplIHNjcm9sbCIsZmhpKSxzaGk9bil9ZnVuY3Rpb24gb2hpKG4pe3ZhciBpPW5yLHQ7Zm9yKGRlbGV0ZSBsb1tuLmlkXSx0PTA7dDxsby5sZW5ndGg7dCsrKWlmKGxvW3RdPT09bil7bG8uc3BsaWNlKHQsMSk7YnJlYWt9cmV0dXJuIG5yPXAobnIsZnVuY3Rpb24odCl7cmV0dXJuIG4hPT10fSksYW8uYWN0aXZlRWRpdG9yPT09biYmKGFvLmFjdGl2ZUVkaXRvcj0wPG5yLmxlbmd0aD9uclswXTpudWxsKSxhby5mb2N1c2VkRWRpdG9yPT09biYmKGFvLmZvY3VzZWRFZGl0b3I9bnVsbCksaS5sZW5ndGghPT1uci5sZW5ndGh9ZnVuY3Rpb24gaGhpKG4sdCxpKXt2YXIgdT10LngsZj10LnksZT1uLncsbz1uLmgscz10LncsaD10Lmgscj0oaXx8IiIpLnNwbGl0KCIiKTtyZXR1cm4iYiI9PT1yWzBdJiYoZis9aCksInIiPT09clsxXSYmKHUrPXMpLCJjIj09PXJbMF0mJihmKz1jZChoLzIpKSwiYyI9PT1yWzFdJiYodSs9Y2Qocy8yKSksImIiPT09clszXSYmKGYtPW8pLCJyIj09PXJbNF0mJih1LT1lKSwiYyI9PT1yWzNdJiYoZi09Y2Qoby8yKSksImMiPT09cls0XSYmKHUtPWNkKGUvMikpLGhsKHUsZixlLG8pfWZ1bmN0aW9uIGNoaSgpe31mdW5jdGlvbiBobChuLHQsaSxyKXtyZXR1cm57eDpuLHk6dCx3OmksaDpyfX1mdW5jdGlvbiBwZChuKXt0aGlzLnNldHRpbmdzPXZoaSh7fSxuKTt0aGlzLmNvdW50PTB9dmFyIGxsPWZ1bmN0aW9uKG4pe3JldHVybntlcTpufX0sYmhpPWxsKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49PT10fSksZ2Q9bGwoZnVuY3Rpb24obix0KXtpZihuPT09dClyZXR1cm4hMDt2YXIgaT1hc3Qobik7cmV0dXJuIGk9PT1hc3QodCkmJigtMSE9PVsidW5kZWZpbmVkIiwiYm9vbGVhbiIsIm51bWJlciIsInN0cmluZyIsImZ1bmN0aW9uIiwieG1sIiwibnVsbCJdLmluZGV4T2YoaSk/bj09PXQ6ImFycmF5Ij09PWk/dnN0KGdkKS5lcShuLHQpOiJvYmplY3QiPT09aSYmeXN0KGdkKS5lcShuLHQpKX0pLGh0PWtkKCJzdHJpbmciKSxlaD1rZCgib2JqZWN0IiksYnI9a2QoImFycmF5IiksYWw9cHN0KG51bGwpLGJzdD1kZCgiYm9vbGVhbiIpLHRyPXBzdCh2b2lkIDApLGZ0PWRkKCJmdW5jdGlvbiIpLG9oPWRkKCJudW1iZXIiKSxpdD1mKCExKSxsdD1mKCEwKSx0eT17Zm9sZDpmdW5jdGlvbihuKXtyZXR1cm4gbigpfSxpc1NvbWU6aXQsaXNOb25lOmx0LGdldE9yOmtpLGdldE9yVGh1bms6a3N0LGdldE9yRGllOmZ1bmN0aW9uKG4pe3Rocm93IG5ldyBFcnJvcihufHwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLiIpO30sZ2V0T3JOdWxsOmYobnVsbCksZ2V0T3JVbmRlZmluZWQ6Zih2b2lkIDApLG9yOmtpLG9yVGh1bms6a3N0LG1hcDp0ZyxlYWNoOnksYmluZDp0ZyxleGlzdHM6aXQsZm9yYWxsOmx0LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB0eX0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltdfSx0b1N0cmluZzpmKCJub25lKCkiKX0sZWc9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdSgpe3JldHVybiByfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQobil9dmFyIHQ9ZihuKSxyPXtmb2xkOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGkobil9LGlzU29tZTpsdCxpc05vbmU6aXQsZ2V0T3I6dCxnZXRPclRodW5rOnQsZ2V0T3JEaWU6dCxnZXRPck51bGw6dCxnZXRPclVuZGVmaW5lZDp0LG9yOnUsb3JUaHVuazp1LG1hcDpmdW5jdGlvbih0KXtyZXR1cm4gZWcodChuKSl9LGVhY2g6ZnVuY3Rpb24odCl7dChuKX0sYmluZDppLGV4aXN0czppLGZvcmFsbDppLGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdChuKT9yOnR5fSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW25dfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJzb21lKCIrbisiKSJ9fTtyZXR1cm4gcn0sbj17c29tZTplZyxub25lOnRnLGZyb206ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/dHk6ZWcobil9fSxvZz1BcnJheS5wcm90b3R5cGUuc2xpY2UsZ2hpPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLG5jaT1BcnJheS5wcm90b3R5cGUucHVzaCxidT1mdChBcnJheS5mcm9tKT9BcnJheS5mcm9tOmZ1bmN0aW9uKG4pe3JldHVybiBvZy5jYWxsKG4pfSxsaD1PYmplY3Qua2V5cyx0Y2k9T2JqZWN0Lmhhc093blByb3BlcnR5LGljaT1mdW5jdGlvbihuLHQpe3ZhciBpPXt9O3JldHVybiBldChuLGZ1bmN0aW9uKG4scil7dmFyIHU9dChuLHIpO2lbdS5rXT11LnZ9KSxpfSx3PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRjaS5jYWxsKG4sdCl9LHNnPUFycmF5LmlzQXJyYXksYz1mdW5jdGlvbigpe3JldHVybihjPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKG4pe2Zvcih2YXIgcixpLHQ9MSx1PWFyZ3VtZW50cy5sZW5ndGg7dDx1O3QrKylmb3IoaSBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSYmKG5baV09cltpXSk7cmV0dXJuIG59KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNnPWZ1bmN0aW9uKG4sdCl7cmV0dXJue21ham9yOm4sbWlub3I6dH19LGJsPXtudTpjZyxkZXRlY3Q6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KG4pe3JldHVybiBOdW1iZXIoaS5yZXBsYWNlKHIsIiQiK24pKX12YXIgaSxyLGY9U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIDA9PT1uLmxlbmd0aD93aHQoKToocj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcixpPTA7aTxuLmxlbmd0aDtpKyspaWYocj1uW2ldLHIudGVzdCh0KSlyZXR1cm4gcn0obixpPWYpKT9jZyh1KDEpLHUoMikpOnttYWpvcjowLG1pbm9yOjB9fSx1bmtub3duOndodH0sd289ZnVuY3Rpb24obix0KXtyZXR1cm4iIj09PShpPXQpfHxuLmxlbmd0aD49aS5sZW5ndGgmJm4uc3Vic3RyKDAsMCtpLmxlbmd0aCk9PT1pO3ZhciBpfSxsZz1oZygvXlxzK3xccyskL2cpLHVjaT1oZygvXlxzKy9nKSxkaHQ9aGcoL1xzKyQvZyksYWc9Ly4qP3ZlcnNpb25cL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qLyxnaHQ9e2Jyb3dzZXJzOmYoW3tuYW1lOiJFZGdlIix2ZXJzaW9uUmVnZXhlczpbLy4qP2VkZ2VcLyA/KFswLTldKylcLihbMC05XSspJC9dLHNlYXJjaDpmdW5jdGlvbihuKXtyZXR1cm4geWkobiwiZWRnZS8iKSYmeWkobiwiY2hyb21lIikmJnlpKG4sInNhZmFyaSIpJiZ5aShuLCJhcHBsZXdlYmtpdCIpfX0se25hbWU6IkNocm9tZSIsYnJhbmQ6IkNocm9taXVtIix2ZXJzaW9uUmVnZXhlczpbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovLGFnXSxzZWFyY2g6ZnVuY3Rpb24obil7cmV0dXJuIHlpKG4sImNocm9tZSIpJiYheWkobiwiY2hyb21lZnJhbWUiKX19LHtuYW1lOiJJRSIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9tc2llXCA/KFswLTldKylcLihbMC05XSspLiovLC8uKj9ydjooWzAtOV0rKVwuKFswLTldKykuKi9dLHNlYXJjaDpmdW5jdGlvbihuKXtyZXR1cm4geWkobiwibXNpZSIpfHx5aShuLCJ0cmlkZW50Iil9fSx7bmFtZToiT3BlcmEiLHZlcnNpb25SZWdleGVzOlthZywvLio/b3BlcmFcLyhbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOndmKCJvcGVyYSIpfSx7bmFtZToiRmlyZWZveCIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9maXJlZm94XC9cID8oWzAtOV0rKVwuKFswLTldKykuKi9dLHNlYXJjaDp3ZigiZmlyZWZveCIpfSx7bmFtZToiU2FmYXJpIix2ZXJzaW9uUmVnZXhlczpbYWcsLy4qP2NwdSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qL10sc2VhcmNoOmZ1bmN0aW9uKG4pe3JldHVybih5aShuLCJzYWZhcmkiKXx8eWkobiwibW9iaWxlLyIpKSYmeWkobiwiYXBwbGV3ZWJraXQiKX19XSksb3NlczpmKFt7bmFtZToiV2luZG93cyIsc2VhcmNoOndmKCJ3aW4iKSx2ZXJzaW9uUmVnZXhlczpbLy4qP3dpbmRvd3NcIG50XCA/KFswLTldKylcLihbMC05XSspLiovXX0se25hbWU6ImlPUyIsc2VhcmNoOmZ1bmN0aW9uKG4pe3JldHVybiB5aShuLCJpcGhvbmUiKXx8eWkobiwiaXBhZCIpfSx2ZXJzaW9uUmVnZXhlczpbLy4qP3ZlcnNpb25cL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qLywvLipjcHUgb3MgKFswLTldKylfKFswLTldKykuKi8sLy4qY3B1IGlwaG9uZSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOiJBbmRyb2lkIixzZWFyY2g6d2YoImFuZHJvaWQiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP2FuZHJvaWRcID8oWzAtOV0rKVwuKFswLTldKykuKi9dfSx7bmFtZToiT1NYIixzZWFyY2g6d2YoIm1hYyBvcyB4IiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj9tYWNcIG9zXCB4XCA/KFswLTldKylfKFswLTldKykuKi9dfSx7bmFtZToiTGludXgiLHNlYXJjaDp3ZigibGludXgiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IlNvbGFyaXMiLHNlYXJjaDp3Zigic3Vub3MiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IkZyZWVCU0QiLHNlYXJjaDp3ZigiZnJlZWJzZCIpLHZlcnNpb25SZWdleGVzOltdfSx7bmFtZToiQ2hyb21lT1MiLHNlYXJjaDp3ZigiY3JvcyIpLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXC8oWzAtOV0rKVwuKFswLTldKykuKi9dfV0pfSxuY3Q9IkZpcmVmb3giLGZjaT1mdW5jdGlvbigpe3JldHVybiBiaHQoe2N1cnJlbnQ6dm9pZCAwLHZlcnNpb246YmwudW5rbm93bigpfSl9LGVjaT1iaHQsdGN0PShmKCJFZGdlIiksZigiQ2hyb21lIiksZigiSUUiKSxmKCJPcGVyYSIpLGYobmN0KSxmKCJTYWZhcmkiKSwiV2luZG93cyIpLGljdD0iQW5kcm9pZCIscmN0PSJTb2xhcmlzIix1Y3Q9IkZyZWVCU0QiLGZjdD0iQ2hyb21lT1MiLG9jaT1mdW5jdGlvbigpe3JldHVybiBraHQoe2N1cnJlbnQ6dm9pZCAwLHZlcnNpb246YmwudW5rbm93bigpfSl9LHNjaT1raHQsa3I9KGYodGN0KSxmKCJpT1MiKSxmKGljdCksZigiTGludXgiKSxmKCJPU1giKSxmKHJjdCksZih1Y3QpLGYoZmN0KSxoaHQoZnVuY3Rpb24oKXtyZXR1cm4gaT1uYXZpZ2F0b3IudXNlckFnZW50LHA9bi5mcm9tKG5hdmlnYXRvci51c2VyQWdlbnREYXRhKSx3PXJjaSxhPWdodC5icm93c2VycygpLGc9Z2h0Lm9zZXMoKSx2PXAuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gdD1hLHVodChuLmJyYW5kcyxmdW5jdGlvbihuKXt2YXIgaT1uLmJyYW5kLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGd0KHQsZnVuY3Rpb24obil7dmFyIHQ7cmV0dXJuIGk9PT0obnVsbD09PSh0PW4uYnJhbmQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRvTG93ZXJDYXNlKCkpfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybntjdXJyZW50OnQubmFtZSx2ZXJzaW9uOmJsLm51KHBhcnNlSW50KG4udmVyc2lvbiwxMCksMCl9fSl9KTt2YXIgdH0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gY2h0KGEsbj1pKS5tYXAoZnVuY3Rpb24odCl7dmFyIGk9YmwuZGV0ZWN0KHQudmVyc2lvblJlZ2V4ZXMsbik7cmV0dXJue2N1cnJlbnQ6dC5uYW1lLHZlcnNpb246aX19KTt2YXIgbn0pLmZvbGQoZmNpLGVjaSkseT1jaHQoZyxiPWkpLm1hcChmdW5jdGlvbihuKXt2YXIgdD1ibC5kZXRlY3Qobi52ZXJzaW9uUmVnZXhlcyxiKTtyZXR1cm57Y3VycmVudDpuLm5hbWUsdmVyc2lvbjp0fX0pLmZvbGQob2NpLHNjaSkse2Jyb3dzZXI6dixvczp5LGRldmljZVR5cGU6KGs9dixvPWkscz13LHI9KHQ9eSkuaXNpT1MoKSYmITA9PT0vaXBhZC9pLnRlc3QobyksdT10LmlzaU9TKCkmJiFyLGQ9KGg9dC5pc2lPUygpfHx0LmlzQW5kcm9pZCgpKXx8cygiKHBvaW50ZXI6Y29hcnNlKSIpLGU9cnx8IXUmJmgmJnMoIihtaW4tZGV2aWNlLXdpZHRoOjc2OHB4KSIpLGM9dXx8aCYmIWUsbD1rLmlzU2FmYXJpKCkmJnQuaXNpT1MoKSYmITE9PT0vc2FmYXJpL2kudGVzdChvKSx7aXNpUGFkOmYociksaXNpUGhvbmU6Zih1KSxpc1RhYmxldDpmKGUpLGlzUGhvbmU6ZihjKSxpc1RvdWNoOmYoZCksaXNBbmRyb2lkOnQuaXNBbmRyb2lkLGlzaU9TOnQuaXNpT1MsaXNXZWJWaWV3OmYobCksaXNEZXNrdG9wOmYoIWMmJiFlJiYhbCl9KX07dmFyIGkscCx3LGIsdCxrLG8scyxyLHUsaCxkLGUsYyxsLGEsZyx2LHl9KSksZWN0PW5hdmlnYXRvci51c2VyQWdlbnQsdmc9a3IoKSxwaT12Zy5icm93c2VyLHNyPXZnLm9zLGt1PXZnLmRldmljZVR5cGUsaGNpPS9XZWJLaXQvLnRlc3QoZWN0KSYmIXBpLmlzRWRnZSgpLGNjaT0iRm9ybURhdGEiaW4gd2luZG93JiYiRmlsZVJlYWRlciJpbiB3aW5kb3cmJiJVUkwiaW4gd2luZG93JiYhIVVSTC5jcmVhdGVPYmplY3RVUkwsbGNpPS0xIT09ZWN0LmluZGV4T2YoIldpbmRvd3MgUGhvbmUiKSxsPXtvcGVyYTpwaS5pc09wZXJhKCksd2Via2l0OmhjaSxpZTohKCFwaS5pc0lFKCkmJiFwaS5pc0VkZ2UoKSkmJnBpLnZlcnNpb24ubWFqb3IsZ2Vja286cGkuaXNGaXJlZm94KCksbWFjOnNyLmlzT1NYKCl8fHNyLmlzaU9TKCksaU9TOmt1LmlzaVBhZCgpfHxrdS5pc2lQaG9uZSgpLGFuZHJvaWQ6c3IuaXNBbmRyb2lkKCksY29udGVudEVkaXRhYmxlOiEwLHRyYW5zcGFyZW50U3JjOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTciLGNhcmV0QWZ0ZXI6ITAscmFuZ2U6d2luZG93LmdldFNlbGVjdGlvbiYmIlJhbmdlImluIHdpbmRvdyxkb2N1bWVudE1vZGU6cGkuaXNJRSgpP2RvY3VtZW50LmRvY3VtZW50TW9kZXx8NzoxMCxmaWxlQXBpOmNjaSxjZUZhbHNlOiEwLGNhY2hlU3VmZml4Om51bGwsY29udGFpbmVyOm51bGwsZXhwZXJpbWVudGFsU2hhZG93RG9tOiExLGNhbkhhdmVDU1A6IXBpLmlzSUUoKSxkZXNrdG9wOmt1LmlzRGVza3RvcCgpLHdpbmRvd3NQaG9uZTpsY2ksYnJvd3Nlcjp7Y3VycmVudDpwaS5jdXJyZW50LHZlcnNpb246cGkudmVyc2lvbixpc0Nocm9tZTpwaS5pc0Nocm9tZSxpc0VkZ2U6cGkuaXNFZGdlLGlzRmlyZWZveDpwaS5pc0ZpcmVmb3gsaXNJRTpwaS5pc0lFLGlzT3BlcmE6cGkuaXNPcGVyYSxpc1NhZmFyaTpwaS5pc1NhZmFyaX0sb3M6e2N1cnJlbnQ6c3IuY3VycmVudCx2ZXJzaW9uOnNyLnZlcnNpb24saXNBbmRyb2lkOnNyLmlzQW5kcm9pZCxpc0Nocm9tZU9TOnNyLmlzQ2hyb21lT1MsaXNGcmVlQlNEOnNyLmlzRnJlZUJTRCxpc2lPUzpzci5pc2lPUyxpc0xpbnV4OnNyLmlzTGludXgsaXNPU1g6c3IuaXNPU1gsaXNTb2xhcmlzOnNyLmlzU29sYXJpcyxpc1dpbmRvd3M6c3IuaXNXaW5kb3dzfSxkZXZpY2VUeXBlOntpc0Rlc2t0b3A6a3UuaXNEZXNrdG9wLGlzaVBhZDprdS5pc2lQYWQsaXNpUGhvbmU6a3UuaXNpUGhvbmUsaXNQaG9uZTprdS5pc1Bob25lLGlzVGFibGV0Omt1LmlzVGFibGV0LGlzVG91Y2g6a3UuaXNUb3VjaCxpc1dlYlZpZXc6a3UuaXNXZWJWaWV3fX0sYWNpPS9eXHMqfFxzKiQvZyxvY3Q9ZnVuY3Rpb24obix0LGkscil7cj1yfHx0aGlzO24mJnBsKG49aT9uW2ldOm4sZnVuY3Rpb24obix1KXtyZXR1cm4hMSE9PXQuY2FsbChyLG4sdSxpKSYmdm9pZCBvY3Qobix0LGkscil9KX0scj17dHJpbTphaHQsaXNBcnJheTpzZyxpczp2aHQsdG9BcnJheTpmdW5jdGlvbihuKXtpZihzZyhuKSlyZXR1cm4gbjtmb3IodmFyIGk9W10sdD0wLHI9bi5sZW5ndGg7dDxyO3QrKylpW3RdPW5bdF07cmV0dXJuIGl9LG1ha2VNYXA6ZnVuY3Rpb24obix0LGkpe3ZhciByO2Zvcih0PXR8fCIsIixpPWl8fHt9LHI9KG49InN0cmluZyI9PXR5cGVvZihuPW58fFtdKT9uLnNwbGl0KHQpOm4pLmxlbmd0aDtyLS07KWlbbltyXV09e307cmV0dXJuIGl9LGVhY2g6cGwsbWFwOmZnLGdyZXA6Y2gsaW5BcnJheTpvaHQsaGFzT3duOncsZXh0ZW5kOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcix1LGUsZixpPVtdLHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWlbdC0xXT1hcmd1bWVudHNbdF07Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl7Zj1pW3JdO2Zvcih1IGluIGYpdyhmLHUpJiZ2b2lkIDAhPT0oZT1mW3VdKSYmKG5bdV09ZSl9cmV0dXJuIG59LGNyZWF0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIGYsbyxzLGU9dGhpcyxoPTAscj0obj0vXigoc3RhdGljKSApPyhbXHcuXSspKDooW1x3Ll0rKSk/Ly5leGVjKG4pKVszXS5tYXRjaCgvKF58XC4pKFx3KykkL2kpWzJdLHU9ZS5jcmVhdGVOUyhuWzNdLnJlcGxhY2UoL1wuXHcrJC8sIiIpLGkpO2lmKCF1W3JdKXtpZigic3RhdGljIj09PW5bMl0pcmV0dXJuIHVbcl09dCx2b2lkKHRoaXMub25DcmVhdGUmJnRoaXMub25DcmVhdGUoblsyXSxuWzNdLHVbcl0pKTt0W3JdfHwodFtyXT1mdW5jdGlvbigpe30saD0xKTt1W3JdPXRbcl07ZS5leHRlbmQodVtyXS5wcm90b3R5cGUsdCk7bls1XSYmKGY9ZS5yZXNvbHZlKG5bNV0pLnByb3RvdHlwZSxvPW5bNV0ubWF0Y2goL1wuKFx3KykkL2kpWzFdLHM9dVtyXSx1W3JdPWg/ZnVuY3Rpb24oKXtyZXR1cm4gZltvXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50PWZbb10scy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHVbcl0ucHJvdG90eXBlW3JdPXVbcl0sZS5lYWNoKGYsZnVuY3Rpb24obix0KXt1W3JdLnByb3RvdHlwZVt0XT1mW3RdfSksZS5lYWNoKHQsZnVuY3Rpb24obix0KXtmW3RdP3Vbcl0ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50PWZbdF0sbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OnQhPT1yJiYodVtyXS5wcm90b3R5cGVbdF09bil9KSk7ZS5lYWNoKHQuc3RhdGljLGZ1bmN0aW9uKG4sdCl7dVtyXVt0XT1ufSl9fSx3YWxrOm9jdCxjcmVhdGVOUzpmdW5jdGlvbihuLHQpe3ZhciBpLHI7Zm9yKHQ9dHx8d2luZG93LG49bi5zcGxpdCgiLiIpLGk9MDtpPG4ubGVuZ3RoO2krKyl0W3I9bltpXV18fCh0W3JdPXt9KSx0PXRbcl07cmV0dXJuIHR9LHJlc29sdmU6ZnVuY3Rpb24obix0KXt2YXIgaSxyO2Zvcih0PXR8fHdpbmRvdyxpPTAscj0obj1uLnNwbGl0KCIuIikpLmxlbmd0aDtpPHImJih0PXRbbltpXV0pO2krKyk7cmV0dXJuIHR9LGV4cGxvZGU6ZnVuY3Rpb24obix0KXtyZXR1cm4hbnx8dmh0KG4sImFycmF5Iik/bjpmZyhuLnNwbGl0KHR8fCIsIiksYWh0KX0sX2FkZENhY2hlU3VmZml4OmZ1bmN0aW9uKG4pe3ZhciB0PWwuY2FjaGVTdWZmaXg7cmV0dXJuIHQmJihuKz0oLTE9PT1uLmluZGV4T2YoIj8iKT8iPyI6IiYiKSt0KSxufX0sdD17ZnJvbUh0bWw6ZnVuY3Rpb24obix0KXt2YXIgaT0odHx8ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKGkuaW5uZXJIVE1MPW4sIWkuaGFzQ2hpbGROb2RlcygpfHwxPGkuY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgY29uc29sZS5lcnJvcigiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZSIsbiksbmV3IEVycm9yKCJIVE1MIG11c3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiKTtyZXR1cm4gd2woaS5jaGlsZE5vZGVzWzBdKX0sZnJvbVRhZzpmdW5jdGlvbihuLHQpe3ZhciBpPSh0fHxkb2N1bWVudCkuY3JlYXRlRWxlbWVudChuKTtyZXR1cm4gd2woaSl9LGZyb21UZXh0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9KHR8fGRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShuKTtyZXR1cm4gd2woaSl9LGZyb21Eb206d2wsZnJvbVBvaW50OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5mcm9tKHQuZG9tLmVsZW1lbnRGcm9tUG9pbnQoaSxyKSkubWFwKHdsKX19LGsscyxya3Qsd3csdWt0LGZrdCxoZHQsdGIsd2QsYmQ7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3d8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpO3ZhciBzdT1leSgxKSxncj1leSgzKSxwY2k9ZXkoOSksd2NpPWV5KDExKSxudT1mdW5jdGlvbihuKXtyZXR1cm4gdXQobi5kb20uY2hpbGROb2Rlcyx0LmZyb21Eb20pfSxzbHQ9ZnQoRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93KSYmZnQoTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpLGJjaT1mKHNsdCksZ289c2x0P2Z1bmN0aW9uKG4pe3JldHVybiB0LmZyb21Eb20obi5kb20uZ2V0Um9vdE5vZGUoKSl9OnZoLGlpPWZ1bmN0aW9uKG4sdCl7bi5kb20uYXBwZW5kQ2hpbGQodC5kb20pfSxuaT1mdW5jdGlvbihuKXt2YXIgdD1uLmRvbTtudWxsIT09dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LHRhPWZ1bmN0aW9uKGkpe3ZhciByPWdyKGkpP2kuZG9tLnBhcmVudE5vZGU6aS5kb207aWYobnVsbD09cnx8bnVsbD09PXIub3duZXJEb2N1bWVudClyZXR1cm4hMTt2YXIgZj1yLm93bmVyRG9jdW1lbnQsZT10LmZyb21Eb20ociksdT1nbyhlKTtyZXR1cm4ocGN0KHUpP24uc29tZSh1KTpuLm5vbmUoKSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBmLmJvZHkuY29udGFpbnMocil9LHdzdCh0YSx2Y2kpKX0saGx0PWZ1bmN0aW9uKG4sdCl7cmV0dXJue2xlZnQ6bix0b3A6dCx0cmFuc2xhdGU6ZnVuY3Rpb24oaSxyKXtyZXR1cm4gaGx0KG4raSx0K3IpfX19LHBoPWhsdCxkZz1mdW5jdGlvbihuKXt2YXIgdCxpPW4uZG9tLHI9aS5vd25lckRvY3VtZW50LmJvZHk7cmV0dXJuIHI9PT1pP3BoKHIub2Zmc2V0TGVmdCxyLm9mZnNldFRvcCk6dGEobik/KHQ9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwaCh0LmxlZnQsdC50b3ApKTpwaCgwLDApfSxoPWdsKDEpLGdnPWRyKFsidGV4dGFyZWEiLCJpbnB1dCJdKSxvPWdsKDMpLGtjaT1nbCg4KSxubj1nbCg5KSx0bj1nbCgxMSksc3Q9ZHIoWyJiciJdKSxkY2k9ZHIoWyJpbWciXSksZ3U9aWx0KCJ0cnVlIikscnQ9aWx0KCJmYWxzZSIpLHl5PWRyKFsidGQiLCJ0aCJdKSx0dT1kcihbInZpZGVvIiwiYXVkaW8iLCJvYmplY3QiLCJlbWJlZCJdKSxjbHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gdnkobik/bi5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpOiIifSxnY2k9a3IoKS5icm93c2VyLGxsdD17fSxybj17ZXhwb3J0czpsbHR9OyFmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gbihuKXtpZigib2JqZWN0IiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgZnVuY3Rpb24iKTt0aGlzLl9zdGF0ZT0wO3RoaXMuX2hhbmRsZWQ9ITE7dGhpcy5fdmFsdWU9dm9pZCAwO3RoaXMuX2RlZmVycmVkcz1bXTtoKG4sdGhpcyl9ZnVuY3Rpb24gcyhpLHIpe2Zvcig7Mz09PWkuX3N0YXRlOylpPWkuX3ZhbHVlOzAhPT1pLl9zdGF0ZT8oaS5faGFuZGxlZD0hMCxuLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe3ZhciBuLGY9MT09PWkuX3N0YXRlP3Iub25GdWxmaWxsZWQ6ci5vblJlamVjdGVkO2lmKG51bGwhPT1mKXt0cnl7bj1mKGkuX3ZhbHVlKX1jYXRjaChuKXtyZXR1cm4gdm9pZCB0KHIucHJvbWlzZSxuKX11KHIucHJvbWlzZSxuKX1lbHNlKDE9PT1pLl9zdGF0ZT91OnQpKHIucHJvbWlzZSxpLl92YWx1ZSl9KSk6aS5fZGVmZXJyZWRzLnB1c2gocil9ZnVuY3Rpb24gdShpLHIpe3ZhciB1LGUsbzt0cnl7aWYocj09PWkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTtpZihyJiYoIm9iamVjdCI9PXR5cGVvZiByfHwiZnVuY3Rpb24iPT10eXBlb2Ygcikpe2lmKHU9ci50aGVuLHIgaW5zdGFuY2VvZiBuKXJldHVybiBpLl9zdGF0ZT0zLGkuX3ZhbHVlPXIsdm9pZCBmKGkpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB1KXJldHVybiB2b2lkIGgoKGU9dSxvPXIsZnVuY3Rpb24oKXtlLmFwcGx5KG8sYXJndW1lbnRzKX0pLGkpfWkuX3N0YXRlPTE7aS5fdmFsdWU9cjtmKGkpfWNhdGNoKHIpe3QoaSxyKX19ZnVuY3Rpb24gdChuLHQpe24uX3N0YXRlPTI7bi5fdmFsdWU9dDtmKG4pfWZ1bmN0aW9uIGYodCl7Mj09PXQuX3N0YXRlJiYwPT09dC5fZGVmZXJyZWRzLmxlbmd0aCYmbi5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt0Ll9oYW5kbGVkfHxuLl91bmhhbmRsZWRSZWplY3Rpb25Gbih0Ll92YWx1ZSl9KTtmb3IodmFyIGk9MCxyPXQuX2RlZmVycmVkcy5sZW5ndGg7aTxyO2krKylzKHQsdC5fZGVmZXJyZWRzW2ldKTt0Ll9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBhKG4sdCxpKXt0aGlzLm9uRnVsZmlsbGVkPSJmdW5jdGlvbiI9PXR5cGVvZiBuP246bnVsbDt0aGlzLm9uUmVqZWN0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsO3RoaXMucHJvbWlzZT1pfWZ1bmN0aW9uIGgobixpKXt2YXIgcj0hMTt0cnl7bihmdW5jdGlvbihuKXtyfHwocj0hMCx1KGksbikpfSxmdW5jdGlvbihuKXtyfHwocj0hMCx0KGksbikpfSl9Y2F0Y2gobil7aWYocilyZXR1cm47cj0hMDt0KGksbil9fXZhciBpLHIsZSxvPXtleHBvcnRzOnt9fSxjO3JldHVybiBpPW8scj0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LGU9c2V0VGltZW91dCxuLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsbil9LG4ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24obix0KXt2YXIgaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihsKTtyZXR1cm4gcyh0aGlzLG5ldyBhKG4sdCxpKSksaX0sbi5hbGw9ZnVuY3Rpb24odCl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7cmV0dXJuIG5ldyBuKGZ1bmN0aW9uKG4sdCl7aWYoMD09PWkubGVuZ3RoKXJldHVybiBuKFtdKTtmb3IodmFyIHU9aS5sZW5ndGgscj0wO3I8aS5sZW5ndGg7cisrKSFmdW5jdGlvbiBmKHIsZSl7dHJ5e2lmKGUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSl7dmFyIG89ZS50aGVuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBvKXJldHVybiBvLmNhbGwoZSxmdW5jdGlvbihuKXtmKHIsbil9LHQpLDB9aVtyXT1lOzA9PS0tdSYmbihpKX1jYXRjaChlKXt0KGUpfX0ocixpW3JdKX0pfSxuLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PW4/dDpuZXcgbihmdW5jdGlvbihuKXtuKHQpfSl9LG4ucmVqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbihmdW5jdGlvbihuLGkpe2kodCl9KX0sbi5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbihmdW5jdGlvbihuLGkpe2Zvcih2YXIgcj0wLHU9dC5sZW5ndGg7cjx1O3IrKyl0W3JdLnRoZW4obixpKX0pfSxuLl9pbW1lZGlhdGVGbj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0SW1tZWRpYXRlP2Z1bmN0aW9uKG4pe3NldEltbWVkaWF0ZShuKX06ZnVuY3Rpb24obil7ZShuLDApfSxuLl91bmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbihuKXsidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUmJmNvbnNvbGUud2FybigiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOiIsbil9LG4uX3NldEltbWVkaWF0ZUZuPWZ1bmN0aW9uKHQpe24uX2ltbWVkaWF0ZUZuPXR9LG4uX3NldFVuaGFuZGxlZFJlamVjdGlvbkZuPWZ1bmN0aW9uKHQpe24uX3VuaGFuZGxlZFJlamVjdGlvbkZuPXR9LGkuZXhwb3J0cz9pLmV4cG9ydHM9bjpyLlByb21pc2V8fChyLlByb21pc2U9biksYz1vLmV4cG9ydHMse2JvbHRFeHBvcnQ6KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpGdW5jdGlvbigicmV0dXJuIHRoaXM7IikoKSkuUHJvbWlzZXx8Y319OyJvYmplY3QiPT10eXBlb2YgbGx0JiZ2b2lkIDAhPT1ybj9ybi5leHBvcnRzPXQoKToobj0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpufHxzZWxmKS5FcGhveENvbnRhY3RXcmFwcGVyPXQoKX0oKTt2YXIgdmx0PXJuLmV4cG9ydHMuYm9sdEV4cG9ydCx1bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBmKG4pe3UoKT9vKG4pOnIucHVzaChuKX12YXIgaT1uLm5vbmUoKSxyPVtdLHU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5pc1NvbWUoKX0sbz1mdW5jdGlvbihuKXtpLmVhY2goZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe24odCl9LDApfSl9O3JldHVybiB0KGZ1bmN0aW9uKHQpe3UoKXx8KGk9bi5zb21lKHQpLGUocixvKSxyPVtdKX0pLHtnZXQ6ZixtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHVuKGZ1bmN0aW9uKHQpe2YoZnVuY3Rpb24oaSl7dChuKGkpKX0pfSl9LGlzUmVhZHk6dX19LHRsaT17bnU6dW4scHVyZTpmdW5jdGlvbihuKXtyZXR1cm4gdW4oZnVuY3Rpb24odCl7dChuKX0pfX0saWE9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXtuKCkudGhlbih0LG5saSl9cmV0dXJue21hcDpmdW5jdGlvbih0KXtyZXR1cm4gaWEoZnVuY3Rpb24oKXtyZXR1cm4gbigpLnRoZW4odCl9KX0sYmluZDpmdW5jdGlvbih0KXtyZXR1cm4gaWEoZnVuY3Rpb24oKXtyZXR1cm4gbigpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHQobikudG9Qcm9taXNlKCl9KX0pfSxhbm9uQmluZDpmdW5jdGlvbih0KXtyZXR1cm4gaWEoZnVuY3Rpb24oKXtyZXR1cm4gbigpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC50b1Byb21pc2UoKX0pfSl9LHRvTGF6eTpmdW5jdGlvbigpe3JldHVybiB0bGkubnUodCl9LHRvQ2FjaGVkOmZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtyZXR1cm4gaWEoZnVuY3Rpb24oKXtyZXR1cm4gdD1udWxsPT09dD9uKCk6dH0pfSx0b1Byb21pc2U6bixnZXQ6dH19LHdoPWZ1bmN0aW9uKHQpe3JldHVybntpc1ZhbHVlOmx0LGlzRXJyb3I6aXQsZ2V0T3I6Zih0KSxnZXRPclRodW5rOmYodCksZ2V0T3JEaWU6Zih0KSxvcjpmdW5jdGlvbigpe3JldHVybiB3aCh0KX0sb3JUaHVuazpmdW5jdGlvbigpe3JldHVybiB3aCh0KX0sZm9sZDpmdW5jdGlvbihuLGkpe3JldHVybiBpKHQpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHdoKG4odCkpfSxtYXBFcnJvcjpmdW5jdGlvbigpe3JldHVybiB3aCh0KX0sZWFjaDpmdW5jdGlvbihuKXtuKHQpfSxiaW5kOmZ1bmN0aW9uKG4pe3JldHVybiBuKHQpfSxleGlzdHM6ZnVuY3Rpb24obil7cmV0dXJuIG4odCl9LGZvcmFsbDpmdW5jdGlvbihuKXtyZXR1cm4gbih0KX0sdG9PcHRpb25hbDpmdW5jdGlvbigpe3JldHVybiBuLnNvbWUodCl9fX0scmE9ZnVuY3Rpb24odCl7cmV0dXJue2lzVmFsdWU6aXQsaXNFcnJvcjpsdCxnZXRPcjpraSxnZXRPclRodW5rOmZ1bmN0aW9uKG4pe3JldHVybiBuKCl9LGdldE9yRGllOmZ1bmN0aW9uKCl7cmV0dXJuIG49U3RyaW5nKHQpLGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKG4pO30oKTt2YXIgbn0sb3I6a2ksb3JUaHVuazpmdW5jdGlvbihuKXtyZXR1cm4gbigpfSxmb2xkOmZ1bmN0aW9uKG4pe3JldHVybiBuKHQpfSxtYXA6ZnVuY3Rpb24oKXtyZXR1cm4gcmEodCl9LG1hcEVycm9yOmZ1bmN0aW9uKG4pe3JldHVybiByYShuKHQpKX0sZWFjaDp5LGJpbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gcmEodCl9LGV4aXN0czppdCxmb3JhbGw6bHQsdG9PcHRpb25hbDpuLm5vbmV9fSx5bHQ9e3ZhbHVlOndoLGVycm9yOnJhLGZyb21PcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHJhKHQpfSx3aCl9fTtjZShbe2JvdGhFcnJvcnM6WyJlcnJvcjEiLCJlcnJvcjIiXX0se2ZpcnN0RXJyb3I6WyJlcnJvcjEiLCJ2YWx1ZTIiXX0se3NlY29uZEVycm9yOlsidmFsdWUxIiwiZXJyb3IyIl19LHtib3RoVmFsdWVzOlsidmFsdWUxIiwidmFsdWUyIl19XSk7dmFyIG9uLHNuLGlsaT1mdW5jdGlvbihuLGkpe3JldHVybiBndChuLmRvbS5jaGlsZE5vZGVzLGZ1bmN0aW9uKG4pe3JldHVybiBpKHQuZnJvbURvbShuKSl9KS5tYXAodC5mcm9tRG9tKX0scmk9d2luZG93LlByb21pc2V8fHZsdCx1aT17cmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKG4sdCl7b24/b24udGhlbihuKTpvbj1uZXcgcmkoZnVuY3Rpb24obil7KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsdT1bIm1zIiwibW96Iiwid2Via2l0Il0scj0wO3I8dS5sZW5ndGgmJiFpO3IrKylpPXdpbmRvd1t1W3JdKyJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXTsoaT1pfHxmdW5jdGlvbihuKXt3aW5kb3cuc2V0VGltZW91dChuLDApfSkobix0KX0pKG4sdD10fHxkb2N1bWVudC5ib2R5KX0pLnRoZW4obil9LHNldFRpbWVvdXQ6ZW4sc2V0SW50ZXJ2YWw6Ymx0LHNldEVkaXRvclRpbWVvdXQ6ZnVuY3Rpb24obix0LGkpe3JldHVybiBlbihmdW5jdGlvbigpe24ucmVtb3ZlZHx8dCgpfSxpKX0sc2V0RWRpdG9ySW50ZXJ2YWw6ZnVuY3Rpb24obix0LGkpe3ZhciByPWJsdChmdW5jdGlvbigpe24ucmVtb3ZlZD9jbGVhckludGVydmFsKHIpOnQoKX0saSk7cmV0dXJuIHJ9LGRlYm91bmNlOmtsdCx0aHJvdHRsZTprbHQsY2xlYXJJbnRlcnZhbDpmdW5jdGlvbihuKXtyZXR1cm4gY2xlYXJJbnRlcnZhbChuKX0sY2xlYXJUaW1lb3V0OmZ1bmN0aW9uKG4pe3JldHVybiBjbGVhclRpbWVvdXQobil9fSxnbHQ9KHNuPW5ldyBXZWFrTWFwLHtmb3JFbGVtZW50OmZ1bmN0aW9uKHQsaSl7dmFyIHI9Z28odCkuZG9tO3JldHVybiBuLmZyb20oc24uZ2V0KHIpKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIG49ZGx0KHIsaSk7cmV0dXJuIHNuLnNldChyLG4pLG59KX19KSx5dD0obnMucHJvdG90eXBlLmN1cnJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxucy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5ub2RlPXRoaXMuZmluZFNpYmxpbmcodGhpcy5ub2RlLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLG4pLHRoaXMubm9kZX0sbnMucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMubm9kZT10aGlzLmZpbmRTaWJsaW5nKHRoaXMubm9kZSwibGFzdENoaWxkIiwicHJldmlvdXNTaWJsaW5nIixuKSx0aGlzLm5vZGV9LG5zLnByb3RvdHlwZS5wcmV2Mj1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5ub2RlPXRoaXMuZmluZFByZXZpb3VzTm9kZSh0aGlzLm5vZGUsImxhc3RDaGlsZCIsInByZXZpb3VzU2libGluZyIsbiksdGhpcy5ub2RlfSxucy5wcm90b3R5cGUuZmluZFNpYmxpbmc9ZnVuY3Rpb24obix0LGkscil7dmFyIGYsdTtpZihuKXtpZighciYmblt0XSlyZXR1cm4gblt0XTtpZihuIT09dGhpcy5yb290Tm9kZSl7aWYoZj1uW2ldKXJldHVybiBmO2Zvcih1PW4ucGFyZW50Tm9kZTt1JiZ1IT09dGhpcy5yb290Tm9kZTt1PXUucGFyZW50Tm9kZSlpZihmPXVbaV0pcmV0dXJuIGZ9fX0sbnMucHJvdG90eXBlLmZpbmRQcmV2aW91c05vZGU9ZnVuY3Rpb24obix0LGkscil7dmFyIGYsZSx1O2lmKG4mJihmPW5baV0sIXRoaXMucm9vdE5vZGV8fGYhPT10aGlzLnJvb3ROb2RlKSl7aWYoZil7aWYoIXIpZm9yKHU9Zlt0XTt1O3U9dVt0XSlpZighdVt0XSlyZXR1cm4gdTtyZXR1cm4gZn1yZXR1cm4oZT1uLnBhcmVudE5vZGUpJiZlIT09dGhpcy5yb290Tm9kZT9lOnZvaWQgMH19LG5zKTt2YXIgcmxpPWxlKFsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2Il0pLHRmPWxlKFsiYXJ0aWNsZSIsImFzaWRlIiwiZGV0YWlscyIsImRpdiIsImR0IiwiZmlnY2FwdGlvbiIsImZvb3RlciIsImZvcm0iLCJmaWVsZHNldCIsImhlYWRlciIsImhncm91cCIsImh0bWwiLCJtYWluIiwibmF2Iiwic2VjdGlvbiIsInN1bW1hcnkiLCJib2R5IiwicCIsImRsIiwibXVsdGljb2wiLCJkZCIsImZpZ3VyZSIsImFkZHJlc3MiLCJjZW50ZXIiLCJibG9ja3F1b3RlIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwibGlzdGluZyIsInhtcCIsInByZSIsInBsYWludGV4dCIsIm1lbnUiLCJkaXIiLCJ1bCIsIm9sIiwibGkiLCJociIsInRhYmxlIiwidGJvZHkiLCJ0aGVhZCIsInRmb290IiwidGgiLCJ0ciIsInRkIiwiY2FwdGlvbiJdKSxsYXQ9bGUoWyJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJwIiwiZGl2IiwiYWRkcmVzcyIsInByZSIsImZvcm0iLCJibG9ja3F1b3RlIiwiY2VudGVyIiwiZGlyIiwiZmllbGRzZXQiLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwic2VjdGlvbiIsImhncm91cCIsImFzaWRlIiwibmF2IiwiZmlndXJlIl0pLGtuPWxlKFsidWwiLCJvbCIsImRsIl0pLGZhPWxlKFsibGkiLCJkZCIsImR0Il0pLHVsaT1sZShbInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCJdKSxucD1sZShbInRkIiwidGgiXSksdHA9bGUoWyJwcmUiLCJzY3JpcHQiLCJ0ZXh0YXJlYSIsInN0eWxlIl0pLGRuPSLvu78iLGlyPSLCoCIsZmk9ZG4saXA9ZnVuY3Rpb24obil7cmV0dXJuIG49PT1kbn0sdmU9ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvXHVGRUZGL2csIiIpfSxmbGk9aCxuYz1vLHJwPWZ1bmN0aW9uKG4pe3JldHVybiBuYyhuKSYmbi5kYXRhWzBdPT09Zml9LHVwPWZ1bmN0aW9uKG4pe3JldHVybiBuYyhuKSYmbi5kYXRhW24uZGF0YS5sZW5ndGgtMV09PT1maX0sYWF0PWd1LGVsaT1ydCxvbGk9c3Qsc2xpPW8saGxpPWRyKFsic2NyaXB0Iiwic3R5bGUiLCJ0ZXh0YXJlYSJdKSx2YXQ9ZHIoWyJpbWciLCJpbnB1dCIsInRleHRhcmVhIiwiaHIiLCJpZnJhbWUiLCJ2aWRlbyIsImF1ZGlvIiwib2JqZWN0IiwiZW1iZWQiXSksY2xpPWRyKFsidGFibGUiXSksbGxpPWhyLGduPWZ1bmN0aW9uKG4pe3JldHVybiExPT09KGgodD1uKSYmInRydWUiPT09dC5nZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIpKSYmZWxpKG4pO3ZhciB0fSxhbGk9L15bIFx0XHJcbl0qJC8sdmxpPXRsdCgiZGF0YS1tY2UtYm9va21hcmsiKSx5bGk9dGx0KCJkYXRhLW1jZS1ib2d1cyIpLHBsaT1mdW5jdGlvbihuKXtyZXR1cm4gaChuKSYmImFsbCI9PT1uLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKX0sbnR0PWZ1bmN0aW9uKG4sdCxpKXt2YXIgZj1pfHx0LGUsdix5LHMscCx3LHIsYyxsLGIsayxhLHU7aWYoaCh0KSYmcmF0KHQpKXJldHVybiB0O2ZvcihhPXQuY2hpbGROb2Rlcyx1PWEubGVuZ3RoLTE7MDw9dTt1LS0pbnR0KG4sYVt1XSxmKTtyZXR1cm4haCh0KXx8MT09PShlPXQuY2hpbGROb2RlcykubGVuZ3RoJiZyYXQoZVswXSkmJnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZVswXSx0KSx0bih5PXQpfHxubih5KXx8ZHkodCxmKXx8aCh2PXQpJiYwPHYuY2hpbGROb2Rlcy5sZW5ndGh8fChwPWYsbyhzPXQpJiYwPHMuZGF0YS5sZW5ndGgmJihjPW5ldyB5dCh3PXMscj1wKS5wcmV2KCExKSxsPW5ldyB5dCh3LHIpLm5leHQoITEpLGI9dHIoYyl8fGlhdChjLHIpLGs9dHIobCl8fGlhdChsLHIpLGImJmspKXx8bi5yZW1vdmUodCksdH0sd2xpPXIubWFrZU1hcCxmcD0vWyY8PlwiXHUwMDYwXHUwMDdFLVx1RDdGRlx1RTAwMC1cdUZGRUZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLGVwPS9bPD4mXHUwMDdFLVx1RDdGRlx1RTAwMC1cdUZGRUZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLGJsaT0vWzw+JlwiXCddL2csa2xpPS8mIyhbYS16MC05XSspOz98JihbYS16MC05XSspOy9naSxkbGk9ezEyODoi4oKsIiwxMzA6IuKAmiIsMTMxOiLGkiIsMTMyOiLigJ4iLDEzMzoi4oCmIiwxMzQ6IuKAoCIsMTM1OiLigKEiLDEzNjoiy4YiLDEzNzoi4oCwIiwxMzg6IsWgIiwxMzk6IuKAuSIsMTQwOiLFkiIsMTQyOiLFvSIsMTQ1OiLigJgiLDE0Njoi4oCZIiwxNDc6IuKAnCIsMTQ4OiLigJ0iLDE0OToi4oCiIiwxNTA6IuKAkyIsMTUxOiLigJQiLDE1Mjoiy5wiLDE1Mzoi4oSiIiwxNTQ6IsWhIiwxNTU6IuKAuiIsMTU2OiLFkyIsMTU4OiLFviIsMTU5OiLFuCJ9LGlzPXsnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCImIjoiJmFtcDsiLCJgIjoiJiM5NjsifSxnbGk9eyImbHQ7IjoiPCIsIiZndDsiOiI+IiwiJmFtcDsiOiImIiwiJnF1b3Q7IjonIicsIiZhcG9zOyI6IicifSx0dHQ9dWF0KCI1MCxuYnNwLDUxLGlleGNsLDUyLGNlbnQsNTMscG91bmQsNTQsY3VycmVuLDU1LHllbiw1NixicnZiYXIsNTcsc2VjdCw1OCx1bWwsNTksY29weSw1YSxvcmRmLDViLGxhcXVvLDVjLG5vdCw1ZCxzaHksNWUscmVnLDVmLG1hY3IsNWcsZGVnLDVoLHBsdXNtbiw1aSxzdXAyLDVqLHN1cDMsNWssYWN1dGUsNWwsbWljcm8sNW0scGFyYSw1bixtaWRkb3QsNW8sY2VkaWwsNXAsc3VwMSw1cSxvcmRtLDVyLHJhcXVvLDVzLGZyYWMxNCw1dCxmcmFjMTIsNXUsZnJhYzM0LDV2LGlxdWVzdCw2MCxBZ3JhdmUsNjEsQWFjdXRlLDYyLEFjaXJjLDYzLEF0aWxkZSw2NCxBdW1sLDY1LEFyaW5nLDY2LEFFbGlnLDY3LENjZWRpbCw2OCxFZ3JhdmUsNjksRWFjdXRlLDZhLEVjaXJjLDZiLEV1bWwsNmMsSWdyYXZlLDZkLElhY3V0ZSw2ZSxJY2lyYyw2ZixJdW1sLDZnLEVUSCw2aCxOdGlsZGUsNmksT2dyYXZlLDZqLE9hY3V0ZSw2ayxPY2lyYyw2bCxPdGlsZGUsNm0sT3VtbCw2bix0aW1lcyw2byxPc2xhc2gsNnAsVWdyYXZlLDZxLFVhY3V0ZSw2cixVY2lyYyw2cyxVdW1sLDZ0LFlhY3V0ZSw2dSxUSE9STiw2dixzemxpZyw3MCxhZ3JhdmUsNzEsYWFjdXRlLDcyLGFjaXJjLDczLGF0aWxkZSw3NCxhdW1sLDc1LGFyaW5nLDc2LGFlbGlnLDc3LGNjZWRpbCw3OCxlZ3JhdmUsNzksZWFjdXRlLDdhLGVjaXJjLDdiLGV1bWwsN2MsaWdyYXZlLDdkLGlhY3V0ZSw3ZSxpY2lyYyw3ZixpdW1sLDdnLGV0aCw3aCxudGlsZGUsN2ksb2dyYXZlLDdqLG9hY3V0ZSw3ayxvY2lyYyw3bCxvdGlsZGUsN20sb3VtbCw3bixkaXZpZGUsN28sb3NsYXNoLDdwLHVncmF2ZSw3cSx1YWN1dGUsN3IsdWNpcmMsN3MsdXVtbCw3dCx5YWN1dGUsN3UsdGhvcm4sN3YseXVtbCxjaSxmbm9mLHNoLEFscGhhLHNpLEJldGEsc2osR2FtbWEsc2ssRGVsdGEsc2wsRXBzaWxvbixzbSxaZXRhLHNuLEV0YSxzbyxUaGV0YSxzcCxJb3RhLHNxLEthcHBhLHNyLExhbWJkYSxzcyxNdSxzdCxOdSxzdSxYaSxzdixPbWljcm9uLHQwLFBpLHQxLFJobyx0MyxTaWdtYSx0NCxUYXUsdDUsVXBzaWxvbix0NixQaGksdDcsQ2hpLHQ4LFBzaSx0OSxPbWVnYSx0aCxhbHBoYSx0aSxiZXRhLHRqLGdhbW1hLHRrLGRlbHRhLHRsLGVwc2lsb24sdG0semV0YSx0bixldGEsdG8sdGhldGEsdHAsaW90YSx0cSxrYXBwYSx0cixsYW1iZGEsdHMsbXUsdHQsbnUsdHUseGksdHYsb21pY3Jvbix1MCxwaSx1MSxyaG8sdTIsc2lnbWFmLHUzLHNpZ21hLHU0LHRhdSx1NSx1cHNpbG9uLHU2LHBoaSx1NyxjaGksdTgscHNpLHU5LG9tZWdhLHVoLHRoZXRhc3ltLHVpLHVwc2loLHVtLHBpdiw4MTIsYnVsbCw4MTYsaGVsbGlwLDgxaSxwcmltZSw4MWosUHJpbWUsODF1LG9saW5lLDgyNCxmcmFzbCw4OG8sd2VpZXJwLDg4aCxpbWFnZSw4OHMscmVhbCw4OTIsdHJhZGUsODlsLGFsZWZzeW0sOGNnLGxhcnIsOGNoLHVhcnIsOGNpLHJhcnIsOGNqLGRhcnIsOGNrLGhhcnIsOGRsLGNyYXJyLDhlZyxsQXJyLDhlaCx1QXJyLDhlaSxyQXJyLDhlaixkQXJyLDhlayxoQXJyLDhnMCxmb3JhbGwsOGcyLHBhcnQsOGczLGV4aXN0LDhnNSxlbXB0eSw4ZzcsbmFibGEsOGc4LGlzaW4sOGc5LG5vdGluLDhnYixuaSw4Z2YscHJvZCw4Z2gsc3VtLDhnaSxtaW51cyw4Z24sbG93YXN0LDhncSxyYWRpYyw4Z3QscHJvcCw4Z3UsaW5maW4sOGgwLGFuZyw4aDcsYW5kLDhoOCxvciw4aDksY2FwLDhoYSxjdXAsOGhiLGludCw4aGssdGhlcmU0LDhocyxzaW0sOGk1LGNvbmcsOGk4LGFzeW1wLDhqMCxuZSw4ajEsZXF1aXYsOGo0LGxlLDhqNSxnZSw4azIsc3ViLDhrMyxzdXAsOGs0LG5zdWIsOGs2LHN1YmUsOGs3LHN1cGUsOGtsLG9wbHVzLDhrbixvdGltZXMsOGw1LHBlcnAsOG01LHNkb3QsOG84LGxjZWlsLDhvOSxyY2VpbCw4b2EsbGZsb29yLDhvYixyZmxvb3IsOHA5LGxhbmcsOHBhLHJhbmcsOWVhLGxveiw5ajAsc3BhZGVzLDlqMyxjbHVicyw5ajUsaGVhcnRzLDlqNixkaWFtcyxhaSxPRWxpZyxhaixvZWxpZyxiMCxTY2Fyb24sYjEsc2Nhcm9uLGJvLFl1bWwsbTYsY2lyYyxtcyx0aWxkZSw4MDIsZW5zcCw4MDMsZW1zcCw4MDksdGhpbnNwLDgwYyx6d25qLDgwZCx6d2osODBlLGxybSw4MGYscmxtLDgwaixuZGFzaCw4MGssbWRhc2gsODBvLGxzcXVvLDgwcCxyc3F1byw4MHEsc2JxdW8sODBzLGxkcXVvLDgwdCxyZHF1byw4MHUsYmRxdW8sODEwLGRhZ2dlciw4MTEsRGFnZ2VyLDgxZyxwZXJtaWwsODFwLGxzYXF1byw4MXEscnNhcXVvLDg1YyxldXJvIiwzMikseWU9e2VuY29kZVJhdzpmYXQsZW5jb2RlQWxsUmF3OmZ1bmN0aW9uKG4pe3JldHVybigiIituKS5yZXBsYWNlKGJsaSxmdW5jdGlvbihuKXtyZXR1cm4gaXNbbl18fG59KX0sZW5jb2RlTnVtZXJpYzplYXQsZW5jb2RlTmFtZWQ6dm4sZ2V0RW5jb2RlRnVuYzpmdW5jdGlvbihuLHQpe3ZhciByPXVhdCh0KXx8dHR0LGk9d2xpKG4ucmVwbGFjZSgvXCsvZywiLCIpKTtyZXR1cm4gaS5uYW1lZCYmaS5udW1lcmljP2Z1bmN0aW9uKG4sdCl7cmV0dXJuIG4ucmVwbGFjZSh0P2ZwOmVwLGZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDAhPT1pc1tuXT9pc1tuXTp2b2lkIDAhPT1yW25dP3Jbbl06MTxuLmxlbmd0aD8iJiMiKygxMDI0KihuLmNoYXJDb2RlQXQoMCktNTUyOTYpKyhuLmNoYXJDb2RlQXQoMSktNTYzMjApKzY1NTM2KSsiOyI6IiYjIituLmNoYXJDb2RlQXQoMCkrIjsifSl9OmkubmFtZWQ/dD9mdW5jdGlvbihuLHQpe3JldHVybiB2bihuLHQscil9OnZuOmkubnVtZXJpYz9lYXQ6ZmF0fSxkZWNvZGU6ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZShrbGksZnVuY3Rpb24obixpKXtyZXR1cm4gaT82NTUzNTwoaT0ieCI9PT1pLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpP3BhcnNlSW50KGkuc3Vic3RyKDEpLDE2KTpwYXJzZUludChpLDEwKSk/KGktPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGk+PjEwKSw1NjMyMCsoMTAyMyZpKSkpOmRsaVtpXXx8U3RyaW5nLmZyb21DaGFyQ29kZShpKTpnbGlbbl18fHR0dFtuXXx8KHI9biwodT10LmZyb21UYWcoImRpdiIpLmRvbSkuaW5uZXJIVE1MPXIsdS50ZXh0Q29udGVudHx8dS5pbm5lclRleHR8fHIpO3ZhciByLHV9KX19LHJzPXt9LG5haT17fSx0Yz1yLm1ha2VNYXAsZWk9ci5lYWNoLGl0dD1yLmV4dGVuZCx5YXQ9ci5leHBsb2RlLHRhaT1yLmluQXJyYXksaWFpPXtrZXlMb2NhdGlvbjohMCxsYXllclg6ITAsbGF5ZXJZOiEwLHJldHVyblZhbHVlOiEwLHdlYmtpdE1vdmVtZW50WDohMCx3ZWJraXRNb3ZlbWVudFk6ITAsa2V5SWRlbnRpZmllcjohMCxtb3pQcmVzc3VyZTohMH0scmFpPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxpYz0ocmYucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24obix0LGkscil7ZnVuY3Rpb24geShuKXt1LmV4ZWN1dGVIYW5kbGVycyhnaChufHxsLmV2ZW50KSxlKX12YXIgZSxvLGYsaCxzLGMsdT10aGlzLGw9d2luZG93LGEsdjtpZihuJiYzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUpe2ZvcihuW3UuZXhwYW5kb10/ZT1uW3UuZXhwYW5kb106KGU9dS5jb3VudCsrLG5bdS5leHBhbmRvXT1lLHUuZXZlbnRzW2VdPXt9KSxyPXJ8fG4sYT10LnNwbGl0KCIgIiksdj1hLmxlbmd0aDt2LS07KXM9eSxoPWM9ITEsIkRPTUNvbnRlbnRMb2FkZWQiPT09KGY9YVt2XSkmJihmPSJyZWFkeSIpLHUuZG9tTG9hZGVkJiYicmVhZHkiPT09ZiYmImNvbXBsZXRlIj09PW4ucmVhZHlTdGF0ZT9pLmNhbGwocixnaCh7dHlwZTpmfSkpOih1Lmhhc01vdXNlRW50ZXJMZWF2ZXx8KGg9dS5tb3VzZUVudGVyTGVhdmVbZl0pJiYocz1mdW5jdGlvbihuKXt2YXIgaT1uLmN1cnJlbnRUYXJnZXQsdD1uLnJlbGF0ZWRUYXJnZXQ7aWYodCYmaS5jb250YWlucyl0PWkuY29udGFpbnModCk7ZWxzZSBmb3IoO3QmJnQhPT1pOyl0PXQucGFyZW50Tm9kZTt0fHwoKG49Z2gobnx8bC5ldmVudCkpLnR5cGU9Im1vdXNlb3V0Ij09PW4udHlwZT8ibW91c2VsZWF2ZSI6Im1vdXNlZW50ZXIiLG4udGFyZ2V0PWksdS5leGVjdXRlSGFuZGxlcnMobixlKSl9KSx1Lmhhc0ZvY3VzSW58fCJmb2N1c2luIiE9PWYmJiJmb2N1c291dCIhPT1mfHwoYz0hMCxoPSJmb2N1c2luIj09PWY/ImZvY3VzIjoiYmx1ciIscz1mdW5jdGlvbihuKXsobj1naChufHxsLmV2ZW50KSkudHlwZT0iZm9jdXMiPT09bi50eXBlPyJmb2N1c2luIjoiZm9jdXNvdXQiO3UuZXhlY3V0ZUhhbmRsZXJzKG4sZSl9KSwobz11LmV2ZW50c1tlXVtmXSk/InJlYWR5Ij09PWYmJnUuZG9tTG9hZGVkP2koZ2goe3R5cGU6Zn0pKTpvLnB1c2goe2Z1bmM6aSxzY29wZTpyfSk6KHUuZXZlbnRzW2VdW2ZdPW89W3tmdW5jOmksc2NvcGU6cn1dLG8uZmFrZU5hbWU9aCxvLmNhcHR1cmU9YyxvLm5hdGl2ZUhhbmRsZXI9cywicmVhZHkiPT09Zj9mdW5jdGlvbihuLHQsaSl7dmFyIHIsdT1uLmRvY3VtZW50LGY9e3R5cGU6InJlYWR5In07aS5kb21Mb2FkZWQ/dChmKToocj1mdW5jdGlvbigpe2d5KG4sIkRPTUNvbnRlbnRMb2FkZWQiLHIpO2d5KG4sImxvYWQiLHIpO2kuZG9tTG9hZGVkfHwoaS5kb21Mb2FkZWQ9ITAsdChmKSk7bj1udWxsfSwiY29tcGxldGUiPT09dS5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT09dS5yZWFkeVN0YXRlJiZ1LmJvZHk/cigpOmJuKG4sIkRPTUNvbnRlbnRMb2FkZWQiLHIpLGkuZG9tTG9hZGVkfHxibihuLCJsb2FkIixyKSl9KG4scyx1KTpibihuLGh8fGYscyxjKSkpO3JldHVybiBuPW89bnVsbCxpfX0scmYucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihuLHQsaSl7dmFyIGUsZix1LG8sYyxsLGEscixzLGg7aWYoIW58fDM9PT1uLm5vZGVUeXBlfHw4PT09bi5ub2RlVHlwZSlyZXR1cm4gdGhpcztpZihvPW5bdGhpcy5leHBhbmRvXSxvKXtpZih1PXRoaXMuZXZlbnRzW29dLHQpe2ZvcihzPXQuc3BsaXQoIiAiKSxoPXMubGVuZ3RoO2gtLTspaWYocj11W2Y9c1toXV0pe2lmKGkpZm9yKGU9ci5sZW5ndGg7ZS0tOylyW2VdLmZ1bmM9PT1pJiYoYz1yLm5hdGl2ZUhhbmRsZXIsbD1yLmZha2VOYW1lLGE9ci5jYXB0dXJlLChyPXIuc2xpY2UoMCxlKS5jb25jYXQoci5zbGljZShlKzEpKSkubmF0aXZlSGFuZGxlcj1jLHIuZmFrZU5hbWU9bCxyLmNhcHR1cmU9YSx1W2ZdPXIpO2kmJjAhPT1yLmxlbmd0aHx8KGRlbGV0ZSB1W2ZdLGd5KG4sci5mYWtlTmFtZXx8ZixyLm5hdGl2ZUhhbmRsZXIsci5jYXB0dXJlKSl9fWVsc2UgZXQodSxmdW5jdGlvbih0LGkpe2d5KG4sdC5mYWtlTmFtZXx8aSx0Lm5hdGl2ZUhhbmRsZXIsdC5jYXB0dXJlKX0pLHU9e307Zm9yKGYgaW4gdSlpZih3KHUsZikpcmV0dXJuIHRoaXM7ZGVsZXRlIHRoaXMuZXZlbnRzW29dO3RyeXtkZWxldGUgblt0aGlzLmV4cGFuZG9dfWNhdGNoKHQpe25bdGhpcy5leHBhbmRvXT1udWxsfX1yZXR1cm4gdGhpc30scmYucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24obix0LGkpe3ZhciB1LHI7aWYoIW58fDM9PT1uLm5vZGVUeXBlfHw4PT09bi5ub2RlVHlwZSlyZXR1cm4gdGhpcztmb3Iocj1naCh7dHlwZTp0LHRhcmdldDpufSxpKTsodT1uW3RoaXMuZXhwYW5kb10pJiZ0aGlzLmV4ZWN1dGVIYW5kbGVycyhyLHUpLChuPW4ucGFyZW50Tm9kZXx8bi5vd25lckRvY3VtZW50fHxuLmRlZmF1bHRWaWV3fHxuLnBhcmVudFdpbmRvdykmJiFyLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KTtyZXR1cm4gdGhpc30scmYucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKG4pe3ZhciB0LGk7aWYoIW58fDM9PT1uLm5vZGVUeXBlfHw4PT09bi5ub2RlVHlwZSlyZXR1cm4gdGhpcztpZihuW3RoaXMuZXhwYW5kb10mJnRoaXMudW5iaW5kKG4pLChuPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bjpuLmRvY3VtZW50KSYmbi5nZXRFbGVtZW50c0J5VGFnTmFtZSlmb3IodGhpcy51bmJpbmQobiksdD0oaT1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLmxlbmd0aDt0LS07KShuPWlbdF0pW3RoaXMuZXhwYW5kb10mJnRoaXMudW5iaW5kKG4pO3JldHVybiB0aGlzfSxyZi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZXZlbnRzPXt9fSxyZi5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKG4pe3JldHVybiBuJiYobi5wcmV2ZW50RGVmYXVsdCgpLG4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpLCExfSxyZi5wcm90b3R5cGUuZXhlY3V0ZUhhbmRsZXJzPWZ1bmN0aW9uKG4sdCl7dmFyIGY9dGhpcy5ldmVudHNbdF0sdT1mJiZmW24udHlwZV0saSxlLHI7aWYodSlmb3IoaT0wLGU9dS5sZW5ndGg7aTxlO2krKylpZihyPXVbaV0sciYmITE9PT1yLmZ1bmMuY2FsbChyLnNjb3BlLG4pJiZuLnByZXZlbnREZWZhdWx0KCksbi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXJldHVybn0scmYuRXZlbnQ9bmV3IHJmLHJmKTt2YXIgd3QsdHQsb3AscGF0LGVhLHJ0dCx3YXQsc3Asd2UscmMsYmUsY3IsaHAsdWYsa2UsdWMsb2Esb2k9InNpenpsZSIrLW5ldyBEYXRlLGh1PXdpbmRvdy5kb2N1bWVudCxmZj0wLHVhaT0wLGJhdD1vdHQoKSxrYXQ9b3R0KCksZGF0PW90dCgpLHV0dD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHJjPSEwKSwwfSxjcD0idW5kZWZpbmVkIixmYWk9e30uaGFzT3duUHJvcGVydHksZGU9W10sZWFpPWRlLnBvcCxvYWk9ZGUucHVzaCxnZT1kZS5wdXNoLGdhdD1kZS5zbGljZSx1cz1kZS5pbmRleE9mfHxmdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPXRoaXMubGVuZ3RoO3Q8aTt0KyspaWYodGhpc1t0XT09PW4pcmV0dXJuIHQ7cmV0dXJuLTF9LG90PSJbXFx4MjBcXHRcXHJcXG5cXGZdIixmcz0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLG52dD0iXFxbIitvdCsiKigiK2ZzKyIpKD86IitvdCsiKihbKl4kfCF+XT89KSIrb3QrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitmcysiKSl8KSIrb3QrIipcXF0iLHR2dD0iOigiK2ZzKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitudnQrIikqKXwuKilcXCl8KSIsbHA9bmV3IFJlZ0V4cCgiXiIrb3QrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrb3QrIiskIiwiZyIpLHNhaT1uZXcgUmVnRXhwKCJeIitvdCsiKiwiK290KyIqIiksaGFpPW5ldyBSZWdFeHAoIl4iK290KyIqKFs+K35dfCIrb3QrIikiK290KyIqIiksY2FpPW5ldyBSZWdFeHAoIj0iK290KyIqKFteXFxdJ1wiXSo/KSIrb3QrIipcXF0iLCJnIiksbGFpPW5ldyBSZWdFeHAodHZ0KSxhYWk9bmV3IFJlZ0V4cCgiXiIrZnMrIiQiKSxhcD17SUQ6bmV3IFJlZ0V4cCgiXiMoIitmcysiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitmcysiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrZnMrInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitudnQpLFBTRVVETzpuZXcgUmVnRXhwKCJeIit0dnQpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrb3QrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK290KyIqKD86KFsrLV18KSIrb3QrIiooXFxkKyl8KSkiK290KyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrb3QrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrb3QrIiooKD86LVxcZCk/XFxkKikiK290KyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSx2YWk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5YWk9L15oXGQkL2ksZnR0PS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxwYWk9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxldHQ9L1srfl0vLHdhaT0vJ3xcXC9nLG5vPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrb3QrIj98KCIrb3QrIil8LikiLCJpZyIpO3RyeXtnZS5hcHBseShkZT1nYXQuY2FsbChodS5jaGlsZE5vZGVzKSxodS5jaGlsZE5vZGVzKTtkZVtodS5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goa2Qpe2dlPXthcHBseTpkZS5sZW5ndGg/ZnVuY3Rpb24obix0KXtvYWkuYXBwbHkobixnYXQuY2FsbCh0KSl9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPW4ubGVuZ3RoLHI9MDtuW2krK109dFtyKytdOyk7bi5sZW5ndGg9aS0xfX19az1mdW5jdGlvbihuLHQsaSxyKXt2YXIgaCx1LGYsbyxjLHMsbCxlLHYsYTtpZigodD90Lm93bmVyRG9jdW1lbnR8fHQ6aHUpIT09Y3ImJmJlKHQpLGk9aXx8W10sIW58fCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gaTtpZigxIT09KG89KHQ9dHx8Y3IpLm5vZGVUeXBlKSYmOSE9PW8pcmV0dXJuW107aWYodWYmJiFyKXtpZihoPXBhaS5leGVjKG4pKWlmKGY9aFsxXSl7aWYoOT09PW8pe2lmKCEodT10LmdldEVsZW1lbnRCeUlkKGYpKXx8IXUucGFyZW50Tm9kZSlyZXR1cm4gaTtpZih1LmlkPT09ZilyZXR1cm4gaS5wdXNoKHUpLGl9ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJih1PXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChmKSkmJm9hKHQsdSkmJnUuaWQ9PT1mKXJldHVybiBpLnB1c2godSksaX1lbHNle2lmKGhbMl0pcmV0dXJuIGdlLmFwcGx5KGksdC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSksaTtpZigoZj1oWzNdKSYmd3QuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gZ2UuYXBwbHkoaSx0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGl9aWYod3QucXNhJiYoIWtlfHwha2UudGVzdChuKSkpe2lmKGU9bD1vaSx2PXQsYT05PT09byYmbiwxPT09byYmIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2ZvcihzPWVhKG4pLChsPXQuZ2V0QXR0cmlidXRlKCJpZCIpKT9lPWwucmVwbGFjZSh3YWksIlxcJCYiKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGUpLGU9IltpZD0nIitlKyInXSAiLGM9cy5sZW5ndGg7Yy0tOylzW2NdPWUrdnAoc1tjXSk7dj1ldHQudGVzdChuKSYmc3R0KHQucGFyZW50Tm9kZSl8fHQ7YT1zLmpvaW4oIiwiKX1pZihhKXRyeXtyZXR1cm4gZ2UuYXBwbHkoaSx2LnF1ZXJ5U2VsZWN0b3JBbGwoYSkpLGl9Y2F0Y2gobil7fWZpbmFsbHl7bHx8dC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gd2F0KG4ucmVwbGFjZShscCwiJDEiKSx0LGkscil9O3d0PWsuc3VwcG9ydD17fTtwYXQ9ay5pc1hNTD1mdW5jdGlvbihuKXt2YXIgdD1uJiYobi5vd25lckRvY3VtZW50fHxuKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuISF0JiYiSFRNTCIhPT10Lm5vZGVOYW1lfTtiZT1rLnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciByLHQ9bj9uLm93bmVyRG9jdW1lbnR8fG46aHUsaT10LmRlZmF1bHRWaWV3O3JldHVybiB0IT09Y3ImJjk9PT10Lm5vZGVUeXBlJiZ0LmRvY3VtZW50RWxlbWVudD8oaHA9KGNyPXQpLmRvY3VtZW50RWxlbWVudCx1Zj0hcGF0KHQpLGkmJmkhPT1mdW5jdGlvbihuKXt0cnl7cmV0dXJuIG4udG9wfWNhdGNoKG4pe31yZXR1cm4gbnVsbH0oaSkmJihpLmFkZEV2ZW50TGlzdGVuZXI/aS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7YmUoKX0sITEpOmkuYXR0YWNoRXZlbnQmJmkuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2JlKCl9KSksd3QuYXR0cmlidXRlcz0hMCx3dC5nZXRFbGVtZW50c0J5VGFnTmFtZT0hMCx3dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPWZ0dC50ZXN0KHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksd3QuZ2V0QnlJZD0hMCx0dC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQhPWNwJiZ1Zil7dmFyIGk9dC5nZXRFbGVtZW50QnlJZChuKTtyZXR1cm4gaSYmaS5wYXJlbnROb2RlP1tpXTpbXX19LHR0LmZpbHRlci5JRD1mdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2Uobm8scGUpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sdHQuZmluZC5UQUc9d3QuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24obix0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9Y3ApcmV0dXJuIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobil9OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj1bXSxmPTAsdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO2lmKCIqIiE9PW4pcmV0dXJuIHU7Zm9yKDtpPXVbZisrXTspMT09PWkubm9kZVR5cGUmJnIucHVzaChpKTtyZXR1cm4gcn0sdHQuZmluZC5DTEFTUz13dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihuLHQpe2lmKHVmKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobil9LHVjPVtdLGtlPVtdLHd0LmRpc2Nvbm5lY3RlZE1hdGNoPSEwLGtlPWtlLmxlbmd0aCYmbmV3IFJlZ0V4cChrZS5qb2luKCJ8IikpLHVjPXVjLmxlbmd0aCYmbmV3IFJlZ0V4cCh1Yy5qb2luKCJ8IikpLHI9ZnR0LnRlc3QoaHAuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLG9hPXJ8fGZ0dC50ZXN0KGhwLmNvbnRhaW5zKT9mdW5jdGlvbihuLHQpe3ZhciByPTk9PT1uLm5vZGVUeXBlP24uZG9jdW1lbnRFbGVtZW50Om4saT10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIG49PT1pfHwhKCFpfHwxIT09aS5ub2RlVHlwZXx8IShyLmNvbnRhaW5zP3IuY29udGFpbnMoaSk6bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpfTpmdW5jdGlvbihuLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PW4pcmV0dXJuITA7cmV0dXJuITF9LHV0dD1yP2Z1bmN0aW9uKG4saSl7cmV0dXJuIG49PT1pPyhyYz0hMCwwKToocj0hbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0haS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbil8fCgxJihyPShuLm93bmVyRG9jdW1lbnR8fG4pPT09KGkub3duZXJEb2N1bWVudHx8aSk/bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKToxKXx8IXd0LnNvcnREZXRhY2hlZCYmaS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKT09PXI/bj09PXR8fG4ub3duZXJEb2N1bWVudD09PWh1JiZvYShodSxuKT8tMTppPT09dHx8aS5vd25lckRvY3VtZW50PT09aHUmJm9hKGh1LGkpPzE6d2U/dXMuY2FsbCh3ZSxuKS11cy5jYWxsKHdlLGkpOjA6NCZyPy0xOjEpO3ZhciByfTpmdW5jdGlvbihuLGkpe2lmKG49PT1pKXJldHVybiByYz0hMCwwO3ZhciByLHU9MCxvPW4ucGFyZW50Tm9kZSxzPWkucGFyZW50Tm9kZSxmPVtuXSxlPVtpXTtpZighb3x8IXMpcmV0dXJuIG49PT10Py0xOmk9PT10PzE6bz8tMTpzPzE6d2U/dXMuY2FsbCh3ZSxuKS11cy5jYWxsKHdlLGkpOjA7aWYobz09PXMpcmV0dXJuIGl2dChuLGkpO2ZvcihyPW47cj1yLnBhcmVudE5vZGU7KWYudW5zaGlmdChyKTtmb3Iocj1pO3I9ci5wYXJlbnROb2RlOyllLnVuc2hpZnQocik7Zm9yKDtmW3VdPT09ZVt1XTspdSsrO3JldHVybiB1P2l2dChmW3VdLGVbdV0pOmZbdV09PT1odT8tMTplW3VdPT09aHU/MTowfSx0KTpjcn07ay5tYXRjaGVzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGsobixudWxsLG51bGwsdCl9O2subWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKG4sdCl7aWYoKG4ub3duZXJEb2N1bWVudHx8bikhPT1jciYmYmUobiksdD10LnJlcGxhY2UoY2FpLCI9JyQxJ10iKSx3dC5tYXRjaGVzU2VsZWN0b3ImJnVmJiYoIXVjfHwhdWMudGVzdCh0KSkmJigha2V8fCFrZS50ZXN0KHQpKSl0cnl7dmFyIGk9KHZvaWQgMCkuY2FsbChuLHQpO2lmKGl8fHd0LmRpc2Nvbm5lY3RlZE1hdGNofHxuLmRvY3VtZW50JiYxMSE9PW4uZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGl9Y2F0Y2gobil7fXJldHVybiAwPGsodCxjcixudWxsLFtuXSkubGVuZ3RofTtrLmNvbnRhaW5zPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKG4ub3duZXJEb2N1bWVudHx8bikhPT1jciYmYmUobiksb2Eobix0KX07ay5hdHRyPWZ1bmN0aW9uKG4sdCl7KG4ub3duZXJEb2N1bWVudHx8bikhPT1jciYmYmUobik7dmFyIHI9dHQuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLGk9ciYmZmFpLmNhbGwodHQuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP3Iobix0LCF1Zik6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1pP2k6d3QuYXR0cmlidXRlc3x8IXVmP24uZ2V0QXR0cmlidXRlKHQpOihpPW4uZ2V0QXR0cmlidXRlTm9kZSh0KSkmJmkuc3BlY2lmaWVkP2kudmFsdWU6bnVsbH07ay5lcnJvcj1mdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrbik7fTtrLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24obil7dmFyIHIsdT1bXSx0PTAsaT0wO2lmKHJjPSF3dC5kZXRlY3REdXBsaWNhdGVzLHdlPSF3dC5zb3J0U3RhYmxlJiZuLnNsaWNlKDApLG4uc29ydCh1dHQpLHJjKXtmb3IoO3I9bltpKytdOylyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTtmb3IoO3QtLTspbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gd2U9bnVsbCxufTtvcD1rLmdldFRleHQ9ZnVuY3Rpb24obil7dmFyIHIsaT0iIix1PTAsdD1uLm5vZGVUeXBlO2lmKHQpe2lmKDE9PT10fHw5PT09dHx8MTE9PT10KXtpZigic3RyaW5nIj09dHlwZW9mIG4udGV4dENvbnRlbnQpcmV0dXJuIG4udGV4dENvbnRlbnQ7Zm9yKG49bi5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKWkrPW9wKG4pfWVsc2UgaWYoMz09PXR8fDQ9PT10KXJldHVybiBuLm5vZGVWYWx1ZX1lbHNlIGZvcig7cj1uW3UrK107KWkrPW9wKHIpO3JldHVybiBpfTsodHQ9ay5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpjdSxtYXRjaDphcCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKG5vLHBlKSxuWzNdPShuWzNdfHxuWzRdfHxuWzVdfHwiIikucmVwbGFjZShubyxwZSksIn49Ij09PW5bMl0mJihuWzNdPSIgIituWzNdKyIgIiksbi5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihuKXtyZXR1cm4gblsxXT1uWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1uWzFdLnNsaWNlKDAsMyk/KG5bM118fGsuZXJyb3IoblswXSksbls0XT0rKG5bNF0/bls1XSsobls2XXx8MSk6MiooImV2ZW4iPT09blszXXx8Im9kZCI9PT1uWzNdKSksbls1XT0rKG5bN10rbls4XXx8Im9kZCI9PT1uWzNdKSk6blszXSYmay5lcnJvcihuWzBdKSxufSxQU0VVRE86ZnVuY3Rpb24obil7dmFyIGksdD0hbls2XSYmblsyXTtyZXR1cm4gYXAuQ0hJTEQudGVzdChuWzBdKT9udWxsOihuWzNdP25bMl09bls0XXx8bls1XXx8IiI6dCYmbGFpLnRlc3QodCkmJihpPWVhKHQsITApKSYmKGk9dC5pbmRleE9mKCIpIix0Lmxlbmd0aC1pKS10Lmxlbmd0aCkmJihuWzBdPW5bMF0uc2xpY2UoMCxpKSxuWzJdPXQuc2xpY2UoMCxpKSksbi5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZShubyxwZSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKG4pe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24obil7dmFyIHQ9YmF0W24rIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitvdCsiKSIrbisiKCIrb3QrInwkKSIpKSYmYmF0KG4sZnVuY3Rpb24obil7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIG4uY2xhc3NOYW1lJiZuLmNsYXNzTmFtZXx8dHlwZW9mIG4uZ2V0QXR0cmlidXRlIT1jcCYmbi5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHU9ay5hdHRyKHIsbik7cmV0dXJuIG51bGw9PXU/IiE9Ij09PXQ6IXR8fCh1Kz0iIiwiPSI9PT10P3U9PT1pOiIhPSI9PT10P3UhPT1pOiJePSI9PT10P2kmJjA9PT11LmluZGV4T2YoaSk6Iio9Ij09PXQ/aSYmLTE8dS5pbmRleE9mKGkpOiIkPSI9PT10P2kmJnUuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXQ/LTE8KCIgIit1KyIgIikuaW5kZXhPZihpKToifD0iPT09dCYmKHU9PT1pfHx1LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24obix0LGkscix1KXt2YXIgbz0ibnRoIiE9PW4uc2xpY2UoMCwzKSxlPSJsYXN0IiE9PW4uc2xpY2UoLTQpLGY9Im9mLXR5cGUiPT09dDtyZXR1cm4gMT09PXImJjA9PT11P2Z1bmN0aW9uKG4pe3JldHVybiEhbi5wYXJlbnROb2RlfTpmdW5jdGlvbih0LGkscyl7dmFyIGEsYixoLGMsbCx5LHA9byE9ZT8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHY9dC5wYXJlbnROb2RlLGs9ZiYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHc9IXMmJiFmO2lmKHYpe2lmKG8pe2Zvcig7cDspe2ZvcihoPXQ7aD1oW3BdOylpZihmP2gubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWs6MT09PWgubm9kZVR5cGUpcmV0dXJuITE7eT1wPSJvbmx5Ij09PW4mJiF5JiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKHk9W2U/di5maXJzdENoaWxkOnYubGFzdENoaWxkXSxlJiZ3KXtmb3IobD0oYT0oYj12W29pXXx8KHZbb2ldPXt9KSlbbl18fFtdKVswXT09PWZmJiZhWzFdLGM9YVswXT09PWZmJiZhWzJdLGg9bCYmdi5jaGlsZE5vZGVzW2xdO2g9KytsJiZoJiZoW3BdfHwoYz1sPTApfHx5LnBvcCgpOylpZigxPT09aC5ub2RlVHlwZSYmKytjJiZoPT09dCl7YltuXT1bZmYsbCxjXTticmVha319ZWxzZSBpZih3JiYoYT0odFtvaV18fCh0W29pXT17fSkpW25dKSYmYVswXT09PWZmKWM9YVsxXTtlbHNlIGZvcig7KGg9KytsJiZoJiZoW3BdfHwoYz1sPTApfHx5LnBvcCgpKSYmKChmP2gubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PWs6MSE9PWgubm9kZVR5cGUpfHwhKytjfHwodyYmKChoW29pXXx8KGhbb2ldPXt9KSlbbl09W2ZmLGNdKSxoIT09dCkpOyk7cmV0dXJuKGMtPXUpPT09cnx8YyVyPT0wJiYwPD1jL3J9fX0sUFNFVURPOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT10dC5wc2V1ZG9zW25dfHx0dC5zZXRGaWx0ZXJzW24udG9Mb3dlckNhc2UoKV18fGsuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIituKTtyZXR1cm4gaVtvaV0/aSh0KToxPGkubGVuZ3RoPyhyPVtuLG4sIiIsdF0sdHQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShuLnRvTG93ZXJDYXNlKCkpP2N1KGZ1bmN0aW9uKG4scil7Zm9yKHZhciBlLHU9aShuLHQpLGY9dS5sZW5ndGg7Zi0tOyluW2U9dXMuY2FsbChuLHVbZl0pXT0hKHJbZV09dVtmXSl9KTpmdW5jdGlvbihuKXtyZXR1cm4gaShuLDAscil9KTppfX0scHNldWRvczp7bm90OmN1KGZ1bmN0aW9uKG4pe3ZhciB0PVtdLHI9W10saT1ydHQobi5yZXBsYWNlKGxwLCIkMSIpKTtyZXR1cm4gaVtvaV0/Y3UoZnVuY3Rpb24obix0LHIsdSl7Zm9yKHZhciBlLG89aShuLG51bGwsdSxbXSksZj1uLmxlbmd0aDtmLS07KShlPW9bZl0pJiYobltmXT0hKHRbZl09ZSkpfSk6ZnVuY3Rpb24obix1LGYpe3JldHVybiB0WzBdPW4saSh0LG51bGwsZixyKSx0WzBdPW51bGwsIXIucG9wKCl9fSksaGFzOmN1KGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMDxrKG4sdCkubGVuZ3RofX0pLGNvbnRhaW5zOmN1KGZ1bmN0aW9uKG4pe3JldHVybiBuPW4ucmVwbGFjZShubyxwZSksZnVuY3Rpb24odCl7cmV0dXJuLTE8KHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxvcCh0KSkuaW5kZXhPZihuKX19KSxsYW5nOmN1KGZ1bmN0aW9uKG4pe3JldHVybiBhYWkudGVzdChufHwiIil8fGsuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2Uobm8scGUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIGk7ZG8gaWYoaT11Zj90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fHQuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKGk9aS50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT1pLmluZGV4T2YobisiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9d2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PW4uaWR9LHJvb3Q6ZnVuY3Rpb24obil7cmV0dXJuIG49PT1ocH0sZm9jdXM6ZnVuY3Rpb24obil7cmV0dXJuIG49PT1jci5hY3RpdmVFbGVtZW50JiYoIWNyLmhhc0ZvY3VzfHxjci5oYXNGb2N1cygpKSYmISEobi50eXBlfHxuLmhyZWZ8fH5uLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihuKXtyZXR1cm4hMT09PW4uZGlzYWJsZWR9LGRpc2FibGVkOmZ1bmN0aW9uKG4pe3JldHVybiEwPT09bi5kaXNhYmxlZH0sY2hlY2tlZDpmdW5jdGlvbihuKXt2YXIgdD1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhbi5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhbi5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1uLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihuKXtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaWYobi5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24obil7cmV0dXJuIXR0LnBzZXVkb3MuZW1wdHkobil9LGhlYWRlcjpmdW5jdGlvbihuKXtyZXR1cm4geWFpLnRlc3Qobi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiB2YWkudGVzdChuLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1uLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1uLnR5cGUmJihudWxsPT0odD1uLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6ZXMoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmVzKGZ1bmN0aW9uKG4sdCl7cmV0dXJuW3QtMV19KSxlcTplcyhmdW5jdGlvbihuLHQsaSl7cmV0dXJuW2k8MD9pK3Q6aV19KSxldmVuOmVzKGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTA7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksb2RkOmVzKGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTE7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksbHQ6ZXMoZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgcj1pPDA/aSt0Omk7MDw9LS1yOyluLnB1c2gocik7cmV0dXJuIG59KSxndDplcyhmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6aTsrK3I8dDspbi5wdXNoKHIpO3JldHVybiBufSl9fSkucHNldWRvcy5udGg9dHQucHNldWRvcy5lcTtlKFsicmFkaW8iLCJjaGVja2JveCIsImZpbGUiLCJwYXNzd29yZCIsImltYWdlIl0sZnVuY3Rpb24obil7dmFyIHQ7dHQucHNldWRvc1tuXT0odD1uLGZ1bmN0aW9uKG4pe3JldHVybiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJm4udHlwZT09PXR9KX0pO2UoWyJzdWJtaXQiLCJyZXNldCJdLGZ1bmN0aW9uKG4pe3ZhciB0O3R0LnBzZXVkb3Nbbl09KHQ9bixmdW5jdGlvbihuKXt2YXIgaT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1pfHwiYnV0dG9uIj09PWkpJiZuLnR5cGU9PT10fSl9KTtydnQucHJvdG90eXBlPXR0LmZpbHRlcnM9dHQucHNldWRvczt0dC5zZXRGaWx0ZXJzPW5ldyBydnQ7ZWE9ay50b2tlbml6ZT1mdW5jdGlvbihuLHQpe3ZhciB1LHIsZSxmLGksbyxzLGg9a2F0W24rIiAiXTtpZihoKXJldHVybiB0PzA6aC5zbGljZSgwKTtmb3IoaT1uLG89W10scz10dC5wcmVGaWx0ZXI7aTspe2ZvcihmIGluIHUmJiEocj1zYWkuZXhlYyhpKSl8fChyJiYoaT1pLnNsaWNlKHJbMF0ubGVuZ3RoKXx8aSksby5wdXNoKGU9W10pKSx1PSExLChyPWhhaS5leGVjKGkpKSYmKHU9ci5zaGlmdCgpLGUucHVzaCh7dmFsdWU6dSx0eXBlOnJbMF0ucmVwbGFjZShscCwiICIpfSksaT1pLnNsaWNlKHUubGVuZ3RoKSksdHQuZmlsdGVyKXR0LmZpbHRlci5oYXNPd25Qcm9wZXJ0eShmKSYmKCEocj1hcFtmXS5leGVjKGkpKXx8c1tmXSYmIShyPXNbZl0ocikpfHwodT1yLnNoaWZ0KCksZS5wdXNoKHt2YWx1ZTp1LHR5cGU6ZixtYXRjaGVzOnJ9KSxpPWkuc2xpY2UodS5sZW5ndGgpKSk7aWYoIXUpYnJlYWt9cmV0dXJuIHQ/aS5sZW5ndGg6aT9rLmVycm9yKG4pOmthdChuLG8pLnNsaWNlKDApfTtydHQ9ay5jb21waWxlPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gYyhuLHQsaSx1LHMpe3ZhciBjLHksYSx2PTAsaD0iMCIscD1uJiZbXSxsPVtdLHc9c3AsYj1ufHxvJiZ0dC5maW5kLlRBRygiKiIscyksZD1mZis9bnVsbD09dz8xOk1hdGgucmFuZG9tKCl8fC4xLGc9Yi5sZW5ndGg7Zm9yKHMmJihzcD10IT09Y3ImJnQpO2ghPT1nJiZudWxsIT0oYz1iW2hdKTtoKyspe2lmKG8mJmMpe2Zvcih5PTA7YT1mW3krK107KWlmKGEoYyx0LGkpKXt1LnB1c2goYyk7YnJlYWt9cyYmKGZmPWQpfXImJigoYz0hYSYmYykmJnYtLSxuJiZwLnB1c2goYykpfWlmKHYrPWgsciYmaCE9PXYpe2Zvcih5PTA7YT1lW3krK107KWEocCxsLHQsaSk7aWYobil7aWYoMDx2KWZvcig7aC0tOylwW2hdfHxsW2hdfHwobFtoXT1lYWkuY2FsbCh1KSk7bD15cChsKX1nZS5hcHBseSh1LGwpO3MmJiFuJiYwPGwubGVuZ3RoJiYxPHYrZS5sZW5ndGgmJmsudW5pcXVlU29ydCh1KX1yZXR1cm4gcyYmKGZmPWQsc3A9dykscH12YXIgdSxmLGUscixvLHM9W10saD1bXSxpPWRhdFtuKyIgIl07aWYoIWkpe2Zvcih1PSh0PXR8fGVhKG4pKS5sZW5ndGg7dS0tOykoKGk9ZnVuY3Rpb24gbih0KXtmb3IodmFyIGUsdSxyLG89dC5sZW5ndGgscz10dC5yZWxhdGl2ZVt0WzBdLnR5cGVdLGg9c3x8dHQucmVsYXRpdmVbIiAiXSxpPXM/MTowLGM9aHR0KGZ1bmN0aW9uKG4pe3JldHVybiBuPT09ZX0saCwhMCksbD1odHQoZnVuY3Rpb24obil7cmV0dXJuLTE8dXMuY2FsbChlLG4pfSxoLCEwKSxmPVtmdW5jdGlvbihuLHQsaSl7dmFyIHI9IXMmJihpfHx0IT09c3ApfHwoKGU9dCkubm9kZVR5cGU/YzpsKShuLHQsaSk7cmV0dXJuIGU9bnVsbCxyfV07aTxvO2krKylpZih1PXR0LnJlbGF0aXZlW3RbaV0udHlwZV0pZj1baHR0KGN0dChmKSx1KV07ZWxzZXtpZigodT10dC5maWx0ZXJbdFtpXS50eXBlXS5hcHBseShudWxsLHRbaV0ubWF0Y2hlcykpW29pXSl7Zm9yKHI9KytpO3I8byYmIXR0LnJlbGF0aXZlW3Rbcl0udHlwZV07cisrKTtyZXR1cm4gZnVuY3Rpb24gbih0LGkscix1LGYsZSl7cmV0dXJuIHUmJiF1W29pXSYmKHU9bih1KSksZiYmIWZbb2ldJiYoZj1uKGYsZSkpLGN1KGZ1bmN0aW9uKG4sZSxvLHMpe3ZhciBsLGMsYSxwPVtdLHk9W10sdz1lLmxlbmd0aCxiPW58fGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9MCx1PXQubGVuZ3RoO3I8dTtyKyspayhuLHRbcl0saSk7cmV0dXJuIGl9KGl8fCIqIixvLm5vZGVUeXBlP1tvXTpvLFtdKSx2PSF0fHwhbiYmaT9iOnlwKGIscCx0LG8scyksaD1yP2Z8fChuP3Q6d3x8dSk/W106ZTp2O2lmKHImJnIodixoLG8scyksdSlmb3IobD15cChoLHkpLHUobCxbXSxvLHMpLGM9bC5sZW5ndGg7Yy0tOykoYT1sW2NdKSYmKGhbeVtjXV09ISh2W3lbY11dPWEpKTtpZihuKXtpZihmfHx0KXtpZihmKXtmb3IobD1bXSxjPWgubGVuZ3RoO2MtLTspKGE9aFtjXSkmJmwucHVzaCh2W2NdPWEpO2YobnVsbCxoPVtdLGwscyl9Zm9yKGM9aC5sZW5ndGg7Yy0tOykoYT1oW2NdKSYmLTE8KGw9Zj91cy5jYWxsKG4sYSk6cFtjXSkmJihuW2xdPSEoZVtsXT1hKSl9fWVsc2UgaD15cChoPT09ZT9oLnNwbGljZSh3LGgubGVuZ3RoKTpoKSxmP2YobnVsbCxlLGgscyk6Z2UuYXBwbHkoZSxoKX0pfSgxPGkmJmN0dChmKSwxPGkmJnZwKHQuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09dFtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UobHAsIiQxIiksdSxpPHImJm4odC5zbGljZShpLHIpKSxyPG8mJm4odD10LnNsaWNlKHIpKSxyPG8mJnZwKHQpKX1mLnB1c2godSl9cmV0dXJuIGN0dChmKX0odFt1XSkpW29pXT9zOmgpLnB1c2goaSk7KGk9ZGF0KG4sKGY9aCxyPTA8KGU9cykubGVuZ3RoLG89MDxmLmxlbmd0aCxyP2N1KGMpOmMpKSkuc2VsZWN0b3I9bn1yZXR1cm4gaX07d2F0PWsuc2VsZWN0PWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBlLHUsZixoLGMscz0iZnVuY3Rpb24iPT10eXBlb2YgbiYmbixvPSFyJiZlYShuPXMuc2VsZWN0b3J8fG4pO2lmKGk9aXx8W10sMT09PW8ubGVuZ3RoKXtpZigyPCh1PW9bMF09b1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGY9dVswXSkudHlwZSYmd3QuZ2V0QnlJZCYmOT09PXQubm9kZVR5cGUmJnVmJiZ0dC5yZWxhdGl2ZVt1WzFdLnR5cGVdKXtpZighKHQ9KHR0LmZpbmQuSUQoZi5tYXRjaGVzWzBdLnJlcGxhY2Uobm8scGUpLHQpfHxbXSlbMF0pKXJldHVybiBpO3MmJih0PXQucGFyZW50Tm9kZSk7bj1uLnNsaWNlKHUuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihlPWFwLm5lZWRzQ29udGV4dC50ZXN0KG4pPzA6dS5sZW5ndGg7ZS0tJiYoZj11W2VdLCF0dC5yZWxhdGl2ZVtoPWYudHlwZV0pOylpZigoYz10dC5maW5kW2hdKSYmKHI9YyhmLm1hdGNoZXNbMF0ucmVwbGFjZShubyxwZSksZXR0LnRlc3QodVswXS50eXBlKSYmc3R0KHQucGFyZW50Tm9kZSl8fHQpKSl7aWYodS5zcGxpY2UoZSwxKSwhKG49ci5sZW5ndGgmJnZwKHUpKSlyZXR1cm4gZ2UuYXBwbHkoaSxyKSxpO2JyZWFrfX1yZXR1cm4oc3x8cnR0KG4sbykpKHIsdCwhdWYsaSxldHQudGVzdChuKSYmc3R0KHQucGFyZW50Tm9kZSl8fHQpLGl9O3d0LnNvcnRTdGFibGU9b2kuc3BsaXQoIiIpLnNvcnQodXR0KS5qb2luKCIiKT09PW9pO3d0LmRldGVjdER1cGxpY2F0ZXM9ISFyYztiZSgpO3d0LnNvcnREZXRhY2hlZD0hMDt2YXIgaHZ0PWRvY3VtZW50LGF0dD1BcnJheS5wcm90b3R5cGUucHVzaCxiYWk9QXJyYXkucHJvdG90eXBlLnNsaWNlLGthaT0vXig/OlteIzxdKig8W1x3XFddKz4pW14+XSokfCMoW1x3XC1dKikkKS8saGE9aWMuRXZlbnQsZGFpPXIubWFrZU1hcCgiY2hpbGRyZW4sY29udGVudHMsbmV4dCxwcmV2IiksZmM9ZnVuY3Rpb24obix0LGkscil7dmFyIHU7aWYobHR0KHQpKXQ9dXZ0KHQscHR0KG5bMF0pKTtlbHNlIGlmKHQubGVuZ3RoJiYhdC5ub2RlVHlwZSl7aWYodD1hLm1ha2VBcnJheSh0KSxyKWZvcih1PXQubGVuZ3RoLTE7MDw9dTt1LS0pZmMobix0W3VdLGkscik7ZWxzZSBmb3IodT0wO3U8dC5sZW5ndGg7dSsrKWZjKG4sdFt1XSxpLHIpO3JldHVybiBufWlmKHQubm9kZVR5cGUpZm9yKHU9bi5sZW5ndGg7dS0tOylpLmNhbGwoblt1XSx0KTtyZXR1cm4gbn0sZ2FpPXIubWFrZU1hcCgiZmlsbE9wYWNpdHkgZm9udFdlaWdodCBsaW5lSGVpZ2h0IG9wYWNpdHkgb3JwaGFucyB3aWRvd3MgekluZGV4IHpvb20iLCIgIiksbnZpPXIubWFrZU1hcCgiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIiwiICIpLHR2aT17ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIscmVhZG9ubHk6InJlYWRPbmx5In0saXZpPXtmbG9hdDoiY3NzRmxvYXQifSx2dHQ9e30seXR0PXt9LHJ2aT0vXlxzKnxccyokL2cscHR0PWZ1bmN0aW9uKG4pe3JldHVybiBuPzk9PT1uLm5vZGVUeXBlP246bi5vd25lckRvY3VtZW50Omh2dH07bHIuZm49bHIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpscixzZWxlY3RvcjoiIixjb250ZXh0Om51bGwsbGVuZ3RoOjAsaW5pdDpmdW5jdGlvbihuLHQpe3ZhciB1LHIsaT10aGlzO2lmKCFuKXJldHVybiBpO2lmKG4ubm9kZVR5cGUpcmV0dXJuIGkuY29udGV4dD1pWzBdPW4saS5sZW5ndGg9MSxpO2lmKHQmJnQubm9kZVR5cGUpaS5jb250ZXh0PXQ7ZWxzZXtpZih0KXJldHVybiBhKG4pLmF0dHIodCk7aS5jb250ZXh0PXQ9ZG9jdW1lbnR9aWYobHR0KG4pKXtpZighKHU9IjwiPT09KGkuc2VsZWN0b3I9bikuY2hhckF0KDApJiYiPiI9PT1uLmNoYXJBdChuLmxlbmd0aC0xKSYmMzw9bi5sZW5ndGg/W251bGwsbixudWxsXTprYWkuZXhlYyhuKSkpcmV0dXJuIGEodCkuZmluZChuKTtpZih1WzFdKWZvcihyPXV2dChuLHB0dCh0KSkuZmlyc3RDaGlsZDtyOylhdHQuY2FsbChpLHIpLHI9ci5uZXh0U2libGluZztlbHNle2lmKCEocj1wdHQodCkuZ2V0RWxlbWVudEJ5SWQodVsyXSkpKXJldHVybiBpO2lmKHIuaWQhPT11WzJdKXJldHVybiBpLmZpbmQobik7aS5sZW5ndGg9MTtpWzBdPXJ9fWVsc2UgdGhpcy5hZGQobiwhMSk7cmV0dXJuIGl9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gci50b0FycmF5KHRoaXMpfSxhZGQ6ZnVuY3Rpb24obix0KXt2YXIgcixpO2lmKGx0dChuKSlyZXR1cm4gdGhpcy5hZGQoYShuKSk7aWYoITEhPT10KWZvcihyPWEudW5pcXVlKHRoaXMudG9BcnJheSgpLmNvbmNhdChhLm1ha2VBcnJheShuKSkpLHRoaXMubGVuZ3RoPXIubGVuZ3RoLGk9MDtpPHIubGVuZ3RoO2krKyl0aGlzW2ldPXJbaV07ZWxzZSBhdHQuYXBwbHkodGhpcyxhLm1ha2VBcnJheShuKSk7cmV0dXJuIHRoaXN9LGF0dHI6ZnVuY3Rpb24obix0KXt2YXIgcixpPXRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBuKWtmKG4sZnVuY3Rpb24obix0KXtpLmF0dHIobix0KX0pO2Vsc2V7aWYoIXNhKHQpKXtpZihpWzBdJiYxPT09aVswXS5ub2RlVHlwZSl7aWYoKHI9dnR0W25dKSYmci5nZXQpcmV0dXJuIHIuZ2V0KGlbMF0sbik7aWYobnZpW25dKXJldHVybiBpLnByb3Aobik/bjp2b2lkIDA7bnVsbD09PSh0PWlbMF0uZ2V0QXR0cmlidXRlKG4sMikpJiYodD12b2lkIDApfXJldHVybiB0fXRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpOzE9PT10aGlzLm5vZGVUeXBlJiYoKGk9dnR0W25dKSYmaS5zZXQ/aS5zZXQodGhpcyx0KTpudWxsPT09dD90aGlzLnJlbW92ZUF0dHJpYnV0ZShuLDIpOnRoaXMuc2V0QXR0cmlidXRlKG4sdCwyKSl9KX1yZXR1cm4gaX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hdHRyKG4sbnVsbCl9LHByb3A6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO2lmKCJvYmplY3QiPT10eXBlb2Yobj10dmlbbl18fG4pKWtmKG4sZnVuY3Rpb24obix0KXtpLnByb3Aobix0KX0pO2Vsc2V7aWYoIXNhKHQpKXJldHVybiBpWzBdJiZpWzBdLm5vZGVUeXBlJiZuIGluIGlbMF0/aVswXVtuXTp0O3RoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiYodGhpc1tuXT10KX0pfXJldHVybiBpfSxjc3M6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBmKG4pe3JldHVybiBuLnJlcGxhY2UoLy0oXEQpL2csZnVuY3Rpb24obix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKG4pe3JldHVybiItIitufSl9dmFyIGkscix1PXRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBuKWtmKG4sZnVuY3Rpb24obix0KXt1LmNzcyhuLHQpfSk7ZWxzZSBpZihzYSh0KSluPWYobiksIm51bWJlciIhPXR5cGVvZiB0fHxnYWlbbl18fCh0PXQudG9TdHJpbmcoKSsicHgiKSx1LmVhY2goZnVuY3Rpb24oKXt2YXIgaT10aGlzLnN0eWxlO2lmKChyPXl0dFtuXSkmJnIuc2V0KXIuc2V0KHRoaXMsdCk7ZWxzZXt0cnl7dGhpcy5zdHlsZVtpdmlbbl18fG5dPXR9Y2F0Y2goaSl7fW51bGwhPT10JiYiIiE9PXR8fChpLnJlbW92ZVByb3BlcnR5P2kucmVtb3ZlUHJvcGVydHkoZShuKSk6aS5yZW1vdmVBdHRyaWJ1dGUobikpfX0pO2Vsc2V7aWYoaT11WzBdLChyPXl0dFtuXSkmJnIuZ2V0KXJldHVybiByLmdldChpKTtpZighaS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KXJldHVybiBpLmN1cnJlbnRTdHlsZT9pLmN1cnJlbnRTdHlsZVtmKG4pXToiIjt0cnl7cmV0dXJuIGkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShlKG4pKX1jYXRjaChmKXtyZXR1cm59fXJldHVybiB1fSxyZW1vdmU6ZnVuY3Rpb24oKXtmb3IodmFyIG4sdD10aGlzLmxlbmd0aDt0LS07KW49dGhpc1t0XSxoYS5jbGVhbihuKSxuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIG4sdD10aGlzLmxlbmd0aDt0LS07KWZvcihuPXRoaXNbdF07bi5maXJzdENoaWxkOyluLnJlbW92ZUNoaWxkKG4uZmlyc3RDaGlsZCk7cmV0dXJuIHRoaXN9LGh0bWw6ZnVuY3Rpb24obil7dmFyIHQ7aWYoc2Eobikpe3Q9dGhpcy5sZW5ndGg7dHJ5e2Zvcig7dC0tOyl0aGlzW3RdLmlubmVySFRNTD1ufWNhdGNoKGkpe2EodGhpc1t0XSkuZW1wdHkoKS5hcHBlbmQobil9cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXNbMF0/dGhpc1swXS5pbm5lckhUTUw6IiJ9LHRleHQ6ZnVuY3Rpb24obil7dmFyIHQ7aWYoc2Eobikpe2Zvcih0PXRoaXMubGVuZ3RoO3QtLTspImlubmVyVGV4dCJpbiB0aGlzW3RdP3RoaXNbdF0uaW5uZXJUZXh0PW46dGhpc1swXS50ZXh0Q29udGVudD1uO3JldHVybiB0aGlzfXJldHVybiB0aGlzWzBdP3RoaXNbMF0uaW5uZXJUZXh0fHx0aGlzWzBdLnRleHRDb250ZW50OiIifSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmFwcGVuZENoaWxkKG4pfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmluc2VydEJlZm9yZShuLHRoaXMuZmlyc3RDaGlsZCl9LCEwKX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT9mYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcyl9KTp0aGlzfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/ZmModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuLHRoaXMubmV4dFNpYmxpbmcpfSwhMCk6dGhpc30sYXBwZW5kVG86ZnVuY3Rpb24obil7cmV0dXJuIGEobikuYXBwZW5kKHRoaXMpLHRoaXN9LHByZXBlbmRUbzpmdW5jdGlvbihuKXtyZXR1cm4gYShuKS5wcmVwZW5kKHRoaXMpLHRoaXN9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmJlZm9yZShuKS5yZW1vdmUoKX0sd3JhcDpmdW5jdGlvbihuKXtyZXR1cm4gZXZ0KHRoaXMsbil9LHdyYXBBbGw6ZnVuY3Rpb24obil7cmV0dXJuIGV2dCh0aGlzLG4sITApfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY29udGVudHMoKS53cmFwQWxsKG4pfSksdGhpc30sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnB1c2godGhpcy5jbG9uZU5vZGUoITApKX0pLGEobil9LGFkZENsYXNzOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKG4sITApfSxyZW1vdmVDbGFzczpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhuLCExKX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8KC0xIT09bi5pbmRleE9mKCIgIik/a2Yobi5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7aS50b2dnbGVDbGFzcyh0aGlzLHQpfSk6aS5lYWNoKGZ1bmN0aW9uKGkscil7dmFyIHUsZj1mdnQocixuKTtmIT09dCYmKHU9ci5jbGFzc05hbWUsZj9yLmNsYXNzTmFtZT1vdnQoKCIgIit1KyIgIikucmVwbGFjZSgiICIrbisiICIsIiAiKSk6ci5jbGFzc05hbWUrPXU/IiAiK246bil9KSksaX0saGFzQ2xhc3M6ZnVuY3Rpb24obil7cmV0dXJuIGZ2dCh0aGlzWzBdLG4pfSxlYWNoOmZ1bmN0aW9uKG4pe3JldHVybiBrZih0aGlzLG4pfSxvbjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtoYS5iaW5kKHRoaXMsbix0KX0pfSxvZmY6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aGEudW5iaW5kKHRoaXMsbix0KX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsib2JqZWN0Ij09dHlwZW9mIG4/aGEuZmlyZSh0aGlzLG4udHlwZSxuKTpoYS5maXJlKHRoaXMsbil9KX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcygiZGlzcGxheSIsIiIpfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKCJkaXNwbGF5Iiwibm9uZSIpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBhKGJhaS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxlcTpmdW5jdGlvbihuKXtyZXR1cm4tMT09PW4/dGhpcy5zbGljZShuKTp0aGlzLnNsaWNlKG4sK24rMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGZpbmQ6ZnVuY3Rpb24obil7Zm9yKHZhciBpPVtdLHQ9MCxyPXRoaXMubGVuZ3RoO3Q8cjt0KyspYS5maW5kKG4sdGhpc1t0XSxpKTtyZXR1cm4gYShpKX0sZmlsdGVyOmZ1bmN0aW9uKG4pe3JldHVybiBhKCJmdW5jdGlvbiI9PXR5cGVvZiBuP3N2dCh0aGlzLnRvQXJyYXkoKSxmdW5jdGlvbih0LGkpe3JldHVybiBuKGksdCl9KTphLmZpbHRlcihuLHRoaXMudG9BcnJheSgpKSl9LGNsb3Nlc3Q6ZnVuY3Rpb24obil7dmFyIHQ9W107cmV0dXJuIG4gaW5zdGFuY2VvZiBhJiYobj1uWzBdKSx0aGlzLmVhY2goZnVuY3Rpb24oaSxyKXtmb3IoO3I7KXtpZigic3RyaW5nIj09dHlwZW9mIG4mJmEocikuaXMobikpe3QucHVzaChyKTticmVha31pZihyPT09bil7dC5wdXNoKHIpO2JyZWFrfXI9ci5wYXJlbnROb2RlfX0pLGEodCl9LG9mZnNldDpmdW5jdGlvbihuKXt2YXIgaSxyLHQsdSxmPTAsZT0wO3JldHVybiBuP3RoaXMuY3NzKG4pOigoaT10aGlzWzBdKSYmKHQ9KHI9aS5vd25lckRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQsaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihmPSh1PWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmxlZnQrKHQuc2Nyb2xsTGVmdHx8ci5ib2R5LnNjcm9sbExlZnQpLXQuY2xpZW50TGVmdCxlPXUudG9wKyh0LnNjcm9sbFRvcHx8ci5ib2R5LnNjcm9sbFRvcCktdC5jbGllbnRUb3ApKSx7bGVmdDpmLHRvcDplfSl9LHB1c2g6YXR0LHNvcnQ6QXJyYXkucHJvdG90eXBlLnNvcnQsc3BsaWNlOkFycmF5LnByb3RvdHlwZS5zcGxpY2V9O3IuZXh0ZW5kKGxyLHtleHRlbmQ6ci5leHRlbmQsbWFrZUFycmF5OmZ1bmN0aW9uKG4pe3JldHVybiBuJiZuPT09bi53aW5kb3d8fG4ubm9kZVR5cGU/W25dOnIudG9BcnJheShuKX0saW5BcnJheTpmdW5jdGlvbihuLHQpe3ZhciBpO2lmKHQuaW5kZXhPZilyZXR1cm4gdC5pbmRleE9mKG4pO2ZvcihpPXQubGVuZ3RoO2ktLTspaWYodFtpXT09PW4pcmV0dXJuIGk7cmV0dXJuLTF9LGlzQXJyYXk6ci5pc0FycmF5LGVhY2g6a2YsdHJpbTpvdnQsZ3JlcDpzdnQsZmluZDprLGV4cHI6ay5zZWxlY3RvcnMsdW5pcXVlOmsudW5pcXVlU29ydCx0ZXh0OmsuZ2V0VGV4dCxjb250YWluczprLmNvbnRhaW5zLGZpbHRlcjpmdW5jdGlvbihuLHQsaSl7dmFyIHI9dC5sZW5ndGg7Zm9yKGkmJihuPSI6bm90KCIrbisiKSIpO3ItLTspMSE9PXRbcl0ubm9kZVR5cGUmJnQuc3BsaWNlKHIsMSk7cmV0dXJuIDE9PT10Lmxlbmd0aD9hLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHRbMF0sbik/W3RbMF1dOltdOmEuZmluZC5tYXRjaGVzKG4sdCl9fSk7a2Yoe3BhcmVudDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24obil7cmV0dXJuIGN2dChuLCJwYXJlbnROb2RlIil9LG5leHQ6ZnVuY3Rpb24obil7cmV0dXJuIGx2dChuLCJuZXh0U2libGluZyIsMSl9LHByZXY6ZnVuY3Rpb24obil7cmV0dXJuIGx2dChuLCJwcmV2aW91c1NpYmxpbmciLDEpfSxjaGlsZHJlbjpmdW5jdGlvbihuKXtyZXR1cm4gd3R0KG4uZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLDEpfSxjb250ZW50czpmdW5jdGlvbihuKXtyZXR1cm4gci50b0FycmF5KCgiaWZyYW1lIj09PW4ubm9kZU5hbWU/bi5jb250ZW50RG9jdW1lbnR8fG4uY29udGVudFdpbmRvdy5kb2N1bWVudDpuKS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKG4sdCl7bHIuZm5bbl09ZnVuY3Rpb24oaSl7dmFyIHI9W10sdTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dC5jYWxsKHIsdGhpcyxpLHIpO24mJihhLmlzQXJyYXkobik/ci5wdXNoLmFwcGx5KHIsbik6ci5wdXNoKG4pKX0pLDE8dGhpcy5sZW5ndGgmJihkYWlbbl18fChyPWEudW5pcXVlKHIpKSwwPT09bi5pbmRleE9mKCJwYXJlbnRzIikmJihyPXIucmV2ZXJzZSgpKSksdT1hKHIpLGk/dS5maWx0ZXIoaSk6dX19KTtrZih7cGFyZW50c1VudGlsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGN2dChuLCJwYXJlbnROb2RlIix0KX0sbmV4dFVudGlsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHd0dChuLCJuZXh0U2libGluZyIsMSx0KS5zbGljZSgxKX0scHJldlVudGlsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHd0dChuLCJwcmV2aW91c1NpYmxpbmciLDEsdCkuc2xpY2UoMSl9fSxmdW5jdGlvbihuLHQpe2xyLmZuW25dPWZ1bmN0aW9uKGkscil7dmFyIHU9W10sZjtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dC5jYWxsKHUsdGhpcyxpLHUpO24mJihhLmlzQXJyYXkobik/dS5wdXNoLmFwcGx5KHUsbik6dS5wdXNoKG4pKX0pLDE8dGhpcy5sZW5ndGgmJih1PWEudW5pcXVlKHUpLDAhPT1uLmluZGV4T2YoInBhcmVudHMiKSYmInByZXZVbnRpbCIhPT1ufHwodT11LnJldmVyc2UoKSkpLGY9YSh1KSxyP2YuZmlsdGVyKHIpOmZ9fSk7bHIuZm4uaXM9ZnVuY3Rpb24obil7cmV0dXJuISFuJiYwPHRoaXMuZmlsdGVyKG4pLmxlbmd0aH07bHIuZm4uaW5pdC5wcm90b3R5cGU9bHIuZm47bHIub3ZlcnJpZGVEZWZhdWx0cz1mdW5jdGlvbihuKXt2YXIgdCxpPWZ1bmN0aW9uKHIsdSl7cmV0dXJuIHQ9dHx8bigpLDA9PT1hcmd1bWVudHMubGVuZ3RoJiYocj10LmVsZW1lbnQpLHU9dXx8dC5jb250ZXh0LG5ldyBpLmZuLmluaXQocix1KX07cmV0dXJuIGEuZXh0ZW5kKGksdGhpcyksaX07bHIuYXR0ckhvb2tzPXZ0dDtsci5jc3NIb29rcz15dHQ7dmFyIGE9bHIsY2E9ci5lYWNoLHV2aT1yLmdyZXAsYnR0PWwuaWUsZnZpPS9eKFthLXowLTldLD8pKyQvaSxkPWZ1bmN0aW9uKG4saSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmbiYmaHQodCk/bi5nZXRFbGVtZW50QnlJZCh0KTp0fWZ1bmN0aW9uIHUobil7cmV0dXJuIHZpKCJzdHJpbmciPT10eXBlb2Ygbj9vKG4pOm4pfWZ1bmN0aW9uIGMobix0LGkpe3ZhciByLGYsZT11KG4pO3JldHVybiB2b2lkIDA9PT0oZj1lLmxlbmd0aD8ocj1iaVt0XSkmJnIuZ2V0P3IuZ2V0KGUsdCk6ZS5hdHRyKHQpOmYpP2l8fCIiOmZ9ZnVuY3Rpb24gb3Qobil7dmFyIHQ9byhuKTtyZXR1cm4gdD90LmF0dHJpYnV0ZXM6W119ZnVuY3Rpb24gbnQobix0LHIpeyIiPT09ciYmKHI9bnVsbCk7dmFyIGUsZj11KG4pLG89Zi5hdHRyKHQpO2YubGVuZ3RoJiYoKGU9YmlbdF0pJiZlLnNldD9lLnNldChmLHIsdCk6Zi5hdHRyKHQsciksbyE9PXImJmkub25TZXRBdHRyaWImJmkub25TZXRBdHRyaWIoe2F0dHJFbG06ZixhdHRyTmFtZTp0LGF0dHJWYWx1ZTpyfSkpfWZ1bmN0aW9uIHR0KCl7cmV0dXJuIGkucm9vdF9lbGVtZW50fHxuLmJvZHl9ZnVuY3Rpb24gYnQoaSxyKXtyZXR1cm4gZnVuY3Rpb24obixpLHIpe3ZhciBoLGU9MCxmPTAsbz1uLm93bmVyRG9jdW1lbnQsYyx1LHM7aWYocj1yfHxuLGkpe2lmKHI9PT1uJiZpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmInN0YXRpYyI9PT1iZih0LmZyb21Eb20obiksInBvc2l0aW9uIikpcmV0dXJuIGM9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7eDplPWMubGVmdCsoby5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8bi5zY3JvbGxMZWZ0KS1vLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0LHk6Zj1jLnRvcCsoby5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxuLnNjcm9sbFRvcCktby5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wfTtmb3IodT1pO3UmJnUhPT1yJiZ1Lm5vZGVUeXBlJiYhb2x0KHUscik7KXM9dSxlKz1zLm9mZnNldExlZnR8fDAsZis9cy5vZmZzZXRUb3B8fDAsdT1zLm9mZnNldFBhcmVudDtmb3IodT1pLnBhcmVudE5vZGU7dSYmdSE9PXImJnUubm9kZVR5cGUmJiFvbHQodSxyKTspZS09dS5zY3JvbGxMZWZ0fHwwLGYtPXUuc2Nyb2xsVG9wfHwwLHU9dS5wYXJlbnROb2RlO2YrPShoPXQuZnJvbURvbShpKSxnY2kuaXNGaXJlZm94KCkmJiJ0YWJsZSI9PT12dChoKT9lbHQobnUoaCkpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4iY2FwdGlvbiI9PT12dChuKX0pLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIGVsdChhY3QobikpLm1hcChmdW5jdGlvbih0KXt2YXIgaT10LmRvbS5vZmZzZXRUb3Ascj1uLmRvbS5vZmZzZXRUb3AsdT1uLmRvbS5vZmZzZXRIZWlnaHQ7cmV0dXJuIGk8PXI/LXU6MH0pfSkuZ2V0T3IoMCk6MCl9cmV0dXJue3g6ZSx5OmZ9fShuLmJvZHksbyhpKSxyKX1mdW5jdGlvbiBzdChuLHQsaSl7dmFyIHI9dShuKTtyZXR1cm4gaT9yLmNzcyh0KTooImZsb2F0Ij09PSh0PXQucmVwbGFjZSgvLShcRCkvZyxmdW5jdGlvbihuLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KSkmJih0PWwuYnJvd3Nlci5pc0lFKCk/InN0eWxlRmxvYXQiOiJjc3NGbG9hdCIpLHJbMF0mJnJbMF0uc3R5bGU/clswXS5zdHlsZVt0XTp2b2lkIDApfWZ1bmN0aW9uIGt0KG4pe3ZhciB0PXN0KG49byhuKSwid2lkdGgiKSxpPXN0KG4sImhlaWdodCIpO3JldHVybi0xPT09dC5pbmRleE9mKCJweCIpJiYodD0wKSwtMT09PWkuaW5kZXhPZigicHgiKSYmKGk9MCkse3c6cGFyc2VJbnQodCwxMCl8fG4ub2Zmc2V0V2lkdGh8fG4uY2xpZW50V2lkdGgsaDpwYXJzZUludChpLDEwKXx8bi5vZmZzZXRIZWlnaHR8fG4uY2xpZW50SGVpZ2h0fX1mdW5jdGlvbiBjdChuLHQpe3ZhciBpO2lmKCFuKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KG4pKXtpZigiKiI9PT10KXJldHVybiAxPT09bi5ub2RlVHlwZTtpZihmdmkudGVzdCh0KSl7Zm9yKHZhciB1PXQudG9Mb3dlckNhc2UoKS5zcGxpdCgvLC8pLGY9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHI9dS5sZW5ndGgtMTswPD1yO3ItLSlpZih1W3JdPT09ZilyZXR1cm4hMDtyZXR1cm4hMX1pZihuLm5vZGVUeXBlJiYxIT09bi5ub2RlVHlwZSlyZXR1cm4hMX1yZXR1cm4gaT1BcnJheS5pc0FycmF5KG4pP246W25dLDA8ayh0LGlbMF0ub3duZXJEb2N1bWVudHx8aVswXSxudWxsLGkpLmxlbmd0aH1mdW5jdGlvbiBkdChuLHQsaSx1KXt2YXIgZSxzPVtdLGY9byhuKTtmb3IodT12b2lkIDA9PT11LGk9aXx8KCJCT0RZIiE9PXR0KCkubm9kZU5hbWU/dHQoKS5wYXJlbnROb2RlOm51bGwpLHIuaXModCwic3RyaW5nIikmJih0PSIqIj09PShlPXQpP2Z1bmN0aW9uKG4pe3JldHVybiAxPT09bi5ub2RlVHlwZX06ZnVuY3Rpb24obil7cmV0dXJuIGN0KG4sZSl9KTtmJiYhKGY9PT1pfHx3dShmLm5vZGVUeXBlKXx8bm4oZil8fHRuKGYpKTspe2lmKCF0fHwiZnVuY3Rpb24iPT10eXBlb2YgdCYmdChmKSl7aWYoIXUpcmV0dXJuW2ZdO3MucHVzaChmKX1mPWYucGFyZW50Tm9kZX1yZXR1cm4gdT9zOm51bGx9ZnVuY3Rpb24gZ3Qobix0LGkpe3ZhciByPXQ7aWYobilmb3IoInN0cmluZyI9PXR5cGVvZiB0JiYocj1mdW5jdGlvbihuKXtyZXR1cm4gY3Qobix0KX0pLG49bltpXTtuO249bltpXSlpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmcihuKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1mdW5jdGlvbiBnKG4sdCxpKXt2YXIgZix1PSJzdHJpbmciPT10eXBlb2Ygbj9vKG4pOm47cmV0dXJuISF1JiYoci5pc0FycmF5KHUpJiYodS5sZW5ndGh8fDA9PT11Lmxlbmd0aCk/KGY9W10sY2EodSxmdW5jdGlvbihuLHIpe24mJmYucHVzaCh0LmNhbGwoaSwic3RyaW5nIj09dHlwZW9mIG4/byhuKTpuLHIpKX0pLGYpOnQuY2FsbChpfHx0aGlzLHUpKX1mdW5jdGlvbiBuaShuLHQpe3UobikuZWFjaChmdW5jdGlvbihuLGkpe2NhKHQsZnVuY3Rpb24obix0KXtudChpLHQsbil9KX0pfWZ1bmN0aW9uIHRpKG4sdCl7dmFyIGk9dShuKTtidHQ/aS5lYWNoKGZ1bmN0aW9uKG4saSl7aWYoITEhPT1pLmNhbkhhdmVIVE1MKXtmb3IoO2kuZmlyc3RDaGlsZDspaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO3RyeXtpLmlubmVySFRNTD0iPGJyPiIrdDtpLnJlbW92ZUNoaWxkKGkuZmlyc3RDaGlsZCl9Y2F0Y2gobil7YSgiPGRpdj48XC9kaXY+IikuaHRtbCgiPGJyPiIrdCkuY29udGVudHMoKS5zbGljZSgxKS5hcHBlbmRUbyhpKX1yZXR1cm4gdH19KTppLmh0bWwodCl9ZnVuY3Rpb24gaWkodCxpLHIsdSxmKXtyZXR1cm4gZyh0LGZ1bmN0aW9uKHQpe3ZhciBlPSJzdHJpbmciPT10eXBlb2YgaT9uLmNyZWF0ZUVsZW1lbnQoaSk6aTtyZXR1cm4gbmkoZSxyKSx1JiYoInN0cmluZyIhPXR5cGVvZiB1JiZ1Lm5vZGVUeXBlP2UuYXBwZW5kQ2hpbGQodSk6InN0cmluZyI9PXR5cGVvZiB1JiZ0aShlLHUpKSxmP2U6dC5hcHBlbmRDaGlsZChlKX0pfWZ1bmN0aW9uIHJpKHQsaSxyKXtyZXR1cm4gaWkobi5jcmVhdGVFbGVtZW50KHQpLHQsaSxyLCEwKX1mdW5jdGlvbiBsdChuLHQpe3ZhciBpPXUobik7cmV0dXJuKHQ/aS5lYWNoKGZ1bmN0aW9uKCl7Zm9yKHZhciBuO249dGhpcy5maXJzdENoaWxkOykzPT09bi5ub2RlVHlwZSYmMD09PW4uZGF0YS5sZW5ndGg/dGhpcy5yZW1vdmVDaGlsZChuKTp0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcyl9KTppKS5yZW1vdmUoKSwxPGkubGVuZ3RoP2kudG9BcnJheSgpOmlbMF19ZnVuY3Rpb24gdWkobix0LGkpe3UobikudG9nZ2xlQ2xhc3ModCxpKS5lYWNoKGZ1bmN0aW9uKCl7IiI9PT10aGlzLmNsYXNzTmFtZSYmYSh0aGlzKS5hdHRyKCJjbGFzcyIsbnVsbCl9KX1mdW5jdGlvbiBmaShuLHQsaSl7cmV0dXJuIGcodCxmdW5jdGlvbih0KXtyZXR1cm4gci5pcyh0LCJhcnJheSIpJiYobj1uLmNsb25lTm9kZSghMCkpLGkmJmNhKHV2aSh0LmNoaWxkTm9kZXMpLGZ1bmN0aW9uKHQpe24uYXBwZW5kQ2hpbGQodCl9KSx0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG4sdCl9KX1mdW5jdGlvbiBlaShuKXtpZihoKG4pKXt2YXIgdD0iYSI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiFjKG4sImhyZWYiKSYmYyhuLCJpZCIpO3JldHVybiBjKG4sIm5hbWUiKXx8YyhuLCJkYXRhLW1jZS1ib29rbWFyayIpfHx0PzE6dm9pZCAwfX1mdW5jdGlvbiBhdCgpe3JldHVybiBuLmNyZWF0ZVJhbmdlKCl9ZnVuY3Rpb24gb2kobil7aWYobiYmaChuKSl7dmFyIHQ9bi5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiB0JiYiaW5oZXJpdCIhPT10P3Q6ImluaGVyaXQiIT09bi5jb250ZW50RWRpdGFibGU/bi5jb250ZW50RWRpdGFibGU6bnVsbH1yZXR1cm4gbnVsbH12b2lkIDA9PT1pJiYoaT17fSk7dmFyIGl0LHJ0LHNpLGhpLGNpLHV0LGxpPXt9LHB0PXdpbmRvdyxmdD17fSxraT0wLHd0PWdsdC5mb3JFbGVtZW50KHQuZnJvbURvbShuKSx7Y29udGVudENzc0NvcnM6aS5jb250ZW50Q3NzQ29ycyxyZWZlcnJlclBvbGljeTppLnJlZmVycmVyUG9saWN5fSkscz1bXSx3PWkuc2NoZW1hfHxhZSh7fSksdj1wbih7dXJsX2NvbnZlcnRlcjppLnVybF9jb252ZXJ0ZXIsdXJsX2NvbnZlcnRlcl9zY29wZTppLnVybF9jb252ZXJ0ZXJfc2NvcGV9LGkuc2NoZW1hKSxiPWkub3duRXZlbnRzP25ldyBpYzppYy5FdmVudCxhaT13LmdldEJsb2NrRWxlbWVudHMoKSx2aT1hLm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24oKXtyZXR1cm57Y29udGV4dDpuLGVsZW1lbnQ6cC5nZXRSb290KCl9fSkseWk9eWUuZW5jb2RlQWxsUmF3LHBpPWZ1bmN0aW9uKHQsdSxmLGUpe2lmKHIuaXNBcnJheSh0KSl7Zm9yKHZhciBvPXQubGVuZ3RoLGg9W107by0tOyloW29dPXBpKHRbb10sdSxmLGUpO3JldHVybiBofXJldHVybiFpLmNvbGxlY3R8fHQhPT1uJiZ0IT09cHR8fHMucHVzaChbdCx1LGYsZV0pLGIuYmluZCh0LHUsZixlfHxwKX0sd2k9ZnVuY3Rpb24odCxpLHUpe3ZhciBmLG8sZTtpZihyLmlzQXJyYXkodCkpe2ZvcihmPXQubGVuZ3RoLG89W107Zi0tOylvW2ZdPXdpKHRbZl0saSx1KTtyZXR1cm4gb31pZigwPHMubGVuZ3RoJiYodD09PW58fHQ9PT1wdCkpZm9yKGY9cy5sZW5ndGg7Zi0tOyllPXNbZl0sdCE9PWVbMF18fGkmJmkhPT1lWzFdfHx1JiZ1IT09ZVsyXXx8Yi51bmJpbmQoZVswXSxlWzFdLGVbMl0pO3JldHVybiBiLnVuYmluZCh0LGksdSl9LHA9e2RvYzpuLHNldHRpbmdzOmksd2luOnB0LGZpbGVzOmZ0LHN0ZE1vZGU6ITAsYm94TW9kZWw6ITAsc3R5bGVTaGVldExvYWRlcjp3dCxib3VuZEV2ZW50czpzLHN0eWxlczp2LHNjaGVtYTp3LGV2ZW50czpiLGlzQmxvY2s6ZnVuY3Rpb24obil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXJldHVybiEhYWlbbl07aWYobil7dmFyIHQ9bi5ub2RlVHlwZTtpZih0KXJldHVybiEoMSE9PXR8fCFhaVtuLm5vZGVOYW1lXSl9cmV0dXJuITF9LCQ6dmksJCQ6dSxyb290Om51bGwsY2xvbmU6ZnVuY3Rpb24odCxpKXtpZighYnR0fHwxIT09dC5ub2RlVHlwZXx8aSlyZXR1cm4gdC5jbG9uZU5vZGUoaSk7dmFyIHI9bi5jcmVhdGVFbGVtZW50KHQubm9kZU5hbWUpO3JldHVybiBjYShvdCh0KSxmdW5jdGlvbihuKXtudChyLG4ubm9kZU5hbWUsYyh0LG4ubm9kZU5hbWUpKX0pLHJ9LGdldFJvb3Q6dHQsZ2V0Vmlld1BvcnQ6ZnVuY3Rpb24obil7dmFyIHQ9bmx0KG4pO3JldHVybnt4OnQueCx5OnQueSx3OnQud2lkdGgsaDp0LmhlaWdodH19LGdldFJlY3Q6ZnVuY3Rpb24obil7dmFyIHQ9YnQobj1vKG4pKSxpPWt0KG4pO3JldHVybnt4OnQueCx5OnQueSx3OmkudyxoOmkuaH19LGdldFNpemU6a3QsZ2V0UGFyZW50OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1kdChuLHQsaSwhMSk7cmV0dXJuIHImJjA8ci5sZW5ndGg/clswXTpudWxsfSxnZXRQYXJlbnRzOmR0LGdldDpvLGdldE5leHQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gZ3Qobix0LCJuZXh0U2libGluZyIpfSxnZXRQcmV2OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGd0KG4sdCwicHJldmlvdXNTaWJsaW5nIil9LHNlbGVjdDpmdW5jdGlvbih0LHIpe3JldHVybiBrKHQsbyhyKXx8aS5yb290X2VsZW1lbnR8fG4sW10pfSxpczpjdCxhZGQ6aWksY3JlYXRlOnJpLGNyZWF0ZUhUTUw6ZnVuY3Rpb24obix0LGkpe3ZhciByLHU9IiI7Zm9yKHIgaW4gdSs9IjwiK24sdCloaCh0LHIpJiYodSs9IiAiK3IrJz0iJyt5aSh0W3JdKSsnIicpO3JldHVybiB2b2lkIDAhPT1pP3UrIj4iK2krIjxcLyIrbisiPiI6dSsiIC8+In0sY3JlYXRlRnJhZ21lbnQ6ZnVuY3Rpb24odCl7dmFyIHUsaT1uLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9bi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHIuYXBwZW5kQ2hpbGQoaSksdCYmKGkuaW5uZXJIVE1MPXQpO3U9aS5maXJzdENoaWxkOylyLmFwcGVuZENoaWxkKHUpO3JldHVybiByLnJlbW92ZUNoaWxkKGkpLHJ9LHJlbW92ZTpsdCxzZXRTdHlsZTpmdW5jdGlvbihuLHQscil7dmFyIGY9aHQodCk/dShuKS5jc3ModCxyKTp1KG4pLmNzcyh0KTtpLnVwZGF0ZV9zdHlsZXMmJmF2dCh2LGYpfSxnZXRTdHlsZTpzdCxzZXRTdHlsZXM6ZnVuY3Rpb24obix0KXt2YXIgcj11KG4pLmNzcyh0KTtpLnVwZGF0ZV9zdHlsZXMmJmF2dCh2LHIpfSxyZW1vdmVBbGxBdHRyaWJzOmZ1bmN0aW9uKG4pe3JldHVybiBnKG4sZnVuY3Rpb24obil7Zm9yKHZhciBpPW4uYXR0cmlidXRlcyx0PWkubGVuZ3RoLTE7MDw9dDt0LS0pbi5yZW1vdmVBdHRyaWJ1dGVOb2RlKGkuaXRlbSh0KSl9KX0sc2V0QXR0cmliOm50LHNldEF0dHJpYnM6bmksZ2V0QXR0cmliOmMsZ2V0UG9zOmJ0LHBhcnNlU3R5bGU6ZnVuY3Rpb24obil7cmV0dXJuIHYucGFyc2Uobil9LHNlcmlhbGl6ZVN0eWxlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHYuc2VyaWFsaXplKG4sdCl9LGFkZFN0eWxlOmZ1bmN0aW9uKHQpe3ZhciByLGk7aWYocCE9PWQuRE9NJiZuPT09ZG9jdW1lbnQpe2lmKGxpW3RdKXJldHVybjtsaVt0XT0hMH0oaT1uLmdldEVsZW1lbnRCeUlkKCJtY2VEZWZhdWx0U3R5bGVzIikpfHwoKGk9bi5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS5pZD0ibWNlRGVmYXVsdFN0eWxlcyIsaS50eXBlPSJ0ZXh0L2NzcyIsKHI9bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5maXJzdENoaWxkP3IuaW5zZXJ0QmVmb3JlKGksci5maXJzdENoaWxkKTpyLmFwcGVuZENoaWxkKGkpKTtpLnN0eWxlU2hlZXQ/aS5zdHlsZVNoZWV0LmNzc1RleHQrPXQ6aS5hcHBlbmRDaGlsZChuLmNyZWF0ZVRleHROb2RlKHQpKX0sbG9hZENTUzpmdW5jdGlvbihuKXtlKChuPW58fCIiKS5zcGxpdCgiLCIpLGZ1bmN0aW9uKG4pe2Z0W25dPSEwO3d0LmxvYWQobix5KX0pfSxhZGRDbGFzczpmdW5jdGlvbihuLHQpe3UobikuYWRkQ2xhc3ModCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKG4sdCl7dWkobix0LCExKX0saGFzQ2xhc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuKS5oYXNDbGFzcyh0KX0sdG9nZ2xlQ2xhc3M6dWksc2hvdzpmdW5jdGlvbihuKXt1KG4pLnNob3coKX0saGlkZTpmdW5jdGlvbihuKXt1KG4pLmhpZGUoKX0saXNIaWRkZW46ZnVuY3Rpb24obil7cmV0dXJuIm5vbmUiPT09dShuKS5jc3MoImRpc3BsYXkiKX0sdW5pcXVlSWQ6ZnVuY3Rpb24obil7cmV0dXJuKG58fCJtY2VfIikra2krK30sc2V0SFRNTDp0aSxnZXRPdXRlckhUTUw6ZnVuY3Rpb24obil7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBuP28obik6bjtyZXR1cm4gaCh0KT90Lm91dGVySFRNTDphKCI8ZGl2PjxcL2Rpdj4iKS5hcHBlbmQoYSh0KS5jbG9uZSgpKS5odG1sKCl9LHNldE91dGVySFRNTDpmdW5jdGlvbihuLHQpe3UobikuZWFjaChmdW5jdGlvbigpe3RyeXtpZigib3V0ZXJIVE1MImluIHRoaXMpcmV0dXJuIHZvaWQodGhpcy5vdXRlckhUTUw9dCl9Y2F0Y2gobil7fWx0KGEodGhpcykuaHRtbCh0KSwhMCl9KX0sZGVjb2RlOnllLmRlY29kZSxlbmNvZGU6eWksaW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24obix0KXt2YXIgaT1vKHQpO3JldHVybiBnKG4sZnVuY3Rpb24obil7dmFyIHQ9aS5wYXJlbnROb2RlLHI9aS5uZXh0U2libGluZztyZXR1cm4gcj90Lmluc2VydEJlZm9yZShuLHIpOnQuYXBwZW5kQ2hpbGQobiksbn0pfSxyZXBsYWNlOmZpLHJlbmFtZTpmdW5jdGlvbihuLHQpe3ZhciBpO3JldHVybiBuLm5vZGVOYW1lIT09dC50b1VwcGVyQ2FzZSgpJiYoaT1yaSh0KSxjYShvdChuKSxmdW5jdGlvbih0KXtudChpLHQubm9kZU5hbWUsYyhuLHQubm9kZU5hbWUpKX0pLGZpKGksbiwhMCkpLGl8fG59LGZpbmRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcixpPW47aTspe2ZvcihyPXQ7ciYmaSE9PXI7KXI9ci5wYXJlbnROb2RlO2lmKGk9PT1yKWJyZWFrO2k9aS5wYXJlbnROb2RlfXJldHVybiFpJiZuLm93bmVyRG9jdW1lbnQ/bi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDppfSx0b0hleDpmdW5jdGlvbihuKXtyZXR1cm4gdi50b0hleChyLnRyaW0obikpfSxydW46ZyxnZXRBdHRyaWJzOm90LGlzRW1wdHk6ZnVuY3Rpb24obix0KXt2YXIgaSx1LGU9MCxyLG8sZjtpZihlaShuKSlyZXR1cm4hMTtpZihuPW4uZmlyc3RDaGlsZCl7cj1uZXcgeXQobixuLnBhcmVudE5vZGUpO289dz93LmdldFdoaXRlU3BhY2VFbGVtZW50cygpOnt9O3Q9dHx8KHc/dy5nZXROb25FbXB0eUVsZW1lbnRzKCk6bnVsbCk7ZG97aWYoaT1uLm5vZGVUeXBlLGgobikpe2lmKGY9bi5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiksZil7bj1yLm5leHQoImFsbCI9PT1mKTtjb250aW51ZX1pZih1PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0JiZ0W3VdKXtpZigiYnIiIT09dSlyZXR1cm4hMTtlKys7bj1yLm5leHQoKTtjb250aW51ZX1pZihlaShuKSlyZXR1cm4hMX1pZig4PT09aXx8Mz09PWkmJiF0cyhuLm5vZGVWYWx1ZSl8fDM9PT1pJiZuLnBhcmVudE5vZGUmJm9bbi5wYXJlbnROb2RlLm5vZGVOYW1lXSYmdHMobi5ub2RlVmFsdWUpKXJldHVybiExO249ci5uZXh0KCl9d2hpbGUobil9cmV0dXJuIGU8PTF9LGNyZWF0ZVJuZzphdCxub2RlSW5kZXg6ZWMsc3BsaXQ6ZnVuY3Rpb24obix0LGkpe3ZhciBmLGUsdSxyPWF0KCk7aWYobiYmdClyZXR1cm4gci5zZXRTdGFydChuLnBhcmVudE5vZGUsZWMobikpLHIuc2V0RW5kKHQucGFyZW50Tm9kZSxlYyh0KSksZj1yLmV4dHJhY3RDb250ZW50cygpLChyPWF0KCkpLnNldFN0YXJ0KHQucGFyZW50Tm9kZSxlYyh0KSsxKSxyLnNldEVuZChuLnBhcmVudE5vZGUsZWMobikrMSksZT1yLmV4dHJhY3RDb250ZW50cygpLCh1PW4ucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG50dChwLGYpLG4pLGk/dS5pbnNlcnRCZWZvcmUoaSxuKTp1Lmluc2VydEJlZm9yZSh0LG4pLHUuaW5zZXJ0QmVmb3JlKG50dChwLGUpLG4pLGx0KG4pLGl8fHR9LGJpbmQ6cGksdW5iaW5kOndpLGZpcmU6ZnVuY3Rpb24obix0LGkpe3JldHVybiBiLmZpcmUobix0LGkpfSxnZXRDb250ZW50RWRpdGFibGU6b2ksZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50OmZ1bmN0aW9uKG4pe2Zvcih2YXIgaT10dCgpLHQ9bnVsbDtuJiZuIT09aSYmbnVsbD09PSh0PW9pKG4pKTtuPW4ucGFyZW50Tm9kZSk7cmV0dXJuIHR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdCxuO2lmKDA8cy5sZW5ndGgpZm9yKHQ9cy5sZW5ndGg7dC0tOyluPXNbdF0sYi51bmJpbmQoblswXSxuWzFdLG5bMl0pO2V0KGZ0LGZ1bmN0aW9uKG4sdCl7d3QudW5sb2FkKHQpO2RlbGV0ZSBmdFt0XX0pO2suc2V0RG9jdW1lbnQmJmsuc2V0RG9jdW1lbnQoKX0saXNDaGlsZE9mOmZ1bmN0aW9uKG4sdCl7aWYoYnR0KXtmb3IoO247KXtpZih0PT09bilyZXR1cm4hMDtuPW4ucGFyZW50Tm9kZX1yZXR1cm4hMX1yZXR1cm4gbj09PXR8fHQuY29udGFpbnMobil9LGR1bXBSbmc6ZnVuY3Rpb24obil7cmV0dXJuInN0YXJ0Q29udGFpbmVyOiAiK24uc3RhcnRDb250YWluZXIubm9kZU5hbWUrIiwgc3RhcnRPZmZzZXQ6ICIrbi5zdGFydE9mZnNldCsiLCBlbmRDb250YWluZXI6ICIrbi5lbmRDb250YWluZXIubm9kZU5hbWUrIiwgZW5kT2Zmc2V0OiAiK24uZW5kT2Zmc2V0fX0sYmk9KGl0PXYsc2k9ZihwKSxjaT17c2V0OmZ1bmN0aW9uKG4sdCxpKXtydC51cmxfY29udmVydGVyJiZudWxsIT09dCYmKHQ9cnQudXJsX2NvbnZlcnRlci5jYWxsKHJ0LnVybF9jb252ZXJ0ZXJfc2NvcGV8fHNpKCksdCxpLG5bMF0pKTtuLmF0dHIoImRhdGEtbWNlLSIraSx0KS5hdHRyKGksdCl9LGdldDpmdW5jdGlvbihuLHQpe3JldHVybiBuLmF0dHIoImRhdGEtbWNlLSIrdCl8fG4uYXR0cih0KX19LHV0PXtzdHlsZTp7c2V0OmZ1bmN0aW9uKG4sdCl7bnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdD8oaGkmJm4uYXR0cigiZGF0YS1tY2Utc3R5bGUiLHQpLG51bGwhPT10JiYic3RyaW5nIj09dHlwZW9mIHQ/KG4ucmVtb3ZlQXR0cigic3R5bGUiKSxuLmNzcyhpdC5wYXJzZSh0KSkpOm4uYXR0cigic3R5bGUiLHQpKTpuLmNzcyh0KX0sZ2V0OmZ1bmN0aW9uKG4pe3ZhciB0PW4uYXR0cigiZGF0YS1tY2Utc3R5bGUiKXx8bi5hdHRyKCJzdHlsZSIpO3JldHVybiBpdC5zZXJpYWxpemUoaXQucGFyc2UodCksblswXS5ub2RlTmFtZSl9fX0sKGhpPShydD1pKS5rZWVwX3ZhbHVlcykmJih1dC5ocmVmPXV0LnNyYz1jaSksdXQpO3JldHVybiBwfTtkLkRPTT1kKGRvY3VtZW50KTtkLm5vZGVJbmRleD1lYzt2YXIgZXZpPWQuRE9NLGt0dD1yLmVhY2gsb3ZpPXIuZ3JlcCxkZj0oaXUucHJvdG90eXBlLl9zZXRSZWZlcnJlclBvbGljeT1mdW5jdGlvbihuKXt0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5PW59LGl1LnByb3RvdHlwZS5sb2FkU2NyaXB0PWZ1bmN0aW9uKG4sdCxpKXtmdW5jdGlvbiBlKCl7Zi5yZW1vdmUobyk7dSYmKHUub25lcnJvcj11Lm9ubG9hZD11PW51bGwpfXZhciBmPWV2aSxvPWYudW5pcXVlSWQoKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3UuaWQ9bzt1LnR5cGU9InRleHQvamF2YXNjcmlwdCI7dS5zcmM9ci5fYWRkQ2FjaGVTdWZmaXgobik7dGhpcy5zZXR0aW5ncy5yZWZlcnJlclBvbGljeSYmZi5zZXRBdHRyaWIodSwicmVmZXJyZXJwb2xpY3kiLHRoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kpO3Uub25sb2FkPWZ1bmN0aW9uKCl7ZSgpO3QoKX07dS5vbmVycm9yPWZ1bmN0aW9uKCl7ZSgpO2Z0KGkpP2koKToidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZjb25zb2xlLmxvZygiRmFpbGVkIHRvIGxvYWQgc2NyaXB0OiAiK24pfTsoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQodSl9LGl1LnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24obil7cmV0dXJuIDI9PT10aGlzLnN0YXRlc1tuXX0saXUucHJvdG90eXBlLm1hcmtEb25lPWZ1bmN0aW9uKG4pe3RoaXMuc3RhdGVzW25dPTJ9LGl1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24obix0LGkscil7dmFyIHU9dGhpcy5zdGF0ZXNbbl07dGhpcy5xdWV1ZS5wdXNoKG4pO3ZvaWQgMD09PXUmJih0aGlzLnN0YXRlc1tuXT0wKTt0JiYodGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3Nbbl18fCh0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tuXT1bXSksdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3Nbbl0ucHVzaCh7c3VjY2Vzczp0LGZhaWx1cmU6cixzY29wZTppfHx0aGlzfSkpfSxpdS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5hZGQobix0LGkscil9LGl1LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24obil7ZGVsZXRlIHRoaXMuc3RhdGVzW25dO2RlbGV0ZSB0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tuXX0saXUucHJvdG90eXBlLmxvYWRRdWV1ZT1mdW5jdGlvbihuLHQsaSl7dGhpcy5sb2FkU2NyaXB0cyh0aGlzLnF1ZXVlLG4sdCxpKX0saXUucHJvdG90eXBlLmxvYWRTY3JpcHRzPWZ1bmN0aW9uKG4sdCxpLHIpe2Z1bmN0aW9uIGYobix0KXtrdHQodS5zY3JpcHRMb2FkZWRDYWxsYmFja3NbdF0sZnVuY3Rpb24odCl7ZnQodFtuXSkmJnRbbl0uY2FsbCh0LnNjb3BlKX0pO3Uuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW3RdPXZvaWQgMH12YXIgdT10aGlzLG89W10sZTt1LnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnB1c2goe3N1Y2Nlc3M6dCxmYWlsdXJlOnIsc2NvcGU6aXx8dGhpc30pO2U9ZnVuY3Rpb24oKXt2YXIgdCxpPW92aShuKTtuLmxlbmd0aD0wO2t0dChpLGZ1bmN0aW9uKG4pezIhPT11LnN0YXRlc1tuXT8zIT09dS5zdGF0ZXNbbl0/MSE9PXUuc3RhdGVzW25dJiYodS5zdGF0ZXNbbl09MSx1LmxvYWRpbmcrKyx1LmxvYWRTY3JpcHQobixmdW5jdGlvbigpe3Uuc3RhdGVzW25dPTI7dS5sb2FkaW5nLS07Zigic3VjY2VzcyIsbik7ZSgpfSxmdW5jdGlvbigpe3Uuc3RhdGVzW25dPTM7dS5sb2FkaW5nLS07by5wdXNoKG4pO2YoImZhaWx1cmUiLG4pO2UoKX0pKTpmKCJmYWlsdXJlIixuKTpmKCJzdWNjZXNzIixuKX0pO3UubG9hZGluZ3x8KHQ9dS5xdWV1ZUxvYWRlZENhbGxiYWNrcy5zbGljZSgwKSx1LnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLmxlbmd0aD0wLGt0dCh0LGZ1bmN0aW9uKG4pezA9PT1vLmxlbmd0aD9mdChuLnN1Y2Nlc3MpJiZuLnN1Y2Nlc3MuY2FsbChuLnNjb3BlKTpmdChuLmZhaWx1cmUpJiZuLmZhaWx1cmUuY2FsbChuLnNjb3BlLG8pfSkpfTtlKCl9LGl1LlNjcmlwdExvYWRlcj1uZXcgaXUsaXUpO3ZhciBsYT17fSxkdHQ9aGkoImVuIiksbHU9e2dldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gZmh0KGxhLGZ1bmN0aW9uKG4pe3JldHVybiBjKHt9LG4pfSl9LHNldENvZGU6ZnVuY3Rpb24obil7biYmZHR0LnNldChuKX0sZ2V0Q29kZTpmdW5jdGlvbigpe3JldHVybiBkdHQuZ2V0KCl9LGFkZDpmdW5jdGlvbihuLHQpe3ZhciBpPWxhW25dO2l8fChsYVtuXT1pPXt9KTtldCh0LGZ1bmN0aW9uKG4sdCl7aVt0LnRvTG93ZXJDYXNlKCldPW59KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuIGZ0KG4pP09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKTpvKG4pPyIiOiIiK259ZnVuY3Rpb24gcihuKXt2YXIgaT10KG4pO3JldHVybiBhdChzLGkudG9Mb3dlckNhc2UoKSkubWFwKHQpLmdldE9yKGkpfWZ1bmN0aW9uIHUobil7cmV0dXJuIG4ucmVwbGFjZSgve2NvbnRleHQ6XHcrfSQvLCIiKX12YXIgZixlLHM9dnZ0KCkuZ2V0T3Ioe30pLG89ZnVuY3Rpb24obil7cmV0dXJuIiI9PT1ufHxudWxsPT1ufSxpO3JldHVybiBvKG4pPyIiOmVoKGY9bikmJncoZiwicmF3Iik/dChuLnJhdyk6YnIoZT1uKSYmMTxlLmxlbmd0aD8oaT1uLnNsaWNlKDEpLHUocihuWzBdKS5yZXBsYWNlKC9ceyhbMC05XSspXH0vZyxmdW5jdGlvbihuLHIpe3JldHVybiB3KGkscik/dChpW3JdKTpufSkpKTp1KHIobikpfSxpc1J0bDpmdW5jdGlvbigpe3JldHVybiB2dnQoKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBhdChuLCJfZGlyIil9KS5leGlzdHMoZnVuY3Rpb24obil7cmV0dXJuInJ0bCI9PT1ufSl9LGhhc0NvZGU6ZnVuY3Rpb24obil7cmV0dXJuIHcobGEsbil9fSxycj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIobix0KXtlKHAoaSxmdW5jdGlvbihpKXtyZXR1cm4gaS5uYW1lPT09biYmaS5zdGF0ZT09PXR9KSxmdW5jdGlvbihuKXtyZXR1cm4gbi5jYWxsYmFjaygpfSl9ZnVuY3Rpb24gdSh0KXt2YXIgaTtyZXR1cm4oblt0XT9uW3RdLmRlcGVuZGVuY2llczppKXx8W119ZnVuY3Rpb24gZihuLHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD90OiJzdHJpbmciPT10eXBlb2Ygbj97cHJlZml4OiIiLHJlc291cmNlOnQsc3VmZml4OiIifTp7cHJlZml4Om4ucHJlZml4LHJlc291cmNlOnQsc3VmZml4Om4uc3VmZml4fX1mdW5jdGlvbiBvKHIsdSxmKXt2b2lkIDA9PT1mJiYoZj0iYWRkZWQiKTt3KG4scikmJiJhZGRlZCI9PT1mfHx3KHQscikmJiJsb2FkZWQiPT09Zj91KCk6aS5wdXNoKHtuYW1lOnIsc3RhdGU6ZixjYWxsYmFjazp1fSl9dmFyIHM9W10sdD17fSxuPXt9LGk9W10saD1mdW5jdGlvbihpLG8scyxjLGwpe3ZhciBhLHY7dFtpXXx8KDAhPT0oYT0ic3RyaW5nIj09dHlwZW9mIG8/bzpvLnByZWZpeCtvLnJlc291cmNlK28uc3VmZml4KS5pbmRleE9mKCIvIikmJi0xPT09YS5pbmRleE9mKCI6Ly8iKSYmKGE9cnIuYmFzZVVSTCsiLyIrYSksdFtpXT1hLnN1YnN0cmluZygwLGEubGFzdEluZGV4T2YoIi8iKSksdj1mdW5jdGlvbigpe3ZhciBsLG4sdDtyKGksImxvYWRlZCIpO2w9bztuPXM7dD1jO2UodShpKSxmdW5jdGlvbihuKXt2YXIgdD1mKGwsbik7aCh0LnJlc291cmNlLHQsdm9pZCAwLHZvaWQgMCl9KTtuJiYodD9uLmNhbGwodCk6bi5jYWxsKGRmKSl9LG5baV0/digpOmRmLlNjcmlwdExvYWRlci5hZGQoYSx2LGMsbCkpfTtyZXR1cm57aXRlbXM6cyx1cmxzOnQsbG9va3VwOm4sX2xpc3RlbmVyczppLGdldDpmdW5jdGlvbih0KXtpZihuW3RdKXJldHVybiBuW3RdLmluc3RhbmNlfSxkZXBlbmRlbmNpZXM6dSxyZXF1aXJlTGFuZ1BhY2s6ZnVuY3Rpb24obixpKXshMSE9PXJyLmxhbmd1YWdlTG9hZCYmbyhuLGZ1bmN0aW9uKCl7dmFyIHI9bHUuZ2V0Q29kZSgpOyFyfHxpJiYtMT09PSgiLCIrKGl8fCIiKSsiLCIpLmluZGV4T2YoIiwiK3IrIiwiKXx8ZGYuU2NyaXB0TG9hZGVyLmFkZCh0W25dKyIvbGFuZ3MvIityKyIuanMiKX0sImxvYWRlZCIpfSxhZGQ6ZnVuY3Rpb24odCxpLHUpe3ZhciBmPWk7cmV0dXJuIHMucHVzaChmKSxuW3RdPXtpbnN0YW5jZTpmLGRlcGVuZGVuY2llczp1fSxyKHQsImFkZGVkIiksZn0scmVtb3ZlOmZ1bmN0aW9uKGkpe2RlbGV0ZSB0W2ldO2RlbGV0ZSBuW2ldfSxjcmVhdGVVcmw6ZixhZGRDb21wb25lbnRzOmZ1bmN0aW9uKG4saSl7dmFyIHI9dFtuXTtlKGksZnVuY3Rpb24obil7ZGYuU2NyaXB0TG9hZGVyLmFkZChyKyIvIituKX0pfSxsb2FkOmgsd2FpdEZvcjpvfX07cnIubGFuZ3VhZ2VMb2FkPSEwO3JyLmJhc2VVUkw9IiI7cnIuUGx1Z2luTWFuYWdlcj1ycigpO3JyLlRoZW1lTWFuYWdlcj1ycigpO3ZhciBzeXQ9ZnVuY3Rpb24obix0KXt2YXIgaT1bXTtyZXR1cm4gZShudShuKSxmdW5jdGlvbihuKXtpPShpPXQobik/aS5jb25jYXQoW25dKTppKS5jb25jYXQoc3l0KG4sdCkpfSksaX0sdWl0PWYoIm1jZS1hbm5vdGF0aW9uIiksYWE9ZigiZGF0YS1tY2UtYW5ub3RhdGlvbiIpLGtwPWYoImRhdGEtbWNlLWFubm90YXRpb24tdWlkIiksaHZpPWZ1bmN0aW9uKG4saSl7cmV0dXJuIGdpKHQuZnJvbURvbShuLmdldEJvZHkoKSksIlsiK2twKCkrJz0iJytpKyciXScpfSxjdmk9MCxsYz1NYXRoLnJvdW5kLGx2aT1uZXcgUmVnRXhwKCJbzIAtza/Sgy3Sh9KILdKJ1pEt1r3Wv9eBLdeC14Qt14XXh9iQLdia2Yst2Z/ZsNuWLduc258t26Tbpy3bqNuqLdut3JHcsC3dit6mLd6w36st37PgoJYt4KCZ4KCbLeCgo+CgpS3goKfgoKkt4KCt4KGZLeChm+Cjoy3gpILgpLrgpLzgpYEt4KWI4KWN4KWRLeCll+Cloi3gpaPgpoHgprzgpr7gp4Et4KeE4KeN4KeX4KeiLeCno+CogS3gqILgqLzgqYEt4KmC4KmHLeCpiOCpiy3gqY3gqZHgqbAt4Kmx4Km14KqBLeCqguCqvOCrgS3gq4Xgq4ct4KuI4KuN4KuiLeCro+CsgeCsvOCsvuCsv+CtgS3grYTgrY3grZbgrZfgraIt4K2j4K6C4K6+4K+A4K+N4K+X4LCA4LC+LeCxgOCxhi3gsYjgsYot4LGN4LGVLeCxluCxoi3gsaPgsoHgsrzgsr/gs4Lgs4bgs4wt4LON4LOVLeCzluCzoi3gs6PgtIHgtL7gtYEt4LWE4LWN4LWX4LWiLeC1o+C3iuC3j+C3ki3gt5Tgt5bgt5/guLHguLQt4Li64LmHLeC5juC6seC6tC3gurngurst4Lq84LuILeC7jeC8mC3gvJngvLXgvLfgvLngvbEt4L2+4L6ALeC+hOC+hi3gvofgvo0t4L6X4L6ZLeC+vOC/huGArS3hgLDhgLIt4YC34YC5LeGAuuGAvS3hgL7hgZgt4YGZ4YGeLeGBoOGBsS3hgbThgoLhgoUt4YKG4YKN4YKd4Y2dLeGNn+Gcki3hnJThnLIt4Zy04Z2SLeGdk+Gdsi3hnbPhnrQt4Z614Z63LeGeveGfhuGfiS3hn5Phn53hoIst4aCN4aKp4aSgLeGkouGkpy3hpKjhpLLhpLkt4aS74aiXLeGomOGom+GpluGpmC3hqZ7hqaDhqaLhqaUt4ams4amzLeGpvOGpv+GqsC3hqr3hqr7hrIAt4ayD4ay04ay2LeGsuuGsvOGtguGtqy3hrbPhroAt4a6B4a6iLeGupeGuqC3hrqnhrqst4a6t4a+m4a+oLeGvqeGvreGvry3hr7HhsKwt4bCz4bC2LeGwt+GzkC3hs5Lhs5Qt4bOg4bOiLeGzqOGzreGztOGzuC3hs7nht4At4be14be8LeG3v+KAjC3igI3ig5At4oOc4oOdLeKDoOKDoeKDoi3ig6Tig6Ut4oOw4rOvLeKzseK1v+K3oC3it7/jgKot44Ct44CuLeOAr+OCmS3jgprqma/qmbAt6pmy6pm0LeqZveqani3qmp/qm7At6pux6qCC6qCG6qCL6qClLeqgpuqjhOqjoC3qo7HqpKYt6qSt6qWHLeqlkeqmgC3qpoLqprPqprYt6qa56qa86qel6qipLeqoruqosS3qqLLqqLUt6qi26qmD6qmM6qm86qqw6qqyLeqqtOqqty3qqrjqqr4t6qq/6quB6qusLeqrreqrtuqvpeqvqOqvre+snu+4gC3vuI/vuKAt77iv776eLe++n10iKSxoeXQ9aCxhdmk9bmYsY3l0PWx5KCJkaXNwbGF5IiwiYmxvY2sgdGFibGUiKSx2dmk9bHkoImZsb2F0IiwibGVmdCByaWdodCIpLHZhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbihuKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZighdFtpXShuKSlyZXR1cm4hMTtyZXR1cm4hMH19KGh5dCxhdmksbmcodnZpKSkseXZpPW5nKGx5KCJ3aGl0ZS1zcGFjZSIsInByZSBwcmUtbGluZSBwcmUtd3JhcCIpKSx5YT1vLGZpdD1zdCxseXQ9ZC5ub2RlSW5kZXgsZHA9ZnVuY3Rpb24obix0KXtpZighKHQ8MCYmaChuKSYmbi5oYXNDaGlsZE5vZGVzKCkpKXJldHVybiB0byhuLHQpfSxpbz1mdW5jdGlvbihuKXt2YXIgaT1uLmdldENsaWVudFJlY3RzKCksdD0wPGkubGVuZ3RoP29zKGlbMF0pOm9zKG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3JldHVybiFleXQobikmJmZpdChuKSYmb3l0KHQpP2Z1bmN0aW9uKG4pe3ZhciByPW4ub3duZXJEb2N1bWVudCxpPXRpdChyKSx0PXIuY3JlYXRlVGV4dE5vZGUoaXIpLHU9bi5wYXJlbnROb2RlLGY7cmV0dXJuIHUuaW5zZXJ0QmVmb3JlKHQsbiksaS5zZXRTdGFydCh0LDApLGkuc2V0RW5kKHQsMSksZj1vcyhpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSx1LnJlbW92ZUNoaWxkKHQpLGZ9KG4pOm95dCh0KSYmZXl0KG4pP2Z1bmN0aW9uKG4pe3ZhciByPW4uc3RhcnRDb250YWluZXIsdD1uLmVuZENvbnRhaW5lcix1PW4uc3RhcnRPZmZzZXQsZj1uLmVuZE9mZnNldCxpO3JldHVybiByPT09dCYmbyh0KSYmMD09PXUmJjE9PT1mPyhpPW4uY2xvbmVSYW5nZSgpLGkuc2V0RW5kQWZ0ZXIodCksaW8oaSkpOm51bGx9KG4pOnR9LGk9ZnVuY3Rpb24obix0LHIpe2Z1bmN0aW9uIHUoKXtyZXR1cm4gcj1yfHxmdW5jdGlvbihuKXtmdW5jdGlvbiByKG4pe3ZhciB0OzAhPT1uLmhlaWdodCYmKDA8aS5sZW5ndGgmJih0PWlbaS5sZW5ndGgtMV0sbi5sZWZ0PT09dC5sZWZ0JiZuLnRvcD09PXQudG9wJiZuLmJvdHRvbT09PXQuYm90dG9tJiZuLnJpZ2h0PT09dC5yaWdodCl8fGkucHVzaChuKSl9ZnVuY3Rpb24gZShuLHQpe3ZhciB1PXRpdChuLm93bmVyRG9jdW1lbnQpO2lmKHQ8bi5kYXRhLmxlbmd0aCl7aWYoZnl0KG4uZGF0YVt0XSkpcmV0dXJuIGk7aWYoZnl0KG4uZGF0YVt0LTFdKSYmKHUuc2V0U3RhcnQobix0KSx1LnNldEVuZChuLHQrMSksIXJpdCh1KSkpcmV0dXJuIHIoc3MoaW8odSksITEpKSxpfTA8dCYmKHUuc2V0U3RhcnQobix0LTEpLHUuc2V0RW5kKG4sdCkscml0KHUpfHxyKHNzKGlvKHUpLCExKSkpO3Q8bi5kYXRhLmxlbmd0aCYmKHUuc2V0U3RhcnQobix0KSx1LnNldEVuZChuLHQrMSkscml0KHUpfHxyKHNzKGlvKHUpLCEwKSkpfXZhciBpPVtdLHU9bi5jb250YWluZXIoKSxvPW4ub2Zmc2V0KCksdCxmO2lmKHlhKHUpKXJldHVybiBlKHUsbyksaTtpZihoeXQodSkpaWYobi5pc0F0RW5kKCkpdD1kcCh1LG8pLHlhKHQpJiZlKHQsdC5kYXRhLmxlbmd0aCksdmEodCkmJiFmaXQodCkmJnIoc3MoaW8odCksITEpKTtlbHNle2lmKHQ9ZHAodSxvKSx5YSh0KSYmZSh0LDApLHZhKHQpJiZuLmlzQXRFbmQoKSlyZXR1cm4gcihzcyhpbyh0KSwhMSkpLGk7Zj1kcChuLmNvbnRhaW5lcigpLG4ub2Zmc2V0KCktMSk7dmEoZikmJiFmaXQoZikmJighY3l0KGYpJiYhY3l0KHQpJiZ2YSh0KXx8cihzcyhpbyhmKSwhMSkpKTt2YSh0KSYmcihzcyhpbyh0KSwhMCkpfXJldHVybiBpfShpKG4sdCkpfXJldHVybntjb250YWluZXI6ZihuKSxvZmZzZXQ6Zih0KSx0b1JhbmdlOmZ1bmN0aW9uKCl7dmFyIGk9dGl0KG4ub3duZXJEb2N1bWVudCk7cmV0dXJuIGkuc2V0U3RhcnQobix0KSxpLnNldEVuZChuLHQpLGl9LGdldENsaWVudFJlY3RzOnUsaXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIDA8dSgpLmxlbmd0aH0saXNBdFN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHlhKG4pLDA9PT10fSxpc0F0RW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHlhKG4pP3Q+PW4uZGF0YS5sZW5ndGg6dD49bi5jaGlsZE5vZGVzLmxlbmd0aH0saXNFcXVhbDpmdW5jdGlvbihpKXtyZXR1cm4gaSYmbj09PWkuY29udGFpbmVyKCkmJnQ9PT1pLm9mZnNldCgpfSxnZXROb2RlOmZ1bmN0aW9uKGkpe3JldHVybiBkcChuLGk/dC0xOnQpfX19O2kuZnJvbVJhbmdlU3RhcnQ9ZnVuY3Rpb24obil7cmV0dXJuIGkobi5zdGFydENvbnRhaW5lcixuLnN0YXJ0T2Zmc2V0KX07aS5mcm9tUmFuZ2VFbmQ9ZnVuY3Rpb24obil7cmV0dXJuIGkobi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpfTtpLmFmdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpKG4ucGFyZW50Tm9kZSxseXQobikrMSl9O2kuYmVmb3JlPWZ1bmN0aW9uKG4pe3JldHVybiBpKG4ucGFyZW50Tm9kZSxseXQobikpfTtpLmlzQWJvdmU9ZnVuY3Rpb24obix0KXtyZXR1cm4gZGkob3IodC5nZXRDbGllbnRSZWN0cygpKSx5byhuLmdldENsaWVudFJlY3RzKCkpLGhjKS5nZXRPcighMSl9O2kuaXNCZWxvdz1mdW5jdGlvbihuLHQpe3JldHVybiBkaSh5byh0LmdldENsaWVudFJlY3RzKCkpLG9yKG4uZ2V0Q2xpZW50UmVjdHMoKSksY2MpLmdldE9yKCExKX07aS5pc0F0U3RhcnQ9ZnVuY3Rpb24obil7cmV0dXJuISFuJiZuLmlzQXRTdGFydCgpfTtpLmlzQXRFbmQ9ZnVuY3Rpb24obil7cmV0dXJuISFuJiZuLmlzQXRFbmQoKX07aS5pc1RleHRQb3NpdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4hIW4mJm8obi5jb250YWluZXIoKSl9O2kuaXNFbGVtZW50UG9zaXRpb249ZnVuY3Rpb24obil7cmV0dXJuITE9PT1pLmlzVGV4dFBvc2l0aW9uKG4pfTt2YXIgYnQscncsYXU9byxud3Q9a28sdHd0PWQubm9kZUluZGV4LGl3dD1mdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIG53dCh0KT9pd3QodCk6dH0sYWl0PWZ1bmN0aW9uKG4pe3JldHVybiBuP3V5KG4uY2hpbGROb2RlcyxmdW5jdGlvbihuLHQpe3JldHVybiBud3QodCkmJiJCUiIhPT10Lm5vZGVOYW1lP249bi5jb25jYXQoYWl0KHQpKTpuLnB1c2godCksbn0sW10pOltdfSx1dz1ydCxyd3Q9dShneXQsa2ksITApLGt2aT1kLkRPTSxkdmk9aCx1d3Q9byxjcz1mdW5jdGlvbihuKXtkdmkobikmJmhyKG4pJiYobmF0KG4pP24ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpOmFwdChuKSk7dXd0KG4pJiYoeXB0KG4pLDA9PT1uLmRhdGEubGVuZ3RoJiZhcHQobikpfSx2aXQ9a3IoKS5icm93c2VyLGd2aT1ydCxueWk9dHUsdHlpPXl5LGRhPWZ1bmN0aW9uKG4pe3JldHVybiBndmkobil8fG55aShuKX0seWl0PXJ0LGl5aT10dSxyeWk9bHkoImRpc3BsYXkiLCJibG9jayB0YWJsZSB0YWJsZS1jZWxsIHRhYmxlLWNhcHRpb24gbGlzdC1pdGVtIiksZnd0PWhyLGV3dD1raCxvd3Q9aCx1eWk9bmYsZ2E9dShrcHQsITApLG52PXUoa3B0LCExKTsocnc9YnQ9YnR8fHt9KVtydy5CYWNrd2FyZHM9LTFdPSJCYWNrd2FyZHMiO3J3W3J3LkZvcndhcmRzPTFdPSJGb3J3YXJkcyI7dmFyIGhidCxsdyxjYnQsY3lpPXJ0LGNmPW8sbGJ0PWgsb3J0PXN0LGtjPW5mLGF3PWt5LHNydD1mdW5jdGlvbihuLHQscil7dmFyIGgsZSxzLGEsdixjLGYsbyx1LGw7aWYoIWxidChyKXx8IXQpcmV0dXJuIG51bGw7aWYodC5pc0VxdWFsKGkuYWZ0ZXIocikpJiZyLmxhc3RDaGlsZCl7aWYocz1pLmFmdGVyKHIubGFzdENoaWxkKSxuPDAmJmtjKHIubGFzdENoaWxkKSYmbGJ0KHIubGFzdENoaWxkKSlyZXR1cm4gb3J0KHIubGFzdENoaWxkKT9pLmJlZm9yZShyLmxhc3RDaGlsZCk6c31lbHNlIHM9dDtpZihmPXMuY29udGFpbmVyKCksbz1zLm9mZnNldCgpLGNmKGYpKXtpZihuPDAmJjA8bylyZXR1cm4gaShmLC0tbyk7aWYoMDxuJiZvPGYubGVuZ3RoKXJldHVybiBpKGYsKytvKTtoPWZ9ZWxzZXtpZihuPDAmJjA8byYmKHU9c3d0KGYsby0xKSxrYyh1KSkpcmV0dXJuIXNidCh1KSYmKGU9YWModSxuLGF3LHUpKT9jZihlKT9pKGUsZS5kYXRhLmxlbmd0aCk6aS5hZnRlcihlKTpjZih1KT9pKHUsdS5kYXRhLmxlbmd0aCk6aS5iZWZvcmUodSk7aWYoMDxuJiZvPGYuY2hpbGROb2Rlcy5sZW5ndGgmJih1PXN3dChmLG8pLGtjKHUpKSlyZXR1cm4gb3J0KHUpPyhhPXIsKGM9KHY9dSkubmV4dFNpYmxpbmcpJiZrYyhjKT9jZihjKT9pKGMsMCk6aS5iZWZvcmUoYyk6c3J0KGJ0LkZvcndhcmRzLGkuYWZ0ZXIodiksYSkpOiFzYnQodSkmJihlPWFjKHUsbixhdyx1KSk/Y2YoZSk/aShlLDApOmkuYmVmb3JlKGUpOmNmKHUpP2kodSwwKTppLmFmdGVyKHUpO2g9dXx8cy5nZXROb2RlKCl9cmV0dXJuKDA8biYmcy5pc0F0RW5kKCl8fG48MCYmcy5pc0F0U3RhcnQoKSkmJihoPWFjKGgsbixsdCxyLCEwKSxhdyhoLHIpKT9od3QobixoKToodT1hYyhoLG4sYXcsciksbD1wbyhwKGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPVtdO24mJm4hPT10OylpLnB1c2gobiksbj1uLnBhcmVudE5vZGU7cmV0dXJuIGl9KGYsciksY3lpKSksIWx8fHUmJmwuY29udGFpbnModSk/dT9od3Qobix1KTpudWxsOjA8bj9pLmFmdGVyKGwpOmkuYmVmb3JlKGwpKX0sdnI9ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXZ1KGkpO3JldHVybiBuLmZyb20odD91Lm5leHQocik6dS5wcmV2KHIpKX0sYWJ0PWZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiBmdyh0LGkscikuYmluZChmdW5jdGlvbihyKXtyZXR1cm4gdShyKT9hYnQodCxpLHIsdSk6bi5zb21lKHIpfSl9LHl1PXUodnIsITApLGxmPXUodnIsITEpLHdpPXUodmMsITApLGFmPXUodmMsITEpLHZidD0iX21jZV9jYXJldCIsbHlpPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gMj09PXQ/Z3l0KHZlLHIsbik6Mz09PXQ/KGY9KHU9bikuZ2V0Um5nKCkse3N0YXJ0Onl5dCh1LmRvbS5nZXRSb290KCksaS5mcm9tUmFuZ2VTdGFydChmKSksZW5kOnl5dCh1LmRvbS5nZXRSb290KCksaS5mcm9tUmFuZ2VFbmQoZikpfSk6dD97cm5nOm4uZ2V0Um5nKCl9OnRwdChuLCExKTt2YXIgdSxmfSx1dj0oaGJ0PWlyLGZ1bmN0aW9uKG4pe3JldHVybiBoYnQ9PT1ufSksaHJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSwhKCFnKG4pfHwhbyhuKSkmJnRzKHQ/bi5kYXRhLnJlcGxhY2UoLyAvZywiwqAiKTpuLmRhdGEpfSxkYz1hcix5YnQ9c3cscGJ0PWhydCxheWk9a2l0LHdidD1mdW5jdGlvbihuLHQsaSxyKXt2YXIgdT1pLnBhcmVudE5vZGU7cmV0dXJuIWcoaVtyXSkmJighKHUhPT10JiYhd3UodSkmJiFuLmlzQmxvY2sodSkpfHx3YnQobix0LHUscikpfSxiYnQ9ZnVuY3Rpb24obil7cmV0dXJuIHZjdChuKS5mb2xkKGYoW25dKSxmdW5jdGlvbih0KXtyZXR1cm5bbl0uY29uY2F0KGJidCh0KSl9KX0sY3J0PWZ1bmN0aW9uKG4pe3JldHVybiB5ZyhuKS5mb2xkKGYoW25dKSxmdW5jdGlvbih0KXtyZXR1cm4iYnIiPT09dnQodCk/Ym8odCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybltuXS5jb25jYXQoY3J0KHQpKX0pLmdldE9yKFtdKTpbbl0uY29uY2F0KGNydCh0KSl9KX0sdnlpPShsdz1ncix7Z2V0OmZ1bmN0aW9uKG4pe2lmKCFsdyhuKSl0aHJvdyBuZXcgRXJyb3IoIkNhbiBvbmx5IGdldCB0ZXh0IHZhbHVlIG9mIGEgdGV4dCBub2RlIik7cmV0dXJuIGNidChuKS5nZXRPcigiIil9LGdldE9wdGlvbjpjYnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGx3KHQpP24uZnJvbSh0LmRvbS5ub2RlVmFsdWUpOm4ubm9uZSgpfSxzZXQ6ZnVuY3Rpb24obix0KXtpZighbHcobikpdGhyb3cgbmV3IEVycm9yKCJDYW4gb25seSBzZXQgcmF3IHRleHQgdmFsdWUgb2YgYSB0ZXh0IG5vZGUiKTtuLmRvbS5ub2RlVmFsdWU9dH19KTtydi5pc0Jvb2ttYXJrTm9kZT1hcjtzPXtCQUNLU1BBQ0U6OCxERUxFVEU6NDYsRE9XTjo0MCxFTlRFUjoxMyxFU0M6MjcsTEVGVDozNyxSSUdIVDozOSxTUEFDRUJBUjozMixUQUI6OSxVUDozOCxQQUdFX1VQOjMzLFBBR0VfRE9XTjozNCxFTkQ6MzUsSE9NRTozNixtb2RpZmllclByZXNzZWQ6ZnVuY3Rpb24obil7cmV0dXJuIG4uc2hpZnRLZXl8fG4uY3RybEtleXx8bi5hbHRLZXl8fHMubWV0YUtleVByZXNzZWQobil9LG1ldGFLZXlQcmVzc2VkOmZ1bmN0aW9uKG4pe3JldHVybiBsLm1hYz9uLm1ldGFLZXk6bi5jdHJsS2V5JiYhbi5hbHRLZXl9fTtya3Q9cnQ7ZnYuY29tcGFyZVJhbmdlcz15cnQ7ZnYuZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludD12cnQ7ZnYuZ2V0U2VsZWN0ZWROb2RlPWJwO2Z2LmdldE5vZGU9dG87Zmt0PSh3dz0iaGVpZ2h0Iix1a3Q9ZnVuY3Rpb24obil7dmFyIHQ9bi5kb207cmV0dXJuIHRhKG4pP3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0OnQub2Zmc2V0SGVpZ2h0fSx7c2V0OmZ1bmN0aW9uKG4sdCl7aWYoIW9oKHQpJiYhdC5tYXRjaCgvXlswLTldKyQvKSl0aHJvdyBuZXcgRXJyb3Iod3crIi5zZXQgYWNjZXB0cyBvbmx5IHBvc2l0aXZlIGludGVnZXIgdmFsdWVzLiBWYWx1ZSB3YXMgIit0KTt2YXIgaT1uLmRvbTt2eShpKSYmKGkuc3R5bGVbd3ddPXQrInB4Iil9LGdldDpla3QsZ2V0T3V0ZXI6ZWt0LGFnZ3JlZ2F0ZTpva3QsbWF4OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1va3QobixpKTtyZXR1cm4gcjx0P3QtcjowfX0pO3ZhciBvdixmZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gbi52aWV3KHQpLmZvbGQoZihbXSksZnVuY3Rpb24odCl7dmFyIGk9bi5vd25lcih0KSxyPWZkdChuLGkpO3JldHVyblt0XS5jb25jYXQocil9KX0scnBpPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHZpZXc6ZnVuY3Rpb24oaSl7dmFyIHI7cmV0dXJuKGkuZG9tPT09ZG9jdW1lbnQ/bi5ub25lKCk6bi5mcm9tKG51bGw9PT0ocj1pLmRvbS5kZWZhdWx0Vmlldyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZnJhbWVFbGVtZW50KSkubWFwKHQuZnJvbURvbSl9LG93bmVyOnZofSksdXBpPWZ1bmN0aW9uKG4saSxyLHUpe3ZhciBjPXQuZnJvbURvbShuLmdldEJvZHkoKSksbD10LmZyb21Eb20obi5nZXREb2MoKSksbyxzLGgsZixlO2MuZG9tLm9mZnNldFdpZHRoO2U9KG89dC5mcm9tRG9tKHIuc3RhcnRDb250YWluZXIpLHM9ci5zdGFydE9mZnNldCxoPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bnUobiksaTtyZXR1cm4gMD09PXIubGVuZ3RofHxicnQobik/e2VsZW1lbnQ6bixvZmZzZXQ6dH06dDxyLmxlbmd0aCYmIWJydChyW3RdKT97ZWxlbWVudDpyW3RdLG9mZnNldDowfTooaT1yW3IubGVuZ3RoLTFdLGJydChpKT97ZWxlbWVudDpuLG9mZnNldDp0fToiaW1nIj09PXZ0KGkpP3tlbGVtZW50Omksb2Zmc2V0OjF9OmdyKGkpP3tlbGVtZW50Omksb2Zmc2V0OmVydChpKS5sZW5ndGh9OntlbGVtZW50Omksb2Zmc2V0Om51KGkpLmxlbmd0aH0pfShvLHMpLGY9dC5mcm9tSHRtbCgnPHNwYW4gZGF0YS1tY2UtYm9ndXM9ImFsbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsiPu+7vzxcL3NwYW4+Jyksb3UoaC5lbGVtZW50LGYpLHNrdChmLGZ1bmN0aW9uKCl7cmV0dXJuIG5pKGYpfSkpO2NrdChuLGwsaSxlLHUpO2UuY2xlYW51cCgpfSxmcGk9ZnVuY3Rpb24obixpLHIpe3ZhciBmPXIuc3RhcnRDb250YWluZXIsbz1yLnN0YXJ0T2Zmc2V0LGU9ci5lbmRDb250YWluZXIscz1yLmVuZE9mZnNldCx1O2kodC5mcm9tRG9tKGYpLHQuZnJvbURvbShlKSk7dT1uLmRvbS5jcmVhdGVSbmcoKTt1LnNldFN0YXJ0KGYsbyk7dS5zZXRFbmQoZSxzKTtuLnNlbGVjdGlvbi5zZXRSbmcocil9LHJ1dD1jZShbe2JlZm9yZTpbImVsZW1lbnQiXX0se29uOlsiZWxlbWVudCIsIm9mZnNldCJdfSx7YWZ0ZXI6WyJlbGVtZW50Il19XSksZXBpPShydXQuYmVmb3JlLHJ1dC5vbixydXQuYWZ0ZXIsZnVuY3Rpb24obil7cmV0dXJuIG4uZm9sZChraSxraSxraSl9KSxndz1jZShbe2RvbVJhbmdlOlsicm5nIl19LHtyZWxhdGl2ZTpbInN0YXJ0U2l0dSIsImZpbmlzaFNpdHUiXX0se2V4YWN0Olsic3RhcnQiLCJzb2Zmc2V0IiwiZmluaXNoIiwiZm9mZnNldCJdfV0pLGVkdD17ZG9tUmFuZ2U6Z3cuZG9tUmFuZ2UscmVsYXRpdmU6Z3cucmVsYXRpdmUsZXhhY3Q6Z3cuZXhhY3QsZXhhY3RGcm9tUmFuZ2U6ZnVuY3Rpb24obil7cmV0dXJuIGd3LmV4YWN0KG4uc3RhcnQsbi5zb2Zmc2V0LG4uZmluaXNoLG4uZm9mZnNldCl9LGdldFdpbjpmdW5jdGlvbihuKXtyZXR1cm4gY2N0KG4ubWF0Y2goe2RvbVJhbmdlOmZ1bmN0aW9uKG4pe3JldHVybiB0LmZyb21Eb20obi5zdGFydENvbnRhaW5lcil9LHJlbGF0aXZlOmZ1bmN0aW9uKG4pe3JldHVybiBlcGkobil9LGV4YWN0OmZ1bmN0aW9uKG4pe3JldHVybiBufX0pKX0scmFuZ2U6ZnVuY3Rpb24obix0LGkscil7cmV0dXJue3N0YXJ0Om4sc29mZnNldDp0LGZpbmlzaDppLGZvZmZzZXQ6cn19fSxvcGk9a3IoKS5icm93c2VyLG9kdD17aXNFZGl0b3JVSUVsZW1lbnQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5jbGFzc05hbWUudG9TdHJpbmcoKTtyZXR1cm4tMSE9PXQuaW5kZXhPZigidG94LSIpfHwtMSE9PXQuaW5kZXhPZigibWNlLSIpfX0sdXV0PWQuRE9NLGZ1dD1mdW5jdGlvbihuKXtyZXR1cm4gbi5lZGl0b3JNYW5hZ2VyLnNldEFjdGl2ZShuKX0sc3BpPXsiI3RleHQiOjMsIiNjb21tZW50Ijo4LCIjY2RhdGEiOjQsIiNwaSI6NywiI2RvY3R5cGUiOjEwLCIjZG9jdW1lbnQtZnJhZ21lbnQiOjExfSxydT0oY2kuY3JlYXRlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9bmV3IGNpKG4sc3BpW25dfHwxKTtyZXR1cm4gdCYmZXQodCxmdW5jdGlvbihuLHQpe2kuYXR0cih0LG4pfSksaX0sY2kucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50JiZuLnJlbW92ZSgpLHRoaXMuaW5zZXJ0KG4sdGhpcyksdGhpcy5yZW1vdmUoKSx0aGlzfSxjaS5wcm90b3R5cGUuYXR0cj1mdW5jdGlvbihuLHQpe3ZhciBpLHU9dGhpcyxyO2lmKCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gbnVsbCE9biYmZXQobixmdW5jdGlvbihuLHQpe3UuYXR0cih0LG4pfSksdTtpZihpPXUuYXR0cmlidXRlcyl7aWYodm9pZCAwPT09dClyZXR1cm4gaS5tYXBbbl07aWYobnVsbD09PXQpe2lmKG4gaW4gaS5tYXApZm9yKGRlbGV0ZSBpLm1hcFtuXSxyPWkubGVuZ3RoO3ItLTspaWYoaVtyXS5uYW1lPT09bilyZXR1cm4gaS5zcGxpY2UociwxKSx1O3JldHVybiB1fWlmKG4gaW4gaS5tYXApe2ZvcihyPWkubGVuZ3RoO3ItLTspaWYoaVtyXS5uYW1lPT09bil7aVtyXS52YWx1ZT10O2JyZWFrfX1lbHNlIGkucHVzaCh7bmFtZTpuLHZhbHVlOnR9KTtyZXR1cm4gaS5tYXBbbl09dCx1fX0sY2kucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHUsaT1uZXcgY2kodGhpcy5uYW1lLHRoaXMudHlwZSksbixyLGYsdDtpZih1PXRoaXMuYXR0cmlidXRlcyl7Zm9yKG49W10sbi5tYXA9e30scj0wLGY9dS5sZW5ndGg7cjxmO3IrKyl0PXVbcl0sImlkIiE9PXQubmFtZSYmKG5bbi5sZW5ndGhdPXtuYW1lOnQubmFtZSx2YWx1ZTp0LnZhbHVlfSxuLm1hcFt0Lm5hbWVdPXQudmFsdWUpO2kuYXR0cmlidXRlcz1ufXJldHVybiBpLnZhbHVlPXRoaXMudmFsdWUsaS5zaG9ydEVuZGVkPXRoaXMuc2hvcnRFbmRlZCxpfSxjaS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wYXJlbnQuaW5zZXJ0KG4sdGhpcyksbi5hcHBlbmQodGhpcyksdGhpc30sY2kucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe2Zvcih2YXIgdCxuPXRoaXMuZmlyc3RDaGlsZDtuOyl0PW4ubmV4dCx0aGlzLmluc2VydChuLHRoaXMsITApLG49dDt0aGlzLnJlbW92ZSgpfSxjaS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wYXJlbnQsdD10aGlzLm5leHQsaT10aGlzLnByZXY7cmV0dXJuIG4mJihuLmZpcnN0Q2hpbGQ9PT10aGlzPyhuLmZpcnN0Q2hpbGQ9dCkmJih0LnByZXY9bnVsbCk6aS5uZXh0PXQsbi5sYXN0Q2hpbGQ9PT10aGlzPyhuLmxhc3RDaGlsZD1pKSYmKGkubmV4dD1udWxsKTp0LnByZXY9aSx0aGlzLnBhcmVudD10aGlzLm5leHQ9dGhpcy5wcmV2PW51bGwpLHRoaXN9LGNpLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24obil7bi5wYXJlbnQmJm4ucmVtb3ZlKCk7dmFyIHQ9dGhpcy5sYXN0Q2hpbGQ7cmV0dXJuIHQ/KCh0Lm5leHQ9bikucHJldj10LHRoaXMubGFzdENoaWxkPW4pOnRoaXMubGFzdENoaWxkPXRoaXMuZmlyc3RDaGlsZD1uLG4ucGFyZW50PXRoaXMsbn0sY2kucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihuLHQsaSl7bi5wYXJlbnQmJm4ucmVtb3ZlKCk7dmFyIHI9dC5wYXJlbnR8fHRoaXM7cmV0dXJuIGk/KHQ9PT1yLmZpcnN0Q2hpbGQ/ci5maXJzdENoaWxkPW46dC5wcmV2Lm5leHQ9bixuLnByZXY9dC5wcmV2LChuLm5leHQ9dCkucHJldj1uKToodD09PXIubGFzdENoaWxkP3IubGFzdENoaWxkPW46dC5uZXh0LnByZXY9bixuLm5leHQ9dC5uZXh0LChuLnByZXY9dCkubmV4dD1uKSxuLnBhcmVudD1yLG59LGNpLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24obil7Zm9yKHZhciBpPVtdLHQ9dGhpcy5maXJzdENoaWxkO3Q7dD1kdyh0LHRoaXMpKXQubmFtZT09PW4mJmkucHVzaCh0KTtyZXR1cm4gaX0sY2kucHJvdG90eXBlLmNoaWxkcmVuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLG49dGhpcy5maXJzdENoaWxkO247bj1uLm5leHQpdC5wdXNoKG4pO3JldHVybiB0fSxjaS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXt2YXIgdCxuLGk7aWYodGhpcy5maXJzdENoaWxkKXtmb3IodD1bXSxuPXRoaXMuZmlyc3RDaGlsZDtuO249ZHcobix0aGlzKSl0LnB1c2gobik7Zm9yKGk9dC5sZW5ndGg7aS0tOykobj10W2ldKS5wYXJlbnQ9bi5maXJzdENoaWxkPW4ubGFzdENoaWxkPW4ubmV4dD1uLnByZXY9bnVsbH1yZXR1cm4gdGhpcy5maXJzdENoaWxkPXRoaXMubGFzdENoaWxkPW51bGwsdGhpc30sY2kucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24obix0LGkpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgcj10aGlzLmZpcnN0Q2hpbGQ7aWYodWR0KHRoaXMpKXJldHVybiExO2lmKHIpZG97aWYoMT09PXIudHlwZSl7aWYoci5hdHRyKCJkYXRhLW1jZS1ib2d1cyIpKWNvbnRpbnVlO2lmKG5bci5uYW1lXXx8dWR0KHIpKXJldHVybiExfWlmKDg9PT1yLnR5cGV8fDM9PT1yLnR5cGUmJiFmdW5jdGlvbihuKXtpZih0cyhuLnZhbHVlKSl7dmFyIHQ9bi5wYXJlbnQ7cmV0dXJuIXR8fCJzcGFuIj09PXQubmFtZSYmIXQuYXR0cigic3R5bGUiKXx8IS9eWyBdKyQvLnRlc3Qobi52YWx1ZSl9fShyKXx8Mz09PXIudHlwZSYmci5wYXJlbnQmJnRbci5wYXJlbnQubmFtZV0mJnRzKHIudmFsdWUpfHxpJiZpKHIpKXJldHVybiExfXdoaWxlKHI9ZHcocix0aGlzKSk7cmV0dXJuITB9LGNpLnByb3RvdHlwZS53YWxrPWZ1bmN0aW9uKG4pe3JldHVybiBkdyh0aGlzLG51bGwsbil9LGNpKTt2YXIgc2R0PXIuZWFjaCxocGk9ci50cmltLGNwaT0ic291cmNlIHByb3RvY29sIGF1dGhvcml0eSB1c2VySW5mbyB1c2VyIHBhc3N3b3JkIGhvc3QgcG9ydCByZWxhdGl2ZSBwYXRoIGRpcmVjdG9yeSBmaWxlIHF1ZXJ5IGFuY2hvciIuc3BsaXQoIiAiKSxscGk9e2Z0cDoyMSxodHRwOjgwLGh0dHBzOjQ0MyxtYWlsdG86MjV9LGFwaT1bImltZyIsInZpZGVvIl0sdW89KGZyLnBhcnNlRGF0YVVyaT1mdW5jdGlvbihuKXt2YXIgdCxpPWRlY29kZVVSSUNvbXBvbmVudChuKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhpWzBdKTtyZXR1cm57dHlwZTp0PXI/clsxXTp0LGRhdGE6aVsxXX19LGZyLmlzRG9tU2FmZT1mdW5jdGlvbihuLHQsaSl7aWYoKGk9dm9pZCAwPT09aT97fTppKS5hbGxvd19zY3JpcHRfdXJscylyZXR1cm4hMDt2YXIgZSx1LGYsbyxyPXllLmRlY29kZShuKS5yZXBsYWNlKC9bXHNcdTAwMDAtXHUwMDFGXSsvZywiIik7dHJ5e3I9ZGVjb2RlVVJJQ29tcG9uZW50KHIpfWNhdGNoKG4pe3I9dW5lc2NhcGUocil9cmV0dXJuISgvKChqYXZhfHZiKXNjcmlwdHxtaHRtbCk6L2kudGVzdChyKXx8KHU9cixmPXQsIShlPWkpLmFsbG93X2h0bWxfZGF0YV91cmxzJiYoL15kYXRhOmltYWdlXC8vaS50ZXN0KHUpPyhnKG89ZS5hbGxvd19zdmdfZGF0YV91cmxzKT8hbzohZyhmKXx8IWR0KGFwaSxmKSkmJi9eZGF0YTppbWFnZVwvc3ZnXCt4bWwvaS50ZXN0KHUpOi9eZGF0YTovaS50ZXN0KHUpKSkpfSxmci5nZXREb2N1bWVudEJhc2VVcmw9ZnVuY3Rpb24obil7dmFyIHQ9MCE9PW4ucHJvdG9jb2wuaW5kZXhPZigiaHR0cCIpJiYiZmlsZToiIT09bi5wcm90b2NvbD9uLmhyZWY6bi5wcm90b2NvbCsiLy8iK24uaG9zdCtuLnBhdGhuYW1lO3JldHVybi9eW146XSs6XC9cL1wvP1teXC9dK1wvLy50ZXN0KHQpJiYodD10LnJlcGxhY2UoL1tcPyNdLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sIiIpLC9bXC9cXF0kLy50ZXN0KHQpfHwodCs9Ii8iKSksdH0sZnIucHJvdG90eXBlLnNldFBhdGg9ZnVuY3Rpb24obil7dmFyIHQ9L14oLio/KVwvPyhcdyspPyQvLmV4ZWMobik7dGhpcy5wYXRoPXRbMF07dGhpcy5kaXJlY3Rvcnk9dFsxXTt0aGlzLmZpbGU9dFsyXTt0aGlzLnNvdXJjZT0iIjt0aGlzLmdldFVSSSgpfSxmci5wcm90b3R5cGUudG9SZWxhdGl2ZT1mdW5jdGlvbihuKXt2YXIgcix0LGksdTtyZXR1cm4iLi8iPT09bj9uOih0PW5ldyBmcihuLHtiYXNlX3VyaTp0aGlzfSksIm1jZV9ob3N0IiE9PXQuaG9zdCYmdGhpcy5ob3N0IT09dC5ob3N0JiZ0Lmhvc3R8fHRoaXMucG9ydCE9PXQucG9ydHx8dGhpcy5wcm90b2NvbCE9PXQucHJvdG9jb2wmJiIiIT09dC5wcm90b2NvbCk/dC5nZXRVUkkoKTooaT10aGlzLmdldFVSSSgpLHU9dC5nZXRVUkkoKSxpPT09dXx8Ii8iPT09aS5jaGFyQXQoaS5sZW5ndGgtMSkmJmkuc3Vic3RyKDAsaS5sZW5ndGgtMSk9PT11P2k6KHI9dGhpcy50b1JlbFBhdGgodGhpcy5wYXRoLHQucGF0aCksdC5xdWVyeSYmKHIrPSI/Iit0LnF1ZXJ5KSx0LmFuY2hvciYmKHIrPSIjIit0LmFuY2hvcikscikpfSxmci5wcm90b3R5cGUudG9BYnNvbHV0ZT1mdW5jdGlvbihuLHQpe3ZhciBpPW5ldyBmcihuLHtiYXNlX3VyaTp0aGlzfSk7cmV0dXJuIGkuZ2V0VVJJKHQmJnRoaXMuaXNTYW1lT3JpZ2luKGkpKX0sZnIucHJvdG90eXBlLmlzU2FtZU9yaWdpbj1mdW5jdGlvbihuKXtpZih0aGlzLmhvc3Q9PW4uaG9zdCYmdGhpcy5wcm90b2NvbD09bi5wcm90b2NvbCl7aWYodGhpcy5wb3J0PT1uLnBvcnQpcmV0dXJuITA7dmFyIHQ9bHBpW3RoaXMucHJvdG9jb2xdO2lmKHQmJih0aGlzLnBvcnR8fHQpPT0obi5wb3J0fHx0KSlyZXR1cm4hMH1yZXR1cm4hMX0sZnIucHJvdG90eXBlLnRvUmVsUGF0aD1mdW5jdGlvbihuLHQpe3ZhciBpLHUsZT0wLG89IiIsZj1uLnN1YnN0cmluZygwLG4ubGFzdEluZGV4T2YoIi8iKSkuc3BsaXQoIi8iKSxyPXQuc3BsaXQoIi8iKTtpZihmLmxlbmd0aD49ci5sZW5ndGgpZm9yKGk9MCx1PWYubGVuZ3RoO2k8dTtpKyspaWYoaT49ci5sZW5ndGh8fGZbaV0hPT1yW2ldKXtlPWkrMTticmVha31pZihmLmxlbmd0aDxyLmxlbmd0aClmb3IoaT0wLHU9ci5sZW5ndGg7aTx1O2krKylpZihpPj1mLmxlbmd0aHx8ZltpXSE9PXJbaV0pe2U9aSsxO2JyZWFrfWlmKDE9PT1lKXJldHVybiB0O2ZvcihpPTAsdT1mLmxlbmd0aC0oZS0xKTtpPHU7aSsrKW8rPSIuLi8iO2ZvcihpPWUtMSx1PXIubGVuZ3RoO2k8dTtpKyspbys9aSE9PWUtMT8iLyIrcltpXTpyW2ldO3JldHVybiBvfSxmci5wcm90b3R5cGUudG9BYnNQYXRoPWZ1bmN0aW9uKG4sdCl7dmFyIGkscixlPTAsdT1bXSxzPS9cLyQvLnRlc3QodCk/Ii8iOiIiLG89bi5zcGxpdCgiLyIpLGY9dC5zcGxpdCgiLyIpO2ZvcihzZHQobyxmdW5jdGlvbihuKXtuJiZ1LnB1c2gobil9KSxvPXUsaT1mLmxlbmd0aC0xLHU9W107MDw9aTtpLS0pMCE9PWZbaV0ubGVuZ3RoJiYiLiIhPT1mW2ldJiYoIi4uIiE9PWZbaV0/MDxlP2UtLTp1LnB1c2goZltpXSk6ZSsrKTtyZXR1cm4gMCE9PShyPShpPW8ubGVuZ3RoLWUpPD0wP3J5KHUpLmpvaW4oIi8iKTpvLnNsaWNlKDAsaSkuam9pbigiLyIpKyIvIityeSh1KS5qb2luKCIvIikpLmluZGV4T2YoIi8iKSYmKHI9Ii8iK3IpLHMmJnIubGFzdEluZGV4T2YoIi8iKSE9PXIubGVuZ3RoLTEmJihyKz1zKSxyfSxmci5wcm90b3R5cGUuZ2V0VVJJPWZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiB2b2lkIDA9PT1uJiYobj0hMSksdGhpcy5zb3VyY2UmJiFufHwodD0iIixufHwodCs9dGhpcy5wcm90b2NvbD90aGlzLnByb3RvY29sKyI6Ly8iOiIvLyIsdGhpcy51c2VySW5mbyYmKHQrPXRoaXMudXNlckluZm8rIkAiKSx0aGlzLmhvc3QmJih0Kz10aGlzLmhvc3QpLHRoaXMucG9ydCYmKHQrPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnBhdGgmJih0Kz10aGlzLnBhdGgpLHRoaXMucXVlcnkmJih0Kz0iPyIrdGhpcy5xdWVyeSksdGhpcy5hbmNob3ImJih0Kz0iIyIrdGhpcy5hbmNob3IpLHRoaXMuc291cmNlPXQpLHRoaXMuc291cmNlfSxmcik7aGR0PXIubWFrZU1hcCgiYnV0dG9uLGZpZWxkc2V0LGZvcm0saWZyYW1lLGltZyxpbWFnZSxpbnB1dCxvYmplY3Qsb3V0cHV0LHNlbGVjdCx0ZXh0YXJlYSIpO3RiPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcixvLGYsZSxzLHU7cmV0dXJuKHZvaWQgMD09PWkmJihpPTApLHI9bi50b0xvd2VyQ2FzZSgpLC0xIT09ci5pbmRleE9mKCJbaWYgIixpKSYmKHM9aSwvXlxzKlxbaWYgW1x3XFddK1xdPi4qPCFcW2VuZGlmXF0oLS0hPyk/Pi8udGVzdChyLnN1YnN0cihzKSkpKT8obz1yLmluZGV4T2YoIltlbmRpZl0iLGkpLHIuaW5kZXhPZigiPiIsbykpOnQ/KGY9ci5pbmRleE9mKCI+IixpKSwtMSE9PWY/ZjpyLmxlbmd0aCk6KGU9Ly0tIT8+L2csZS5sYXN0SW5kZXg9aSx1PWUuZXhlYyhuKSx1P3UuaW5kZXgrdVswXS5sZW5ndGg6ci5sZW5ndGgpfTtuYi5maW5kRW5kVGFnPW91dDt2YXIgdnBpPWNkdCx5cGk9ci5lYWNoLHZkdD1yLm1ha2VNYXAseWR0PW5ldyBTZXQ7ZShbIm1hcmdpbiIsIm1hcmdpbi1sZWZ0IiwibWFyZ2luLXJpZ2h0IiwibWFyZ2luLXRvcCIsIm1hcmdpbi1ib3R0b20iLCJwYWRkaW5nIiwicGFkZGluZy1sZWZ0IiwicGFkZGluZy1yaWdodCIsInBhZGRpbmctdG9wIiwicGFkZGluZy1ib3R0b20iLCJib3JkZXIiLCJib3JkZXItd2lkdGgiLCJib3JkZXItc3R5bGUiLCJib3JkZXItY29sb3IiLCJiYWNrZ3JvdW5kIiwiYmFja2dyb3VuZC1hdHRhY2htZW50IiwiYmFja2dyb3VuZC1jbGlwIiwiYmFja2dyb3VuZC1jb2xvciIsImJhY2tncm91bmQtaW1hZ2UiLCJiYWNrZ3JvdW5kLW9yaWdpbiIsImJhY2tncm91bmQtcG9zaXRpb24iLCJiYWNrZ3JvdW5kLXJlcGVhdCIsImJhY2tncm91bmQtc2l6ZSIsImZsb2F0IiwicG9zaXRpb24iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJ6LWluZGV4IiwiZGlzcGxheSIsInRyYW5zZm9ybSIsIndpZHRoIiwibWF4LXdpZHRoIiwibWluLXdpZHRoIiwiaGVpZ2h0IiwibWF4LWhlaWdodCIsIm1pbi1oZWlnaHQiLCJvdmVyZmxvdyIsIm92ZXJmbG93LXgiLCJvdmVyZmxvdy15IiwidGV4dC1vdmVyZmxvdyIsInZlcnRpY2FsLWFsaWduIiwidHJhbnNpdGlvbiIsInRyYW5zaXRpb24tZGVsYXkiLCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwidHJhbnNpdGlvbi1wcm9wZXJ0eSIsInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uIl0sZnVuY3Rpb24obil7eWR0LmFkZChuKX0pO3ZhciBobnQsY250PVsiZm9udCIsInRleHQtZGVjb3JhdGlvbiIsInRleHQtZW1waGFzaXMiXSxjZnQ9dShwZHQsITAseWMpLGxmdD11KHBkdCwhMSx5Yyksd3dpPWZvKCEwLHdkdCksYndpPWZvKCExLHdkdCksdGw9Zm8oITAsdHUpLGlsPWZvKCExLHR1KSxsbnQ9Zm8oITAseWgpLGFudD1mbyghMSx5aCksZW89Zm8oITAsYmR0KSxvbz1mbyghMSxiZHQpLGFmdD11KG5ndCwhMSksdm50PXUobmd0LCEwKSxrd2k9dShnZHQsITEpLGR3aT11KGdkdCwhMCksZ3dpPXUoaWIsITEpLG5iaT11KGliLCEwKSxzdj1jZShbe3NpbmdsZUNlbGxUYWJsZTpbInJuZyIsImNlbGwiXX0se2Z1bGxUYWJsZTpbInRhYmxlIl19LHtwYXJ0aWFsVGFibGU6WyJjZWxscyIsIm91dHNpZGVEZXRhaWxzIl19LHttdWx0aVRhYmxlOlsic3RhcnRUYWJsZUNlbGxzIiwiZW5kVGFibGVDZWxscyIsImJldHdlZW5SbmciXX1dKSx5bnQ9ZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuKDg9PT1zY3QoaT10KXx8IiNjb21tZW50Ij09PXZ0KGkpP2JvOnlnKSh0KS5iaW5kKHludCkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBuLnNvbWUodCl9KX0sdmZ0PWZ1bmN0aW9uKG4saSxyLHUpe3ZvaWQgMD09PXUmJih1PSEwKTtpLmRlbGV0ZUNvbnRlbnRzKCk7dmFyIG8scz15bnQocikuZ2V0T3IociksZj10LmZyb21Eb20obi5kb20uZ2V0UGFyZW50KHMuZG9tLG4uZG9tLmlzQmxvY2spKTtyZXR1cm4gcHQoZikmJih2cyhmKSx1JiZuLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihmLmRvbSwwKSksbnQocixmKXx8ZSgoYXkoZXUoZikscik/W106ZXUobz1mKS5tYXAobnUpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gcChuLGZ1bmN0aW9uKG4pe3JldHVybiFudChvLG4pfSl9KS5nZXRPcihbXSkpLmNvbmNhdChudShyKSksZnVuY3Rpb24obil7bnQobixmKXx8b2UobixmKXx8IXB0KG4pfHxuaShuKX0pLCEwfSx5ZnQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gZ3QobmUodCxuKSxmdW5jdGlvbihuKXtyZXR1cm4gc3UobikmJiJjYXB0aW9uIj09PXZ0KG4pfSl9LHNiPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHZzKGkpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGkuZG9tLDApLG4uc29tZSghMCl9LHBmdD15eSx3ZnQ9ZnVuY3Rpb24obix0KXt0KG4pO24uZmlyc3RDaGlsZCYmd2Z0KG4uZmlyc3RDaGlsZCx0KTtuLm5leHQmJndmdChuLm5leHQsdCl9LGJmdD1kaXQsdmY9ZnVuY3Rpb24obix0LGkscix1KXt2YXIgaD1uLmZvcm1hdHRlci5nZXQoaSksYz1uLmRvbSxlLGYsbyxzO2lmKGgmJnQpZm9yKGU9MDtlPGgubGVuZ3RoO2UrKylpZihmPWhbZV0sZmZ0KG4uZG9tLHQsZikmJnVudChjLHQsZiwiYXR0cmlidXRlcyIsdSxyKSYmdW50KGMsdCxmLCJzdHlsZXMiLHUscikpe2lmKG89Zi5jbGFzc2VzLG8pZm9yKHM9MDtzPG8ubGVuZ3RoO3MrKylpZighbi5kb20uaGFzQ2xhc3ModCxnZihvW3NdLHIpKSlyZXR1cm47cmV0dXJuIGZ9fSxybD1maSxwbnQ9Il9tY2VfY2FyZXQiLGhiPXt9LHdudD1jaCxibnQ9cGw7aG50PWZ1bmN0aW9uKG4pe3ZhciB0LHI9bi5zZWxlY3Rpb24uZ2V0Um5nKCksaT1kcihbInByZSJdKTtyLmNvbGxhcHNlZHx8KHQ9bi5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSxibnQod250KHdudCh0LGkpLGZ1bmN0aW9uKG4pe3JldHVybiBpKG4ucHJldmlvdXNTaWJsaW5nKSYmLTEhPT1vaHQodCxuLnByZXZpb3VzU2libGluZyl9KSxmdW5jdGlvbihuKXt2YXIgdCxpPW4ucHJldmlvdXNTaWJsaW5nO2EodD1uKS5yZW1vdmUoKTthKGkpLmFwcGVuZCgiPGJyPjxicj4iKS5hcHBlbmQodC5jaGlsZE5vZGVzKX0pKX07aGIucHJlfHwoaGIucHJlPVtdKTtoYi5wcmUucHVzaChobnQpO3ZhciBlZXQ9ci5lYWNoLG9ldD1mdW5jdGlvbihuLHQsaSl7ZWV0KG4uY2hpbGROb2RlcyxmdW5jdGlvbihuKXtrZnQobikmJih0KG4pJiZpKG4pLG4uaGFzQ2hpbGROb2RlcygpJiZvZXQobix0LGkpKX0pfSxodj1jZShbe2tlZXA6W119LHtyZW5hbWU6WyJuYW1lIl19LHtyZW1vdmVkOltdfV0pLGNiaT0vXihzcmN8aHJlZnxzdHlsZSkkLyxzZXQ9ci5lYWNoLGZsPWRpdCx1aWk9ci5lYWNoLHliPXIuZWFjaCxoZXQ9ZnVuY3Rpb24oaSx1LGYscyl7ZnVuY3Rpb24geShuLHQpe3ZhciBpO2Z0KCh0PXZvaWQgMD09PXQ/Yzp0KS5vbmZvcm1hdCkmJnQub25mb3JtYXQobix0LGYscyk7eWIodC5zdHlsZXMsZnVuY3Rpb24odCxpKXtsLnNldFN0eWxlKG4saSxnZih0LGYpKX0pOyF0LnN0eWxlc3x8KGk9bC5nZXRBdHRyaWIobiwic3R5bGUiKSkmJmwuc2V0QXR0cmliKG4sImRhdGEtbWNlLXN0eWxlIixpKTt5Yih0LmF0dHJpYnV0ZXMsZnVuY3Rpb24odCxpKXtsLnNldEF0dHJpYihuLGksZ2YodCxmKSl9KTt5Yih0LmNsYXNzZXMsZnVuY3Rpb24odCl7dD1nZih0LGYpO2wuaGFzQ2xhc3Mobix0KXx8bC5hZGRDbGFzcyhuLHQpfSl9ZnVuY3Rpb24gYihuLHQpe3ZhciBpPSExO3JldHVybiB5YihuLGZ1bmN0aW9uKG4pe3JldHVybiEhdXIobikmJihnKG4uY29sbGFwc2VkKSYmbi5jb2xsYXBzZWQhPT11dHx8IWwuaXModCxuLnNlbGVjdG9yKXx8c2YodCk/dm9pZCAwOih5KHQsbiksIShpPSEwKSkpfSksaX1mdW5jdGlvbiBrKHMsdixwKXt2YXIgaz1bXSx3PSEwLGQ9Yy5pbmxpbmV8fGMuYmxvY2ssdHQ9ZnVuY3Rpb24obil7aWYoaHQobikpe3ZhciB0PWwuY3JlYXRlKG4pO3JldHVybiB5KHQpLHR9cmV0dXJuIG51bGx9KGQpO3R2KHMsdixmdW5jdGlvbihyKXt2YXIgbCx2PWZ1bmN0aW9uKHIpe3ZhciBpdD0hMSxvdD13LGh0PXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx1dD1yLnBhcmVudE5vZGUsZnQ9dXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxldCxydDtpZihoKHIpJiZzLmdldENvbnRlbnRFZGl0YWJsZShyKSYmKG90PXcsdz0idHJ1ZSI9PT1zLmdldENvbnRlbnRFZGl0YWJsZShyKSxpdD0hMCksc3QocikmJiFmdW5jdGlvbihpLHIsdSxmKXt2YXIgZSxvLHMsaCxjLGw7aWYoaS5nZXRQYXJhbSgiZm9ybWF0X2VtcHR5X2xpbmVzIiwhMSwiYm9vbGVhbiIpJiZrdChyKSlyZXR1cm4gZT1zYXQoaS5zY2hlbWEpLG89KHM9dC5mcm9tRG9tKHUpLGM9ZnVuY3Rpb24obil7cmV0dXJuIHNmKG4uZG9tKX0sKChsPShoPXMpLmRvbSkucGFyZW50Tm9kZT9pbGkodC5mcm9tRG9tKGwucGFyZW50Tm9kZSksZnVuY3Rpb24obil7cmV0dXJuIW50KGgsbikmJmMobil9KTpuLm5vbmUoKSkuaXNTb21lKCkpLGhoKGUsZikmJnB0KHQuZnJvbURvbSh1LnBhcmVudE5vZGUpLCExKSYmIW99KGksYyxyLGZ0KSlyZXR1cm4gbD1udWxsLHZvaWQoaGYoYykmJnMucmVtb3ZlKHIpKTtpZihoZihjKSYmYy53cmFwcGVyJiZ2ZihpLHIsdSxmKSlsPW51bGw7ZWxzZXtpZih3JiYhaXQmJmhmKGMpJiYhYy53cmFwcGVyJiZraXQoaSxodCkmJnBjKGksZnQsZCkpcmV0dXJuIGV0PXMucmVuYW1lKHIsZCkseShldCksay5wdXNoKGV0KSx2b2lkKGw9bnVsbCk7aWYodXIoYykmJihydD1iKGEsciksIXJ0JiZnKHV0KSYmbnJ0KGMpJiYocnQ9YihhLHV0KSksIWt0KGMpfHxydCkpcmV0dXJuIHZvaWQobD1udWxsKTshd3x8aXR8fCFwYyhpLGQsaHQpfHwhcGMoaSxmdCxkKXx8IXAmJm8ocikmJmlwKHIuZGF0YSl8fHNmKHIpfHxrdChjKSYmcy5pc0Jsb2NrKHIpPyhsPW51bGwsZShidShyLmNoaWxkTm9kZXMpLHYpLGl0JiYodz1vdCksbD1udWxsKToobHx8KGw9cy5jbG9uZSh0dCwhMSksci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsLHIpLGsucHVzaChsKSksbC5hcHBlbmRDaGlsZChyKSl9fTtlKHIsdil9KTshMD09PWMubGlua3MmJmUoayxmdW5jdGlvbihuKXt2YXIgdD1mdW5jdGlvbihuKXsiQSI9PT1uLm5vZGVOYW1lJiZ5KG4sYyk7ZShidShuLmNoaWxkTm9kZXMpLHQpfTt0KG4pfSk7ZShrLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGx0KG4pe3ZhciBpOzE9PT1uLm5vZGVUeXBlJiZuLnBhcmVudE5vZGUmJjE9PT1uLnBhcmVudE5vZGUubm9kZVR5cGUmJihpPWR3dCh0LG4ucGFyZW50Tm9kZSksdC5nZXRTdHlsZShuLCJjb2xvciIpJiZpP3Quc2V0U3R5bGUobiwidGV4dC1kZWNvcmF0aW9uIixpKTp0LmdldFN0eWxlKG4sInRleHQtZGVjb3JhdGlvbiIpPT09aSYmdC5zZXRTdHlsZShuLCJ0ZXh0LWRlY29yYXRpb24iLG51bGwpKX12YXIgbnQsaCx2LHR0LGl0LG90LGwscCxzdCx3LGIscnQsdCx1dCxmdCxkLGh0LGV0LGN0PShudD0wLGUobi5jaGlsZE5vZGVzLGZ1bmN0aW9uKG4pe3ZhciB0O2codD1uKSYmbyh0KSYmMD09PXQubGVuZ3RofHxhcihuKXx8bnQrK30pLG50KTshKDE8ay5sZW5ndGgpJiZzLmlzQmxvY2sobil8fDAhPT1jdD8oa3QoYyl8fGhmKGMpJiZjLndyYXBwZXIpJiYoYy5leGFjdHx8MSE9PWN0fHwobj1ndCgocnQ9bikuY2hpbGROb2Rlcyx0YmkpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gZmZ0KHMsbixjKX0pLm1hcChmdW5jdGlvbihuKXt2YXIgdD1zLmNsb25lKG4sITEpO3JldHVybiB5KHQpLHMucmVwbGFjZSh0LHJ0LCEwKSxzLnJlbW92ZShuLCEwKSx0fSkuZ2V0T3IocnQpKSxkPWksaHQ9ZixldD1uLHVpaShhLGZ1bmN0aW9uKG4pe3ZhciB0LGkscjtrdChuKSYmdWlpKGQuZG9tLnNlbGVjdChuLmlubGluZSxldCksZnVuY3Rpb24odCl7a2Z0KHQpJiZ1bChkLG4saHQsdCxuLmV4YWN0P3Q6bnVsbCl9KTt0PWQuZG9tOyhpPW4pLmNsZWFyX2NoaWxkX3N0eWxlcyYmKHI9aS5saW5rcz8iKjpub3QoYSkiOiIqIixlZXQodC5zZWxlY3QocixldCksZnVuY3Rpb24obil7a2Z0KG4pJiZlZXQoaS5zdHlsZXMsZnVuY3Rpb24oaSxyKXt0LnNldFN0eWxlKG4sciwiIil9KX0pKX0pLHA9Yyx2ZihsPWksKGI9bikucGFyZW50Tm9kZSxzdD11LHc9ZikmJnVsKGwscCx3LGIpfHxwLm1lcmdlX3dpdGhfcGFyZW50cyYmbC5kb20uZ2V0UGFyZW50KGIucGFyZW50Tm9kZSxmdW5jdGlvbihuKXtpZih2ZihsLG4sc3QsdykpcmV0dXJuIHVsKGwscCx3LGIpLCEwfSksb3Q9biwoaXQ9Yykuc3R5bGVzJiZpdC5zdHlsZXMuYmFja2dyb3VuZENvbG9yJiZvZXQob3QsbnRpKHMsImZvbnRTaXplIiksdHRpKHMsImJhY2tncm91bmRDb2xvciIsZ2YoaXQuc3R5bGVzLmJhY2tncm91bmRDb2xvcixmKSkpLHQ9cyxmdD1uLCh1dD1jKS5zdHlsZXMmJih1dC5zdHlsZXMuY29sb3J8fHV0LnN0eWxlcy50ZXh0RGVjb3JhdGlvbikmJihyLndhbGsoZnQsbHQsImNoaWxkTm9kZXMiKSxsdChmdCkpLGg9cyx0dD1uLCFrdCh2PWMpfHwic3ViIiE9PXYuaW5saW5lJiYic3VwIiE9PXYuaW5saW5lfHwob2V0KHR0LG50aShoLCJmb250U2l6ZSIpLHR0aShoLCJmb250U2l6ZSIsIiIpKSxoLnJlbW92ZShoLnNlbGVjdCgic3VwIj09PXYuaW5saW5lPyJzdWIiOiJzdXAiLHR0KSwhMCkpLGdudChzLGMsMCxuKSk6cy5yZW1vdmUobiwhMCl9KX12YXIgZCxpdCx0dCxydCxhPWkuZm9ybWF0dGVyLmdldCh1KSxjPWFbMF0sdXQ9IXMmJmkuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCksbD1pLmRvbSx2PWkuc2VsZWN0aW9uLHcsZXQscDtpZigiZmFsc2UiIT09bC5nZXRDb250ZW50RWRpdGFibGUodi5nZXROb2RlKCkpKWMmJihzP2V3KHMpP2IoYSxzKXx8KChkPWwuY3JlYXRlUm5nKCkpLnNldFN0YXJ0QmVmb3JlKHMpLGQuc2V0RW5kQWZ0ZXIocyksayhsLHdjKGksZCxhKSwhMCkpOmsobCxzLCEwKTp1dCYma3QoYykmJiFiYyhpKS5sZW5ndGg/ZnVuY3Rpb24obix0LGkpe3ZhciBvLGY9bi5zZWxlY3Rpb24sZT1mLmdldFJuZygpLHI9ZS5zdGFydE9mZnNldCxzPWUuc3RhcnRDb250YWluZXIubm9kZVZhbHVlLHU9bHMobi5nZXRCb2R5KCksZi5nZXRTdGFydCgpKSxjLGwsYSx2LGg7dSYmKG89ZW50KHUpKTtoPS9bXlxzXHUwMGEwXHUwMGFkXHUyMDBiXHVmZWZmXS87cyYmMDxyJiZyPHMubGVuZ3RoJiZoLnRlc3Qocy5jaGFyQXQocikpJiZoLnRlc3Qocy5jaGFyQXQoci0xKSk/KGM9Zi5nZXRCb29rbWFyaygpLGUuY29sbGFwc2UoITApLGw9cHcod2MobixlLG4uZm9ybWF0dGVyLmdldCh0KSkpLG4uZm9ybWF0dGVyLmFwcGx5KHQsaSxsKSxmLm1vdmVUb0Jvb2ttYXJrKGMpKToodSYmby5ub2RlVmFsdWU9PT1ybHx8KGE9bi5nZXREb2MoKSx2PW9mdCghMCkuZG9tLG89KHU9YS5pbXBvcnROb2RlKHYsITApKS5maXJzdENoaWxkLGUuaW5zZXJ0Tm9kZSh1KSxyPTEpLG4uZm9ybWF0dGVyLmFwcGx5KHQsaSx1KSxmLnNldEN1cnNvckxvY2F0aW9uKG8scikpfShpLHUsZik6KGl0PXYuZ2V0Tm9kZSgpLHR0PWFbMF0saS5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9ja3x8IXR0LmRlZmF1bHRCbG9ja3x8bC5nZXRQYXJlbnQoaXQsbC5pc0Jsb2NrKXx8aGV0KGksdHQuZGVmYXVsdEJsb2NrKSx2LnNldFJuZyhndXQodi5nZXRSbmcoKSkpLGZydCh2LCEwLGZ1bmN0aW9uKCl7dXJ0KGksZnVuY3Rpb24obix0KXt2YXIgcj10P246d2MoaSxuLGEpO2sobCxyLCExKX0pfSksa3d0KGwsdix2LmdldFJuZygpKSxpLm5vZGVDaGFuZ2VkKCkpLHJ0PWksYm50KGhiW3VdLGZ1bmN0aW9uKG4pe24ocnQpfSkpLGRidChpLHUscyxmKTtlbHNle2ZvcihzPXYuZ2V0Tm9kZSgpLHc9MCxldD1hLmxlbmd0aDt3PGV0O3crKylpZihwPWFbd10scC5jZUZhbHNlT3ZlcnJpZGUmJnVyKHApJiZsLmlzKHMscC5zZWxlY3Rvcikpe3kocyxwKTticmVha31kYnQoaSx1LHMsZil9fSxmaWk9ZnVuY3Rpb24obil7cmV0dXJuIG4uc2VsZWN0aW9uLmdldFN0YXJ0KCl9LGVpaT1mdW5jdGlvbihuLHQsaSl7dmFyIHI9Y3RpKG4sdCk7ZXQoaSxmdW5jdGlvbihpLHUpe2Z1bmN0aW9uIGYoaSl7dmFyIG8scz1odGkobixyLHUsaS5zaW1pbGFyLHN0aShpKT9pLnZhcnM6dm9pZCAwKSxmPXMuaXNTb21lKCk7aS5zdGF0ZS5nZXQoKSE9PWYmJihpLnN0YXRlLnNldChmKSxvPXMuZ2V0T3IodCksc3RpKGkpP2kuY2FsbGJhY2soZix7bm9kZTpvLGZvcm1hdDp1LHBhcmVudHM6cn0pOmUoaS5jYWxsYmFja3MsZnVuY3Rpb24obil7cmV0dXJuIG4oZix7bm9kZTpvLGZvcm1hdDp1LHBhcmVudHM6cn0pfSkpfWUoW2kud2l0aFNpbWlsYXIsaS53aXRob3V0U2ltaWxhcl0sZik7ZShpLndpdGhWYXJzLGYpfSl9LGxiaT1oaHQoZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ1bmRvIil9KTt2YXIga2lpLGJiLGdiaT0wLGRpaT1mdW5jdGlvbihuLHQpe3JldHVybiBuJiZuLmZpcnN0Q2hpbGQmJm4uZmlyc3RDaGlsZD09PW4ubGFzdENoaWxkJiZuLmZpcnN0Q2hpbGQubmFtZT09PXR9LGdpaT1yLm1ha2VNYXAsbnJpPXIuZWFjaCx0cmk9ci5leHBsb2RlLG5raT1yLmV4dGVuZCxrYj1kLkRPTSxpcmk9KGtpaT1mdW5jdGlvbihuLHQpe3JldHVybiBlaChuKSYmZWgodCk/aXJpKG4sdCk6dH0sZnVuY3Rpb24oKXtmb3IodmFyIHIsdSxpLGYsbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTtpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBtZXJnZSB6ZXJvIG9iamVjdHMiKTtmb3Iocj17fSx1PTA7dTxuLmxlbmd0aDt1Kyspe2Y9blt1XTtmb3IoaSBpbiBmKXcoZixpKSYmKHJbaV09a2lpKHJbaV0sZltpXSkpfXJldHVybiByfSksdGtpPSJhdXRvcmVzaXplX29uX2luaXQsY29udGVudF9lZGl0YWJsZV9zdGF0ZSxjb252ZXJ0X2ZvbnRzX3RvX3NwYW5zLGlubGluZV9zdHlsZXMscGFkZF9lbXB0eV93aXRoX2JyLGJsb2NrX2VsZW1lbnRzLGJvb2xlYW5fYXR0cmlidXRlcyxlZGl0b3JfZGVzZWxlY3RvcixlZGl0b3Jfc2VsZWN0b3IsZWxlbWVudHMsZmlsZV9icm93c2VyX2NhbGxiYWNrX3R5cGVzLGZpbGVwaWNrZXJfdmFsaWRhdG9yX2hhbmRsZXIsZm9yY2VfaGV4X3N0eWxlX2NvbG9ycyxmb3JjZV9wX25ld2xpbmVzLGdlY2tvX3NwZWxsY2hlY2ssaW1hZ2VzX2RhdGFpbWdfZmlsdGVyLG1lZGlhX3NjcmlwdHMsbW9kZSxtb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cyxub25fZW1wdHlfZWxlbWVudHMsc2VsZl9jbG9zaW5nX2VsZW1lbnRzLHNob3J0X2VuZGVkX2VsZW1lbnRzLHNwZWNpYWwsc3BlbGxjaGVja2VyX3NlbGVjdF9sYW5ndWFnZXMsc3BlbGxjaGVja2VyX3doaXRlbGlzdCx0YWJfZm9jdXMsdGFibGVfcmVzcG9uc2l2ZV93aWR0aCx0ZXh0X2Jsb2NrX2VsZW1lbnRzLHRleHRfaW5saW5lX2VsZW1lbnRzLHRvb2xiYXJfZHJhd2VyLHR5cGVzLHZhbGlkYXRlLHdoaXRlc3BhY2VfZWxlbWVudHMscGFzdGVfd29yZF92YWxpZF9lbGVtZW50cyxwYXN0ZV9yZXRhaW5fc3R5bGVfcHJvcGVydGllcyxwYXN0ZV9jb252ZXJ0X3dvcmRfZmFrZV9saXN0cyIuc3BsaXQoIiwiKSxpa2k9ImJiY29kZSxjb2xvcnBpY2tlcixjb250ZXh0bWVudSxmdWxscGFnZSxsZWdhY3lvdXRwdXQsc3BlbGxjaGVja2VyLHRleHRjb2xvciIuc3BsaXQoIiwiKSxya2k9ImltYWdldG9vbHMsdG9jIi5zcGxpdCgiLCIpLHdldD1rcigpLmRldmljZVR5cGUsdWtpPXdldC5pc1RvdWNoKCkscnJpPXdldC5pc1Bob25lKCksZmtpPXdldC5pc1RhYmxldCgpLGVraT1bImxpc3RzIiwiYXV0b2xpbmsiLCJhdXRvc2F2ZSJdLHVyaT17dGFibGVfZ3JpZDohMSxvYmplY3RfcmVzaXppbmc6ITEscmVzaXplOiExfSxkYj0oYmI9e30se2FkZDpmdW5jdGlvbihuLHQpe2JiW25dPXR9LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gYmJbbl18fHtpY29uczp7fX19LGhhczpmdW5jdGlvbihuKXtyZXR1cm4gdyhiYixuKX19KSxva2k9dSh5aWksImNsaWVudFdpZHRoIiksc2tpPXUoeWlpLCJjbGllbnRIZWlnaHQiKSxoa2k9dShwaWksIm1hcmdpbi10b3AiKSxja2k9dShwaWksIm1hcmdpbi1sZWZ0IikscHU9cnIuUGx1Z2luTWFuYWdlcixzbz1yci5UaGVtZU1hbmFnZXI7dmFyIHJlLGNvLGt1aT1mdW5jdGlvbihuLHQpe3ZhciBpPW4uZWRpdG9yTWFuYWdlci5iYXNlVVJMKyIvc2tpbnMvY29udGVudCIscj0iY29udGVudCIrbi5lZGl0b3JNYW5hZ2VyLnN1ZmZpeCsiLmNzcyIsdT0hMD09PW4uaW5saW5lO3JldHVybiB1dCh0LGZ1bmN0aW9uKHQpe3JldHVybi9eW2EtejAtOVwtXSskL2kudGVzdCh0KSYmIXU/aSsiLyIrdCsiLyIrcjpuLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKHQpfSl9LHZkaT0wLGhrPXIuZWFjaCxsaT1kLkRPTSx5ZGk9WzksMjcscy5IT01FLHMuRU5ELDE5LDIwLDQ0LDE0NCwxNDUsMzMsMzQsNDUsMTYsMTcsMTgsOTEsOTIsOTMscy5ET1dOLHMuVVAscy5MRUZULHMuUklHSFRdLmNvbmNhdChsLmJyb3dzZXIuaXNGaXJlZm94KCk/WzIyNF06W10pLGR1aT0iZGF0YS1tY2UtcGxhY2Vob2xkZXIiLHBkaT0vW1x1MDU5MS1cdTA3RkZcdUZCMUQtXHVGREZGXHVGRTcwLVx1RkVGQ10vLGd1aT11KHlyLCEwKSxuZmk9dSh5ciwhMSksd2RpPWd1LGJkaT1ydCxwcj1jZShbe3JlbW92ZTpbImVsZW1lbnQiXX0se21vdmVUb0VsZW1lbnQ6WyJlbGVtZW50Il19LHttb3ZlVG9Qb3NpdGlvbjpbInBvc2l0aW9uIl19XSksb2w9byxrZGk9dShlaywhMCksZGRpPXUoZWssITEpLGFpPWNlKFt7YmVmb3JlOlsiZWxlbWVudCJdfSx7c3RhcnQ6WyJlbGVtZW50Il19LHtlbmQ6WyJlbGVtZW50Il19LHthZnRlcjpbImVsZW1lbnQiXX1dKSx1b3Q9ZnVuY3Rpb24obil7cmV0dXJuIG4uZm9sZChraSxraSxraSxraSl9O3Uocm90LCExKTt1KHJvdCwhMCk7KGNvPXJlPXt9KVtjby5Ccj0wXT0iQnIiO2NvW2NvLkJsb2NrPTFdPSJCbG9jayI7Y29bY28uV3JhcD0yXT0iV3JhcCI7Y29bY28uRW9sPTNdPSJFb2wiO3ZhciBicyxsayxhdj11KGlmaSxpLmlzQWJvdmUsLTEpLHZ2PXUoaWZpLGkuaXNCZWxvdywxKSxuZ2k9dShyZmksLTEsYXYpLHRnaT11KHJmaSwxLHZ2KTsobGs9YnM9YnN8fHt9KVtsay5VcD0tMV09IlVwIjtsa1tsay5Eb3duPTFdPSJEb3duIjt2YXIgaW5pPXUoZmZpLGJzLlVwLGhjLGNjKSxybmk9dShmZmksYnMuRG93bixjYyxoYyksdW5pPXJ0LHdvaT1hYyxkb3Q9ZnVuY3Rpb24obix0KXt2YXIgZj1uLnNlbGVjdGlvbi5nZXRSbmcoKSxlPW4uZ2V0Qm9keSgpLHIsdTtyZXR1cm4gdD8ocj1pLmZyb21SYW5nZUVuZChmKSx1PXZ2KGUscikseW8odS5wb3NpdGlvbnMpKToocj1pLmZyb21SYW5nZVN0YXJ0KGYpLG9yKCh1PWF2KGUscikpLnBvc2l0aW9ucykpfSxmbmk9dShwZmksITApLGVuaT11KHBmaSwhMSksYm9pPWZ1bmN0aW9uKG4pe3JldHVybiBwKHV0KG4uc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCksdC5mcm9tRG9tKSxmdW5jdGlvbihuKXtyZXR1cm4hZ2ZpKG4pJiYhZXUobikuZXhpc3RzKGdmaSkmJnB5KG4sZnVuY3Rpb24obil7cmV0dXJuIGd1KG4uZG9tKXx8cnQobi5kb20pfSkuZXhpc3RzKGZ1bmN0aW9uKG4pe3JldHVybiBndShuLmRvbSl9KX0pfSxrb2k9cnQsb25pPXUocGVpLGZ1bmN0aW9uKG4pe3JldHVybiBuLmJvdHRvbX0sZnVuY3Rpb24obix0KXtyZXR1cm4gbi55PHR9KSxzbmk9dShwZWksZnVuY3Rpb24obil7cmV0dXJuIG4udG9wfSxmdW5jdGlvbihuLHQpe3JldHVybiBuLnk+dH0pLGhuaT11KHdlaSxhdiksY25pPXUod2VpLHZ2KSxsbmk9ZnVuY3Rpb24obix0KXtyZXR1cm4gcj1pLmFmdGVyKHQpLCEhc3Qoci5nZXROb2RlKCkpfHx5dShuLGkuYWZ0ZXIodCkpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gc3Qobi5nZXROb2RlKCkpfSkuZ2V0T3IoITEpO3ZhciByfSxlcj1jZShbe2JyOltdfSx7YmxvY2s6W119LHtub25lOltdfV0pLGFuaT1rcigpLmJyb3dzZXIsdm5pPWtyKCkseW5pPXUocG9pLGlyKSxwbmk9dShwb2ksIiAiKSx3bmk9KGdvdC5wcm90b3R5cGUubm9kZUNoYW5nZWQ9ZnVuY3Rpb24obil7dmFyIHQscixpLHU9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uO3RoaXMuZWRpdG9yLmluaXRpYWxpemVkJiZ1JiYhdGhpcy5lZGl0b3IuZ2V0UGFyYW0oImRpc2FibGVfbm9kZWNoYW5nZSIpJiYhdGhpcy5lZGl0b3IubW9kZS5pc1JlYWRPbmx5KCkmJihpPXRoaXMuZWRpdG9yLmdldEJvZHkoKSwodD11LmdldFN0YXJ0KCEwKXx8aSkub3duZXJEb2N1bWVudD09PXRoaXMuZWRpdG9yLmdldERvYygpJiZ0aGlzLmVkaXRvci5kb20uaXNDaGlsZE9mKHQsaSl8fCh0PWkpLHI9W10sdGhpcy5lZGl0b3IuZG9tLmdldFBhcmVudCh0LGZ1bmN0aW9uKG4pe3JldHVybiBuPT09aXx8dm9pZCByLnB1c2gobil9KSwobj1ufHx7fSkuZWxlbWVudD10LG4ucGFyZW50cz1yLHRoaXMuZWRpdG9yLmZpcmUoIk5vZGVDaGFuZ2UiLG4pKX0sZ290LnByb3RvdHlwZS5pc1NhbWVFbGVtZW50UGF0aD1mdW5jdGlvbihuKXt2YXIgdCxpPXRoaXMuZWRpdG9yLiQobikucGFyZW50c1VudGlsKHRoaXMuZWRpdG9yLmdldEJvZHkoKSkuYWRkKG4pO2lmKGkubGVuZ3RoPT09dGhpcy5sYXN0UGF0aC5sZW5ndGgpe2Zvcih0PWkubGVuZ3RoOzA8PXQmJmlbdF09PT10aGlzLmxhc3RQYXRoW3RdO3QtLSk7aWYoLTE9PT10KXJldHVybiB0aGlzLmxhc3RQYXRoPWksITB9cmV0dXJuIHRoaXMubGFzdFBhdGg9aSwhMX0sZ290KTt2YXIgaWQ9cnQsZXRyPWd1LGFzaT1mdW5jdGlvbihuKXtuLm9uKGZ1bmN0aW9uKG4pe25zaShuLmdob3N0KX0pO24uY2xlYXIoKX0sdnNpPWd1LGtzPXJ0LHVzdD1kLkRPTSxidj1kLkRPTSx5c2k9ZC5ET00scHNpPWZ1bmN0aW9uKG4sdCxpKXt2YXIgbyxzLGgsdSxmPXB1LmdldChpKSxjPXB1LnVybHNbaV18fG4uZG9jdW1lbnRCYXNlVXJsLnJlcGxhY2UoL1wvJC8sIiIpLGU7aWYoaT1yLnRyaW0oaSksZiYmLTE9PT1yLmluQXJyYXkodCxpKSYmKHIuZWFjaChwdS5kZXBlbmRlbmNpZXMoaSksZnVuY3Rpb24oaSl7cHNpKG4sdCxpKX0pLCFuLnBsdWdpbnNbaV0pKXRyeXtlPW5ldyBmKG4sYyxuLiQpOyhuLnBsdWdpbnNbaV09ZSkuaW5pdCYmKGUuaW5pdChuLGMpLHQucHVzaChpKSl9Y2F0Y2goZil7cz1pO2g9ZjtrYnQobz1uLCJQbHVnaW5Mb2FkRXJyb3IiLHttZXNzYWdlOnU9bHUudHJhbnNsYXRlKFsiRmFpbGVkIHRvIGluaXRpYWxpemUgcGx1Z2luOiB7MH0iLHNdKX0pO3NrKHUsaCk7Z2Iobyx1KX19LGRzPWQuRE9NLG90cj17ImZvbnQtc2l6ZSI6InNpemUiLCJmb250LWZhbWlseSI6ImZhY2UifSxzdHI9Y3NpKCJmb250LXNpemUiKSxodHI9dm8oZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvW1wnXCJcXF0vZywiIikucmVwbGFjZSgvLFxzKy9nLCIsIil9LGNzaSgiZm9udC1mYW1pbHkiKSkscmQ9ci5lYWNoLGN0cj1yLm1hcCxsdHI9ci5pbkFycmF5LHdzaT0oYmkucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBvLHMsZj0hMSx1PXRoaXMsZTtpZighdS5lZGl0b3IucmVtb3ZlZCl7aWYoIm1jZWZvY3VzIiE9PW4udG9Mb3dlckNhc2UoKSYmKC9eKG1jZUFkZFVuZG9MZXZlbHxtY2VFbmRVbmRvTGV2ZWx8bWNlQmVnaW5VbmRvTGV2ZWx8bWNlUmVwYWludCkkLy50ZXN0KG4pfHxyJiZyLnNraXBfZm9jdXM/bnV0KHM9dS5lZGl0b3IpLmVhY2goZnVuY3Rpb24obil7cmV0dXJuIHMuc2VsZWN0aW9uLnNldFJuZyhuKX0pOnUuZWRpdG9yLmZvY3VzKCkpLChyPXUuZWRpdG9yLmZpcmUoIkJlZm9yZUV4ZWNDb21tYW5kIix7Y29tbWFuZDpuLHVpOnQsdmFsdWU6aX0pKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4hMTtpZihlPW4udG9Mb3dlckNhc2UoKSxvPXUuY29tbWFuZHMuZXhlY1tlXSlyZXR1cm4gbyhlLHQsaSksdS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOm4sdWk6dCx2YWx1ZTppfSksITA7aWYocmQodGhpcy5lZGl0b3IucGx1Z2lucyxmdW5jdGlvbihyKXtpZihyLmV4ZWNDb21tYW5kJiZyLmV4ZWNDb21tYW5kKG4sdCxpKSlyZXR1cm4gdS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOm4sdWk6dCx2YWx1ZTppfSksIShmPSEwKX0pLGYpcmV0dXJuIGY7aWYodS5lZGl0b3IudGhlbWUmJnUuZWRpdG9yLnRoZW1lLmV4ZWNDb21tYW5kJiZ1LmVkaXRvci50aGVtZS5leGVjQ29tbWFuZChuLHQsaSkpcmV0dXJuIHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDpuLHVpOnQsdmFsdWU6aX0pLCEwO3RyeXtmPXUuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKG4sdCxpKX1jYXRjaChyKXt9cmV0dXJuISFmJiYodS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOm4sdWk6dCx2YWx1ZTppfSksITApfX0sYmkucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKG4pe3ZhciB0O2lmKCF0aGlzLmVkaXRvci5xdWlya3MuaXNIaWRkZW4oKSYmIXRoaXMuZWRpdG9yLnJlbW92ZWQpe2lmKG49bi50b0xvd2VyQ2FzZSgpLHQ9dGhpcy5jb21tYW5kcy5zdGF0ZVtuXSlyZXR1cm4gdChuKTt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN0YXRlKG4pfWNhdGNoKG4pe31yZXR1cm4hMX19LGJpLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZT1mdW5jdGlvbihuKXt2YXIgdDtpZighdGhpcy5lZGl0b3IucXVpcmtzLmlzSGlkZGVuKCkmJiF0aGlzLmVkaXRvci5yZW1vdmVkKXtpZihuPW4udG9Mb3dlckNhc2UoKSx0PXRoaXMuY29tbWFuZHMudmFsdWVbbl0pcmV0dXJuIHQobik7dHJ5e3JldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRWYWx1ZShuKX1jYXRjaChuKXt9fX0sYmkucHJvdG90eXBlLmFkZENvbW1hbmRzPWZ1bmN0aW9uKG4sdCl7dm9pZCAwPT09dCYmKHQ9ImV4ZWMiKTt2YXIgaT10aGlzO3JkKG4sZnVuY3Rpb24obixyKXtyZChyLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiwiKSxmdW5jdGlvbihyKXtpLmNvbW1hbmRzW3RdW3JdPW59KX0pfSxiaS5wcm90b3R5cGUuYWRkQ29tbWFuZD1mdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcztuPW4udG9Mb3dlckNhc2UoKTt0aGlzLmNvbW1hbmRzLmV4ZWNbbl09ZnVuY3Rpb24obix1LGYsZSl7cmV0dXJuIHQuY2FsbChpfHxyLmVkaXRvcix1LGYsZSl9fSxiaS5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkPWZ1bmN0aW9uKG4pe2lmKG49bi50b0xvd2VyQ2FzZSgpLHRoaXMuY29tbWFuZHMuZXhlY1tuXSlyZXR1cm4hMDt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChuKX1jYXRjaChuKXt9cmV0dXJuITF9LGJpLnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcztuPW4udG9Mb3dlckNhc2UoKTt0aGlzLmNvbW1hbmRzLnN0YXRlW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbChpfHxyLmVkaXRvcil9fSxiaS5wcm90b3R5cGUuYWRkUXVlcnlWYWx1ZUhhbmRsZXI9ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXM7bj1uLnRvTG93ZXJDYXNlKCk7dGhpcy5jb21tYW5kcy52YWx1ZVtuXT1mdW5jdGlvbigpe3JldHVybiB0LmNhbGwoaXx8ci5lZGl0b3IpfX0sYmkucHJvdG90eXBlLmhhc0N1c3RvbUNvbW1hbmQ9ZnVuY3Rpb24obil7cmV0dXJuIG49bi50b0xvd2VyQ2FzZSgpLCEhdGhpcy5jb21tYW5kcy5leGVjW25dfSxiaS5wcm90b3R5cGUuZXhlY05hdGl2ZUNvbW1hbmQ9ZnVuY3Rpb24obix0LGkpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09aSYmKGk9bnVsbCksdGhpcy5lZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQobix0LGkpfSxiaS5wcm90b3R5cGUuaXNGb3JtYXRNYXRjaD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lZGl0b3IuZm9ybWF0dGVyLm1hdGNoKG4pfSxiaS5wcm90b3R5cGUudG9nZ2xlRm9ybWF0PWZ1bmN0aW9uKG4sdCl7dGhpcy5lZGl0b3IuZm9ybWF0dGVyLnRvZ2dsZShuLHQpO3RoaXMuZWRpdG9yLm5vZGVDaGFuZ2VkKCl9LGJpLnByb3RvdHlwZS5zdG9yZVNlbGVjdGlvbj1mdW5jdGlvbihuKXt0aGlzLnNlbGVjdGlvbkJvb2ttYXJrPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5nZXRCb29rbWFyayhuKX0sYmkucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsodGhpcy5zZWxlY3Rpb25Cb29rbWFyayl9LGJpLnByb3RvdHlwZS5zZXR1cENvbW1hbmRzPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGYodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9bi5zZWxlY3Rpb24scj1pLmlzQ29sbGFwc2VkKCk/W24uZG9tLmdldFBhcmVudChpLmdldE5vZGUoKSxuLmRvbS5pc0Jsb2NrKV06aS5nZXRTZWxlY3RlZEJsb2NrcygpLHU9Y3RyKHIsZnVuY3Rpb24oaSl7cmV0dXJuISFuLmZvcm1hdHRlci5tYXRjaE5vZGUoaSx0KX0pO3JldHVybi0xIT09bHRyKHUsITApfX12YXIgaT10aGlzO3RoaXMuYWRkQ29tbWFuZHMoeyJtY2VSZXNldERlc2lnbk1vZGUsbWNlQmVnaW5VbmRvTGV2ZWwiOnksIm1jZUVuZFVuZG9MZXZlbCxtY2VBZGRVbmRvTGV2ZWwiOmZ1bmN0aW9uKCl7bi51bmRvTWFuYWdlci5hZGQoKX0sbWNlRm9jdXM6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY7Zj1yOyh1PW4pLnJlbW92ZWR8fChmP2Z1dDpmdW5jdGlvbihuKXt2YXIgZj1uLnNlbGVjdGlvbix0PW4uZ2V0Qm9keSgpLGk9Zi5nZXRSbmcoKSxyLGUsdTtpZihuLnF1aXJrcy5yZWZyZXNoQ29udGVudEVkaXRhYmxlKCksdm9pZCAwIT09bi5ib29rbWFyayYmITE9PT1hcyhuKSYmbnV0KG4pLmVhY2goZnVuY3Rpb24odCl7bi5zZWxlY3Rpb24uc2V0Um5nKHQpO2k9dH0pLHU9KHI9bixlPWYuZ2V0Tm9kZSgpLHIuZG9tLmdldFBhcmVudChlLGZ1bmN0aW9uKG4pe3JldHVybiJ0cnVlIj09PXIuZG9tLmdldENvbnRlbnRFZGl0YWJsZShuKX0pKSxuLiQuY29udGFpbnModCx1KSlyZXR1cm4gdHV0KHUpLGdrdChuLGkpLGZ1dChuKTtuLmlubGluZXx8KGwub3BlcmF8fHR1dCh0KSxuLmdldFdpbigpLmZvY3VzKCkpOyhsLmdlY2tvfHxuLmlubGluZSkmJih0dXQodCksZ2t0KG4saSkpO2Z1dChuKX0pKHUpfSwiQ3V0LENvcHksUGFzdGUiOmZ1bmN0aW9uKHQpe3ZhciB1LHIsZj1uLmdldERvYygpO3RyeXtpLmV4ZWNOYXRpdmVDb21tYW5kKHQpfWNhdGNoKHQpe3U9ITB9KCh1PSJwYXN0ZSI9PT10JiYhZi5xdWVyeUNvbW1hbmRFbmFibGVkKHQpfHx1KXx8IWYucXVlcnlDb21tYW5kU3VwcG9ydGVkKHQpKSYmKHI9bi50cmFuc2xhdGUoIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZGlyZWN0IGFjY2VzcyB0byB0aGUgY2xpcGJvYXJkLiBQbGVhc2UgdXNlIHRoZSBDdHJsK1gvQy9WIGtleWJvYXJkIHNob3J0Y3V0cyBpbnN0ZWFkLiIpLGwubWFjJiYocj1yLnJlcGxhY2UoL0N0cmxcKy9nLCLijJgrIikpLG4ubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0OnIsdHlwZToiZXJyb3IifSkpfSx1bmxpbms6ZnVuY3Rpb24oKXt2YXIgdDtuLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyh0PW4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXRTdGFydCgpLCJhIikpJiZuLmRvbS5yZW1vdmUodCwhMCk6bi5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIil9LCJKdXN0aWZ5TGVmdCxKdXN0aWZ5Q2VudGVyLEp1c3RpZnlSaWdodCxKdXN0aWZ5RnVsbCxKdXN0aWZ5Tm9uZSI6ZnVuY3Rpb24odCl7dmFyIHI9dC5zdWJzdHJpbmcoNyk7ImZ1bGwiPT09ciYmKHI9Imp1c3RpZnkiKTtyZCgibGVmdCxjZW50ZXIscmlnaHQsanVzdGlmeSIuc3BsaXQoIiwiKSxmdW5jdGlvbih0KXtyIT09dCYmbi5mb3JtYXR0ZXIucmVtb3ZlKCJhbGlnbiIrdCl9KTsibm9uZSIhPT1yJiZpLnRvZ2dsZUZvcm1hdCgiYWxpZ24iK3IpfSwiSW5zZXJ0VW5vcmRlcmVkTGlzdCxJbnNlcnRPcmRlcmVkTGlzdCI6ZnVuY3Rpb24odCl7dmFyIHUscjtpLmV4ZWNOYXRpdmVDb21tYW5kKHQpO3I9bi5kb20uZ2V0UGFyZW50KG4uc2VsZWN0aW9uLmdldE5vZGUoKSwib2wsdWwiKTtyJiYodT1yLnBhcmVudE5vZGUsL14oSFsxLTZdfFB8QUREUkVTU3xQUkUpJC8udGVzdCh1Lm5vZGVOYW1lKSYmKGkuc3RvcmVTZWxlY3Rpb24oKSxuLmRvbS5zcGxpdCh1LHIpLGkucmVzdG9yZVNlbGVjdGlvbigpKSl9LCJCb2xkLEl0YWxpYyxVbmRlcmxpbmUsU3RyaWtldGhyb3VnaCxTdXBlcnNjcmlwdCxTdWJzY3JpcHQiOmZ1bmN0aW9uKG4pe2kudG9nZ2xlRm9ybWF0KG4pfSwiRm9yZUNvbG9yLEhpbGl0ZUNvbG9yIjpmdW5jdGlvbihuLHQscil7aS50b2dnbGVGb3JtYXQobix7dmFsdWU6cn0pfSxGb250TmFtZTpmdW5jdGlvbih0LGkscil7dmFyIHUsZjtmPWxzaSh1PW4scik7dS5mb3JtYXR0ZXIudG9nZ2xlKCJmb250bmFtZSIse3ZhbHVlOnV0KGYuc3BsaXQoL1xzKixccyovKSxmdW5jdGlvbihuKXtyZXR1cm4tMT09PW4uaW5kZXhPZigiICIpfHx3byhuLCciJyl8fHdvKG4sIiciKT9uOiInIituKyInIn0pLmpvaW4oIiwiKX0pO3Uubm9kZUNoYW5nZWQoKX0sRm9udFNpemU6ZnVuY3Rpb24odCxpLHIpe3ZhciB1Oyh1PW4pLmZvcm1hdHRlci50b2dnbGUoImZvbnRzaXplIix7dmFsdWU6bHNpKHUscil9KTt1Lm5vZGVDaGFuZ2VkKCl9LExpbmVIZWlnaHQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1Oyh1PW4pLmZvcm1hdHRlci50b2dnbGUoImxpbmVoZWlnaHQiLHt2YWx1ZTpTdHJpbmcocil9KTt1Lm5vZGVDaGFuZ2VkKCl9LExhbmc6ZnVuY3Rpb24obix0LHIpe2kudG9nZ2xlRm9ybWF0KG4se3ZhbHVlOnIuY29kZSxjdXN0b21WYWx1ZTpyLmN1c3RvbUNvZGV9KX0sUmVtb3ZlRm9ybWF0OmZ1bmN0aW9uKHQpe24uZm9ybWF0dGVyLnJlbW92ZSh0KX0sbWNlQmxvY2tRdW90ZTpmdW5jdGlvbigpe2kudG9nZ2xlRm9ybWF0KCJibG9ja3F1b3RlIil9LEZvcm1hdEJsb2NrOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaS50b2dnbGVGb3JtYXQocnx8InAiKX0sbWNlQ2xlYW51cDpmdW5jdGlvbigpe3ZhciB0PW4uc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk7bi5zZXRDb250ZW50KG4uZ2V0Q29udGVudCgpKTtuLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayh0KX0sbWNlUmVtb3ZlTm9kZTpmdW5jdGlvbih0LHIsdSl7dmFyIGY9dXx8bi5zZWxlY3Rpb24uZ2V0Tm9kZSgpO2YhPT1uLmdldEJvZHkoKSYmKGkuc3RvcmVTZWxlY3Rpb24oKSxuLmRvbS5yZW1vdmUoZiwhMCksaS5yZXN0b3JlU2VsZWN0aW9uKCkpfSxtY2VTZWxlY3ROb2RlRGVwdGg6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PTA7bi5kb20uZ2V0UGFyZW50KG4uc2VsZWN0aW9uLmdldE5vZGUoKSxmdW5jdGlvbih0KXtpZigxPT09dC5ub2RlVHlwZSYmdSsrPT09cilyZXR1cm4gbi5zZWxlY3Rpb24uc2VsZWN0KHQpLCExfSxuLmdldEJvZHkoKSl9LG1jZVNlbGVjdE5vZGU6ZnVuY3Rpb24odCxpLHIpe24uc2VsZWN0aW9uLnNlbGVjdChyKX0sbWNlSW5zZXJ0Q29udGVudDpmdW5jdGlvbih0LGksdSl7dmFyIGUsZixvLHM7ZT1uO2Y9ZnVuY3Rpb24obil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXJldHVybntjb250ZW50Om4sZGV0YWlsczp7fX07dmFyIHQ9ci5leHRlbmQoe3Bhc3RlOm4ucGFzdGUsZGF0YTp7cGFzdGU6bi5wYXN0ZX19LG4pO3JldHVybntjb250ZW50Om4uY29udGVudCxkZXRhaWxzOnR9fSh1KTtvPWYuY29udGVudDtzPWYuZGV0YWlscztmZXQoZSkuZWRpdG9yLmluc2VydENvbnRlbnQobyxzKX0sbWNlSW5zZXJ0UmF3SFRNTDpmdW5jdGlvbih0LGkscil7bi5zZWxlY3Rpb24uc2V0Q29udGVudCgidGlueV9tY2VfbWFya2VyIik7dmFyIHU9bi5nZXRDb250ZW50KCk7bi5zZXRDb250ZW50KHUucmVwbGFjZSgvdGlueV9tY2VfbWFya2VyL2csZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sbWNlSW5zZXJ0TmV3TGluZTpmdW5jdGlvbih0LGkscil7bG9pKG4scil9LG1jZVRvZ2dsZUZvcm1hdDpmdW5jdGlvbihuLHQscil7aS50b2dnbGVGb3JtYXQocil9LG1jZVNldENvbnRlbnQ6ZnVuY3Rpb24odCxpLHIpe24uc2V0Q29udGVudChyKX0sIkluZGVudCxPdXRkZW50IjpmdW5jdGlvbih0KXtuZWkobix0KX0sbWNlUmVwYWludDp5LEluc2VydEhvcml6b250YWxSdWxlOmZ1bmN0aW9uKCl7bi5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q29udGVudCIsITEsIjxociAvPiIpfSxtY2VUb2dnbGVWaXN1YWxBaWQ6ZnVuY3Rpb24oKXtuLmhhc1Zpc3VhbD0hbi5oYXNWaXN1YWw7bi5hZGRWaXN1YWwoKX0sbWNlUmVwbGFjZUNvbnRlbnQ6ZnVuY3Rpb24odCxpLHIpe24uZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLHIucmVwbGFjZSgvXHtcJHNlbGVjdGlvblx9L2csbi5zZWxlY3Rpb24uZ2V0Q29udGVudCh7Zm9ybWF0OiJ0ZXh0In0pKSl9LG1jZUluc2VydExpbms6ZnVuY3Rpb24odCxpLHIpeyJzdHJpbmciPT10eXBlb2YgciYmKHI9e2hyZWY6cn0pO3ZhciB1PW4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXROb2RlKCksImEiKTtyLmhyZWY9ci5ocmVmLnJlcGxhY2UoLyAvZywiJTIwIik7dSYmci5ocmVmfHxuLmZvcm1hdHRlci5yZW1vdmUoImxpbmsiKTtyLmhyZWYmJm4uZm9ybWF0dGVyLmFwcGx5KCJsaW5rIixyLHUpfSxzZWxlY3RBbGw6ZnVuY3Rpb24oKXt2YXIgdCxpPW4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXRTdGFydCgpLGd1KTtpJiYoKHQ9bi5kb20uY3JlYXRlUm5nKCkpLnNlbGVjdE5vZGVDb250ZW50cyhpKSxuLnNlbGVjdGlvbi5zZXRSbmcodCkpfSxtY2VOZXdEb2N1bWVudDpmdW5jdGlvbigpe24uc2V0Q29udGVudCgiIil9LEluc2VydExpbmVCcmVhazpmdW5jdGlvbih0LGkscil7cmV0dXJuIGVvaShuLHIpLCEwfX0pO2kuYWRkQ29tbWFuZHMoe0p1c3RpZnlMZWZ0OmYoImFsaWdubGVmdCIpLEp1c3RpZnlDZW50ZXI6ZigiYWxpZ25jZW50ZXIiKSxKdXN0aWZ5UmlnaHQ6ZigiYWxpZ25yaWdodCIpLEp1c3RpZnlGdWxsOmYoImFsaWduanVzdGlmeSIpLCJCb2xkLEl0YWxpYyxVbmRlcmxpbmUsU3RyaWtldGhyb3VnaCxTdXBlcnNjcmlwdCxTdWJzY3JpcHQiOmZ1bmN0aW9uKG4pe3JldHVybiBpLmlzRm9ybWF0TWF0Y2gobil9LG1jZUJsb2NrUXVvdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaS5pc0Zvcm1hdE1hdGNoKCJibG9ja3F1b3RlIil9LE91dGRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGZpKG4pfSwiSW5zZXJ0VW5vcmRlcmVkTGlzdCxJbnNlcnRPcmRlcmVkTGlzdCI6ZnVuY3Rpb24odCl7dmFyIGk9bi5kb20uZ2V0UGFyZW50KG4uc2VsZWN0aW9uLmdldE5vZGUoKSwidWwsb2wiKTtyZXR1cm4gaSYmKCJpbnNlcnR1bm9yZGVyZWRsaXN0Ij09PXQmJiJVTCI9PT1pLnRhZ05hbWV8fCJpbnNlcnRvcmRlcmVkbGlzdCI9PT10JiYiT0wiPT09aS50YWdOYW1lKX19LCJzdGF0ZSIpO2kuYWRkQ29tbWFuZHMoe1VuZG86ZnVuY3Rpb24oKXtuLnVuZG9NYW5hZ2VyLnVuZG8oKX0sUmVkbzpmdW5jdGlvbigpe24udW5kb01hbmFnZXIucmVkbygpfX0pO2kuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkZvbnROYW1lIixmdW5jdGlvbigpe3JldHVybiByc3QodD1uLGZ1bmN0aW9uKG4pe3JldHVybiBodHIodC5nZXRCb2R5KCksbi5kb20pfSkuZ2V0T3IoIiIpO3ZhciB0fSx0aGlzKTtpLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKCJGb250U2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gcnN0KHQ9bixmdW5jdGlvbihuKXtyZXR1cm4gc3RyKHQuZ2V0Qm9keSgpLG4uZG9tKX0pLmdldE9yKCIiKTt2YXIgdH0sdGhpcyk7aS5hZGRRdWVyeVZhbHVlSGFuZGxlcigiTGluZUhlaWdodCIsZnVuY3Rpb24oKXtyZXR1cm4gcnN0KGk9bixmdW5jdGlvbihuKXt2YXIgcj10LmZyb21Eb20oaS5nZXRCb2R5KCkpO3JldHVybiByZnQobixmdW5jdGlvbihuKXtyZXR1cm4ga2cobiwibGluZS1oZWlnaHQiKX0sdShudCxyKSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciB0PXBhcnNlRmxvYXQoYmYobiwibGluZS1oZWlnaHQiKSksaT1wYXJzZUZsb2F0KGJmKG4sImZvbnQtc2l6ZSIpKTtyZXR1cm4gU3RyaW5nKHQvaSl9KX0pLmdldE9yKCIiKTt2YXIgaX0sdGhpcyl9LGJpKTt2YXIgbmg9ImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIseXRyPXIubWFrZU1hcCgiZm9jdXMgYmx1ciBmb2N1c2luIGZvY3Vzb3V0IGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgYmVmb3JlcGFzdGUgcGFzdGUgY3V0IGNvcHkgc2VsZWN0aW9uY2hhbmdlIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSB3aGVlbCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IGJlZm9yZWlucHV0IGNvbnRleHRtZW51IGRyYWdzdGFydCBkcmFnZW5kIGRyYWdvdmVyIGRyYWdnZXN0dXJlIGRyYWdkcm9wIGRyb3AgZHJhZyBzdWJtaXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZSB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsIiAiKSxlc3Q9KHRoLmlzTmF0aXZlPWZ1bmN0aW9uKG4pe3JldHVybiEheXRyW24udG9Mb3dlckNhc2UoKV19LHRoLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKG4sdCl7dmFyIGU9bi50b0xvd2VyQ2FzZSgpLGk9Y2F0KGUsdHx8e30sdGhpcy5zY29wZSksdSxmLG8scjtpZih0aGlzLnNldHRpbmdzLmJlZm9yZUZpcmUmJnRoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZShpKSx1PXRoaXMuYmluZGluZ3NbZV0sdSlmb3IoZj0wLG89dS5sZW5ndGg7ZjxvO2YrKylpZihyPXVbZl0sIXIucmVtb3ZlZCl7aWYoci5vbmNlJiZ0aGlzLm9mZihlLHIuZnVuYyksaS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXJldHVybiBpO2lmKCExPT09ci5mdW5jLmNhbGwodGhpcy5zY29wZSxpKSlyZXR1cm4gaS5wcmV2ZW50RGVmYXVsdCgpLGl9cmV0dXJuIGl9LHRoLnByb3RvdHlwZS5vbj1mdW5jdGlvbihuLHQsaSx1KXt2YXIgZSxzLGgsbyxmO2lmKHQ9ITE9PT10P2l0OnQpZm9yKGU9e2Z1bmM6dCxyZW1vdmVkOiExfSx1JiZyLmV4dGVuZChlLHUpLHM9bi50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksaD1zLmxlbmd0aDtoLS07KW89c1toXSxmPXRoaXMuYmluZGluZ3Nbb10sZnx8KGY9W10sdGhpcy50b2dnbGVFdmVudChvLCEwKSksZj1pP2VlKFtlXSxmLCEwKTplZShlZShbXSxmLCEwKSxbZV0sITEpLHRoaXMuYmluZGluZ3Nbb109ZjtyZXR1cm4gdGhpc30sdGgucHJvdG90eXBlLm9mZj1mdW5jdGlvbihuLHQpe3ZhciB1PXRoaXMsZixvLHMscixpO2lmKG4pZm9yKGY9bi50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksbz1mLmxlbmd0aDtvLS07KXtpZihyPWZbb10saT10aGlzLmJpbmRpbmdzW3JdLCFyKXJldHVybiBldCh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKG4sdCl7dS50b2dnbGVFdmVudCh0LCExKTtkZWxldGUgdS5iaW5kaW5nc1t0XX0pLHRoaXM7aSYmKHQ/KGk9KHM9bmh0KGksZnVuY3Rpb24obil7cmV0dXJuIG4uZnVuYz09PXR9KSkuZmFpbCx0aGlzLmJpbmRpbmdzW3JdPWksZShzLnBhc3MsZnVuY3Rpb24obil7bi5yZW1vdmVkPSEwfSkpOmkubGVuZ3RoPTAsaS5sZW5ndGh8fCh0aGlzLnRvZ2dsZUV2ZW50KG4sITEpLGRlbGV0ZSB0aGlzLmJpbmRpbmdzW3JdKSl9ZWxzZSBldCh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKG4sdCl7dS50b2dnbGVFdmVudCh0LCExKX0pLHRoaXMuYmluZGluZ3M9e307cmV0dXJuIHRoaXN9LHRoLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5vbihuLHQsaSx7b25jZTohMH0pfSx0aC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKG4pe3JldHVybiBuPW4udG9Mb3dlckNhc2UoKSwhKCF0aGlzLmJpbmRpbmdzW25dfHwwPT09dGhpcy5iaW5kaW5nc1tuXS5sZW5ndGgpfSx0aCk7dmFyIGloLGVkPXtmaXJlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdSxyO2lmKHRoaXMucmVtb3ZlZCYmInJlbW92ZSIhPT1uJiYiZGV0YWNoIiE9PW4pcmV0dXJuIHQ7aWYodT1rdih0aGlzKS5maXJlKG4sdCksITEhPT1pJiZ0aGlzLnBhcmVudClmb3Iocj10aGlzLnBhcmVudCgpO3ImJiF1LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KXIuZmlyZShuLHUsITEpLHI9ci5wYXJlbnQoKTtyZXR1cm4gdX0sb246ZnVuY3Rpb24obix0LGkpe3JldHVybiBrdih0aGlzKS5vbihuLHQsaSl9LG9mZjpmdW5jdGlvbihuLHQpe3JldHVybiBrdih0aGlzKS5vZmYobix0KX0sb25jZTpmdW5jdGlvbihuLHQpe3JldHVybiBrdih0aGlzKS5vbmNlKG4sdCl9LGhhc0V2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKG4pe3JldHVybiBrdih0aGlzKS5oYXMobil9fSxvZD1kLkRPTSxuaGk9YyhjKHt9LGVkKSx7YmluZFBlbmRpbmdFdmVudERlbGVnYXRlczpmdW5jdGlvbigpe3ZhciBuPXRoaXM7ci5lYWNoKG4uX3BlbmRpbmdOYXRpdmVFdmVudHMsZnVuY3Rpb24odCl7ZHNpKG4sdCl9KX0sdG9nZ2xlTmF0aXZlRXZlbnQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzOyJmb2N1cyIhPT1uJiYiYmx1ciIhPT1uJiYoaS5yZW1vdmVkfHwodD9pLmluaXRpYWxpemVkP2RzaShpLG4pOmkuX3BlbmRpbmdOYXRpdmVFdmVudHM/aS5fcGVuZGluZ05hdGl2ZUV2ZW50cy5wdXNoKG4pOmkuX3BlbmRpbmdOYXRpdmVFdmVudHM9W25dOmkuaW5pdGlhbGl6ZWQmJihpLmRvbS51bmJpbmQoZmQoaSxuKSxuLGkuZGVsZWdhdGVzW25dKSxkZWxldGUgaS5kZWxlZ2F0ZXNbbl0pKSl9LHVuYmluZEFsbE5hdGl2ZUV2ZW50czpmdW5jdGlvbigpe3ZhciBuPXRoaXMsaT1uLmdldEJvZHkoKSx0PW4uZG9tO24uZGVsZWdhdGVzJiYoZXQobi5kZWxlZ2F0ZXMsZnVuY3Rpb24odCxpKXtuLmRvbS51bmJpbmQoZmQobixpKSxpLHQpfSksZGVsZXRlIG4uZGVsZWdhdGVzKTshbi5pbmxpbmUmJmkmJnQmJihpLm9ubG9hZD1udWxsLHQudW5iaW5kKG4uZ2V0V2luKCkpLHQudW5iaW5kKG4uZ2V0RG9jKCkpKTt0JiYodC51bmJpbmQoaSksdC51bmJpbmQobi5nZXRDb250YWluZXIoKSkpfX0pLHd0cj1bImRlc2lnbiIsInJlYWRvbmx5Il0sb3N0PXIuZWFjaCxzc3Q9ci5leHBsb2RlLGJ0cj17ZjE6MTEyLGYyOjExMyxmMzoxMTQsZjQ6MTE1LGY1OjExNixmNjoxMTcsZjc6MTE4LGY4OjExOSxmOToxMjAsZjEwOjEyMSxmMTE6MTIyLGYxMjoxMjN9LHRoaT1yLm1ha2VNYXAoImFsdCxjdHJsLHNoaWZ0LG1ldGEsYWNjZXNzIiksaWhpPShmZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKG4sdCxpLHUpe3ZhciBmPXRoaXMsZT1mLm5vcm1hbGl6ZUNvbW1hbmRGdW5jKGkpO3JldHVybiBvc3Qoc3N0KHIudHJpbShuKSksZnVuY3Rpb24obil7dmFyIGk9Zi5jcmVhdGVTaG9ydGN1dChuLHQsZSx1KTtmLnNob3J0Y3V0c1tpLmlkXT1pfSksITB9LGZlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5jcmVhdGVTaG9ydGN1dChuKTtyZXR1cm4hIXRoaXMuc2hvcnRjdXRzW3QuaWRdJiYoZGVsZXRlIHRoaXMuc2hvcnRjdXRzW3QuaWRdLCEwKX0sZmUucHJvdG90eXBlLm5vcm1hbGl6ZUNvbW1hbmRGdW5jPWZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMsdD1uO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9mdW5jdGlvbigpe2kuZWRpdG9yLmV4ZWNDb21tYW5kKHQsITEsbnVsbCl9OnIuaXNBcnJheSh0KT9mdW5jdGlvbigpe2kuZWRpdG9yLmV4ZWNDb21tYW5kKHRbMF0sdFsxXSx0WzJdKX06dH0sZmUucHJvdG90eXBlLmNyZWF0ZVNob3J0Y3V0PWZ1bmN0aW9uKG4sdCxpLHUpe3ZhciBmPXIubWFwKHNzdChuLCI+IikscHRyKTtyZXR1cm4gZltmLmxlbmd0aC0xXT1yLmV4dGVuZChmW2YubGVuZ3RoLTFdLHtmdW5jOmksc2NvcGU6dXx8dGhpcy5lZGl0b3J9KSxyLmV4dGVuZChmWzBdLHtkZXNjOnRoaXMuZWRpdG9yLnRyYW5zbGF0ZSh0KSxzdWJwYXR0ZXJuczpmLnNsaWNlKDEpfSl9LGZlLnByb3RvdHlwZS5oYXNNb2RpZmllcj1mdW5jdGlvbihuKXtyZXR1cm4gbi5hbHRLZXl8fG4uY3RybEtleXx8bi5tZXRhS2V5fSxmZS5wcm90b3R5cGUuaXNGdW5jdGlvbktleT1mdW5jdGlvbihuKXtyZXR1cm4ia2V5ZG93biI9PT1uLnR5cGUmJjExMjw9bi5rZXlDb2RlJiZuLmtleUNvZGU8PTEyM30sZmUucHJvdG90eXBlLm1hdGNoU2hvcnRjdXQ9ZnVuY3Rpb24obix0KXtyZXR1cm4hIXQmJnQuY3RybD09PW4uY3RybEtleSYmdC5tZXRhPT09bi5tZXRhS2V5JiZ0LmFsdD09PW4uYWx0S2V5JiZ0LnNoaWZ0PT09bi5zaGlmdEtleSYmISEobi5rZXlDb2RlPT09dC5rZXlDb2RlfHxuLmNoYXJDb2RlJiZuLmNoYXJDb2RlPT09dC5jaGFyQ29kZSkmJihuLnByZXZlbnREZWZhdWx0KCksITApfSxmZS5wcm90b3R5cGUuZXhlY3V0ZVNob3J0Y3V0QWN0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiBuLmZ1bmM/bi5mdW5jLmNhbGwobi5zY29wZSk6bnVsbH0sZmUpO3ZhciByaD1kLkRPTSxyaGk9ci5leHRlbmQsa3RyPXIuZWFjaCx1aGk9ci5yZXNvbHZlLGR0cj1sLmllLHNkPShiLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXshZnVuY3Rpb24obil7dmFyIHU9bi5pZCxyLGUsbyxpLGY7bHUuc2V0Q29kZShvcHQobikpO2Y9ZnVuY3Rpb24oKXtkcy51bmJpbmQod2luZG93LCJyZWFkeSIsZik7bi5yZW5kZXIoKX07aWMuRXZlbnQuZG9tTG9hZGVkP24uZ2V0RWxlbWVudCgpJiZsLmNvbnRlbnRFZGl0YWJsZSYmKHI9dC5mcm9tRG9tKG4uZ2V0RWxlbWVudCgpKSxlPWZ1KHIuZG9tLmF0dHJpYnV0ZXMsZnVuY3Rpb24obix0KXtyZXR1cm4gblt0Lm5hbWVdPXQudmFsdWUsbn0se30pLG4ub24oInJlbW92ZSIsZnVuY3Rpb24oKXtnc3Qoci5kb20uYXR0cmlidXRlcyxmdW5jdGlvbihuKXtyZXR1cm4gaGUocixuLm5hbWUpLDB9KTtzZShyLGUpfSksbi51aS5zdHlsZVNoZWV0TG9hZGVyPWdsdC5mb3JFbGVtZW50KHIse2NvbnRlbnRDc3NDb3JzOihvPW4pLmdldFBhcmFtKCJjb250ZW50X2Nzc19jb3JzIikscmVmZXJyZXJQb2xpY3k6ZXB0KG8pfSksbi5nZXRQYXJhbSgiaW5saW5lIik/bi5pbmxpbmU9ITA6KG4ub3JnVmlzaWJpbGl0eT1uLmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5LG4uZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpLChpPW4uZ2V0RWxlbWVudCgpLmZvcm18fGRzLmdldFBhcmVudCh1LCJmb3JtIikpJiYobi5mb3JtRWxlbWVudD1pLG4uZ2V0UGFyYW0oImhpZGRlbl9pbnB1dCIpJiYhZ2cobi5nZXRFbGVtZW50KCkpJiYoZHMuaW5zZXJ0QWZ0ZXIoZHMuY3JlYXRlKCJpbnB1dCIse3R5cGU6ImhpZGRlbiIsbmFtZTp1fSksdSksbi5oYXNIaWRkZW5JbnB1dD0hMCksbi5mb3JtRXZlbnREZWxlZ2F0ZT1mdW5jdGlvbih0KXtuLmZpcmUodC50eXBlLHQpfSxkcy5iaW5kKGksInN1Ym1pdCByZXNldCIsbi5mb3JtRXZlbnREZWxlZ2F0ZSksbi5vbigicmVzZXQiLGZ1bmN0aW9uKCl7bi5yZXNldENvbnRlbnQoKX0pLCFuLmdldFBhcmFtKCJzdWJtaXRfcGF0Y2giKXx8aS5zdWJtaXQubm9kZVR5cGV8fGkuc3VibWl0Lmxlbmd0aHx8aS5fbWNlT2xkU3VibWl0fHwoaS5fbWNlT2xkU3VibWl0PWkuc3VibWl0LGkuc3VibWl0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZWRpdG9yTWFuYWdlci50cmlnZ2VyU2F2ZSgpLG4uc2V0RGlydHkoITEpLGkuX21jZU9sZFN1Ym1pdChpKX0pKSxuLndpbmRvd01hbmFnZXI9ZnJpKG4pLG4ubm90aWZpY2F0aW9uTWFuYWdlcj1iaWkobiksInhtbCI9PT1uLmdldFBhcmFtKCJlbmNvZGluZyIpJiZuLm9uKCJHZXRDb250ZW50IixmdW5jdGlvbihuKXtuLnNhdmUmJihuLmNvbnRlbnQ9ZHMuZW5jb2RlKG4uY29udGVudCkpfSksbi5nZXRQYXJhbSgiYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXIiKSYmbi5vbigic3VibWl0IixmdW5jdGlvbigpe24uaW5pdGlhbGl6ZWQmJm4uc2F2ZSgpfSksbi5nZXRQYXJhbSgiYWRkX3VubG9hZF90cmlnZ2VyIikmJihuLl9iZWZvcmVVbmxvYWQ9ZnVuY3Rpb24oKXshbi5pbml0aWFsaXplZHx8bi5kZXN0cm95ZWR8fG4uaXNIaWRkZW4oKXx8bi5zYXZlKHtmb3JtYXQ6InJhdyIsbm9fZXZlbnRzOiEwLHNldF9kaXJ0eTohMX0pfSxuLmVkaXRvck1hbmFnZXIub24oIkJlZm9yZVVubG9hZCIsbi5fYmVmb3JlVW5sb2FkKSksbi5lZGl0b3JNYW5hZ2VyLmFkZChuKSx1dHIobixuLnN1ZmZpeCkpOmRzLmJpbmQod2luZG93LCJyZWFkeSIsZil9KHRoaXMpfSxiLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbihuKXt0aGlzLmV4ZWNDb21tYW5kKCJtY2VGb2N1cyIsITEsbil9LGIucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIGFzKHRoaXMpfSxiLnByb3RvdHlwZS5leGVjQ2FsbGJhY2s9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGksdT1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl1W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBpPXRoaXMuc2V0dGluZ3Nbbl0saT8odGhpcy5jYWxsYmFja0xvb2t1cCYmKHQ9dGhpcy5jYWxsYmFja0xvb2t1cFtuXSkmJihpPXQuZnVuYyx0PXQuc2NvcGUpLCJzdHJpbmciPT10eXBlb2YgaSYmKHQ9KHQ9aS5yZXBsYWNlKC9cLlx3KyQvLCIiKSk/dWhpKHQpOjAsaT11aGkoaSksdGhpcy5jYWxsYmFja0xvb2t1cD10aGlzLmNhbGxiYWNrTG9va3VwfHx7fSx0aGlzLmNhbGxiYWNrTG9va3VwW25dPXtmdW5jOmksc2NvcGU6dH0pLGkuYXBwbHkodHx8dGhpcyx1KSk6dm9pZCAwfSxiLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGx1LnRyYW5zbGF0ZShuKX0sYi5wcm90b3R5cGUuZ2V0UGFyYW09ZnVuY3Rpb24obix0LGkpe3JldHVybiBvPXQscz1pLGw9KGY9bilpbih1PXRoaXMpLnNldHRpbmdzP3Uuc2V0dGluZ3NbZl06bywiaGFzaCI9PT1zPyhjPXt9LCJzdHJpbmciPT10eXBlb2YoaD1sKT9lKDA8aC5pbmRleE9mKCI9Iik/aC5zcGxpdCgvWzssXSg/IVtePTssXSooPzpbOyxdfCQpKS8pOmguc3BsaXQoIiwiKSxmdW5jdGlvbihuKXt2YXIgdD1uLnNwbGl0KCI9Iik7Y1tyLnRyaW0odFswXSldPTE8dC5sZW5ndGg/ci50cmltKHRbMV0pOnIudHJpbSh0WzBdKX0pOmM9aCxjKToic3RyaW5nIj09PXM/cHMoaHQsdSxmKS5nZXRPcihvKToibnVtYmVyIj09PXM/cHMob2gsdSxmKS5nZXRPcihvKToiYm9vbGVhbiI9PT1zP3BzKGJzdCx1LGYpLmdldE9yKG8pOiJvYmplY3QiPT09cz9wcyhlaCx1LGYpLmdldE9yKG8pOiJhcnJheSI9PT1zP3BzKGJyLHUsZikuZ2V0T3Iobyk6InN0cmluZ1tdIj09PXM/cHMoKGE9aHQsZnVuY3Rpb24obil7cmV0dXJuIGJyKG4pJiZ2bChuLGEpfSksdSxmKS5nZXRPcihvKToiZnVuY3Rpb24iPT09cz9wcyhmdCx1LGYpLmdldE9yKG8pOmw7dmFyIHUsZixvLHMsYSxoLGMsbH0sYi5wcm90b3R5cGUuaGFzUGx1Z2luPWZ1bmN0aW9uKG4sdCl7cmV0dXJuISghZHQoc2l0KHRoaXMpLnNwbGl0KC9bICxdLyksbil8fHQmJnZvaWQgMD09PXB1LmdldChuKSl9LGIucHJvdG90eXBlLm5vZGVDaGFuZ2VkPWZ1bmN0aW9uKG4pe3RoaXMuX25vZGVDaGFuZ2VEaXNwYXRjaGVyLm5vZGVDaGFuZ2VkKG4pfSxiLnByb3RvdHlwZS5hZGRDb21tYW5kPWZ1bmN0aW9uKG4sdCxpKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZENvbW1hbmQobix0LGkpfSxiLnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihuLHQsaSl7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVN0YXRlSGFuZGxlcihuLHQsaSl9LGIucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyPWZ1bmN0aW9uKG4sdCxpKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKG4sdCxpKX0sYi5wcm90b3R5cGUuYWRkU2hvcnRjdXQ9ZnVuY3Rpb24obix0LGkscil7dGhpcy5zaG9ydGN1dHMuYWRkKG4sdCxpLHIpfSxiLnByb3RvdHlwZS5leGVjQ29tbWFuZD1mdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5leGVjQ29tbWFuZChuLHQsaSxyKX0sYi5wcm90b3R5cGUucXVlcnlDb21tYW5kU3RhdGU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3RhdGUobil9LGIucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFZhbHVlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFZhbHVlKG4pfSxiLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3VwcG9ydGVkKG4pfSxiLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW4mJih0aGlzLmhpZGRlbj0hMSx0aGlzLmlubGluZT90aGlzLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9InRydWUiOihyaC5zaG93KHRoaXMuZ2V0Q29udGFpbmVyKCkpLHJoLmhpZGUodGhpcy5pZCkpLHRoaXMubG9hZCgpLHRoaXMuZmlyZSgic2hvdyIpKX0sYi5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLmdldERvYygpO24uaGlkZGVufHwoZHRyJiZ0JiYhbi5pbmxpbmUmJnQuZXhlY0NvbW1hbmQoIlNlbGVjdEFsbCIpLG4uc2F2ZSgpLG4uaW5saW5lPyhuLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9ImZhbHNlIixuPT09bi5lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3ImJihuLmVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvcj1udWxsKSk6KHJoLmhpZGUobi5nZXRDb250YWluZXIoKSkscmguc2V0U3R5bGUobi5pZCwiZGlzcGxheSIsbi5vcmdEaXNwbGF5KSksbi5oaWRkZW49ITAsbi5maXJlKCJoaWRlIikpfSxiLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5oaWRkZW59LGIucHJvdG90eXBlLnNldFByb2dyZXNzU3RhdGU9ZnVuY3Rpb24obix0KXt0aGlzLmZpcmUoIlByb2dyZXNzU3RhdGUiLHtzdGF0ZTpuLHRpbWU6dH0pfSxiLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZ2V0RWxlbWVudCgpLGkscjtyZXR1cm4gdGhpcy5yZW1vdmVkPyIiOnQ/KChuPW58fHt9KS5sb2FkPSEwLGk9Z2codCk/dC52YWx1ZTp0LmlubmVySFRNTCxyPXRoaXMuc2V0Q29udGVudChpLG4pLG4uZWxlbWVudD10LG4ubm9fZXZlbnRzfHx0aGlzLmZpcmUoIkxvYWRDb250ZW50IixuKSxuLmVsZW1lbnQ9dD1udWxsLHIpOnZvaWQgMH0sYi5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihuKXt2YXIgcix1LHQ9dGhpcyxpPXQuZ2V0RWxlbWVudCgpO2lmKGkmJnQuaW5pdGlhbGl6ZWQmJiF0LnJlbW92ZWQpcmV0dXJuKG49bnx8e30pLnNhdmU9ITAsbi5lbGVtZW50PWksbi5jb250ZW50PXQuZ2V0Q29udGVudChuKSxuLm5vX2V2ZW50c3x8dC5maXJlKCJTYXZlQ29udGVudCIsbiksInJhdyI9PT1uLmZvcm1hdCYmdC5maXJlKCJSYXdTYXZlQ29udGVudCIsbikscj1uLmNvbnRlbnQsZ2coaSk/aS52YWx1ZT1yOighbi5pc19yZW1vdmluZyYmdC5pbmxpbmV8fChpLmlubmVySFRNTD1yKSwodT1yaC5nZXRQYXJlbnQodC5pZCwiZm9ybSIpKSYma3RyKHUuZWxlbWVudHMsZnVuY3Rpb24obil7aWYobi5uYW1lPT09dC5pZClyZXR1cm4gbi52YWx1ZT1yLCExfSkpLG4uZWxlbWVudD1pPW51bGwsITEhPT1uLnNldF9kaXJ0eSYmdC5zZXREaXJ0eSghMSkscn0sYi5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihuLHQpe3JldHVybiBwZXQodGhpcyxuLHQpfSxiLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKG4pe3JldHVybiBpPXRoaXMscj0odD12b2lkIDA9PT0odD1uKT97fTp0KS5mb3JtYXR8fCJodG1sIix1PXQsZmV0KGkpLmVkaXRvci5nZXRDb250ZW50KHUscik7dmFyIGksdCxyLHV9LGIucHJvdG90eXBlLmluc2VydENvbnRlbnQ9ZnVuY3Rpb24obix0KXt0JiYobj1yaGkoe2NvbnRlbnQ6bn0sdCkpO3RoaXMuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLG4pfSxiLnByb3RvdHlwZS5yZXNldENvbnRlbnQ9ZnVuY3Rpb24obil7dm9pZCAwPT09bj9wZXQodGhpcyx0aGlzLnN0YXJ0Q29udGVudCx7Zm9ybWF0OiJyYXcifSk6cGV0KHRoaXMsbik7dGhpcy51bmRvTWFuYWdlci5yZXNldCgpO3RoaXMuc2V0RGlydHkoITEpO3RoaXMubm9kZUNoYW5nZWQoKX0sYi5wcm90b3R5cGUuaXNEaXJ0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTm90RGlydHl9LGIucHJvdG90eXBlLnNldERpcnR5PWZ1bmN0aW9uKG4pe3ZhciB0PSF0aGlzLmlzTm90RGlydHk7dGhpcy5pc05vdERpcnR5PSFuO24mJm4hPT10JiZ0aGlzLmZpcmUoImRpcnR5Iil9LGIucHJvdG90eXBlLmdldENvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lcnx8KHRoaXMuY29udGFpbmVyPXJoLmdldCh0aGlzLmVkaXRvckNvbnRhaW5lcnx8dGhpcy5pZCsiX3BhcmVudCIpKSx0aGlzLmNvbnRhaW5lcn0sYi5wcm90b3R5cGUuZ2V0Q29udGVudEFyZWFDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50QXJlYUNvbnRhaW5lcn0sYi5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldEVsbXx8KHRoaXMudGFyZ2V0RWxtPXJoLmdldCh0aGlzLmlkKSksdGhpcy50YXJnZXRFbG19LGIucHJvdG90eXBlLmdldFdpbj1mdW5jdGlvbigpe3ZhciBuO3JldHVybiB0aGlzLmNvbnRlbnRXaW5kb3d8fChuPXRoaXMuaWZyYW1lRWxlbWVudCkmJih0aGlzLmNvbnRlbnRXaW5kb3c9bi5jb250ZW50V2luZG93KSx0aGlzLmNvbnRlbnRXaW5kb3d9LGIucHJvdG90eXBlLmdldERvYz1mdW5jdGlvbigpe3ZhciBuO3JldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudHx8KG49dGhpcy5nZXRXaW4oKSkmJih0aGlzLmNvbnRlbnREb2N1bWVudD1uLmRvY3VtZW50KSx0aGlzLmNvbnRlbnREb2N1bWVudH0sYi5wcm90b3R5cGUuZ2V0Qm9keT1mdW5jdGlvbigpe3ZhciBuPXRoaXMuZ2V0RG9jKCk7cmV0dXJuIHRoaXMuYm9keUVsZW1lbnR8fChuP24uYm9keTpudWxsKX0sYi5wcm90b3R5cGUuY29udmVydFVSTD1mdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcy5zZXR0aW5ncztyZXR1cm4gci51cmxjb252ZXJ0ZXJfY2FsbGJhY2s/dGhpcy5leGVjQ2FsbGJhY2soInVybGNvbnZlcnRlcl9jYWxsYmFjayIsbixpLCEwLHQpOiFyLmNvbnZlcnRfdXJsc3x8aSYmIkxJTksiPT09aS5ub2RlTmFtZXx8MD09PW4uaW5kZXhPZigiZmlsZToiKXx8MD09PW4ubGVuZ3RoP246ci5yZWxhdGl2ZV91cmxzP3RoaXMuZG9jdW1lbnRCYXNlVVJJLnRvUmVsYXRpdmUobik6dGhpcy5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShuLHIucmVtb3ZlX3NjcmlwdF9ob3N0KX0sYi5wcm90b3R5cGUuYWRkVmlzdWFsPWZ1bmN0aW9uKG4pe3ZhciB0O3Q9bjtjdCh0aGlzKS5lZGl0b3IuYWRkVmlzdWFsKHQpfSxiLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgbixyLHUsdCxpOyhuPXRoaXMpLnJlbW92ZWR8fChyPW4uX3NlbGVjdGlvbk92ZXJyaWRlcyx1PW4uZWRpdG9yVXBsb2FkLHQ9bi5nZXRCb2R5KCksaT1uLmdldEVsZW1lbnQoKSx0JiZuLnNhdmUoe2lzX3JlbW92aW5nOiEwfSksbi5yZW1vdmVkPSEwLG4udW5iaW5kQWxsTmF0aXZlRXZlbnRzKCksbi5oYXNIaWRkZW5JbnB1dCYmaSYma2IucmVtb3ZlKGkubmV4dFNpYmxpbmcpLG4uZmlyZSgicmVtb3ZlIiksbi5lZGl0b3JNYW5hZ2VyLnJlbW92ZShuKSwhbi5pbmxpbmUmJnQmJmtiLnNldFN0eWxlKG4uaWQsImRpc3BsYXkiLG4ub3JnRGlzcGxheSksbi5maXJlKCJkZXRhY2giKSxrYi5yZW1vdmUobi5nZXRDb250YWluZXIoKSkscGIocikscGIodSksbi5kZXN0cm95KCkpfSxiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKG4pe3ZhciBpLHUsZixyLHQsZSxvO3U9bjtlPShpPXRoaXMpLnNlbGVjdGlvbjtvPWkuZG9tO2kuZGVzdHJveWVkfHwodXx8aS5yZW1vdmVkPyh1fHwoaS5lZGl0b3JNYW5hZ2VyLm9mZigiYmVmb3JldW5sb2FkIixpLl9iZWZvcmVVbmxvYWQpLGkudGhlbWUmJmkudGhlbWUuZGVzdHJveSYmaS50aGVtZS5kZXN0cm95KCkscGIoZSkscGIobykpLChyPShmPWkpLmZvcm1FbGVtZW50KSYmKHIuX21jZU9sZFN1Ym1pdCYmKHIuc3VibWl0PXIuX21jZU9sZFN1Ym1pdCxyLl9tY2VPbGRTdWJtaXQ9bnVsbCksa2IudW5iaW5kKHIsInN1Ym1pdCByZXNldCIsZi5mb3JtRXZlbnREZWxlZ2F0ZSkpLCh0PWkpLmNvbnRlbnRBcmVhQ29udGFpbmVyPXQuZm9ybUVsZW1lbnQ9dC5jb250YWluZXI9dC5lZGl0b3JDb250YWluZXI9bnVsbCx0LmJvZHlFbGVtZW50PXQuY29udGVudERvY3VtZW50PXQuY29udGVudFdpbmRvdz1udWxsLHQuaWZyYW1lRWxlbWVudD10LnRhcmdldEVsbT1udWxsLHQuc2VsZWN0aW9uJiYodC5zZWxlY3Rpb249dC5zZWxlY3Rpb24ud2luPXQuc2VsZWN0aW9uLmRvbT10LnNlbGVjdGlvbi5kb20uZG9jPW51bGwpLGkuZGVzdHJveWVkPSEwKTppLnJlbW92ZSgpKX0sYi5wcm90b3R5cGUudXBsb2FkSW1hZ2VzPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC51cGxvYWRJbWFnZXMobil9LGIucHJvdG90eXBlLl9zY2FuRm9ySW1hZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yVXBsb2FkLnNjYW5Gb3JJbWFnZXMoKX0sYi5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkQnV0dG9uIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRCdXR0b24gb3IgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFRvZ2dsZUJ1dHRvbiBvciBlZGl0b3IudWkucmVnaXN0cnkuYWRkU3BsaXRCdXR0b24gaW5zdGVhZCIpO30sYi5wcm90b3R5cGUuYWRkU2lkZWJhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZFNpZGViYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNpZGViYXIgaW5zdGVhZCIpO30sYi5wcm90b3R5cGUuYWRkTWVudUl0ZW09ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRNZW51SXRlbSBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkTWVudUl0ZW0gaW5zdGVhZCIpO30sYi5wcm90b3R5cGUuYWRkQ29udGV4dFRvb2xiYXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRDb250ZXh0VG9vbGJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkQ29udGV4dFRvb2xiYXIgaW5zdGVhZCIpO30sYik7dmFyIGhkLHV1PWQuRE9NLGd0cj1yLmV4cGxvZGUscGY9ci5lYWNoLG5pcj1yLmV4dGVuZCx0aXI9MCxzaGk9ITEsbG89W10sbnI9W10saWlyPSJDU1MxQ29tcGF0IiE9PWRvY3VtZW50LmNvbXBhdE1vZGUsYW89YyhjKHt9LGVkKSx7YmFzZVVSSTpudWxsLGJhc2VVUkw6bnVsbCxkZWZhdWx0U2V0dGluZ3M6e30sZG9jdW1lbnRCYXNlVVJMOm51bGwsc3VmZml4Om51bGwsJDphLG1ham9yVmVyc2lvbjoiNSIsbWlub3JWZXJzaW9uOiIxMC41IixyZWxlYXNlRGF0ZToiMjAyMi0wNS0yNSIsZWRpdG9yczpsbyxpMThuOmx1LGFjdGl2ZUVkaXRvcjpudWxsLGZvY3VzZWRFZGl0b3I6bnVsbCxzZXR0aW5nczp7fSxzZXR1cDpmdW5jdGlvbigpe3ZhciBpLGY9IiIsdD11by5nZXREb2N1bWVudEJhc2VVcmwoZG9jdW1lbnQubG9jYXRpb24pLHIsbixvLGUscztpZigvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdCh0KSYmKHQ9dC5yZXBsYWNlKC9bXD8jXS4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCIiKSwvW1wvXFxdJC8udGVzdCh0KXx8KHQrPSIvIikpLHI9d2luZG93LnRpbnltY2V8fHdpbmRvdy50aW55TUNFUHJlSW5pdCxyKWk9ci5iYXNlfHxyLmJhc2VVUkwsZj1yLnN1ZmZpeDtlbHNle2ZvcihvPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxlPTA7ZTxvLmxlbmd0aDtlKyspaWYoIiIhPT0obj1vW2VdLnNyY3x8IiIpJiYocz1uLnN1YnN0cmluZyhuLmxhc3RJbmRleE9mKCIvIikpLC90aW55bWNlKFwuZnVsbHxcLmpxdWVyeXwpKFwubWlufFwuZGV2fClcLmpzLy50ZXN0KG4pKSl7LTEhPT1zLmluZGV4T2YoIi5taW4iKSYmKGY9Ii5taW4iKTtpPW4uc3Vic3RyaW5nKDAsbi5sYXN0SW5kZXhPZigiLyIpKTticmVha30haSYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKC0xIT09KG49ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLmluZGV4T2YoIi5taW4iKSYmKGY9Ii5taW4iKSxpPW4uc3Vic3RyaW5nKDAsbi5sYXN0SW5kZXhPZigiLyIpKSl9dGhpcy5iYXNlVVJMPW5ldyB1byh0KS50b0Fic29sdXRlKGkpO3RoaXMuZG9jdW1lbnRCYXNlVVJMPXQ7dGhpcy5iYXNlVVJJPW5ldyB1byh0aGlzLmJhc2VVUkwpO3RoaXMuc3VmZml4PWY7dGhpcy5vbigiQWRkRWRpdG9yIix1KHRwaSx0aGlzKSk7dGhpcy5vbigiUmVtb3ZlRWRpdG9yIix1KGlwaSx0aGlzKSl9LG92ZXJyaWRlRGVmYXVsdHM6ZnVuY3Rpb24obil7dmFyIGk9bi5iYXNlX3VybCxyLHQ7aSYmdGhpcy5fc2V0QmFzZVVybChpKTtyPW4uc3VmZml4O24uc3VmZml4JiYodGhpcy5zdWZmaXg9cik7dD0odGhpcy5kZWZhdWx0U2V0dGluZ3M9bikucGx1Z2luX2Jhc2VfdXJsczt2b2lkIDAhPT10JiZldCh0LGZ1bmN0aW9uKG4sdCl7cnIuUGx1Z2luTWFuYWdlci51cmxzW3RdPW59KX0saW5pdDpmdW5jdGlvbihuKXtmdW5jdGlvbiBmKG4pe3ZhciB0PW4uaWQ7cmV0dXJuIHR8fCh0PWF0KG4sIm5hbWUiKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIXV1LmdldChuKX0pLmdldE9yVGh1bmsodXUudW5pcXVlSWQpLG4uc2V0QXR0cmlidXRlKCJpZCIsdCkpLHR9ZnVuY3Rpb24gZShuLHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09UmVnRXhwP3QudGVzdChuLmNsYXNzTmFtZSk6dXUuaGFzQ2xhc3Mobix0KX12YXIgaSx0PXRoaXMscz1yLm1ha2VNYXAoImFyZWEgYmFzZSBiYXNlZm9udCBiciBjb2wgZnJhbWUgaHIgaW1nIGlucHV0IGlzaW5kZXggbGluayBtZXRhIHBhcmFtIGVtYmVkIHNvdXJjZSB3YnIgdHJhY2sgY29sZ3JvdXAgb3B0aW9uIHRhYmxlIHRib2R5IHRmb290IHRoZWFkIHRyIHRoIHRkIHNjcmlwdCBub3NjcmlwdCBzdHlsZSB0ZXh0YXJlYSB2aWRlbyBhdWRpbyBpZnJhbWUgb2JqZWN0IG1lbnUiLCIgIiksdT1mdW5jdGlvbihuKXtpPW59LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBoKG4scixmKXt2YXIgZT1uZXcgc2QobixyLHQpO3YucHVzaChlKTtlLm9uKCJpbml0IixmdW5jdGlvbigpeysreT09PWkubGVuZ3RoJiZ1KHYpfSk7ZS50YXJnZXRFbG09ZS50YXJnZXRFbG18fGY7ZS5yZW5kZXIoKX12YXIgaSxjLHk9MCx2PVtdO3V1LnVuYmluZCh3aW5kb3csInJlYWR5IixvKTsoYz1uLm9ucGFnZWxvYWQpJiZjLmFwcGx5KHQsW10pO2k9YS51bmlxdWUoZnVuY3Rpb24obil7dmFyIHQ9W10saTtpZihsLmJyb3dzZXIuaXNJRSgpJiZsLmJyb3dzZXIudmVyc2lvbi5tYWpvcjwxMSlyZXR1cm4gc2soIlRpbnlNQ0UgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYnJvd3NlciB5b3UgYXJlIHVzaW5nLiBGb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCBicm93c2VycyBwbGVhc2Ugc2VlOiBodHRwczovL3d3dy50aW55bWNlLmNvbS9kb2NzL2dldC1zdGFydGVkL3N5c3RlbS1yZXF1aXJlbWVudHMvIiksW107aWYoaWlyKXJldHVybiBzaygiRmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIGVkaXRvciBhcyB0aGUgZG9jdW1lbnQgaXMgbm90IGluIHN0YW5kYXJkcyBtb2RlLiBUaW55TUNFIHJlcXVpcmVzIHN0YW5kYXJkcyBtb2RlLiIpLFtdO2lmKG4udHlwZXMpcmV0dXJuIHBmKG4udHlwZXMsZnVuY3Rpb24obil7dD10LmNvbmNhdCh1dS5zZWxlY3Qobi5zZWxlY3RvcikpfSksdDtpZihuLnNlbGVjdG9yKXJldHVybiB1dS5zZWxlY3Qobi5zZWxlY3Rvcik7aWYobi50YXJnZXQpcmV0dXJuW24udGFyZ2V0XTtzd2l0Y2gobi5tb2RlKXtjYXNlImV4YWN0IjppPW4uZWxlbWVudHN8fCIiOzA8aS5sZW5ndGgmJnBmKGd0cihpKSxmdW5jdGlvbihuKXt2YXIgaT11dS5nZXQobik7aT90LnB1c2goaSk6cGYoZG9jdW1lbnQuZm9ybXMsZnVuY3Rpb24oaSl7cGYoaS5lbGVtZW50cyxmdW5jdGlvbihpKXtpLm5hbWU9PT1uJiYobj0ibWNlX2VkaXRvcl8iK3RpcisrLHV1LnNldEF0dHJpYihpLCJpZCIsbiksdC5wdXNoKGkpKX0pfSl9KTticmVhaztjYXNlInRleHRhcmVhcyI6Y2FzZSJzcGVjaWZpY190ZXh0YXJlYXMiOnBmKHV1LnNlbGVjdCgidGV4dGFyZWEiKSxmdW5jdGlvbihpKXtuLmVkaXRvcl9kZXNlbGVjdG9yJiZlKGksbi5lZGl0b3JfZGVzZWxlY3Rvcil8fG4uZWRpdG9yX3NlbGVjdG9yJiYhZShpLG4uZWRpdG9yX3NlbGVjdG9yKXx8dC5wdXNoKGkpfSl9cmV0dXJuIHR9KG4pKTtuLnR5cGVzP3BmKG4udHlwZXMsZnVuY3Rpb24odCl7ci5lYWNoKGksZnVuY3Rpb24oaSl7cmV0dXJuIXV1LmlzKGksdC5zZWxlY3Rvcil8fChoKGYoaSksbmlyKHt9LG4sdCksaSksITEpfSl9KTooci5lYWNoKGksZnVuY3Rpb24obil7dmFyIGk7KGk9dC5nZXQobi5pZCkpJiZpLmluaXRpYWxpemVkJiYhKGkuZ2V0Q29udGFpbmVyKCl8fGkuZ2V0Qm9keSgpKS5wYXJlbnROb2RlJiYob2hpKGkpLGkudW5iaW5kQWxsTmF0aXZlRXZlbnRzKCksaS5kZXN0cm95KCEwKSxpLnJlbW92ZWQ9ITApfSksMD09PShpPXIuZ3JlcChpLGZ1bmN0aW9uKG4pe3JldHVybiF0LmdldChuLmlkKX0pKS5sZW5ndGg/dShbXSk6cGYoaSxmdW5jdGlvbih0KXt2YXIgaT10O24uaW5saW5lJiZpLnRhZ05hbWUudG9Mb3dlckNhc2UoKWluIHM/c2soIkNvdWxkIG5vdCBpbml0aWFsaXplIGlubGluZSBlZGl0b3Igb24gaW52YWxpZCBpbmxpbmUgdGFyZ2V0IGVsZW1lbnQiLHQpOmgoZih0KSxuLHQpfSkpfTtyZXR1cm4gdC5zZXR0aW5ncz1uLHV1LmJpbmQod2luZG93LCJyZWFkeSIsbyksbmV3IHJpKGZ1bmN0aW9uKG4pe2k/bihpKTp1PWZ1bmN0aW9uKHQpe24odCl9fSl9LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/bnIuc2xpY2UoMCk6aHQobik/Z3QobnIsZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1ufSkuZ2V0T3IobnVsbCk6b2gobikmJm5yW25dfHxudWxsfSxhZGQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gbG9bbi5pZF09PT1ufHwobnVsbD09PXQuZ2V0KG4uaWQpJiYoImxlbmd0aCIhPT1uLmlkJiYobG9bbi5pZF09biksbG8ucHVzaChuKSxuci5wdXNoKG4pKSxlaGkoITApLHQuYWN0aXZlRWRpdG9yPW4sdC5maXJlKCJBZGRFZGl0b3IiLHtlZGl0b3I6bn0pLGhkfHwoaGQ9ZnVuY3Rpb24obil7dmFyIGk9dC5maXJlKCJCZWZvcmVVbmxvYWQiKTtpZihpLnJldHVyblZhbHVlKXJldHVybiBuLnByZXZlbnREZWZhdWx0KCksbi5yZXR1cm5WYWx1ZT1pLnJldHVyblZhbHVlLGkucmV0dXJuVmFsdWV9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLGhkKSkpLG59LGNyZWF0ZUVkaXRvcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmFkZChuZXcgc2Qobix0LHRoaXMpKX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciByLHQsaT10aGlzO2lmKG4pe2lmKCFodChuKSlyZXR1cm4gdD1uLGFsKGkuZ2V0KHQuaWQpKT9udWxsOihvaGkodCkmJmkuZmlyZSgiUmVtb3ZlRWRpdG9yIix7ZWRpdG9yOnR9KSwwPT09bnIubGVuZ3RoJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixoZCksdC5yZW1vdmUoKSxlaGkoMDxuci5sZW5ndGgpLHQpO3BmKHV1LnNlbGVjdChuKSxmdW5jdGlvbihuKXsodD1pLmdldChuLmlkKSkmJmkucmVtb3ZlKHQpfSl9ZWxzZSBmb3Iocj1uci5sZW5ndGgtMTswPD1yO3ItLSlpLnJlbW92ZShucltyXSl9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLmdldChpKTtzd2l0Y2gobil7Y2FzZSJtY2VBZGRFZGl0b3IiOnJldHVybiB0aGlzLmdldChpKXx8bmV3IHNkKGksdGhpcy5zZXR0aW5ncyx0aGlzKS5yZW5kZXIoKSwhMDtjYXNlIm1jZVJlbW92ZUVkaXRvciI6cmV0dXJuIHImJnIucmVtb3ZlKCksITA7Y2FzZSJtY2VUb2dnbGVFZGl0b3IiOnJldHVybiByP3IuaXNIaWRkZW4oKT9yLnNob3coKTpyLmhpZGUoKTp0aGlzLmV4ZWNDb21tYW5kKCJtY2VBZGRFZGl0b3IiLCExLGkpLCEwfXJldHVybiEhdGhpcy5hY3RpdmVFZGl0b3ImJnRoaXMuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKG4sdCxpKX0sdHJpZ2dlclNhdmU6ZnVuY3Rpb24oKXtwZihucixmdW5jdGlvbihuKXtuLnNhdmUoKX0pfSxhZGRJMThuOmZ1bmN0aW9uKG4sdCl7bHUuYWRkKG4sdCl9LHRyYW5zbGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbHUudHJhbnNsYXRlKG4pfSxzZXRBY3RpdmU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hY3RpdmVFZGl0b3I7dGhpcy5hY3RpdmVFZGl0b3IhPT1uJiYodCYmdC5maXJlKCJkZWFjdGl2YXRlIix7cmVsYXRlZFRhcmdldDpufSksbi5maXJlKCJhY3RpdmF0ZSIse3JlbGF0ZWRUYXJnZXQ6dH0pKTt0aGlzLmFjdGl2ZUVkaXRvcj1ufSxfc2V0QmFzZVVybDpmdW5jdGlvbihuKXt0aGlzLmJhc2VVUkw9bmV3IHVvKHRoaXMuZG9jdW1lbnRCYXNlVVJMKS50b0Fic29sdXRlKG4ucmVwbGFjZSgvXC8rJC8sIiIpKTt0aGlzLmJhc2VVUkk9bmV3IHVvKHRoaXMuYmFzZVVSTCl9fSk7YW8uc2V0dXAoKTt2YXIgZHYsZ3YsbGhpLGhzdCxhaGk9TWF0aC5taW4sY2w9TWF0aC5tYXgsY2Q9TWF0aC5yb3VuZCxyaXI9e2luZmxhdGU6ZnVuY3Rpb24obix0LGkpe3JldHVybiBobChuLngtdCxuLnktaSxuLncrMip0LG4uaCsyKmkpfSxyZWxhdGl2ZVBvc2l0aW9uOmhoaSxmaW5kQmVzdFJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24obix0LGkscil7Zm9yKHZhciB1LGY9MDtmPHIubGVuZ3RoO2YrKylpZigodT1oaGkobix0LHJbZl0pKS54Pj1pLngmJnUueCt1Lnc8PWkudytpLngmJnUueT49aS55JiZ1LnkrdS5oPD1pLmgraS55KXJldHVybiByW2ZdO3JldHVybiBudWxsfSxpbnRlcnNlY3Q6ZnVuY3Rpb24obix0KXt2YXIgaT1jbChuLngsdC54KSxyPWNsKG4ueSx0LnkpLHU9YWhpKG4ueCtuLncsdC54K3QudyksZj1haGkobi55K24uaCx0LnkrdC5oKTtyZXR1cm4gdS1pPDB8fGYtcjwwP251bGw6aGwoaSxyLHUtaSxmLXIpfSxjbGFtcDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9bi54LHU9bi55LGY9bi54K24udyxlPW4ueStuLmgsbD10LngrdC53LGE9dC55K3QuaCxvPWNsKDAsdC54LXIpLHM9Y2woMCx0LnktdSksaD1jbCgwLGYtbCksYz1jbCgwLGUtYSk7cmV0dXJuIHIrPW8sdSs9cyxpJiYoZis9byxlKz1zLHItPWgsdS09YyksaGwocix1LChmLT1oKS1yLChlLT1jKS11KX0sY3JlYXRlOmhsLGZyb21DbGllbnRSZWN0OmZ1bmN0aW9uKG4pe3JldHVybiBobChuLmxlZnQsbi50b3Asbi53aWR0aCxuLmhlaWdodCl9fSx1aXI9KGR2PXt9LGd2PXt9LHtsb2FkOmZ1bmN0aW9uKG4sdCl7dmFyIHI9J1NjcmlwdCBhdCBVUkwgIicrdCsnIiBmYWlsZWQgdG8gbG9hZCcsdT0nU2NyaXB0IGF0IFVSTCAiJyt0KyJcIiBkaWQgbm90IGNhbGwgYHRpbnltY2UuUmVzb3VyY2UuYWRkKCciK24rIicsIGRhdGEpYCB3aXRoaW4gMSBzZWNvbmQiLGk7cmV0dXJuIHZvaWQgMCE9PWR2W25dP2R2W25dOihpPW5ldyByaShmdW5jdGlvbihpLGYpe3ZhciBlPWZ1bmN0aW9uKG4sdCxpKXtmdW5jdGlvbiBmKG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgaT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylpW3RdPWFyZ3VtZW50c1t0XTt1fHwodT0hMCxudWxsIT09ciYmKGNsZWFyVGltZW91dChyKSxyPW51bGwpLG4uYXBwbHkobnVsbCxpKSl9fXZvaWQgMD09PWkmJihpPTFlMyk7dmFyIHU9ITEscj1udWxsLG89ZihuKSxlPWYodCk7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3V8fG51bGwhPT1yfHwocj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkobnVsbCx0KX0saSkpfSxyZXNvbHZlOm8scmVqZWN0OmV9fShpLGYpO2d2W25dPWUucmVzb2x2ZTtkZi5TY3JpcHRMb2FkZXIubG9hZFNjcmlwdCh0LGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RhcnQodSl9LGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVqZWN0KHIpfSl9KSxkdltuXT1pKX0sYWRkOmZ1bmN0aW9uKG4sdCl7dm9pZCAwIT09Z3Zbbl0mJihndltuXSh0KSxkZWxldGUgZ3Zbbl0pO2R2W25dPXJpLnJlc29sdmUodCl9fSksbGQ9ci5lYWNoLGZpcj1yLmV4dGVuZDtjaGkuZXh0ZW5kPWxoaT1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKCl7dmFyIG4sdCxpO2lmKCFoc3QmJih0aGlzLmluaXQmJnRoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdD10aGlzLk1peGlucykpZm9yKG49dC5sZW5ndGg7bi0tOykoaT10W25dKS5pbml0JiZpLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHUoKXtyZXR1cm4gdGhpc312YXIgdD10aGlzLnByb3RvdHlwZSxyO3JldHVybiBoc3Q9ITAscj1uZXcgdGhpcyxoc3Q9ITEsbi5NaXhpbnMmJihsZChuLk1peGlucyxmdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gdCkiaW5pdCIhPT1pJiYobltpXT10W2ldKX0pLHQuTWl4aW5zJiYobi5NaXhpbnM9dC5NaXhpbnMuY29uY2F0KG4uTWl4aW5zKSkpLG4uTWV0aG9kcyYmbGQobi5NZXRob2RzLnNwbGl0KCIsIiksZnVuY3Rpb24odCl7blt0XT11fSksbi5Qcm9wZXJ0aWVzJiZsZChuLlByb3BlcnRpZXMuc3BsaXQoIiwiKSxmdW5jdGlvbih0KXt2YXIgaT0iXyIrdDtuW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDAhPT1uPyh0aGlzW2ldPW4sdGhpcyk6dGhpc1tpXX19KSxuLlN0YXRpY3MmJmxkKG4uU3RhdGljcyxmdW5jdGlvbihuLHQpe2lbdF09bn0pLG4uRGVmYXVsdHMmJnQuRGVmYXVsdHMmJihuLkRlZmF1bHRzPWZpcih7fSx0LkRlZmF1bHRzLG4uRGVmYXVsdHMpKSxldChuLGZ1bmN0aW9uKG4saSl7dmFyIHUsZjtyW2ldPSJmdW5jdGlvbiI9PXR5cGVvZiBuJiZ0W2ldPyh1PWksZj1uLGZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5fc3VwZXIsbjtyZXR1cm4gdGhpcy5fc3VwZXI9dFt1XSxuPWYuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWksbn0pOm59KSxpLnByb3RvdHlwZT1yLChpLmNvbnN0cnVjdG9yPWkpLmV4dGVuZD1saGksaX07dmFyIG55LHVoLGNzdCxhZD1NYXRoLm1pbix2ZD1NYXRoLm1heCxmaD1NYXRoLnJvdW5kLGxzdD17c2VyaWFsaXplOmZ1bmN0aW9uKG4pe3ZhciB0PUpTT04uc3RyaW5naWZ5KG4pO3JldHVybiBodCh0KT90LnJlcGxhY2UoL1tcdTAwODAtXHVGRkZGXS9nLGZ1bmN0aW9uKG4pe3ZhciB0PW4uY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7cmV0dXJuIlxcdSIrIjAwMDAiLnN1YnN0cmluZyh0Lmxlbmd0aCkrdH0pOnR9LHBhcnNlOmZ1bmN0aW9uKG4pe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShuKX1jYXRjaChuKXt9fX0sZWlyPXtjYWxsYmFja3M6e30sY291bnQ6MCxzZW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT1kLkRPTSxyPSh2b2lkIDAhPT1uLmNvdW50P246dCkuY291bnQsdT0idGlueW1jZV9qc29ucF8iK3I7dC5jYWxsYmFja3Nbcl09ZnVuY3Rpb24oZil7aS5yZW1vdmUodSk7ZGVsZXRlIHQuY2FsbGJhY2tzW3JdO24uY2FsbGJhY2soZil9O2kuYWRkKGkuZG9jLmJvZHksInNjcmlwdCIse2lkOnUsc3JjOm4udXJsLHR5cGU6InRleHQvamF2YXNjcmlwdCJ9KTt0LmNvdW50Kyt9fSx5ZD1jKGMoe30sZWQpLHtzZW5kOmZ1bmN0aW9uKG4pe3ZhciB0LGk9MCx1PWZ1bmN0aW9uKCl7IW4uYXN5bmN8fDQ9PT10LnJlYWR5U3RhdGV8fDFlNDxpKys/KG4uc3VjY2VzcyYmaTwxZTQmJjIwMD09PXQuc3RhdHVzP24uc3VjY2Vzcy5jYWxsKG4uc3VjY2Vzc19zY29wZSwiIit0LnJlc3BvbnNlVGV4dCx0LG4pOm4uZXJyb3ImJm4uZXJyb3IuY2FsbChuLmVycm9yX3Njb3BlLDFlNDxpPyJUSU1FRF9PVVQiOiJHRU5FUkFMIix0LG4pLHQ9bnVsbCk6dWkuc2V0VGltZW91dCh1LDEwKX07aWYobi5zY29wZT1uLnNjb3BlfHx0aGlzLG4uc3VjY2Vzc19zY29wZT1uLnN1Y2Nlc3Nfc2NvcGV8fG4uc2NvcGUsbi5lcnJvcl9zY29wZT1uLmVycm9yX3Njb3BlfHxuLnNjb3BlLG4uYXN5bmM9ITEhPT1uLmFzeW5jLG4uZGF0YT1uLmRhdGF8fCIiLHlkLmZpcmUoImJlZm9yZUluaXRpYWxpemUiLHtzZXR0aW5nczpufSksKHQ9bmV3IFhNTEh0dHBSZXF1ZXN0KS5vdmVycmlkZU1pbWVUeXBlJiZ0Lm92ZXJyaWRlTWltZVR5cGUobi5jb250ZW50X3R5cGUpLHQub3BlbihuLnR5cGV8fChuLmRhdGE/IlBPU1QiOiJHRVQiKSxuLnVybCxuLmFzeW5jKSxuLmNyb3NzRG9tYWluJiYodC53aXRoQ3JlZGVudGlhbHM9ITApLG4uY29udGVudF90eXBlJiZ0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsbi5jb250ZW50X3R5cGUpLG4ucmVxdWVzdGhlYWRlcnMmJnIuZWFjaChuLnJlcXVlc3RoZWFkZXJzLGZ1bmN0aW9uKG4pe3Quc2V0UmVxdWVzdEhlYWRlcihuLmtleSxuLnZhbHVlKX0pLHQuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksKHQ9eWQuZmlyZSgiYmVmb3JlU2VuZCIse3hocjp0LHNldHRpbmdzOm59KS54aHIpLnNlbmQobi5kYXRhKSwhbi5hc3luYylyZXR1cm4gdSgpO3VpLnNldFRpbWVvdXQodSwxMCl9fSksdmhpPXIuZXh0ZW5kLG9pcj0ocGQuc2VuZFJQQz1mdW5jdGlvbihuKXtyZXR1cm4obmV3IHBkKS5zZW5kKG4pfSxwZC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihuKXt2YXIgaT1uLmVycm9yLHI9bi5zdWNjZXNzLHQ9dmhpKHRoaXMuc2V0dGluZ3Msbik7dC5zdWNjZXNzPWZ1bmN0aW9uKG4sdSl7KG49dm9pZCAwPT09KG49bHN0LnBhcnNlKG4pKT97ZXJyb3I6IkpTT04gUGFyc2UgZXJyb3IuIn06bikuZXJyb3I/aS5jYWxsKHQuZXJyb3Jfc2NvcGV8fHQuc2NvcGUsbi5lcnJvcix1KTpyLmNhbGwodC5zdWNjZXNzX3Njb3BlfHx0LnNjb3BlLG4ucmVzdWx0KX07dC5lcnJvcj1mdW5jdGlvbihuLHIpe2kmJmkuY2FsbCh0LmVycm9yX3Njb3BlfHx0LnNjb3BlLG4scil9O3QuZGF0YT1sc3Quc2VyaWFsaXplKHtpZDpuLmlkfHwiYyIrdGhpcy5jb3VudCsrLG1ldGhvZDpuLm1ldGhvZCxwYXJhbXM6bi5wYXJhbXN9KTt0LmNvbnRlbnRfdHlwZT0iYXBwbGljYXRpb24vanNvbiI7eWQuc2VuZCh0KX0scGQpO3RyeXtiZD0iX19zdG9yYWdlX3Rlc3RfXyI7KHdkPXdpbmRvdy5sb2NhbFN0b3JhZ2UpLnNldEl0ZW0oYmQsYmQpO3dkLnJlbW92ZUl0ZW0oYmQpfWNhdGNoKGtkKXtueT17fTt1aD1bXTtjc3Q9e2dldEl0ZW06ZnVuY3Rpb24obil7cmV0dXJuIG55W25dfHxudWxsfSxzZXRJdGVtOmZ1bmN0aW9uKG4sdCl7dWgucHVzaChuKTtueVtuXT1TdHJpbmcodCl9LGtleTpmdW5jdGlvbihuKXtyZXR1cm4gdWhbbl19LHJlbW92ZUl0ZW06ZnVuY3Rpb24obil7dWg9dWguZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09bn0pO2RlbGV0ZSBueVtuXX0sY2xlYXI6ZnVuY3Rpb24oKXt1aD1bXTtueT17fX0sbGVuZ3RoOjB9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShjc3QsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB1aC5sZW5ndGh9LGNvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExfSk7d2Q9Y3N0fXZhciBzaXI9e2dlb206e1JlY3Q6cmlyfSx1dGlsOntQcm9taXNlOnJpLERlbGF5OnVpLFRvb2xzOnIsVks6cyxVUkk6dW8sQ2xhc3M6Y2hpLEV2ZW50RGlzcGF0Y2hlcjplc3QsT2JzZXJ2YWJsZTplZCxJMThuOmx1LFhIUjp5ZCxKU09OOmxzdCxKU09OUmVxdWVzdDpvaXIsSlNPTlA6ZWlyLExvY2FsU3RvcmFnZTp3ZCxDb2xvcjpmdW5jdGlvbihuKXtmdW5jdGlvbiBmKG4pe3ZhciBmO3JldHVybiJvYmplY3QiPT10eXBlb2Ygbj8iciJpbiBuPyh0PW4ucixpPW4uZyxyPW4uYik6InYiaW4gbiYmZnVuY3Rpb24obix1LGYpe2lmKG49KHBhcnNlSW50KG4sMTApfHwwKSUzNjAsdT1wYXJzZUludCh1LDEwKS8xMDAsZj1wYXJzZUludChmLDEwKS8xMDAsdT12ZCgwLGFkKHUsMSkpLGY9dmQoMCxhZChmLDEpKSwwIT09dSl7dmFyIGg9bi82MCxlPWYqdSxvPWUqKDEtTWF0aC5hYnMoaCUyLTEpKSxzPWYtZTtzd2l0Y2goTWF0aC5mbG9vcihoKSl7Y2FzZSAwOnQ9ZTtpPW87cj0wO2JyZWFrO2Nhc2UgMTp0PW87aT1lO3I9MDticmVhaztjYXNlIDI6dD0wO2k9ZTtyPW87YnJlYWs7Y2FzZSAzOnQ9MDtpPW87cj1lO2JyZWFrO2Nhc2UgNDp0PW87aT0wO3I9ZTticmVhaztjYXNlIDU6dD1lO2k9MDtyPW87YnJlYWs7ZGVmYXVsdDp0PWk9cj0wfXQ9ZmgoMjU1Kih0K3MpKTtpPWZoKDI1NSooaStzKSk7cj1maCgyNTUqKHIrcykpfWVsc2UgdD1pPXI9ZmgoMjU1KmYpfShuLmgsbi5zLG4udik6KGY9L3JnYlxzKlwoXHMqKFswLTldKylccyosXHMqKFswLTldKylccyosXHMqKFswLTldKylbXlwpXSpcKS9naS5leGVjKG4pKT8odD1wYXJzZUludChmWzFdLDEwKSxpPXBhcnNlSW50KGZbMl0sMTApLHI9cGFyc2VJbnQoZlszXSwxMCkpOihmPS8jKFswLUZdezJ9KShbMC1GXXsyfSkoWzAtRl17Mn0pL2dpLmV4ZWMobikpPyh0PXBhcnNlSW50KGZbMV0sMTYpLGk9cGFyc2VJbnQoZlsyXSwxNikscj1wYXJzZUludChmWzNdLDE2KSk6KGY9LyMoWzAtRl0pKFswLUZdKShbMC1GXSkvZ2kuZXhlYyhuKSkmJih0PXBhcnNlSW50KGZbMV0rZlsxXSwxNiksaT1wYXJzZUludChmWzJdK2ZbMl0sMTYpLHI9cGFyc2VJbnQoZlszXStmWzNdLDE2KSksdD10PDA/MDoyNTU8dD8yNTU6dCxpPWk8MD8wOjI1NTxpPzI1NTppLHI9cjwwPzA6MjU1PHI/MjU1OnIsdX12YXIgdT17fSx0PTAsaT0wLHI9MDtyZXR1cm4gbiYmZihuKSx1LnRvUmdiPWZ1bmN0aW9uKCl7cmV0dXJue3I6dCxnOmksYjpyfX0sdS50b0hzdj1mdW5jdGlvbigpe3JldHVybiB1PXQsZT1pLGY9cixvPTAsKG49YWQodS89MjU1LGFkKGUvPTI1NSxmLz0yNTUpKSk9PT0ocz12ZCh1LHZkKGUsZikpKT97aDowLHM6MCx2OjEwMCoobz1uKX06KGg9KHMtbikvcyx7aDpmaCg2MCooKHU9PT1uPzM6Zj09PW4/MTo1KS0odT09PW4/ZS1mOmY9PT1uP3UtZTpmLXUpLygobz1zKS1uKSkpLHM6ZmgoMTAwKmgpLHY6ZmgoMTAwKm8pfSk7dmFyIHUsZSxmLGgsbyxuLHN9LHUudG9IZXg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe3JldHVybiAxPChuPXBhcnNlSW50KG4sMTApLnRvU3RyaW5nKDE2KSkubGVuZ3RoP246IjAiK259cmV0dXJuIiMiK24odCkrbihpKStuKHIpfSx1LnBhcnNlPWYsdX0sSW1hZ2VVcGxvYWRlcjpmdW5jdGlvbihuKXt2YXIgdD1vcmkoKSxpPWNyaShuLHQpO3JldHVybnt1cGxvYWQ6ZnVuY3Rpb24odCxyKXtyZXR1cm4gaS51cGxvYWQodCwocj12b2lkIDA9PT1yfHxyKT9ocmkobik6dm9pZCAwKX19fX0sZG9tOntFdmVudFV0aWxzOmljLFNpenpsZTprLERvbVF1ZXJ5OmEsVHJlZVdhbGtlcjp5dCxUZXh0U2Vla2VyOnR5dCxET01VdGlsczpkLFNjcmlwdExvYWRlcjpkZixSYW5nZVV0aWxzOmZ2LFNlcmlhbGl6ZXI6YWlpLFN0eWxlU2hlZXRMb2FkZXI6ZGx0LENvbnRyb2xTZWxlY3Rpb246Z2J0LEJvb2ttYXJrTWFuYWdlcjpydixTZWxlY3Rpb246aGlpLEV2ZW50OmljLkV2ZW50fSxodG1sOntTdHlsZXM6cG4sRW50aXRpZXM6eWUsTm9kZTpydSxTY2hlbWE6YWUsU2F4UGFyc2VyOm5iLERvbVBhcnNlcjp5ZXQsV3JpdGVyOmFkdCxTZXJpYWxpemVyOm5sfSxFbnY6bCxBZGRPbk1hbmFnZXI6cnIsQW5ub3RhdG9yOm9idCxGb3JtYXR0ZXI6YXJpLFVuZG9NYW5hZ2VyOnlyaSxFZGl0b3JDb21tYW5kczp3c2ksV2luZG93TWFuYWdlcjpmcmksTm90aWZpY2F0aW9uTWFuYWdlcjpiaWksRWRpdG9yT2JzZXJ2YWJsZTpuaGksU2hvcnRjdXRzOmloaSxFZGl0b3I6c2QsRm9jdXNNYW5hZ2VyOm9kdCxFZGl0b3JNYW5hZ2VyOmFvLERPTTpkLkRPTSxTY3JpcHRMb2FkZXI6ZGYuU2NyaXB0TG9hZGVyLFBsdWdpbk1hbmFnZXI6cHUsVGhlbWVNYW5hZ2VyOnNvLEljb25NYW5hZ2VyOmRiLFJlc291cmNlOnVpcix0cmltOnIudHJpbSxpc0FycmF5OnIuaXNBcnJheSxpczpyLmlzLHRvQXJyYXk6ci50b0FycmF5LG1ha2VNYXA6ci5tYWtlTWFwLGVhY2g6ci5lYWNoLG1hcDpyLm1hcCxncmVwOnIuZ3JlcCxpbkFycmF5OnIuaW5BcnJheSxleHRlbmQ6ci5leHRlbmQsY3JlYXRlOnIuY3JlYXRlLHdhbGs6ci53YWxrLGNyZWF0ZU5TOnIuY3JlYXRlTlMscmVzb2x2ZTpyLnJlc29sdmUsZXhwbG9kZTpyLmV4cGxvZGUsX2FkZENhY2hlU3VmZml4OnIuX2FkZENhY2hlU3VmZml4LGlzT3BlcmE6bC5vcGVyYSxpc1dlYktpdDpsLndlYmtpdCxpc0lFOmwuaWUsaXNHZWNrbzpsLmdlY2tvLGlzTWFjOmwubWFjfSx5aGk9ci5leHRlbmQoYW8sc2lyKSxwaGk9eWhpO3dpbmRvdy50aW55bWNlPXBoaTt3aW5kb3cudGlueU1DRT1waGksZnVuY3Rpb24obil7aWYoIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUpdHJ5e21vZHVsZS5leHBvcnRzPW59Y2F0Y2gobil7fX0oeWhpKX0oKTsNCg==","CacheKey":"NAgYlSW8hwdyaOqCFjY2I0xDzHM"}