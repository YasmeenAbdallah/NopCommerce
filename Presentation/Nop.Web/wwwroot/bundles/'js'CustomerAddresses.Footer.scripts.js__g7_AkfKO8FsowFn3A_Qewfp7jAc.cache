{"Headers":{"Last-Modified":"Fri, 21 Oct 2022 12:14:42 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bi5kb2N1bWVudD90KG4sITApOmZ1bmN0aW9uKG4pe2lmKCFuLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KG4pfTp0KG4pfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBrcihuLHQsaSl7dmFyIHIsZSx1PShpPWl8fGYpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKHUudGV4dD1uLHQpZm9yKHIgaW4gc2UpKGU9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmdS5zZXRBdHRyaWJ1dGUocixlKTtpLmhlYWQuYXBwZW5kQ2hpbGQodSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KX1mdW5jdGlvbiB1dChuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/cmlbd3IuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufWZ1bmN0aW9uIHBpKG4pe3ZhciB0PSEhbiYmImxlbmd0aCJpbiBuJiZuLmxlbmd0aCxpPXV0KG4pO3JldHVybiF1KG4pJiYhcnQobikmJigiYXJyYXkiPT09aXx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gbil9ZnVuY3Rpb24gYyhuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYmkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOiJzdHJpbmciIT10eXBlb2YgdD9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4tMTxpaS5jYWxsKHQsbikhPT1yfSk6aS5maWx0ZXIodCxuLHIpfWZ1bmN0aW9uIGZ1KG4sdCl7d2hpbGUoKG49blt0XSkmJjEhPT1uLm5vZGVUeXBlKTtyZXR1cm4gbn1mdW5jdGlvbiBldChuKXtyZXR1cm4gbn1mdW5jdGlvbiBmaShuKXt0aHJvdyBuO31mdW5jdGlvbiBldShuLHQsaSxyKXt2YXIgZjt0cnl7biYmdShmPW4ucHJvbWlzZSk/Zi5jYWxsKG4pLmRvbmUodCkuZmFpbChpKTpuJiZ1KGY9bi50aGVuKT9mLmNhbGwobix0LGkpOnQuYXBwbHkodm9pZCAwLFtuXS5zbGljZShyKSl9Y2F0Y2gobil7aS5hcHBseSh2b2lkIDAsW25dKX19ZnVuY3Rpb24gb2koKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG9pKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG9pKTtpLnJlYWR5KCl9ZnVuY3Rpb24gbGUobix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG4ucmVwbGFjZShoZSwibXMtIikucmVwbGFjZShjZSxsZSl9ZnVuY3Rpb24gYnQoKXt0aGlzLmV4cGFuZG89aS5leHBhbmRvK2J0LnVpZCsrfWZ1bmN0aW9uIHN1KG4sdCxpKXt2YXIgdSxyO2lmKHZvaWQgMD09PWkmJjE9PT1uLm5vZGVUeXBlKWlmKHU9ImRhdGEtIit0LnJlcGxhY2UodmUsIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihpPW4uZ2V0QXR0cmlidXRlKHUpKSl7dHJ5e2k9InRydWUiPT09KHI9aSl8fCJmYWxzZSIhPT1yJiYoIm51bGwiPT09cj9udWxsOnI9PT0rcisiIj8rcjphZS50ZXN0KHIpP0pTT04ucGFyc2Uocik6cil9Y2F0Y2gobil7fW8uc2V0KG4sdCxpKX1lbHNlIGk9dm9pZCAwO3JldHVybiBpfWZ1bmN0aW9uIGN1KG4sdCxyLHUpe3ZhciBzLGgsYz0yMCxsPXU/ZnVuY3Rpb24oKXtyZXR1cm4gdS5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gaS5jc3Mobix0LCIiKX0sbz1sKCksZT1yJiZyWzNdfHwoaS5jc3NOdW1iZXJbdF0/IiI6InB4IiksZj1uLm5vZGVUeXBlJiYoaS5jc3NOdW1iZXJbdF18fCJweCIhPT1lJiYrbykmJmt0LmV4ZWMoaS5jc3Mobix0KSk7aWYoZiYmZlszXSE9PWUpe2ZvcihvLz0yLGU9ZXx8ZlszXSxmPStvfHwxO2MtLTspaS5zdHlsZShuLHQsZitlKSwoMS1oKSooMS0oaD1sKCkvb3x8LjUpKTw9MCYmKGM9MCksZi89aDtmKj0yO2kuc3R5bGUobix0LGYrZSk7cj1yfHxbXX1yZXR1cm4gciYmKGY9K2Z8fCtvfHwwLHM9clsxXT9mKyhyWzFdKzEpKnJbMl06K3JbMl0sdSYmKHUudW5pdD1lLHUuc3RhcnQ9Zix1LmVuZD1zKSksc31mdW5jdGlvbiBodChuLHQpe2Zvcih2YXIgaCxmLGEscyxjLGwsZSxvPVtdLHU9MCx2PW4ubGVuZ3RoO3U8djt1KyspKGY9blt1XSkuc3R5bGUmJihoPWYuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1oJiYob1t1XT1yLmdldChmLCJkaXNwbGF5Iil8fG51bGwsb1t1XXx8KGYuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09Zi5zdHlsZS5kaXNwbGF5JiZkdChmKSYmKG9bdV09KGU9Yz1zPXZvaWQgMCxjPShhPWYpLm93bmVyRG9jdW1lbnQsbD1hLm5vZGVOYW1lLChlPWtpW2xdKXx8KHM9Yy5ib2R5LmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudChsKSksZT1pLmNzcyhzLCJkaXNwbGF5Iikscy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLCJub25lIj09PWUmJihlPSJibG9jayIpLGtpW2xdPWUpKSkpOiJub25lIiE9PWgmJihvW3VdPSJub25lIixyLnNldChmLCJkaXNwbGF5IixoKSkpO2Zvcih1PTA7dTx2O3UrKyludWxsIT1vW3VdJiYoblt1XS5zdHlsZS5kaXNwbGF5PW9bdV0pO3JldHVybiBufWZ1bmN0aW9uIHMobix0KXt2YXIgcjtyZXR1cm4gcj0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJmMobix0KT9pLm1lcmdlKFtuXSxyKTpyfWZ1bmN0aW9uIGRpKG4sdCl7Zm9yKHZhciBpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXIuc2V0KG5baV0sImdsb2JhbEV2YWwiLCF0fHxyLmdldCh0W2ldLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIHl1KG4sdCxyLHUsZil7Zm9yKHZhciBlLG8scCxhLHcsdixjPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHk9W10sbD0wLGI9bi5sZW5ndGg7bDxiO2wrKylpZigoZT1uW2xdKXx8MD09PWUpaWYoIm9iamVjdCI9PT11dChlKSlpLm1lcmdlKHksZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZih2dS50ZXN0KGUpKXtmb3Iobz1vfHxjLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHA9KGx1LmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1oW3BdfHxoLl9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5odG1sUHJlZmlsdGVyKGUpK2FbMl0sdj1hWzBdO3YtLTspbz1vLmxhc3RDaGlsZDtpLm1lcmdlKHksby5jaGlsZE5vZGVzKTsobz1jLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgeS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoZSkpO2ZvcihjLnRleHRDb250ZW50PSIiLGw9MDtlPXlbbCsrXTspaWYodSYmLTE8aS5pbkFycmF5KGUsdSkpZiYmZi5wdXNoKGUpO2Vsc2UgaWYodz1zdChlKSxvPXMoYy5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksdyYmZGkobykscilmb3Iodj0wO2U9b1t2KytdOylhdS50ZXN0KGUudHlwZXx8IiIpJiZyLnB1c2goZSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3QoKXtyZXR1cm4hMH1mdW5jdGlvbiBsdCgpe3JldHVybiExfWZ1bmN0aW9uIHBlKG4sdCl7cmV0dXJuIG49PT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZi5hY3RpdmVFbGVtZW50fWNhdGNoKG4pe319KCk9PSgiZm9jdXMiPT09dCl9ZnVuY3Rpb24gbnIobix0LHIsdSxmLGUpe3ZhciBvLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IocyBpbiJzdHJpbmciIT10eXBlb2YgciYmKHU9dXx8cixyPXZvaWQgMCksdClucihuLHMscix1LHRbc10sZSk7cmV0dXJuIG59aWYobnVsbD09dSYmbnVsbD09Zj8oZj1yLHU9cj12b2lkIDApOm51bGw9PWYmJigic3RyaW5nIj09dHlwZW9mIHI/KGY9dSx1PXZvaWQgMCk6KGY9dSx1PXIscj12b2lkIDApKSwhMT09PWYpZj1sdDtlbHNlIGlmKCFmKXJldHVybiBuO3JldHVybiAxPT09ZSYmKG89ZiwoZj1mdW5jdGlvbihuKXtyZXR1cm4gaSgpLm9mZihuKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPWkuZ3VpZCsrKSksbi5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5hZGQodGhpcyx0LGYsdSxyKX0pfWZ1bmN0aW9uIGhpKG4sdCx1KXt1PyhyLnNldChuLHQsITEpLGkuZXZlbnQuYWRkKG4sdCx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24obil7dmFyIG8sZSxmPXIuZ2V0KHRoaXMsdCk7aWYoMSZuLmlzVHJpZ2dlciYmdGhpc1t0XSl7aWYoZi5sZW5ndGgpKGkuZXZlbnQuc3BlY2lhbFt0XXx8e30pLmRlbGVnYXRlVHlwZSYmbi5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKGY9ay5jYWxsKGFyZ3VtZW50cyksci5zZXQodGhpcyx0LGYpLG89dSh0aGlzLHQpLHRoaXNbdF0oKSxmIT09KGU9ci5nZXQodGhpcyx0KSl8fG8/ci5zZXQodGhpcyx0LCExKTplPXt9LGYhPT1lKXJldHVybiBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSxlJiZlLnZhbHVlfWVsc2UgZi5sZW5ndGgmJihyLnNldCh0aGlzLHQse3ZhbHVlOmkuZXZlbnQudHJpZ2dlcihpLmV4dGVuZChmWzBdLGkuRXZlbnQucHJvdG90eXBlKSxmLnNsaWNlKDEpLHRoaXMpfSksbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSkpOnZvaWQgMD09PXIuZ2V0KG4sdCkmJmkuZXZlbnQuYWRkKG4sdCxjdCl9ZnVuY3Rpb24gcHUobix0KXtyZXR1cm4gYyhuLCJ0YWJsZSIpJiZjKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmaShuKS5jaGlsZHJlbigidGJvZHkiKVswXXx8bn1mdW5jdGlvbiBkZShuKXtyZXR1cm4gbi50eXBlPShudWxsIT09bi5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK24udHlwZSxufWZ1bmN0aW9uIGdlKG4pe3JldHVybiJ0cnVlLyI9PT0obi50eXBlfHwiIikuc2xpY2UoMCw1KT9uLnR5cGU9bi50eXBlLnNsaWNlKDUpOm4ucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksbn1mdW5jdGlvbiB3dShuLHQpe3ZhciB1LHMsZixoLGMsZTtpZigxPT09dC5ub2RlVHlwZSl7aWYoci5oYXNEYXRhKG4pJiYoZT1yLmdldChuKS5ldmVudHMpKWZvcihmIGluIHIucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxlKWZvcih1PTAscz1lW2ZdLmxlbmd0aDt1PHM7dSsrKWkuZXZlbnQuYWRkKHQsZixlW2ZdW3VdKTtvLmhhc0RhdGEobikmJihoPW8uYWNjZXNzKG4pLGM9aS5leHRlbmQoe30saCksby5zZXQodCxjKSl9fWZ1bmN0aW9uIGF0KG4sdCxmLG8pe3Q9cHIodCk7dmFyIGEsYixsLHYsaCx5LGM9MCxwPW4ubGVuZ3RoLGQ9cC0xLHc9dFswXSxrPXUodyk7aWYoa3x8MTxwJiYic3RyaW5nIj09dHlwZW9mIHcmJiFlLmNoZWNrQ2xvbmUmJmJlLnRlc3QodykpcmV0dXJuIG4uZWFjaChmdW5jdGlvbihpKXt2YXIgcj1uLmVxKGkpO2smJih0WzBdPXcuY2FsbCh0aGlzLGksci5odG1sKCkpKTthdChyLHQsZixvKX0pO2lmKHAmJihiPShhPXl1KHQsblswXS5vd25lckRvY3VtZW50LCExLG4sbykpLmZpcnN0Q2hpbGQsMT09PWEuY2hpbGROb2Rlcy5sZW5ndGgmJihhPWIpLGJ8fG8pKXtmb3Iodj0obD1pLm1hcChzKGEsInNjcmlwdCIpLGRlKSkubGVuZ3RoO2M8cDtjKyspaD1hLGMhPT1kJiYoaD1pLmNsb25lKGgsITAsITApLHYmJmkubWVyZ2UobCxzKGgsInNjcmlwdCIpKSksZi5jYWxsKG5bY10saCxjKTtpZih2KWZvcih5PWxbbC5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxpLm1hcChsLGdlKSxjPTA7Yzx2O2MrKyloPWxbY10sYXUudGVzdChoLnR5cGV8fCIiKSYmIXIuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmaS5jb250YWlucyh5LGgpJiYoaC5zcmMmJiJtb2R1bGUiIT09KGgudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/aS5fZXZhbFVybCYmIWgubm9Nb2R1bGUmJmkuX2V2YWxVcmwoaC5zcmMse25vbmNlOmgubm9uY2V8fGguZ2V0QXR0cmlidXRlKCJub25jZSIpfSx5KTprcihoLnRleHRDb250ZW50LnJlcGxhY2Uoa2UsIiIpLGgseSkpfXJldHVybiBufWZ1bmN0aW9uIGJ1KG4sdCxyKXtmb3IodmFyIHUsZT10P2kuZmlsdGVyKHQsbik6bixmPTA7bnVsbCE9KHU9ZVtmXSk7ZisrKXJ8fDEhPT11Lm5vZGVUeXBlfHxpLmNsZWFuRGF0YShzKHUpKSx1LnBhcmVudE5vZGUmJihyJiZzdCh1KSYmZGkocyh1LCJzY3JpcHQiKSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpKTtyZXR1cm4gbn1mdW5jdGlvbiBuaShuLHQscil7dmFyIG8scyxoLGYsdT1uLnN0eWxlO3JldHVybihyPXJ8fGNpKG4pKSYmKCIiIT09KGY9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdKXx8c3Qobil8fChmPWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmdHIudGVzdChmKSYmbm8udGVzdCh0KSYmKG89dS53aWR0aCxzPXUubWluV2lkdGgsaD11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWYsZj1yLndpZHRoLHUud2lkdGg9byx1Lm1pbldpZHRoPXMsdS5tYXhXaWR0aD1oKSksdm9pZCAwIT09Zj9mKyIiOmZ9ZnVuY3Rpb24gZHUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIW4oKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fWZ1bmN0aW9uIGlyKG4pe3ZhciB0PWkuY3NzUHJvcHNbbl18fHRmW25dO3JldHVybiB0fHwobiBpbiBuZj9uOnRmW25dPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaT1uWzBdLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSx0PWd1Lmxlbmd0aDt0LS07KWlmKChuPWd1W3RdK2kpaW4gbmYpcmV0dXJuIG59KG4pfHxuKX1mdW5jdGlvbiBmZihuLHQsaSl7dmFyIHI9a3QuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKGl8fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBycihuLHQscix1LGYsZSl7dmFyIG89IndpZHRoIj09PXQ/MTowLGg9MCxzPTA7aWYocj09PSh1PyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDtvPDQ7bys9MikibWFyZ2luIj09PXImJihzKz1pLmNzcyhuLHIrYltvXSwhMCxmKSksdT8oImNvbnRlbnQiPT09ciYmKHMtPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZikpLCJtYXJnaW4iIT09ciYmKHMtPWkuY3NzKG4sImJvcmRlciIrYltvXSsiV2lkdGgiLCEwLGYpKSk6KHMrPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZiksInBhZGRpbmciIT09cj9zKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKTpoKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKSk7cmV0dXJuIXUmJjA8PWUmJihzKz1NYXRoLm1heCgwLE1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1lLXMtaC0uNSkpfHwwKSxzfWZ1bmN0aW9uIGVmKG4sdCxyKXt2YXIgZj1jaShuKSxvPSghZS5ib3hTaXppbmdSZWxpYWJsZSgpfHxyKSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxzPW8sdT1uaShuLHQsZiksaD0ib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtpZih0ci50ZXN0KHUpKXtpZighcilyZXR1cm4gdTt1PSJhdXRvIn1yZXR1cm4oIWUuYm94U2l6aW5nUmVsaWFibGUoKSYmb3x8IWUucmVsaWFibGVUckRpbWVuc2lvbnMoKSYmYyhuLCJ0ciIpfHwiYXV0byI9PT11fHwhcGFyc2VGbG9hdCh1KSYmImlubGluZSI9PT1pLmNzcyhuLCJkaXNwbGF5IiwhMSxmKSkmJm4uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihvPSJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZiksKHM9aCBpbiBuKSYmKHU9bltoXSkpLCh1PXBhcnNlRmxvYXQodSl8fDApK3JyKG4sdCxyfHwobz8iYm9yZGVyIjoiY29udGVudCIpLHMsZix1KSsicHgifWZ1bmN0aW9uIGEobix0LGkscix1KXtyZXR1cm4gbmV3IGEucHJvdG90eXBlLmluaXQobix0LGkscix1KX1mdW5jdGlvbiB1cigpe2xpJiYoITE9PT1mLmhpZGRlbiYmbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXIpOm4uc2V0VGltZW91dCh1cixpLmZ4LmludGVydmFsKSxpLmZ4LnRpY2soKSl9ZnVuY3Rpb24gbGYoKXtyZXR1cm4gbi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dnQ9dm9pZCAwfSksdnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiBhaShuLHQpe3ZhciB1LHI9MCxpPXtoZWlnaHQ6bn07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyh1PWJbcl0pXT1pWyJwYWRkaW5nIit1XT1uO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9biksaX1mdW5jdGlvbiBhZihuLHQsaSl7Zm9yKHZhciB1LGY9KHYudHdlZW5lcnNbdF18fFtdKS5jb25jYXQodi50d2VlbmVyc1siKiJdKSxyPTAsZT1mLmxlbmd0aDtyPGU7cisrKWlmKHU9ZltyXS5jYWxsKGksdCxuKSlyZXR1cm4gdX1mdW5jdGlvbiB2KG4sdCxyKXt2YXIgbyxzLGg9MCxhPXYucHJlZmlsdGVycy5sZW5ndGgsZT1pLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGwuZWxlbX0pLGw9ZnVuY3Rpb24oKXtpZihzKXJldHVybiExO2Zvcih2YXIgbz12dHx8bGYoKSx0PU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi1vKSxpPTEtKHQvZi5kdXJhdGlvbnx8MCkscj0wLHU9Zi50d2VlbnMubGVuZ3RoO3I8dTtyKyspZi50d2VlbnNbcl0ucnVuKGkpO3JldHVybiBlLm5vdGlmeVdpdGgobixbZixpLHRdKSxpPDEmJnU/dDoodXx8ZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmXSksITEpfSxmPWUucHJvbWlzZSh7ZWxlbTpuLHByb3BzOmkuZXh0ZW5kKHt9LHQpLG9wdHM6aS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmkuZWFzaW5nLl9kZWZhdWx0fSxyKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6cixzdGFydFRpbWU6dnR8fGxmKCksZHVyYXRpb246ci5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxyKXt2YXIgdT1pLlR3ZWVuKG4sZi5vcHRzLHQscixmLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8Zi5vcHRzLmVhc2luZyk7cmV0dXJuIGYudHdlZW5zLnB1c2godSksdX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgaT0wLHI9dD9mLnR3ZWVucy5sZW5ndGg6MDtpZihzKXJldHVybiB0aGlzO2ZvcihzPSEwO2k8cjtpKyspZi50d2VlbnNbaV0ucnVuKDEpO3JldHVybiB0PyhlLm5vdGlmeVdpdGgobixbZiwxLDBdKSxlLnJlc29sdmVXaXRoKG4sW2YsdF0pKTplLnJlamVjdFdpdGgobixbZix0XSksdGhpc319KSxjPWYucHJvcHM7Zm9yKCFmdW5jdGlvbihuLHQpe3ZhciByLGYsZSx1LG87Zm9yKHIgaW4gbilpZihlPXRbZj15KHIpXSx1PW5bcl0sQXJyYXkuaXNBcnJheSh1KSYmKGU9dVsxXSx1PW5bcl09dVswXSksciE9PWYmJihuW2ZdPXUsZGVsZXRlIG5bcl0pLChvPWkuY3NzSG9va3NbZl0pJiYiZXhwYW5kImluIG8pZm9yKHIgaW4gdT1vLmV4cGFuZCh1KSxkZWxldGUgbltmXSx1KXIgaW4gbnx8KG5bcl09dVtyXSx0W3JdPWUpO2Vsc2UgdFtmXT1lfShjLGYub3B0cy5zcGVjaWFsRWFzaW5nKTtoPGE7aCsrKWlmKG89di5wcmVmaWx0ZXJzW2hdLmNhbGwoZixuLGMsZi5vcHRzKSlyZXR1cm4gdShvLnN0b3ApJiYoaS5fcXVldWVIb29rcyhmLmVsZW0sZi5vcHRzLnF1ZXVlKS5zdG9wPW8uc3RvcC5iaW5kKG8pKSxvO3JldHVybiBpLm1hcChjLGFmLGYpLHUoZi5vcHRzLnN0YXJ0KSYmZi5vcHRzLnN0YXJ0LmNhbGwobixmKSxmLnByb2dyZXNzKGYub3B0cy5wcm9ncmVzcykuZG9uZShmLm9wdHMuZG9uZSxmLm9wdHMuY29tcGxldGUpLmZhaWwoZi5vcHRzLmZhaWwpLmFsd2F5cyhmLm9wdHMuYWx3YXlzKSxpLmZ4LnRpbWVyKGkuZXh0ZW5kKGwse2VsZW06bixhbmltOmYscXVldWU6Zi5vcHRzLnF1ZXVlfSkpLGZ9ZnVuY3Rpb24gdHQobil7cmV0dXJuKG4ubWF0Y2gobCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24gaXQobil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlJiZuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gZnIobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bjoic3RyaW5nIj09dHlwZW9mIG4mJm4ubWF0Y2gobCl8fFtdfWZ1bmN0aW9uIGhyKG4sdCxyLHUpe3ZhciBmO2lmKEFycmF5LmlzQXJyYXkodCkpaS5lYWNoKHQsZnVuY3Rpb24odCxpKXtyfHxyby50ZXN0KG4pP3UobixpKTpocihuKyJbIisoIm9iamVjdCI9PXR5cGVvZiBpJiZudWxsIT1pP3Q6IiIpKyJdIixpLHIsdSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dXQodCkpdShuLHQpO2Vsc2UgZm9yKGYgaW4gdClocihuKyJbIitmKyJdIix0W2ZdLHIsdSl9ZnVuY3Rpb24gbmUobil7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7InN0cmluZyIhPXR5cGVvZiB0JiYoaT10LHQ9IioiKTt2YXIgcixmPTAsZT10LnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFtdO2lmKHUoaSkpd2hpbGUocj1lW2YrK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKG5bcl09bltyXXx8W10pLnVuc2hpZnQoaSkpOihuW3JdPW5bcl18fFtdKS5wdXNoKGkpfX1mdW5jdGlvbiB0ZShuLHQscix1KXtmdW5jdGlvbiBlKHMpe3ZhciBoO3JldHVybiBmW3NdPSEwLGkuZWFjaChuW3NdfHxbXSxmdW5jdGlvbihuLGkpe3ZhciBzPWkodCxyLHUpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygc3x8b3x8ZltzXT9vPyEoaD1zKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQocyksZShzKSwhMSl9KSxofXZhciBmPXt9LG89bj09PWNyO3JldHVybiBlKHQuZGF0YVR5cGVzWzBdKXx8IWZbIioiXSYmZSgiKiIpfWZ1bmN0aW9uIGFyKG4sdCl7dmFyIHIsdSxmPWkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IociBpbiB0KXZvaWQgMCE9PXRbcl0mJigoZltyXT9uOnV8fCh1PXt9KSlbcl09dFtyXSk7cmV0dXJuIHUmJmkuZXh0ZW5kKCEwLG4sdSksbn12YXIgcD1bXSx5cj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysaz1wLnNsaWNlLHByPXAuZmxhdD9mdW5jdGlvbihuKXtyZXR1cm4gcC5mbGF0LmNhbGwobil9OmZ1bmN0aW9uKG4pe3JldHVybiBwLmNvbmNhdC5hcHBseShbXSxuKX0seWk9cC5wdXNoLGlpPXAuaW5kZXhPZixyaT17fSx3cj1yaS50b1N0cmluZyx1aT1yaS5oYXNPd25Qcm9wZXJ0eSxicj11aS50b1N0cmluZyxvZT1ici5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYibnVtYmVyIiE9dHlwZW9mIG4ubm9kZVR5cGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBuLml0ZW19LHJ0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LGY9bi5kb2N1bWVudCxzZT17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9LGRyPSIzLjYuMCIsaT1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgaS5mbi5pbml0KG4sdCl9LGQsd2ksdHUsaXUscnUsdXUsbCxvdSxlaSxvdCxkdCxraSxoLHZ1LGdpLHZ0LGxpLHl0LHNmLGhmLGNmLHZmLHB0LHlmLHBmLHdmLGVyLG9yLGllLHd0LHJlLHZyLHZpLHVlLGZlLGVlO2kuZm49aS5wcm90b3R5cGU9e2pxdWVyeTpkcixjb25zdHJ1Y3RvcjppLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gay5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ay5jYWxsKHRoaXMpOm48MD90aGlzW24rdGhpcy5sZW5ndGhdOnRoaXNbbl19LHB1c2hTdGFjazpmdW5jdGlvbihuKXt2YXIgdD1pLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxuKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdH0sZWFjaDpmdW5jdGlvbihuKXtyZXR1cm4gaS5lYWNoKHRoaXMsbil9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5tYXAodGhpcyxmdW5jdGlvbih0LGkpe3JldHVybiBuLmNhbGwodCxpLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGV2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4gdCUyfSkpfSxlcTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmxlbmd0aCx0PStuKyhuPDA/aTowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9dCYmdDxpP1t0aGlzW3RdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp5aSxzb3J0OnAuc29ydCxzcGxpY2U6cC5zcGxpY2V9O2kuZXh0ZW5kPWkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIHMsZixlLHQsbyxjLG49YXJndW1lbnRzWzBdfHx7fSxyPTEsbD1hcmd1bWVudHMubGVuZ3RoLGg9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihoPW4sbj1hcmd1bWVudHNbcl18fHt9LHIrKyksIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj17fSkscj09PWwmJihuPXRoaXMsci0tKTtyPGw7cisrKWlmKG51bGwhPShzPWFyZ3VtZW50c1tyXSkpZm9yKGYgaW4gcyl0PXNbZl0sIl9fcHJvdG9fXyIhPT1mJiZuIT09dCYmKGgmJnQmJihpLmlzUGxhaW5PYmplY3QodCl8fChvPUFycmF5LmlzQXJyYXkodCkpKT8oZT1uW2ZdLGM9byYmIUFycmF5LmlzQXJyYXkoZSk/W106b3x8aS5pc1BsYWluT2JqZWN0KGUpP2U6e30sbz0hMSxuW2ZdPWkuZXh0ZW5kKGgsYyx0KSk6dm9pZCAwIT09dCYmKG5bZl09dCkpO3JldHVybiBufTtpLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZHIrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3Iobik7fSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKG4pe3ZhciB0LGk7cmV0dXJuISghbnx8IltvYmplY3QgT2JqZWN0XSIhPT13ci5jYWxsKG4pKSYmKCEodD15cihuKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihpPXVpLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJmJyLmNhbGwoaSk9PT1vZSl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4pcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24obix0LGkpe2tyKG4se25vbmNlOnQmJnQubm9uY2V9LGkpfSxlYWNoOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT0wO2lmKHBpKG4pKXtmb3Iocj1uLmxlbmd0aDtpPHI7aSsrKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVha31lbHNlIGZvcihpIGluIG4paWYoITE9PT10LmNhbGwobltpXSxpLG5baV0pKWJyZWFrO3JldHVybiBufSxtYWtlQXJyYXk6ZnVuY3Rpb24obix0KXt2YXIgcj10fHxbXTtyZXR1cm4gbnVsbCE9biYmKHBpKE9iamVjdChuKSk/aS5tZXJnZShyLCJzdHJpbmciPT10eXBlb2Ygbj9bbl06bik6eWkuY2FsbChyLG4pKSxyfSxpbkFycmF5OmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbnVsbD09dD8tMTppaS5jYWxsKHQsbixpKX0sbWVyZ2U6ZnVuY3Rpb24obix0KXtmb3IodmFyIHU9K3QubGVuZ3RoLGk9MCxyPW4ubGVuZ3RoO2k8dTtpKyspbltyKytdPXRbaV07cmV0dXJuIG4ubGVuZ3RoPXIsbn0sZ3JlcDpmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciB1PVtdLHI9MCxmPW4ubGVuZ3RoLGU9IWk7cjxmO3IrKykhdChuW3JdLHIpIT09ZSYmdS5wdXNoKG5bcl0pO3JldHVybiB1fSxtYXA6ZnVuY3Rpb24obix0LGkpe3ZhciBlLHUscj0wLGY9W107aWYocGkobikpZm9yKGU9bi5sZW5ndGg7cjxlO3IrKyludWxsIT0odT10KG5bcl0scixpKSkmJmYucHVzaCh1KTtlbHNlIGZvcihyIGluIG4pbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7cmV0dXJuIHByKGYpfSxndWlkOjEsc3VwcG9ydDplfSk7ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGkuZm5bU3ltYm9sLml0ZXJhdG9yXT1wW1N5bWJvbC5pdGVyYXRvcl0pO2kuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtyaVsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTtkPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHUobix0LHIsdSl7dmFyIHMseSxjLGwscCx3LGQsdj10JiZ0Lm93bmVyRG9jdW1lbnQsYT10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLCJzdHJpbmciIT10eXBlb2Ygbnx8IW58fDEhPT1hJiY5IT09YSYmMTEhPT1hKXJldHVybiByO2lmKCF1JiYoYih0KSx0PXR8fGksaCkpe2lmKDExIT09YSYmKHA9YXIuZXhlYyhuKSkpaWYocz1wWzFdKXtpZig5PT09YSl7aWYoIShjPXQuZ2V0RWxlbWVudEJ5SWQocykpKXJldHVybiByO2lmKGMuaWQ9PT1zKXJldHVybiByLnB1c2goYykscn1lbHNlIGlmKHYmJihjPXYuZ2V0RWxlbWVudEJ5SWQocykpJiZldCh0LGMpJiZjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZXtpZihwWzJdKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSkscjtpZigocz1wWzNdKSYmZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIGsuYXBwbHkocix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLHJ9aWYoZi5xc2EmJiFsdFtuKyIgIl0mJighb3x8IW8udGVzdChuKSkmJigxIT09YXx8Im9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihkPW4sdj10LDE9PT1hJiYoZXIudGVzdChuKXx8eWkudGVzdChuKSkpe2Zvcigodj10aS50ZXN0KG4pJiZyaSh0LnBhcmVudE5vZGUpfHx0KT09PXQmJmYuc2NvcGV8fCgobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/bD1sLnJlcGxhY2UocGksd2kpOnQuc2V0QXR0cmlidXRlKCJpZCIsbD1lKSkseT0odz1mdChuKSkubGVuZ3RoO3ktLTspd1t5XT0obD8iIyIrbDoiOnNjb3BlIikrIiAiK3B0KHdbeV0pO2Q9dy5qb2luKCIsIil9dHJ5e3JldHVybiBrLmFwcGx5KHIsdi5xdWVyeVNlbGVjdG9yQWxsKGQpKSxyfWNhdGNoKHQpe2x0KG4sITApfWZpbmFsbHl7bD09PWUmJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHNpKG4ucmVwbGFjZShhdCwiJDEiKSx0LHIsdSl9ZnVuY3Rpb24geXQoKXt2YXIgbj1bXTtyZXR1cm4gZnVuY3Rpb24gaShyLHUpe3JldHVybiBuLnB1c2gocisiICIpPnQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBpW24uc2hpZnQoKV0saVtyKyIgIl09dX19ZnVuY3Rpb24gbChuKXtyZXR1cm4gbltlXT0hMCxufWZ1bmN0aW9uIGEobil7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIW4odCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt0PW51bGx9fWZ1bmN0aW9uIGlpKG4saSl7Zm9yKHZhciByPW4uc3BsaXQoInwiKSx1PXIubGVuZ3RoO3UtLTspdC5hdHRySGFuZGxlW3JbdV1dPWl9ZnVuY3Rpb24ga2kobix0KXt2YXIgaT10JiZuLHI9aSYmMT09PW4ubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZuLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihpKXdoaWxlKGk9aS5uZXh0U2libGluZylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIHlyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1ufX1mdW5jdGlvbiBwcihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09aXx8ImJ1dHRvbiI9PT1pKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gZGkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1uOnQuZGlzYWJsZWQ9PT1uOnQuaXNEaXNhYmxlZD09PW58fHQuaXNEaXNhYmxlZCE9PSFuJiZ2cih0KT09PW46dC5kaXNhYmxlZD09PW46ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1ufX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZufWZ1bmN0aW9uIGdpKCl7fWZ1bmN0aW9uIHB0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGY9dXx8cixvPWkmJiJwYXJlbnROb2RlIj09PWYscz1ucisrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGw9KGE9dFtlXXx8KHRbZV09e30pKVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtmXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKChsW2ZdPXkpWzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gMTxuLmxlbmd0aD9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIGJ0KG4sdCxpLHIsdSl7Zm9yKHZhciBlLG89W10sZj0wLHM9bi5sZW5ndGgsaD1udWxsIT10O2Y8cztmKyspKGU9bltmXSkmJihpJiYhaShlLHIsdSl8fChvLnB1c2goZSksaCYmdC5wdXNoKGYpKSk7cmV0dXJuIG99ZnVuY3Rpb24gZmkobix0LGkscixmLG8pe3JldHVybiByJiYhcltlXSYmKHI9ZmkocikpLGYmJiFmW2VdJiYoZj1maShmLG8pKSxsKGZ1bmN0aW9uKGUsbyxzLGgpe3ZhciBhLGwsdix3PVtdLHA9W10sYj1vLmxlbmd0aCxkPWV8fGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9KHR8fCIqIixzLm5vZGVUeXBlP1tzXTpzLFtdKSx5PSFufHwhZSYmdD9kOmJ0KGQsdyxuLHMsaCksYz1pP2Z8fChlP246Ynx8cik/W106bzp5O2lmKGkmJmkoeSxjLHMsaCkscilmb3IoYT1idChjLHApLHIoYSxbXSxzLGgpLGw9YS5sZW5ndGg7bC0tOykodj1hW2xdKSYmKGNbcFtsXV09ISh5W3BbbF1dPXYpKTtpZihlKXtpZihmfHxuKXtpZihmKXtmb3IoYT1bXSxsPWMubGVuZ3RoO2wtLTspKHY9Y1tsXSkmJmEucHVzaCh5W2xdPXYpO2YobnVsbCxjPVtdLGEsaCl9Zm9yKGw9Yy5sZW5ndGg7bC0tOykodj1jW2xdKSYmLTE8KGE9Zj9udChlLHYpOndbbF0pJiYoZVthXT0hKG9bYV09dikpfX1lbHNlIGM9YnQoYz09PW8/Yy5zcGxpY2UoYixjLmxlbmd0aCk6YyksZj9mKG51bGwsbyxjLGgpOmsuYXBwbHkobyxjKX0pfWZ1bmN0aW9uIGVpKG4pe2Zvcih2YXIgbyx1LHIscz1uLmxlbmd0aCxoPXQucmVsYXRpdmVbblswXS50eXBlXSxjPWh8fHQucmVsYXRpdmVbIiAiXSxpPWg/MTowLGw9d3QoZnVuY3Rpb24obil7cmV0dXJuIG49PT1vfSxjLCEwKSxhPXd0KGZ1bmN0aW9uKG4pe3JldHVybi0xPG50KG8sbil9LGMsITApLGY9W2Z1bmN0aW9uKG4sdCxpKXt2YXIgcj0haCYmKGl8fHQhPT1odCl8fCgobz10KS5ub2RlVHlwZT9sKG4sdCxpKTphKG4sdCxpKSk7cmV0dXJuIG89bnVsbCxyfV07aTxzO2krKylpZih1PXQucmVsYXRpdmVbbltpXS50eXBlXSlmPVt3dCh1aShmKSx1KV07ZWxzZXtpZigodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSlbZV0pe2ZvcihyPSsraTtyPHM7cisrKWlmKHQucmVsYXRpdmVbbltyXS50eXBlXSlicmVhaztyZXR1cm4gZmkoMTxpJiZ1aShmKSwxPGkmJnB0KG4uc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09bltpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoYXQsIiQxIiksdSxpPHImJmVpKG4uc2xpY2UoaSxyKSkscjxzJiZlaShuPW4uc2xpY2UocikpLHI8cyYmcHQobikpfWYucHVzaCh1KX1yZXR1cm4gdWkoZil9dmFyIHJ0LGYsdCxzdCxvaSxmdCxrdCxzaSxodCx3LHV0LGIsaSxzLGgsbyxkLGN0LGV0LGU9InNpenpsZSIrMSpuZXcgRGF0ZSxjPW4uZG9jdW1lbnQsdj0wLG5yPTAsaGk9eXQoKSxjaT15dCgpLGxpPXl0KCksbHQ9eXQoKSxkdD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHV0PSEwKSwwfSx0cj17fS5oYXNPd25Qcm9wZXJ0eSxnPVtdLGlyPWcucG9wLHJyPWcucHVzaCxrPWcucHVzaCxhaT1nLnNsaWNlLG50PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKG5baV09PT10KXJldHVybiBpO3JldHVybi0xfSxndD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHI9IltcXHgyMFxcdFxcclxcblxcZl0iLHR0PSIoPzpcXFxcW1xcZGEtZkEtRl17MSw2fSIrcisiP3xcXFxcW15cXHJcXG5cXGZdfFtcXHctXXxbXlwwLVxceDdmXSkrIix2aT0iXFxbIityKyIqKCIrdHQrIikoPzoiK3IrIiooWypeJHwhfl0/PSkiK3IrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIit0dCsiKSl8KSIrcisiKlxcXSIsbmk9IjooIit0dCsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrdmkrIikqKXwuKilcXCl8KSIsdXI9bmV3IFJlZ0V4cChyKyIrIiwiZyIpLGF0PW5ldyBSZWdFeHAoIl4iK3IrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrcisiKyQiLCJnIiksZnI9bmV3IFJlZ0V4cCgiXiIrcisiKiwiK3IrIioiKSx5aT1uZXcgUmVnRXhwKCJeIityKyIqKFs+K35dfCIrcisiKSIrcisiKiIpLGVyPW5ldyBSZWdFeHAocisifD4iKSxvcj1uZXcgUmVnRXhwKG5pKSxzcj1uZXcgUmVnRXhwKCJeIit0dCsiJCIpLHZ0PXtJRDpuZXcgUmVnRXhwKCJeIygiK3R0KyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK3R0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0dCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK3ZpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrbmkpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrcisiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrcisiKig/OihbKy1dfCkiK3IrIiooXFxkKyl8KSkiK3IrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2d0KyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcisiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIityKyIqKCg/Oi1cXGQpP1xcZCopIityKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxocj0vSFRNTCQvaSxjcj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGxyPS9eaFxkJC9pLG90PS9eW157XStce1xzKlxbbmF0aXZlIFx3Lyxhcj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLHRpPS9bK35dLyx5PW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IityKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxwPWZ1bmN0aW9uKG4sdCl7dmFyIGk9IjB4IituLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwoaTwwP1N0cmluZy5mcm9tQ2hhckNvZGUoaSs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShpPj4xMHw1NTI5NiwxMDIzJml8NTYzMjApKX0scGk9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csd2k9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD8iXDAiPT09bj8i77+9IjpuLnNsaWNlKDAsLTEpKyJcXCIrbi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitufSxiaT1mdW5jdGlvbigpe2IoKX0sdnI9d3QoZnVuY3Rpb24obil7cmV0dXJuITA9PT1uLmRpc2FibGVkJiYiZmllbGRzZXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e2suYXBwbHkoZz1haS5jYWxsKGMuY2hpbGROb2RlcyksYy5jaGlsZE5vZGVzKTtnW2MuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKHJ0KXtrPXthcHBseTpnLmxlbmd0aD9mdW5jdGlvbihuLHQpe3JyLmFwcGx5KG4sYWkuY2FsbCh0KSl9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPW4ubGVuZ3RoLHI9MDtuW2krK109dFtyKytdOyk7bi5sZW5ndGg9aS0xfX19Zm9yKHJ0IGluIGY9dS5zdXBwb3J0PXt9LG9pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIGk9biYmbi5uYW1lc3BhY2VVUkksdD1uJiYobi5vd25lckRvY3VtZW50fHxuKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIWhyLnRlc3QoaXx8dCYmdC5ub2RlTmFtZXx8IkhUTUwiKX0sYj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsIT1pJiY5PT09bC5ub2RlVHlwZSYmbC5kb2N1bWVudEVsZW1lbnQmJihzPShpPWwpLmRvY3VtZW50RWxlbWVudCxoPSFvaShpKSxjIT1pJiYodT1pLmRlZmF1bHRWaWV3KSYmdS50b3AhPT11JiYodS5hZGRFdmVudExpc3RlbmVyP3UuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixiaSwhMSk6dS5hdHRhY2hFdmVudCYmdS5hdHRhY2hFdmVudCgib251bmxvYWQiLGJpKSksZi5zY29wZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBzLmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGkuY3JlYXRlRWxlbWVudCgiZGl2IikpLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsJiYhbi5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSksZi5hdHRyaWJ1dGVzPWEoZnVuY3Rpb24obil7cmV0dXJuIG4uY2xhc3NOYW1lPSJpIiwhbi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZi5nZXRFbGVtZW50c0J5VGFnTmFtZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmFwcGVuZENoaWxkKGkuY3JlYXRlQ29tbWVudCgiIikpLCFuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPW90LnRlc3QoaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxmLmdldEJ5SWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gcy5hcHBlbmRDaGlsZChuKS5pZD1lLCFpLmdldEVsZW1lbnRzQnlOYW1lfHwhaS5nZXRFbGVtZW50c0J5TmFtZShlKS5sZW5ndGh9KSxmLmdldEJ5SWQ/KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgaT10LmdldEVsZW1lbnRCeUlkKG4pO3JldHVybiBpP1tpXTpbXX19KToodC5maWx0ZXIuSUQ9ZnVuY3Rpb24obil7dmFyIHQ9bi5yZXBsYWNlKHkscCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPSJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGVOb2RlJiZuLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGkmJmkudmFsdWU9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgcix1LGYsaT10LmdldEVsZW1lbnRCeUlkKG4pO2lmKGkpe2lmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXTtmb3IoZj10LmdldEVsZW1lbnRzQnlOYW1lKG4pLHU9MDtpPWZbdSsrXTspaWYoKHI9aS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmci52YWx1ZT09PW4pcmV0dXJuW2ldfXJldHVybltdfX0pLHQuZmluZC5UQUc9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihuLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOmYucXNhP3QucXVlcnlTZWxlY3RvckFsbChuKTp2b2lkIDB9OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj1bXSxmPTAsdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO2lmKCIqIj09PW4pe3doaWxlKGk9dVtmKytdKTE9PT1pLm5vZGVUeXBlJiZyLnB1c2goaSk7cmV0dXJuIHJ9cmV0dXJuIHV9LHQuZmluZC5DTEFTUz1mLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmgpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuKX0sZD1bXSxvPVtdLChmLnFzYT1vdC50ZXN0KGkucXVlcnlTZWxlY3RvckFsbCkpJiYoYShmdW5jdGlvbihuKXt2YXIgdDtzLmFwcGVuZENoaWxkKG4pLmlubmVySFRNTD0iPGEgaWQ9JyIrZSsiJz48XC9hPjxzZWxlY3QgaWQ9JyIrZSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PFwvb3B0aW9uPjxcL3NlbGVjdD4iO24ucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIityKyIqKD86dmFsdWV8IitndCsiKSIpO24ucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK2UrIi1dIikubGVuZ3RofHxvLnB1c2goIn49Iik7KHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKTtuLmFwcGVuZENoaWxkKHQpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKm5hbWUiK3IrIio9IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxvLnB1c2goIjpjaGVja2VkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrZSsiKyoiKS5sZW5ndGh8fG8ucHVzaCgiLiMuK1srfl0iKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKTtvLnB1c2goIltcXHJcXG5cXGZdIil9KSxhKGZ1bmN0aW9uKG4pe24uaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PFwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PFwvc2VsZWN0PiI7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7bi5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIityKyIqWypeJHwhfl0/PSIpOzIhPT1uLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7cy5hcHBlbmRDaGlsZChuKS5kaXNhYmxlZD0hMDsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJm8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTtvLnB1c2goIiwuKjoiKX0pKSwoZi5tYXRjaGVzU2VsZWN0b3I9b3QudGVzdChjdD1zLm1hdGNoZXN8fHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxzLm1vek1hdGNoZXNTZWxlY3Rvcnx8cy5vTWF0Y2hlc1NlbGVjdG9yfHxzLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmEoZnVuY3Rpb24obil7Zi5kaXNjb25uZWN0ZWRNYXRjaD1jdC5jYWxsKG4sIioiKTtjdC5jYWxsKG4sIltzIT0nJ106eCIpO2QucHVzaCgiIT0iLG5pKX0pLG89by5sZW5ndGgmJm5ldyBSZWdFeHAoby5qb2luKCJ8IikpLGQ9ZC5sZW5ndGgmJm5ldyBSZWdFeHAoZC5qb2luKCJ8IikpLHY9b3QudGVzdChzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxldD12fHxvdC50ZXN0KHMuY29udGFpbnMpP2Z1bmN0aW9uKG4sdCl7dmFyIHI9OT09PW4ubm9kZVR5cGU/bi5kb2N1bWVudEVsZW1lbnQ6bixpPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gbj09PWl8fCEoIWl8fDEhPT1pLm5vZGVUeXBlfHwhKHIuY29udGFpbnM/ci5jb250YWlucyhpKTpuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpKSl9OmZ1bmN0aW9uKG4sdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09bilyZXR1cm4hMDtyZXR1cm4hMX0sZHQ9dj9mdW5jdGlvbihuLHQpe2lmKG49PT10KXJldHVybiB1dD0hMCwwO3ZhciByPSFuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByfHwoMSYocj0obi5vd25lckRvY3VtZW50fHxuKT09KHQub3duZXJEb2N1bWVudHx8dCk/bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IWYuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pPT09cj9uPT1pfHxuLm93bmVyRG9jdW1lbnQ9PWMmJmV0KGMsbik/LTE6dD09aXx8dC5vd25lckRvY3VtZW50PT1jJiZldChjLHQpPzE6dz9udCh3LG4pLW50KHcsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKCFvfHwhcylyZXR1cm4gbj09aT8tMTp0PT1pPzE6bz8tMTpzPzE6dz9udCh3LG4pLW50KHcsdCk6MDtpZihvPT09cylyZXR1cm4ga2kobix0KTtmb3Iocj1uO3I9ci5wYXJlbnROb2RlOylmLnVuc2hpZnQocik7Zm9yKHI9dDtyPXIucGFyZW50Tm9kZTspZS51bnNoaWZ0KHIpO3doaWxlKGZbdV09PT1lW3VdKXUrKztyZXR1cm4gdT9raShmW3VdLGVbdV0pOmZbdV09PWM/LTE6ZVt1XT09Yz8xOjB9KSxpfSx1Lm1hdGNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLG51bGwsbnVsbCx0KX0sdS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24obix0KXtpZihiKG4pLGYubWF0Y2hlc1NlbGVjdG9yJiZoJiYhbHRbdCsiICJdJiYoIWR8fCFkLnRlc3QodCkpJiYoIW98fCFvLnRlc3QodCkpKXRyeXt2YXIgcj1jdC5jYWxsKG4sdCk7aWYocnx8Zi5kaXNjb25uZWN0ZWRNYXRjaHx8bi5kb2N1bWVudCYmMTEhPT1uLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKG4pe2x0KHQsITApfXJldHVybiAwPHUodCxpLG51bGwsW25dKS5sZW5ndGh9LHUuY29udGFpbnM9ZnVuY3Rpb24obix0KXtyZXR1cm4obi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKSxldChuLHQpfSx1LmF0dHI9ZnVuY3Rpb24obixyKXsobi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKTt2YXIgZT10LmF0dHJIYW5kbGVbci50b0xvd2VyQ2FzZSgpXSx1PWUmJnRyLmNhbGwodC5hdHRySGFuZGxlLHIudG9Mb3dlckNhc2UoKSk/ZShuLHIsIWgpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dT91OmYuYXR0cmlidXRlc3x8IWg/bi5nZXRBdHRyaWJ1dGUocik6KHU9bi5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmdS5zcGVjaWZpZWQ/dS52YWx1ZTpudWxsfSx1LmVzY2FwZT1mdW5jdGlvbihuKXtyZXR1cm4obisiIikucmVwbGFjZShwaSx3aSl9LHUuZXJyb3I9ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK24pO30sdS51bmlxdWVTb3J0PWZ1bmN0aW9uKG4pe3ZhciByLHU9W10sdD0wLGk9MDtpZih1dD0hZi5kZXRlY3REdXBsaWNhdGVzLHc9IWYuc29ydFN0YWJsZSYmbi5zbGljZSgwKSxuLnNvcnQoZHQpLHV0KXt3aGlsZShyPW5baSsrXSlyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTt3aGlsZSh0LS0pbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gdz1udWxsLG59LHN0PXUuZ2V0VGV4dD1mdW5jdGlvbihuKXt2YXIgcixpPSIiLHU9MCx0PW4ubm9kZVR5cGU7aWYodCl7aWYoMT09PXR8fDk9PT10fHwxMT09PXQpe2lmKCJzdHJpbmciPT10eXBlb2Ygbi50ZXh0Q29udGVudClyZXR1cm4gbi50ZXh0Q29udGVudDtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaSs9c3Qobil9ZWxzZSBpZigzPT09dHx8ND09PXQpcmV0dXJuIG4ubm9kZVZhbHVlfWVsc2Ugd2hpbGUocj1uW3UrK10paSs9c3Qocik7cmV0dXJuIGl9LCh0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSwifj0iPT09blsyXSYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW5bMV0uc2xpY2UoMCwzKT8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKigiZXZlbiI9PT1uWzNdfHwib2RkIj09PW5bM10pKSxuWzVdPSsobls3XStuWzhdfHwib2RkIj09PW5bM10pKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZvci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihuKXt2YXIgdD1oaVtuKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrcisiKSIrbisiKCIrcisifCQpIikpJiZoaShuLGZ1bmN0aW9uKG4pe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBmPXUuYXR0cihyLG4pO3JldHVybiBudWxsPT1mPyIhPSI9PT10OiF0fHwoZis9IiIsIj0iPT09dD9mPT09aToiIT0iPT09dD9mIT09aToiXj0iPT09dD9pJiYwPT09Zi5pbmRleE9mKGkpOiIqPSI9PT10P2kmJi0xPGYuaW5kZXhPZihpKToiJD0iPT09dD9pJiZmLnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT10Py0xPCgiICIrZi5yZXBsYWNlKHVyLCIgIikrIiAiKS5pbmRleE9mKGkpOiJ8PSI9PT10JiYoZj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPSJudGgiIT09bi5zbGljZSgwLDMpLG89Imxhc3QiIT09bi5zbGljZSgtNCksZj0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PXU/ZnVuY3Rpb24obil7cmV0dXJuISFuLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsaSxoKXt2YXIgcCxkLHksYyxhLHcsYj1zIT09bz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGs9dC5wYXJlbnROb2RlLG50PWYmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPSFoJiYhZixsPSExO2lmKGspe2lmKHMpe3doaWxlKGIpe2ZvcihjPXQ7Yz1jW2JdOylpZihmP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW50OjE9PT1jLm5vZGVUeXBlKXJldHVybiExO3c9Yj0ib25seSI9PT1uJiYhdyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih3PVtvP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF0sbyYmZyl7Zm9yKGw9KGE9KHA9KGQ9KHk9KGM9aylbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pJiZwWzJdLGM9YSYmay5jaGlsZE5vZGVzW2FdO2M9KythJiZjJiZjW2JdfHwobD1hPTApfHx3LnBvcCgpOylpZigxPT09Yy5ub2RlVHlwZSYmKytsJiZjPT09dCl7ZFtuXT1bdixhLGxdO2JyZWFrfX1lbHNlIGlmKGcmJihsPWE9KHA9KGQ9KHk9KGM9dClbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pLCExPT09bCl3aGlsZShjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKSlpZigoZj9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSkmJisrbCYmKGcmJigoZD0oeT1jW2VdfHwoY1tlXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dPVt2LGxdKSxjPT09dCkpYnJlYWs7cmV0dXJuKGwtPXUpPT09cnx8bCVyPT0wJiYwPD1sL3J9fX0sUFNFVURPOmZ1bmN0aW9uKG4saSl7dmFyIGYscj10LnBzZXVkb3Nbbl18fHQuc2V0RmlsdGVyc1tuLnRvTG93ZXJDYXNlKCldfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrbik7cmV0dXJuIHJbZV0/cihpKToxPHIubGVuZ3RoPyhmPVtuLG4sIiIsaV0sdC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KG4udG9Mb3dlckNhc2UoKSk/bChmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSx1PXIobixpKSxmPXUubGVuZ3RoO2YtLTspbltlPW50KG4sdVtmXSldPSEodFtlXT11W2ZdKX0pOmZ1bmN0aW9uKG4pe3JldHVybiByKG4sMCxmKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bChmdW5jdGlvbihuKXt2YXIgdD1bXSxyPVtdLGk9a3Qobi5yZXBsYWNlKGF0LCIkMSIpKTtyZXR1cm4gaVtlXT9sKGZ1bmN0aW9uKG4sdCxyLHUpe2Zvcih2YXIgZSxvPWkobixudWxsLHUsW10pLGY9bi5sZW5ndGg7Zi0tOykoZT1vW2ZdKSYmKG5bZl09ISh0W2ZdPWUpKX0pOmZ1bmN0aW9uKG4sdSxmKXtyZXR1cm4gdFswXT1uLGkodCxudWxsLGYsciksdFswXT1udWxsLCFyLnBvcCgpfX0pLGhhczpsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMDx1KG4sdCkubGVuZ3RofX0pLGNvbnRhaW5zOmwoZnVuY3Rpb24obil7cmV0dXJuIG49bi5yZXBsYWNlKHkscCksZnVuY3Rpb24odCl7cmV0dXJuLTE8KHQudGV4dENvbnRlbnR8fHN0KHQpKS5pbmRleE9mKG4pfX0pLGxhbmc6bChmdW5jdGlvbihuKXtyZXR1cm4gc3IudGVzdChufHwiIil8fHUuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBpO2RvIGlmKGk9aD90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fHQuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKGk9aS50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT1pLmluZGV4T2YobisiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9bi5sb2NhdGlvbiYmbi5sb2NhdGlvbi5oYXNoO3JldHVybiBpJiZpLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXN9LGZvY3VzOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09aS5hY3RpdmVFbGVtZW50JiYoIWkuaGFzRm9jdXN8fGkuaGFzRm9jdXMoKSkmJiEhKG4udHlwZXx8bi5ocmVmfHx+bi50YWJJbmRleCl9LGVuYWJsZWQ6ZGkoITEpLGRpc2FibGVkOmRpKCEwKSxjaGVja2VkOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFuLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFuLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PW4uc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKG4pe2ZvcihuPW4uZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylpZihuLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihuKXtyZXR1cm4hdC5wc2V1ZG9zLmVtcHR5KG4pfSxoZWFkZXI6ZnVuY3Rpb24obil7cmV0dXJuIGxyLnRlc3Qobi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiBjci50ZXN0KG4ubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24obil7dmFyIHQ9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PW4udHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PW4udHlwZSYmKG51bGw9PSh0PW4uZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDppdChmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aXQoZnVuY3Rpb24obix0KXtyZXR1cm5bdC0xXX0pLGVxOml0KGZ1bmN0aW9uKG4sdCxpKXtyZXR1cm5baTwwP2krdDppXX0pLGV2ZW46aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MDtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxvZGQ6aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MTtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxsdDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6dDxpP3Q6aTswPD0tLXI7KW4ucHVzaChyKTtyZXR1cm4gbn0pLGd0Oml0KGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9aTwwP2krdDppOysrcjx0OyluLnB1c2gocik7cmV0dXJuIG59KX19KS5wc2V1ZG9zLm50aD10LnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXQucHNldWRvc1tydF09eXIocnQpO2ZvcihydCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXQucHNldWRvc1tydF09cHIocnQpO3JldHVybiBnaS5wcm90b3R5cGU9dC5maWx0ZXJzPXQucHNldWRvcyx0LnNldEZpbHRlcnM9bmV3IGdpLGZ0PXUudG9rZW5pemU9ZnVuY3Rpb24obixpKXt2YXIgZSxmLHMsbyxyLGgsYyxsPWNpW24rIiAiXTtpZihsKXJldHVybiBpPzA6bC5zbGljZSgwKTtmb3Iocj1uLGg9W10sYz10LnByZUZpbHRlcjtyOyl7Zm9yKG8gaW4gZSYmIShmPWZyLmV4ZWMocikpfHwoZiYmKHI9ci5zbGljZShmWzBdLmxlbmd0aCl8fHIpLGgucHVzaChzPVtdKSksZT0hMSwoZj15aS5leGVjKHIpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOmZbMF0ucmVwbGFjZShhdCwiICIpfSkscj1yLnNsaWNlKGUubGVuZ3RoKSksdC5maWx0ZXIpKGY9dnRbb10uZXhlYyhyKSkmJighY1tvXXx8KGY9Y1tvXShmKSkpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6byxtYXRjaGVzOmZ9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gaT9yLmxlbmd0aDpyP3UuZXJyb3Iobik6Y2kobixoKS5zbGljZSgwKX0sa3Q9dS5jb21waWxlPWZ1bmN0aW9uKG4scil7dmFyIHMsYyxhLG8seSxwLHc9W10sZD1bXSxmPWxpW24rIiAiXTtpZighZil7Zm9yKHJ8fChyPWZ0KG4pKSxzPXIubGVuZ3RoO3MtLTspKGY9ZWkocltzXSkpW2VdP3cucHVzaChmKTpkLnB1c2goZik7KGY9bGkobiwoYz1kLG89MDwoYT13KS5sZW5ndGgseT0wPGMubGVuZ3RoLHA9ZnVuY3Rpb24obixyLGYsZSxzKXt2YXIgbCxudCxkLGc9MCxwPSIwIix0dD1uJiZbXSx3PVtdLGl0PWh0LHJ0PW58fHkmJnQuZmluZC5UQUcoIioiLHMpLHV0PXYrPW51bGw9PWl0PzE6TWF0aC5yYW5kb20oKXx8LjEsZnQ9cnQubGVuZ3RoO2ZvcihzJiYoaHQ9cj09aXx8cnx8cyk7cCE9PWZ0JiZudWxsIT0obD1ydFtwXSk7cCsrKXtpZih5JiZsKXtmb3IobnQ9MCxyfHxsLm93bmVyRG9jdW1lbnQ9PWl8fChiKGwpLGY9IWgpO2Q9Y1tudCsrXTspaWYoZChsLHJ8fGksZikpe2UucHVzaChsKTticmVha31zJiYodj11dCl9byYmKChsPSFkJiZsKSYmZy0tLG4mJnR0LnB1c2gobCkpfWlmKGcrPXAsbyYmcCE9PWcpe2ZvcihudD0wO2Q9YVtudCsrXTspZCh0dCx3LHIsZik7aWYobil7aWYoMDxnKXdoaWxlKHAtLSl0dFtwXXx8d1twXXx8KHdbcF09aXIuY2FsbChlKSk7dz1idCh3KX1rLmFwcGx5KGUsdyk7cyYmIW4mJjA8dy5sZW5ndGgmJjE8ZythLmxlbmd0aCYmdS51bmlxdWVTb3J0KGUpfXJldHVybiBzJiYodj11dCxodD1pdCksdHR9LG8/bChwKTpwKSkpLnNlbGVjdG9yPW59cmV0dXJuIGZ9LHNpPXUuc2VsZWN0PWZ1bmN0aW9uKG4saSxyLHUpe3ZhciBvLGYsZSxsLGEsYz0iZnVuY3Rpb24iPT10eXBlb2YgbiYmbixzPSF1JiZmdChuPWMuc2VsZWN0b3J8fG4pO2lmKHI9cnx8W10sMT09PXMubGVuZ3RoKXtpZigyPChmPXNbMF09c1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGU9ZlswXSkudHlwZSYmOT09PWkubm9kZVR5cGUmJmgmJnQucmVsYXRpdmVbZlsxXS50eXBlXSl7aWYoIShpPSh0LmZpbmQuSUQoZS5tYXRjaGVzWzBdLnJlcGxhY2UoeSxwKSxpKXx8W10pWzBdKSlyZXR1cm4gcjtjJiYoaT1pLnBhcmVudE5vZGUpO249bi5zbGljZShmLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iobz12dC5uZWVkc0NvbnRleHQudGVzdChuKT8wOmYubGVuZ3RoO28tLTspe2lmKGU9ZltvXSx0LnJlbGF0aXZlW2w9ZS50eXBlXSlicmVhaztpZigoYT10LmZpbmRbbF0pJiYodT1hKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksdGkudGVzdChmWzBdLnR5cGUpJiZyaShpLnBhcmVudE5vZGUpfHxpKSkpe2lmKGYuc3BsaWNlKG8sMSksIShuPXUubGVuZ3RoJiZwdChmKSkpcmV0dXJuIGsuYXBwbHkocix1KSxyO2JyZWFrfX19cmV0dXJuKGN8fGt0KG4scykpKHUsaSwhaCxyLCFpfHx0aS50ZXN0KG4pJiZyaShpLnBhcmVudE5vZGUpfHxpKSxyfSxmLnNvcnRTdGFibGU9ZS5zcGxpdCgiIikuc29ydChkdCkuam9pbigiIik9PT1lLGYuZGV0ZWN0RHVwbGljYXRlcz0hIXV0LGIoKSxmLnNvcnREZXRhY2hlZD1hKGZ1bmN0aW9uKG4pe3JldHVybiAxJm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8YSBocmVmPScjJz48XC9hPiIsIiMiPT09bi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGlpKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihuLHQsaSl7aWYoIWkpcmV0dXJuIG4uZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxmLmF0dHJpYnV0ZXMmJmEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8aW5wdXQvPiIsbi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8aWkoInZhbHVlIixmdW5jdGlvbihuLHQsaSl7aWYoIWkmJiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIG4uZGVmYXVsdFZhbHVlfSksYShmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8aWkoZ3QsZnVuY3Rpb24obix0LGkpe3ZhciByO2lmKCFpKXJldHVybiEwPT09blt0XT90LnRvTG93ZXJDYXNlKCk6KHI9bi5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksdX0obik7aS5maW5kPWQ7aS5leHByPWQuc2VsZWN0b3JzO2kuZXhwclsiOiJdPWkuZXhwci5wc2V1ZG9zO2kudW5pcXVlU29ydD1pLnVuaXF1ZT1kLnVuaXF1ZVNvcnQ7aS50ZXh0PWQuZ2V0VGV4dDtpLmlzWE1MRG9jPWQuaXNYTUw7aS5jb250YWlucz1kLmNvbnRhaW5zO2kuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGZ0PWZ1bmN0aW9uKG4sdCxyKXtmb3IodmFyIHU9W10sZj12b2lkIDAhPT1yOyhuPW5bdF0pJiY5IT09bi5ub2RlVHlwZTspaWYoMT09PW4ubm9kZVR5cGUpe2lmKGYmJmkobikuaXMocikpYnJlYWs7dS5wdXNoKG4pfXJldHVybiB1fSxncj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1bXTtuO249bi5uZXh0U2libGluZykxPT09bi5ub2RlVHlwZSYmbiE9PXQmJmkucHVzaChuKTtyZXR1cm4gaX0sbnU9aS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDt3aT0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtpLmZpbHRlcj1mdW5jdGlvbihuLHQscil7dmFyIHU9dFswXTtyZXR1cm4gciYmKG49Ijpub3QoIituKyIpIiksMT09PXQubGVuZ3RoJiYxPT09dS5ub2RlVHlwZT9pLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHUsbik/W3VdOltdOmkuZmluZC5tYXRjaGVzKG4saS5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfSkpfTtpLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihuKXt2YXIgdCxyLHU9dGhpcy5sZW5ndGgsZj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gdGhpcy5wdXNoU3RhY2soaShuKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8dTt0KyspaWYoaS5jb250YWlucyhmW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihyPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDx1O3QrKylpLmZpbmQobixmW3RdLHIpO3JldHVybiAxPHU/aS51bmlxdWVTb3J0KHIpOnJ9LGZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYmkodGhpcyxufHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJpKHRoaXMsbnx8W10sITApKX0saXM6ZnVuY3Rpb24obil7cmV0dXJuISFiaSh0aGlzLCJzdHJpbmciPT10eXBlb2YgbiYmbnUudGVzdChuKT9pKG4pOm58fFtdLCExKS5sZW5ndGh9fSk7aXU9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoaS5mbi5pbml0PWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSxvO2lmKCFuKXJldHVybiB0aGlzO2lmKHI9cnx8dHUsInN0cmluZyI9PXR5cGVvZiBuKXtpZighKGU9IjwiPT09blswXSYmIj4iPT09bltuLmxlbmd0aC0xXSYmMzw9bi5sZW5ndGg/W251bGwsbixudWxsXTppdS5leGVjKG4pKXx8IWVbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxyKS5maW5kKG4pOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChuKTtpZihlWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBpP3RbMF06dCxpLm1lcmdlKHRoaXMsaS5wYXJzZUhUTUwoZVsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpmLCEwKSksd2kudGVzdChlWzFdKSYmaS5pc1BsYWluT2JqZWN0KHQpKWZvcihlIGluIHQpdSh0aGlzW2VdKT90aGlzW2VdKHRbZV0pOnRoaXMuYXR0cihlLHRbZV0pO3JldHVybiB0aGlzfXJldHVybihvPWYuZ2V0RWxlbWVudEJ5SWQoZVsyXSkpJiYodGhpc1swXT1vLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIG4ubm9kZVR5cGU/KHRoaXNbMF09bix0aGlzLmxlbmd0aD0xLHRoaXMpOnUobik/dm9pZCAwIT09ci5yZWFkeT9yLnJlYWR5KG4pOm4oaSk6aS5tYWtlQXJyYXkobix0aGlzKX0pLnByb3RvdHlwZT1pLmZuO3R1PWkoZik7cnU9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS87dXU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07aS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihuKXt2YXIgdD1pKG4sdGhpcykscj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPHI7bisrKWlmKGkuY29udGFpbnModGhpcyx0W25dKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKG4sdCl7dmFyIHIsZj0wLG89dGhpcy5sZW5ndGgsdT1bXSxlPSJzdHJpbmciIT10eXBlb2YgbiYmaShuKTtpZighbnUudGVzdChuKSlmb3IoO2Y8bztmKyspZm9yKHI9dGhpc1tmXTtyJiZyIT09dDtyPXIucGFyZW50Tm9kZSlpZihyLm5vZGVUeXBlPDExJiYoZT8tMTxlLmluZGV4KHIpOjE9PT1yLm5vZGVUeXBlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsbikpKXt1LnB1c2gocik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8dS5sZW5ndGg/aS51bmlxdWVTb3J0KHUpOnUpfSxpbmRleDpmdW5jdGlvbihuKXtyZXR1cm4gbj8ic3RyaW5nIj09dHlwZW9mIG4/aWkuY2FsbChpKG4pLHRoaXNbMF0pOmlpLmNhbGwodGhpcyxuLmpxdWVyeT9uWzBdOm4pOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkudW5pcXVlU29ydChpLm1lcmdlKHRoaXMuZ2V0KCksaShuLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmFkZChudWxsPT1uP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKG4pKX19KTtpLmVhY2goe3BhcmVudDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24obil7cmV0dXJuIGZ0KG4sInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwicGFyZW50Tm9kZSIsaSl9LG5leHQ6ZnVuY3Rpb24obil7cmV0dXJuIGZ1KG4sIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24obil7cmV0dXJuIGZ1KG4sInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwibmV4dFNpYmxpbmciLGkpfSxwcmV2VW50aWw6ZnVuY3Rpb24obix0LGkpe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciLGkpfSxzaWJsaW5nczpmdW5jdGlvbihuKXtyZXR1cm4gZ3IoKG4ucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsbil9LGNoaWxkcmVuOmZ1bmN0aW9uKG4pe3JldHVybiBncihuLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9bi5jb250ZW50RG9jdW1lbnQmJnlyKG4uY29udGVudERvY3VtZW50KT9uLmNvbnRlbnREb2N1bWVudDooYyhuLCJ0ZW1wbGF0ZSIpJiYobj1uLmNvbnRlbnR8fG4pLGkubWVyZ2UoW10sbi5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24ocix1KXt2YXIgZj1pLm1hcCh0aGlzLHQscik7cmV0dXJuIlVudGlsIiE9PW4uc2xpY2UoLTUpJiYodT1yKSx1JiYic3RyaW5nIj09dHlwZW9mIHUmJihmPWkuZmlsdGVyKHUsZikpLDE8dGhpcy5sZW5ndGgmJih1dVtuXXx8aS51bmlxdWVTb3J0KGYpLHJ1LnRlc3QobikmJmYucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhmKX19KTtsPS9bXlx4MjBcdFxyXG5cZl0rL2c7aS5DYWxsYmFja3M9ZnVuY3Rpb24obil7dmFyIGEsaDtuPSJzdHJpbmciPT10eXBlb2Ygbj8oYT1uLGg9e30saS5lYWNoKGEubWF0Y2gobCl8fFtdLGZ1bmN0aW9uKG4sdCl7aFt0XT0hMH0pLGgpOmkuZXh0ZW5kKHt9LG4pO3ZhciBvLHIsdixmLHQ9W10scz1bXSxlPS0xLHk9ZnVuY3Rpb24oKXtmb3IoZj1mfHxuLm9uY2Usdj1vPSEwO3MubGVuZ3RoO2U9LTEpZm9yKHI9cy5zaGlmdCgpOysrZTx0Lmxlbmd0aDspITE9PT10W2VdLmFwcGx5KHJbMF0sclsxXSkmJm4uc3RvcE9uRmFsc2UmJihlPXQubGVuZ3RoLHI9ITEpO24ubWVtb3J5fHwocj0hMSk7bz0hMTtmJiYodD1yP1tdOiIiKX0sYz17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHQmJihyJiYhbyYmKGU9dC5sZW5ndGgtMSxzLnB1c2gocikpLGZ1bmN0aW9uIGYocil7aS5lYWNoKHIsZnVuY3Rpb24oaSxyKXt1KHIpP24udW5pcXVlJiZjLmhhcyhyKXx8dC5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PXV0KHIpJiZmKHIpfSl9KGFyZ3VtZW50cyksciYmIW8mJnkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24obixyKXtmb3IodmFyIHU7LTE8KHU9aS5pbkFycmF5KHIsdCx1KSk7KXQuc3BsaWNlKHUsMSksdTw9ZSYmZS0tfSksdGhpc30saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBuPy0xPGkuaW5BcnJheShuLHQpOjA8dC5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJih0PVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGY9cz1bXSx0PXI9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBmPXM9W10scnx8b3x8KHQ9cj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFmfSxmaXJlV2l0aDpmdW5jdGlvbihuLHQpe3JldHVybiBmfHwodD1bbiwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHMucHVzaCh0KSxvfHx5KCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYy5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXZ9fTtyZXR1cm4gY307aS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBmPVtbIm5vdGlmeSIsInByb2dyZXNzIixpLkNhbGxiYWNrcygibWVtb3J5IiksaS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxvPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBvfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gci5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGhlbihudWxsLG4pfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3JldHVybiBpLkRlZmVycmVkKGZ1bmN0aW9uKHQpe2kuZWFjaChmLGZ1bmN0aW9uKGksZil7dmFyIGU9dShuW2ZbNF1dKSYmbltmWzRdXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmdShuLnByb21pc2UpP24ucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtmWzBdKyJXaXRoIl0odGhpcyxlP1tuXTphcmd1bWVudHMpfSl9KTtuPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGUpe2Z1bmN0aW9uIHModCxyLGYsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPWFyZ3VtZW50cyxsPWZ1bmN0aW9uKCl7dmFyIG4saTtpZighKHQ8bykpe2lmKChuPWYuYXBwbHkoaCxjKSk9PT1yLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtpPW4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmbi50aGVuO3UoaSk/ZT9pLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSk6KG8rKyxpLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSxzKG8scixldCxyLm5vdGlmeVdpdGgpKSk6KGYhPT1ldCYmKGg9dm9pZCAwLGM9W25dKSwoZXx8ci5yZXNvbHZlV2l0aCkoaCxjKSl9fSxhPWU/bDpmdW5jdGlvbigpe3RyeXtsKCl9Y2F0Y2gobCl7aS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sobCxhLnN0YWNrVHJhY2UpO288PXQrMSYmKGYhPT1maSYmKGg9dm9pZCAwLGM9W2xdKSxyLnJlamVjdFdpdGgoaCxjKSl9fTt0P2EoKTooaS5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihhLnN0YWNrVHJhY2U9aS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksbi5zZXRUaW1lb3V0KGEpKX19dmFyIG89MDtyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbihuKXtmWzBdWzNdLmFkZChzKDAsbix1KGUpP2U6ZXQsbi5ub3RpZnlXaXRoKSk7ZlsxXVszXS5hZGQocygwLG4sdSh0KT90OmV0KSk7ZlsyXVszXS5hZGQocygwLG4sdShyKT9yOmZpKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4/aS5leHRlbmQobixlKTplfX0scj17fTtyZXR1cm4gaS5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT10WzJdLHU9dFs1XTtlW3RbMV1dPWkuYWRkO3UmJmkuYWRkKGZ1bmN0aW9uKCl7bz11fSxmWzMtbl1bMl0uZGlzYWJsZSxmWzMtbl1bM10uZGlzYWJsZSxmWzBdWzJdLmxvY2ssZlswXVszXS5sb2NrKTtpLmFkZCh0WzNdLmZpcmUpO3JbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gclt0WzBdKyJXaXRoIl0odGhpcz09PXI/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfTtyW3RbMF0rIldpdGgiXT1pLmZpcmVXaXRofSksZS5wcm9taXNlKHIpLHQmJnQuY2FsbChyLHIpLHJ9LHdoZW46ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PWUsbz1BcnJheSh0KSxmPWsuY2FsbChhcmd1bWVudHMpLHI9aS5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe29bbl09dGhpcztmW25dPTE8YXJndW1lbnRzLmxlbmd0aD9rLmNhbGwoYXJndW1lbnRzKTp0Oy0tZXx8ci5yZXNvbHZlV2l0aChvLGYpfX07aWYoZTw9MSYmKGV1KG4sci5kb25lKHModCkpLnJlc29sdmUsci5yZWplY3QsIWUpLCJwZW5kaW5nIj09PXIuc3RhdGUoKXx8dShmW3RdJiZmW3RdLnRoZW4pKSlyZXR1cm4gci50aGVuKCk7d2hpbGUodC0tKWV1KGZbdF0scyh0KSxyLnJlamVjdCk7cmV0dXJuIHIucHJvbWlzZSgpfX0pO291PS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LGkpe24uY29uc29sZSYmbi5jb25zb2xlLndhcm4mJnQmJm91LnRlc3QodC5uYW1lKSYmbi5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrdC5tZXNzYWdlLHQuc3RhY2ssaSl9O2kucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdDt9KX07ZWk9aS5EZWZlcnJlZCgpO2kuZm4ucmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIGVpLnRoZW4obilbImNhdGNoIl0oZnVuY3Rpb24obil7aS5yZWFkeUV4Y2VwdGlvbihuKX0pLHRoaXN9O2kuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKG4peyghMD09PW4/LS1pLnJlYWR5V2FpdDppLmlzUmVhZHkpfHwoaS5pc1JlYWR5PSEwKSE9PW4mJjA8LS1pLnJlYWR5V2FpdHx8ZWkucmVzb2x2ZVdpdGgoZixbaV0pfX0pO2kucmVhZHkudGhlbj1laS50aGVuOyJjb21wbGV0ZSI9PT1mLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWYucmVhZHlTdGF0ZSYmIWYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP24uc2V0VGltZW91dChpLnJlYWR5KTooZi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixvaSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvaSkpO3ZhciB3PWZ1bmN0aW9uKG4sdCxyLGYsZSxvLHMpe3ZhciBoPTAsbD1uLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT11dChyKSlmb3IoaCBpbiBlPSEwLHIpdyhuLHQsaCxyW2hdLCEwLG8scyk7ZWxzZSBpZih2b2lkIDAhPT1mJiYoZT0hMCx1KGYpfHwocz0hMCksYyYmKHM/KHQuY2FsbChuLGYpLHQ9bnVsbCk6KGM9dCx0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gYy5jYWxsKGkobikscil9KSksdCkpZm9yKDtoPGw7aCsrKXQobltoXSxyLHM/ZjpmLmNhbGwobltoXSxoLHQobltoXSxyKSkpO3JldHVybiBlP246Yz90LmNhbGwobik6bD90KG5bMF0scik6b30saGU9L14tbXMtLyxjZT0vLShbYS16XSkvZztvdD1mdW5jdGlvbihuKXtyZXR1cm4gMT09PW4ubm9kZVR5cGV8fDk9PT1uLm5vZGVUeXBlfHwhK24ubm9kZVR5cGV9O2J0LnVpZD0xO2J0LnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxvdChuKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcix1PXRoaXMuY2FjaGUobik7aWYoInN0cmluZyI9PXR5cGVvZiB0KXVbeSh0KV09aTtlbHNlIGZvcihyIGluIHQpdVt5KHIpXT10W3JdO3JldHVybiB1fSxnZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKG4pOm5bdGhpcy5leHBhbmRvXSYmblt0aGlzLmV4cGFuZG9dW3kodCldfSxhY2Nlc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PWk/dGhpcy5nZXQobix0KToodGhpcy5zZXQobix0LGkpLHZvaWQgMCE9PWk/aTp0KX0scmVtb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIHUscj1uW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dClmb3IodT0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKHkpOih0PXkodCkpaW4gcj9bdF06dC5tYXRjaChsKXx8W10pLmxlbmd0aDt1LS07KWRlbGV0ZSByW3RbdV1dOyh2b2lkIDA9PT10fHxpLmlzRW1wdHlPYmplY3QocikpJiYobi5ub2RlVHlwZT9uW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBuW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihuKXt2YXIgdD1uW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFpLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgcj1uZXcgYnQsbz1uZXcgYnQsYWU9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyx2ZT0vW0EtWl0vZztpLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gby5oYXNEYXRhKG4pfHxyLmhhc0RhdGEobil9LGRhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiBvLmFjY2VzcyhuLHQsaSl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtvLnJlbW92ZShuLHQpfSxfZGF0YTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHIuYWNjZXNzKG4sdCxpKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtyLnJlbW92ZShuLHQpfX0pO2kuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sdCl7dmFyIGYsdSxlLGk9dGhpc1swXSxzPWkmJmkuYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGU9by5nZXQoaSksMT09PWkubm9kZVR5cGUmJiFyLmdldChpLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihmPXMubGVuZ3RoO2YtLTspc1tmXSYmMD09PSh1PXNbZl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHU9eSh1LnNsaWNlKDUpKSxzdShpLHUsZVt1XSkpO3Iuc2V0KGksImhhc0RhdGFBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4pfSk6dyh0aGlzLGZ1bmN0aW9uKHQpe3ZhciByO2lmKGkmJnZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMCE9PShyPW8uZ2V0KGksbikpP3I6dm9pZCAwIT09KHI9c3UoaSxuKSk/cjp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuLHQpfSl9LG51bGwsdCwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe28ucmVtb3ZlKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0LHUpe3ZhciBmO2lmKG4pcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIsZj1yLmdldChuLHQpLHUmJighZnx8QXJyYXkuaXNBcnJheSh1KT9mPXIuYWNjZXNzKG4sdCxpLm1ha2VBcnJheSh1KSk6Zi5wdXNoKHUpKSxmfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihuLHQpe3Q9dHx8ImZ4Ijt2YXIgcj1pLnF1ZXVlKG4sdCksZT1yLmxlbmd0aCx1PXIuc2hpZnQoKSxmPWkuX3F1ZXVlSG9va3Mobix0KTsiaW5wcm9ncmVzcyI9PT11JiYodT1yLnNoaWZ0KCksZS0tKTt1JiYoImZ4Ij09PXQmJnIudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsdS5jYWxsKG4sZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX0sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgbiYmKHQ9bixuPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/aS5xdWV1ZSh0aGlzWzBdLG4pOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1pLnF1ZXVlKHRoaXMsbix0KTtpLl9xdWV1ZUhvb2tzKHRoaXMsbik7ImZ4Ij09PW4mJiJpbnByb2dyZXNzIiE9PXJbMF0mJmkuZGVxdWV1ZSh0aGlzLG4pfSl9LGRlcXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZGVxdWV1ZSh0aGlzLG4pfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucXVldWUobnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24obix0KXt2YXIgdSxlPTEsbz1pLkRlZmVycmVkKCksZj10aGlzLHM9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZXx8by5yZXNvbHZlV2l0aChmLFtmXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj12b2lkIDApLG49bnx8ImZ4IjtzLS07KSh1PXIuZ2V0KGZbc10sbisicXVldWVIb29rcyIpKSYmdS5lbXB0eSYmKGUrKyx1LmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxvLnByb21pc2UodCl9fSk7dmFyIGh1PS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLGt0PW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitodSsiKShbYS16JV0qKSQiLCJpIiksYj1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGc9Zi5kb2N1bWVudEVsZW1lbnQsc3Q9ZnVuY3Rpb24obil7cmV0dXJuIGkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pfSx5ZT17Y29tcG9zZWQ6ITB9O2cuZ2V0Um9vdE5vZGUmJihzdD1mdW5jdGlvbihuKXtyZXR1cm4gaS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil8fG4uZ2V0Um9vdE5vZGUoeWUpPT09bi5vd25lckRvY3VtZW50fSk7ZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4ibm9uZSI9PT0obj10fHxuKS5zdHlsZS5kaXNwbGF5fHwiIj09PW4uc3R5bGUuZGlzcGxheSYmc3QobikmJiJub25lIj09PWkuY3NzKG4sImRpc3BsYXkiKX07a2k9e307aS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihuKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBuP24/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZHQodGhpcyk/aSh0aGlzKS5zaG93KCk6aSh0aGlzKS5oaWRlKCl9KX19KTt2YXIgbnQsc2ksZ3Q9L14oPzpjaGVja2JveHxyYWRpbykkL2ksbHU9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2ksYXU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO250PWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpOyhzaT1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7c2kuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3NpLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKTtudC5hcHBlbmRDaGlsZChzaSk7ZS5jaGVja0Nsb25lPW50LmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtudC5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PFwvdGV4dGFyZWE+IjtlLm5vQ2xvbmVDaGVja2VkPSEhbnQuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO250LmlubmVySFRNTD0iPG9wdGlvbj48XC9vcHRpb24+IjtlLm9wdGlvbj0hIW50Lmxhc3RDaGlsZDtoPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjxcL3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8XC9jb2xncm91cD48XC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8XC90Ym9keT48XC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPFwvdHI+PFwvdGJvZHk+PFwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtoLnRib2R5PWgudGZvb3Q9aC5jb2xncm91cD1oLmNhcHRpb249aC50aGVhZDtoLnRoPWgudGQ7ZS5vcHRpb258fChoLm9wdGdyb3VwPWgub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPFwvc2VsZWN0PiJdKTt2dT0vPHwmIz9cdys7LztnaT0vXihbXi5dKikoPzpcLiguKyl8KS87aS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciBwLGEsayx2LHcsaCxzLGMsbyxiLGQseT1yLmdldChuKTtpZihvdChuKSlmb3IodS5oYW5kbGVyJiYodT0ocD11KS5oYW5kbGVyLGU9cC5zZWxlY3RvciksZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGUpLHUuZ3VpZHx8KHUuZ3VpZD1pLmd1aWQrKyksKHY9eS5ldmVudHMpfHwodj15LmV2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpKSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgaSYmaS5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGUpcmV0dXJuIGkuZXZlbnQuZGlzcGF0Y2guYXBwbHkobixhcmd1bWVudHMpfSksdz0odD0odHx8IiIpLm1hdGNoKGwpfHxbIiJdKS5sZW5ndGg7dy0tOylvPWQ9KGs9Z2kuZXhlYyh0W3ddKXx8W10pWzFdLGI9KGtbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYocz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/cy5kZWxlZ2F0ZVR5cGU6cy5iaW5kVHlwZSl8fG8scz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LGg9aS5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpkLGRhdGE6ZixoYW5kbGVyOnUsZ3VpZDp1Lmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmaS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpiLmpvaW4oIi4iKX0scCksKGM9dltvXSl8fCgoYz12W29dPVtdKS5kZWxlZ2F0ZUNvdW50PTAscy5zZXR1cCYmITEhPT1zLnNldHVwLmNhbGwobixmLGIsYSl8fG4uYWRkRXZlbnRMaXN0ZW5lciYmbi5hZGRFdmVudExpc3RlbmVyKG8sYSkpLHMuYWRkJiYocy5hZGQuY2FsbChuLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9dS5ndWlkKSksZT9jLnNwbGljZShjLmRlbGVnYXRlQ291bnQrKywwLGgpOmMucHVzaChoKSxpLmV2ZW50Lmdsb2JhbFtvXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciB5LGssYyx2LHAscyxoLGEsbyxiLGQsdz1yLmhhc0RhdGEobikmJnIuZ2V0KG4pO2lmKHcmJih2PXcuZXZlbnRzKSl7Zm9yKHA9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3AtLTspaWYobz1kPShjPWdpLmV4ZWModFtwXSl8fFtdKVsxXSxiPShjWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7Zm9yKGg9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxhPXZbbz0oZj9oLmRlbGVnYXRlVHlwZTpoLmJpbmRUeXBlKXx8b118fFtdLGM9Y1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrYi5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxrPXk9YS5sZW5ndGg7eS0tOylzPWFbeV0sIWUmJmQhPT1zLm9yaWdUeXBlfHx1JiZ1Lmd1aWQhPT1zLmd1aWR8fGMmJiFjLnRlc3Qocy5uYW1lc3BhY2UpfHxmJiZmIT09cy5zZWxlY3RvciYmKCIqKiIhPT1mfHwhcy5zZWxlY3Rvcil8fChhLnNwbGljZSh5LDEpLHMuc2VsZWN0b3ImJmEuZGVsZWdhdGVDb3VudC0tLGgucmVtb3ZlJiZoLnJlbW92ZS5jYWxsKG4scykpO2smJiFhLmxlbmd0aCYmKGgudGVhcmRvd24mJiExIT09aC50ZWFyZG93bi5jYWxsKG4sYix3LmhhbmRsZSl8fGkucmVtb3ZlRXZlbnQobixvLHcuaGFuZGxlKSxkZWxldGUgdltvXSl9ZWxzZSBmb3IobyBpbiB2KWkuZXZlbnQucmVtb3ZlKG4sbyt0W3BdLHUsZiwhMCk7aS5pc0VtcHR5T2JqZWN0KHYpJiZyLnJlbW92ZShuLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihuKXt2YXIgdSxoLGMsZSxmLGwscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdD1pLmV2ZW50LmZpeChuKSxhPShyLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXXx8W10sbz1pLmV2ZW50LnNwZWNpYWxbdC50eXBlXXx8e307Zm9yKHNbMF09dCx1PTE7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylzW3VdPWFyZ3VtZW50c1t1XTtpZih0LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIW8ucHJlRGlzcGF0Y2h8fCExIT09by5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdCkpe2ZvcihsPWkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHQsYSksdT0wOyhlPWxbdSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcih0LmN1cnJlbnRUYXJnZXQ9ZS5lbGVtLGg9MDsoZj1lLmhhbmRsZXJzW2grK10pJiYhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOyl0LnJuYW1lc3BhY2UmJiExIT09Zi5uYW1lc3BhY2UmJiF0LnJuYW1lc3BhY2UudGVzdChmLm5hbWVzcGFjZSl8fCh0LmhhbmRsZU9iaj1mLHQuZGF0YT1mLmRhdGEsdm9pZCAwIT09KGM9KChpLmV2ZW50LnNwZWNpYWxbZi5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGYuaGFuZGxlcikuYXBwbHkoZS5lbGVtLHMpKSYmITE9PT0odC5yZXN1bHQ9YykmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiBvLnBvc3REaXNwYXRjaCYmby5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24obix0KXt2YXIgZixoLHUsZSxvLGM9W10scz10LmRlbGVnYXRlQ291bnQscj1uLnRhcmdldDtpZihzJiZyLm5vZGVUeXBlJiYhKCJjbGljayI9PT1uLnR5cGUmJjE8PW4uYnV0dG9uKSlmb3IoO3IhPT10aGlzO3I9ci5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1yLm5vZGVUeXBlJiYoImNsaWNrIiE9PW4udHlwZXx8ITAhPT1yLmRpc2FibGVkKSl7Zm9yKGU9W10sbz17fSxmPTA7ZjxzO2YrKyl2b2lkIDA9PT1vW3U9KGg9dFtmXSkuc2VsZWN0b3IrIiAiXSYmKG9bdV09aC5uZWVkc0NvbnRleHQ/LTE8aSh1LHRoaXMpLmluZGV4KHIpOmkuZmluZCh1LHRoaXMsbnVsbCxbcl0pLmxlbmd0aCksb1t1XSYmZS5wdXNoKGgpO2UubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczplfSl9cmV0dXJuIHI9dGhpcyxzPHQubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczp0LnNsaWNlKHMpfSksY30sYWRkUHJvcDpmdW5jdGlvbihuLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkV2ZW50LnByb3RvdHlwZSxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dSh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W25dfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24obil7cmV0dXJuIG5baS5leHBhbmRvXT9uOm5ldyBpLkV2ZW50KG4pfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIsY3QpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihuKXt2YXIgdD1uLnRhcmdldDtyZXR1cm4gZ3QudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZjKHQsImlucHV0IikmJnIuZ2V0KHQsImNsaWNrIil8fGModCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24obil7dm9pZCAwIT09bi5yZXN1bHQmJm4ub3JpZ2luYWxFdmVudCYmKG4ub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1uLnJlc3VsdCl9fX19O2kucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24obix0LGkpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lciYmbi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSl9O2kuRXZlbnQ9ZnVuY3Rpb24obix0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBpLkV2ZW50KSlyZXR1cm4gbmV3IGkuRXZlbnQobix0KTtuJiZuLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1uLHRoaXMudHlwZT1uLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bi5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1uLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09bi5yZXR1cm5WYWx1ZT9jdDpsdCx0aGlzLnRhcmdldD1uLnRhcmdldCYmMz09PW4udGFyZ2V0Lm5vZGVUeXBlP24udGFyZ2V0LnBhcmVudE5vZGU6bi50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PW4uY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9bi5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9bjt0JiZpLmV4dGVuZCh0aGlzLHQpO3RoaXMudGltZVN0YW1wPW4mJm4udGltZVN0YW1wfHxEYXRlLm5vdygpO3RoaXNbaS5leHBhbmRvXT0hMH07aS5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmkuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmx0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1jdDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX07aS5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0saS5ldmVudC5hZGRQcm9wKTtpLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4sdCl7aS5ldmVudC5zcGVjaWFsW25dPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBoaSh0aGlzLG4scGUpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIGhpKHRoaXMsbiksITB9LF9kZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRlbGVnYXRlVHlwZTp0fX0pO2kuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKG4pe3ZhciB1LHI9bi5yZWxhdGVkVGFyZ2V0LGY9bi5oYW5kbGVPYmo7cmV0dXJuIHImJihyPT09dGhpc3x8aS5jb250YWlucyh0aGlzLHIpKXx8KG4udHlwZT1mLm9yaWdUeXBlLHU9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuLnR5cGU9dCksdX19fSk7aS5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiBucih0aGlzLG4sdCxpLHIpfSxvbmU6ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIG5yKHRoaXMsbix0LGksciwxKX0sb2ZmOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxmO2lmKG4mJm4ucHJldmVudERlZmF1bHQmJm4uaGFuZGxlT2JqKXJldHVybiB1PW4uaGFuZGxlT2JqLGkobi5kZWxlZ2F0ZVRhcmdldCkub2ZmKHUubmFtZXNwYWNlP3Uub3JpZ1R5cGUrIi4iK3UubmFtZXNwYWNlOnUub3JpZ1R5cGUsdS5zZWxlY3Rvcix1LmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBuKXtmb3IoZiBpbiBuKXRoaXMub2ZmKGYsdCxuW2ZdKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHwocj10LHQ9dm9pZCAwKSwhMT09PXImJihyPWx0KSx0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnJlbW92ZSh0aGlzLG4scix0KX0pfX0pO3ZhciB3ZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxiZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxrZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7aS5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIG59LGNsb25lOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxjLG8sZixsLGEsdixoPW4uY2xvbmVOb2RlKCEwKSx5PXN0KG4pO2lmKCEoZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PW4ubm9kZVR5cGUmJjExIT09bi5ub2RlVHlwZXx8aS5pc1hNTERvYyhuKSkpZm9yKGY9cyhoKSx1PTAsYz0obz1zKG4pKS5sZW5ndGg7dTxjO3UrKylsPW9bdV0sYT1mW3VdLHZvaWQgMCwiaW5wdXQiPT09KHY9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmZ3QudGVzdChsLnR5cGUpP2EuY2hlY2tlZD1sLmNoZWNrZWQ6ImlucHV0IiE9PXYmJiJ0ZXh0YXJlYSIhPT12fHwoYS5kZWZhdWx0VmFsdWU9bC5kZWZhdWx0VmFsdWUpO2lmKHQpaWYocilmb3Iobz1vfHxzKG4pLGY9Znx8cyhoKSx1PTAsYz1vLmxlbmd0aDt1PGM7dSsrKXd1KG9bdV0sZlt1XSk7ZWxzZSB3dShuLGgpO3JldHVybiAwPChmPXMoaCwic2NyaXB0IikpLmxlbmd0aCYmZGkoZiwheSYmcyhuLCJzY3JpcHQiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdSx0LGYscz1pLmV2ZW50LnNwZWNpYWwsZT0wO3ZvaWQgMCE9PSh0PW5bZV0pO2UrKylpZihvdCh0KSl7aWYodT10W3IuZXhwYW5kb10pe2lmKHUuZXZlbnRzKWZvcihmIGluIHUuZXZlbnRzKXNbZl0/aS5ldmVudC5yZW1vdmUodCxmKTppLnJlbW92ZUV2ZW50KHQsZix1LmhhbmRsZSk7dFtyLmV4cGFuZG9dPXZvaWQgMH10W28uZXhwYW5kb10mJih0W28uZXhwYW5kb109dm9pZCAwKX19fSk7aS5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihuKXtyZXR1cm4gYnUodGhpcyxuLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3JldHVybiBidSh0aGlzLG4pfSx0ZXh0OmZ1bmN0aW9uKG4pe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4/aS50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PW4pfSl9LG51bGwsbixhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIGF0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKG4pezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxwdSh0aGlzLG4pLmFwcGVuZENoaWxkKG4pfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXB1KHRoaXMsbik7dC5pbnNlcnRCZWZvcmUobix0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIG4sdD0wO251bGwhPShuPXRoaXNbdF0pO3QrKykxPT09bi5ub2RlVHlwZSYmKGkuY2xlYW5EYXRhKHMobiwhMSkpLG4udGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihuLHQpe3JldHVybiBuPW51bGwhPW4mJm4sdD1udWxsPT10P246dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBpLmNsb25lKHRoaXMsbix0KX0pfSxodG1sOmZ1bmN0aW9uKG4pe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obil7dmFyIHQ9dGhpc1swXXx8e30scj0wLHU9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09biYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmIXdlLnRlc3QobikmJiFoWyhsdS5leGVjKG4pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7bj1pLmh0bWxQcmVmaWx0ZXIobik7dHJ5e2Zvcig7cjx1O3IrKykxPT09KHQ9dGhpc1tyXXx8e30pLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyh0LCExKSksdC5pbm5lckhUTUw9bik7dD0wfWNhdGNoKG4pe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChuKX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgcj10aGlzLnBhcmVudE5vZGU7aS5pbkFycmF5KHRoaXMsbik8MCYmKGkuY2xlYW5EYXRhKHModGhpcykpLHImJnIucmVwbGFjZUNoaWxkKHQsdGhpcykpfSxuKX19KTtpLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24obil7Zm9yKHZhciB1LGY9W10sZT1pKG4pLG89ZS5sZW5ndGgtMSxyPTA7cjw9bztyKyspdT1yPT09bz90aGlzOnRoaXMuY2xvbmUoITApLGkoZVtyXSlbdF0odSkseWkuYXBwbHkoZix1LmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZil9fSk7dmFyIHRyPW5ldyBSZWdFeHAoIl4oIitodSsiKSg/IXB4KVthLXolXSskIiwiaSIpLGNpPWZ1bmN0aW9uKHQpe3ZhciBpPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gaSYmaS5vcGVuZXJ8fChpPW4pLGkuZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sa3U9ZnVuY3Rpb24obix0LGkpe3ZhciB1LHIsZj17fTtmb3IociBpbiB0KWZbcl09bi5zdHlsZVtyXSxuLnN0eWxlW3JdPXRbcl07Zm9yKHIgaW4gdT1pLmNhbGwobiksdCluLnN0eWxlW3JdPWZbcl07cmV0dXJuIHV9LG5vPW5ldyBSZWdFeHAoYi5qb2luKCJ8IiksImkiKTshZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7aWYodCl7cy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIjt0LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiO2cuYXBwZW5kQ2hpbGQocykuYXBwZW5kQ2hpbGQodCk7dmFyIGk9bi5nZXRDb21wdXRlZFN0eWxlKHQpO2g9IjElIiE9PWkudG9wO3Y9MTI9PT11KGkubWFyZ2luTGVmdCk7dC5zdHlsZS5yaWdodD0iNjAlIjthPTM2PT09dShpLnJpZ2h0KTtjPTM2PT09dShpLndpZHRoKTt0LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bD0xMj09PXUodC5vZmZzZXRXaWR0aC8zKTtnLnJlbW92ZUNoaWxkKHMpO3Q9bnVsbH19ZnVuY3Rpb24gdShuKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG4pKX12YXIgaCxjLGwsYSxvLHYscz1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQ9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LnN0eWxlJiYodC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLHQuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixlLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09dC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxpLmV4dGVuZChlLHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiByKCksY30scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gcigpLGF9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gcigpLGh9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiByKCksdn0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiByKCksbH0scmVsaWFibGVUckRpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgaSx0LHIsdTtyZXR1cm4gbnVsbD09byYmKGk9Zi5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLHQ9Zi5jcmVhdGVFbGVtZW50KCJ0ciIpLHI9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlIix0LnN0eWxlLmNzc1RleHQ9ImJvcmRlcjoxcHggc29saWQiLHQuc3R5bGUuaGVpZ2h0PSIxcHgiLHIuc3R5bGUuaGVpZ2h0PSI5cHgiLHIuc3R5bGUuZGlzcGxheT0iYmxvY2siLGcuYXBwZW5kQ2hpbGQoaSkuYXBwZW5kQ2hpbGQodCkuYXBwZW5kQ2hpbGQociksdT1uLmdldENvbXB1dGVkU3R5bGUodCksbz1wYXJzZUludCh1LmhlaWdodCwxMCkrcGFyc2VJbnQodS5ib3JkZXJUb3BXaWR0aCwxMCkrcGFyc2VJbnQodS5ib3JkZXJCb3R0b21XaWR0aCwxMCk9PT10Lm9mZnNldEhlaWdodCxnLnJlbW92ZUNoaWxkKGkpKSxvfX0pKX0oKTt2YXIgZ3U9WyJXZWJraXQiLCJNb3oiLCJtcyJdLG5mPWYuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsdGY9e307dmFyIHRvPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxyZj0vXi0tLyxpbz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sdWY9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2kuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKG4sdCl7aWYodCl7dmFyIGk9bmkobiwib3BhY2l0eSIpO3JldHVybiIiPT09aT8iMSI6aX19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24obix0LHIsdSl7aWYobiYmMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiZuLnN0eWxlKXt2YXIgZixoLG8sYz15KHQpLGw9cmYudGVzdCh0KSxzPW4uc3R5bGU7aWYobHx8KHQ9aXIoYykpLG89aS5jc3NIb29rc1t0XXx8aS5jc3NIb29rc1tjXSx2b2lkIDA9PT1yKXJldHVybiBvJiYiZ2V0ImluIG8mJnZvaWQgMCE9PShmPW8uZ2V0KG4sITEsdSkpP2Y6c1t0XTsic3RyaW5nIj09KGg9dHlwZW9mIHIpJiYoZj1rdC5leGVjKHIpKSYmZlsxXSYmKHI9Y3Uobix0LGYpLGg9Im51bWJlciIpO251bGwhPXImJnI9PXImJigibnVtYmVyIiE9PWh8fGx8fChyKz1mJiZmWzNdfHwoaS5jc3NOdW1iZXJbY10/IiI6InB4IikpLGUuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PXJ8fDAhPT10LmluZGV4T2YoImJhY2tncm91bmQiKXx8KHNbdF09ImluaGVyaXQiKSxvJiYic2V0ImluIG8mJnZvaWQgMD09PShyPW8uc2V0KG4scix1KSl8fChsP3Muc2V0UHJvcGVydHkodCxyKTpzW3RdPXIpKX19LGNzczpmdW5jdGlvbihuLHQscix1KXt2YXIgZixlLG8scz15KHQpO3JldHVybiByZi50ZXN0KHQpfHwodD1pcihzKSksKG89aS5jc3NIb29rc1t0XXx8aS5jc3NIb29rc1tzXSkmJiJnZXQiaW4gbyYmKGY9by5nZXQobiwhMCxyKSksdm9pZCAwPT09ZiYmKGY9bmkobix0LHUpKSwibm9ybWFsIj09PWYmJnQgaW4gdWYmJihmPXVmW3RdKSwiIj09PXJ8fHI/KGU9cGFyc2VGbG9hdChmKSwhMD09PXJ8fGlzRmluaXRlKGUpP2V8fDA6Zik6Zn19KTtpLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKG4sdCl7aS5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKG4scix1KXtpZihyKXJldHVybiF0by50ZXN0KGkuY3NzKG4sImRpc3BsYXkiKSl8fG4uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJm4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/ZWYobix0LHUpOmt1KG4saW8sZnVuY3Rpb24oKXtyZXR1cm4gZWYobix0LHUpfSl9LHNldDpmdW5jdGlvbihuLHIsdSl7dmFyIHMsZj1jaShuKSxoPSFlLnNjcm9sbGJveFNpemUoKSYmImFic29sdXRlIj09PWYucG9zaXRpb24sYz0oaHx8dSkmJiJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZiksbz11P3JyKG4sdCx1LGMsZik6MDtyZXR1cm4gYyYmaCYmKG8tPU1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGZbdF0pLXJyKG4sdCwiYm9yZGVyIiwhMSxmKS0uNSkpLG8mJihzPWt0LmV4ZWMocikpJiYicHgiIT09KHNbM118fCJweCIpJiYobi5zdHlsZVt0XT1yLHI9aS5jc3Mobix0KSksZmYoMCxyLG8pfX19KTtpLmNzc0hvb2tzLm1hcmdpbkxlZnQ9ZHUoZS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24obix0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KG5pKG4sIm1hcmdpbkxlZnQiKSl8fG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1rdShuLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSk7aS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW24rdF09e2V4cGFuZDpmdW5jdGlvbihpKXtmb3IodmFyIHI9MCxmPXt9LHU9InN0cmluZyI9PXR5cGVvZiBpP2kuc3BsaXQoIiAiKTpbaV07cjw0O3IrKylmW24rYltyXSt0XT11W3JdfHx1W3ItMl18fHVbMF07cmV0dXJuIGZ9fTsibWFyZ2luIiE9PW4mJihpLmNzc0hvb2tzW24rdF0uc2V0PWZmKX0pO2kuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKG4sdCxyKXt2YXIgZixlLG89e30sdT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihmPWNpKG4pLGU9dC5sZW5ndGg7dTxlO3UrKylvW3RbdV1dPWkuY3NzKG4sdFt1XSwhMSxmKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09cj9pLnN0eWxlKG4sdCxyKTppLmNzcyhuLHQpfSxuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KTsoKGkuVHdlZW49YSkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphLGluaXQ6ZnVuY3Rpb24obix0LHIsdSxmLGUpe3RoaXMuZWxlbT1uO3RoaXMucHJvcD1yO3RoaXMuZWFzaW5nPWZ8fGkuZWFzaW5nLl9kZWZhdWx0O3RoaXMub3B0aW9ucz10O3RoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKTt0aGlzLmVuZD11O3RoaXMudW5pdD1lfHwoaS5jc3NOdW1iZXJbcl0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBuPWEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIG4mJm4uZ2V0P24uZ2V0KHRoaXMpOmEucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKG4pe3ZhciB0LHI9YS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9dGhpcy5vcHRpb25zLmR1cmF0aW9uP3Q9aS5lYXNpbmdbdGhpcy5lYXNpbmddKG4sdGhpcy5vcHRpb25zLmR1cmF0aW9uKm4sMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dD1uLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLHImJnIuc2V0P3Iuc2V0KHRoaXMpOmEucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPWEucHJvdG90eXBlOyhhLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gMSE9PW4uZWxlbS5ub2RlVHlwZXx8bnVsbCE9bi5lbGVtW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVtuLnByb3BdP24uZWxlbVtuLnByb3BdOih0PWkuY3NzKG4uZWxlbSxuLnByb3AsIiIpKSYmImF1dG8iIT09dD90OjB9LHNldDpmdW5jdGlvbihuKXtpLmZ4LnN0ZXBbbi5wcm9wXT9pLmZ4LnN0ZXBbbi5wcm9wXShuKToxIT09bi5lbGVtLm5vZGVUeXBlfHwhaS5jc3NIb29rc1tuLnByb3BdJiZudWxsPT1uLmVsZW0uc3R5bGVbaXIobi5wcm9wKV0/bi5lbGVtW24ucHJvcF09bi5ub3c6aS5zdHlsZShuLmVsZW0sbi5wcm9wLG4ubm93K24udW5pdCl9fX0pLnNjcm9sbFRvcD1hLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24obil7bi5lbGVtLm5vZGVUeXBlJiZuLmVsZW0ucGFyZW50Tm9kZSYmKG4uZWxlbVtuLnByb3BdPW4ubm93KX19O2kuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24obil7cmV0dXJuIG59LHN3aW5nOmZ1bmN0aW9uKG4pe3JldHVybi41LU1hdGguY29zKG4qTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn07aS5meD1hLnByb3RvdHlwZS5pbml0O2kuZnguc3RlcD17fTtoZj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC87Y2Y9L3F1ZXVlSG9va3MkLztpLkFuaW1hdGlvbj1pLmV4dGVuZCh2LHt0d2VlbmVyczp7IioiOltmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY3JlYXRlVHdlZW4obix0KTtyZXR1cm4gY3UoaS5lbGVtLG4sa3QuZXhlYyh0KSxpKSxpfV19LHR3ZWVuZXI6ZnVuY3Rpb24obix0KXt1KG4pPyh0PW4sbj1bIioiXSk6bj1uLm1hdGNoKGwpO2Zvcih2YXIgaSxyPTAsZj1uLmxlbmd0aDtyPGY7cisrKWk9bltyXSx2LnR3ZWVuZXJzW2ldPXYudHdlZW5lcnNbaV18fFtdLHYudHdlZW5lcnNbaV0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbZnVuY3Rpb24obix0LHUpe3ZhciBmLHksdyxjLGIsaCxvLGwsaz0id2lkdGgiaW4gdHx8ImhlaWdodCJpbiB0LHY9dGhpcyxwPXt9LHM9bi5zdHlsZSxhPW4ubm9kZVR5cGUmJmR0KG4pLGU9ci5nZXQobiwiZnhzaG93Iik7Zm9yKGYgaW4gdS5xdWV1ZXx8KG51bGw9PShjPWkuX3F1ZXVlSG9va3MobiwiZngiKSkudW5xdWV1ZWQmJihjLnVucXVldWVkPTAsYj1jLmVtcHR5LmZpcmUsYy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7Yy51bnF1ZXVlZHx8YigpfSksYy51bnF1ZXVlZCsrLHYuYWx3YXlzKGZ1bmN0aW9uKCl7di5hbHdheXMoZnVuY3Rpb24oKXtjLnVucXVldWVkLS07aS5xdWV1ZShuLCJmeCIpLmxlbmd0aHx8Yy5lbXB0eS5maXJlKCl9KX0pKSx0KWlmKHk9dFtmXSxoZi50ZXN0KHkpKXtpZihkZWxldGUgdFtmXSx3PXd8fCJ0b2dnbGUiPT09eSx5PT09KGE/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PXl8fCFlfHx2b2lkIDA9PT1lW2ZdKWNvbnRpbnVlO2E9ITB9cFtmXT1lJiZlW2ZdfHxpLnN0eWxlKG4sZil9aWYoKGg9IWkuaXNFbXB0eU9iamVjdCh0KSl8fCFpLmlzRW1wdHlPYmplY3QocCkpZm9yKGYgaW4gayYmMT09PW4ubm9kZVR5cGUmJih1Lm92ZXJmbG93PVtzLm92ZXJmbG93LHMub3ZlcmZsb3dYLHMub3ZlcmZsb3dZXSxudWxsPT0obz1lJiZlLmRpc3BsYXkpJiYobz1yLmdldChuLCJkaXNwbGF5IikpLCJub25lIj09PShsPWkuY3NzKG4sImRpc3BsYXkiKSkmJihvP2w9bzooaHQoW25dLCEwKSxvPW4uc3R5bGUuZGlzcGxheXx8byxsPWkuY3NzKG4sImRpc3BsYXkiKSxodChbbl0pKSksKCJpbmxpbmUiPT09bHx8ImlubGluZS1ibG9jayI9PT1sJiZudWxsIT1vKSYmIm5vbmUiPT09aS5jc3MobiwiZmxvYXQiKSYmKGh8fCh2LmRvbmUoZnVuY3Rpb24oKXtzLmRpc3BsYXk9b30pLG51bGw9PW8mJihsPXMuZGlzcGxheSxvPSJub25lIj09PWw/IiI6bCkpLHMuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLHUub3ZlcmZsb3cmJihzLm92ZXJmbG93PSJoaWRkZW4iLHYuYWx3YXlzKGZ1bmN0aW9uKCl7cy5vdmVyZmxvdz11Lm92ZXJmbG93WzBdO3Mub3ZlcmZsb3dYPXUub3ZlcmZsb3dbMV07cy5vdmVyZmxvd1k9dS5vdmVyZmxvd1syXX0pKSxoPSExLHApaHx8KGU/ImhpZGRlbiJpbiBlJiYoYT1lLmhpZGRlbik6ZT1yLmFjY2VzcyhuLCJmeHNob3ciLHtkaXNwbGF5Om99KSx3JiYoZS5oaWRkZW49IWEpLGEmJmh0KFtuXSwhMCksdi5kb25lKGZ1bmN0aW9uKCl7Zm9yKGYgaW4gYXx8aHQoW25dKSxyLnJlbW92ZShuLCJmeHNob3ciKSxwKWkuc3R5bGUobixmLHBbZl0pfSkpLGg9YWYoYT9lW2ZdOjAsZix2KSxmIGluIGV8fChlW2ZdPWguc3RhcnQsYSYmKGguZW5kPWguc3RhcnQsaC5zdGFydD0wKSl9XSxwcmVmaWx0ZXI6ZnVuY3Rpb24obix0KXt0P3YucHJlZmlsdGVycy51bnNoaWZ0KG4pOnYucHJlZmlsdGVycy5wdXNoKG4pfX0pO2kuc3BlZWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmPW4mJiJvYmplY3QiPT10eXBlb2Ygbj9pLmV4dGVuZCh7fSxuKTp7Y29tcGxldGU6cnx8IXImJnR8fHUobikmJm4sZHVyYXRpb246bixlYXNpbmc6ciYmdHx8dCYmIXUodCkmJnR9O3JldHVybiBpLmZ4Lm9mZj9mLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiBmLmR1cmF0aW9uJiYoZi5kdXJhdGlvbj1mLmR1cmF0aW9uIGluIGkuZnguc3BlZWRzP2kuZnguc3BlZWRzW2YuZHVyYXRpb25dOmkuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1mLnF1ZXVlJiYhMCE9PWYucXVldWV8fChmLnF1ZXVlPSJmeCIpLGYub2xkPWYuY29tcGxldGUsZi5jb21wbGV0ZT1mdW5jdGlvbigpe3UoZi5vbGQpJiZmLm9sZC5jYWxsKHRoaXMpO2YucXVldWUmJmkuZGVxdWV1ZSh0aGlzLGYucXVldWUpfSxmfTtpLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB0aGlzLmZpbHRlcihkdCkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxuLGkscil9LGFuaW1hdGU6ZnVuY3Rpb24obix0LHUsZil7dmFyIHM9aS5pc0VtcHR5T2JqZWN0KG4pLG89aS5zcGVlZCh0LHUsZiksZT1mdW5jdGlvbigpe3ZhciB0PXYodGhpcyxpLmV4dGVuZCh7fSxuKSxvKTsoc3x8ci5nZXQodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gZS5maW5pc2g9ZSxzfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGUpOnRoaXMucXVldWUoby5xdWV1ZSxlKX0sc3RvcDpmdW5jdGlvbihuLHQsdSl7dmFyIGY9ZnVuY3Rpb24obil7dmFyIHQ9bi5zdG9wO2RlbGV0ZSBuLnN0b3A7dCh1KX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBuJiYodT10LHQ9bixuPXZvaWQgMCksdCYmdGhpcy5xdWV1ZShufHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcz0hMCx0PW51bGwhPW4mJm4rInF1ZXVlSG9va3MiLG89aS50aW1lcnMsZT1yLmdldCh0aGlzKTtpZih0KWVbdF0mJmVbdF0uc3RvcCYmZihlW3RdKTtlbHNlIGZvcih0IGluIGUpZVt0XSYmZVt0XS5zdG9wJiZjZi50ZXN0KHQpJiZmKGVbdF0pO2Zvcih0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtIT09dGhpc3x8bnVsbCE9biYmb1t0XS5xdWV1ZSE9PW58fChvW3RdLmFuaW0uc3RvcCh1KSxzPSExLG8uc3BsaWNlKHQsMSkpOyFzJiZ1fHxpLmRlcXVldWUodGhpcyxuKX0pfSxmaW5pc2g6ZnVuY3Rpb24obil7cmV0dXJuITEhPT1uJiYobj1ufHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPXIuZ2V0KHRoaXMpLHU9ZVtuKyJxdWV1ZSJdLG89ZVtuKyJxdWV1ZUhvb2tzIl0sZj1pLnRpbWVycyxzPXU/dS5sZW5ndGg6MDtmb3IoZS5maW5pc2g9ITAsaS5xdWV1ZSh0aGlzLG4sW10pLG8mJm8uc3RvcCYmby5zdG9wLmNhbGwodGhpcywhMCksdD1mLmxlbmd0aDt0LS07KWZbdF0uZWxlbT09PXRoaXMmJmZbdF0ucXVldWU9PT1uJiYoZlt0XS5hbmltLnN0b3AoITApLGYuc3BsaWNlKHQsMSkpO2Zvcih0PTA7dDxzO3QrKyl1W3RdJiZ1W3RdLmZpbmlzaCYmdVt0XS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgZS5maW5pc2h9KX19KTtpLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKG4sdCl7dmFyIHI9aS5mblt0XTtpLmZuW3RdPWZ1bmN0aW9uKG4saSx1KXtyZXR1cm4gbnVsbD09bnx8ImJvb2xlYW4iPT10eXBlb2Ygbj9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoYWkodCwhMCksbixpLHUpfX0pO2kuZWFjaCh7c2xpZGVEb3duOmFpKCJzaG93Iiksc2xpZGVVcDphaSgiaGlkZSIpLHNsaWRlVG9nZ2xlOmFpKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuLGkscil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LG4saSxyKX19KTtpLnRpbWVycz1bXTtpLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgcixuPTAsdD1pLnRpbWVycztmb3IodnQ9RGF0ZS5ub3coKTtuPHQubGVuZ3RoO24rKykocj10W25dKSgpfHx0W25dIT09cnx8dC5zcGxpY2Uobi0tLDEpO3QubGVuZ3RofHxpLmZ4LnN0b3AoKTt2dD12b2lkIDB9O2kuZngudGltZXI9ZnVuY3Rpb24obil7aS50aW1lcnMucHVzaChuKTtpLmZ4LnN0YXJ0KCl9O2kuZnguaW50ZXJ2YWw9MTM7aS5meC5zdGFydD1mdW5jdGlvbigpe2xpfHwobGk9ITAsdXIoKSl9O2kuZnguc3RvcD1mdW5jdGlvbigpe2xpPW51bGx9O2kuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9O2kuZm4uZGVsYXk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD1pLmZ4JiZpLmZ4LnNwZWVkc1t0XXx8dCxyPXJ8fCJmeCIsdGhpcy5xdWV1ZShyLGZ1bmN0aW9uKGkscil7dmFyIHU9bi5zZXRUaW1lb3V0KGksdCk7ci5zdG9wPWZ1bmN0aW9uKCl7bi5jbGVhclRpbWVvdXQodSl9fSl9O3l0PWYuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtzZj1mLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO3l0LnR5cGU9ImNoZWNrYm94IjtlLmNoZWNrT249IiIhPT15dC52YWx1ZTtlLm9wdFNlbGVjdGVkPXNmLnNlbGVjdGVkOyh5dD1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Ijt5dC50eXBlPSJyYWRpbyI7ZS5yYWRpb1ZhbHVlPSJ0Ij09PXl0LnZhbHVlO3B0PWkuZXhwci5hdHRySGFuZGxlO2kuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHcodGhpcyxpLmF0dHIsbix0LDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kucmVtb3ZlQXR0cih0aGlzLG4pfSl9fSk7aS5leHRlbmQoe2F0dHI6ZnVuY3Rpb24obix0LHIpe3ZhciBmLHUsZT1uLm5vZGVUeXBlO2lmKDMhPT1lJiY4IT09ZSYmMiE9PWUpcmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBuLmdldEF0dHJpYnV0ZT9pLnByb3Aobix0LHIpOigxPT09ZSYmaS5pc1hNTERvYyhuKXx8KHU9aS5hdHRySG9va3NbdC50b0xvd2VyQ2FzZSgpXXx8KGkuZXhwci5tYXRjaC5ib29sLnRlc3QodCk/dmY6dm9pZCAwKSksdm9pZCAwIT09cj9udWxsPT09cj92b2lkIGkucmVtb3ZlQXR0cihuLHQpOnUmJiJzZXQiaW4gdSYmdm9pZCAwIT09KGY9dS5zZXQobixyLHQpKT9mOihuLnNldEF0dHJpYnV0ZSh0LHIrIiIpLHIpOnUmJiJnZXQiaW4gdSYmbnVsbCE9PShmPXUuZ2V0KG4sdCkpP2Y6bnVsbD09KGY9aS5maW5kLmF0dHIobix0KSk/dm9pZCAwOmYpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihuLHQpe2lmKCFlLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT10JiZjKG4sImlucHV0Iikpe3ZhciBpPW4udmFsdWU7cmV0dXJuIG4uc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxpJiYobi52YWx1ZT1pKSx0fX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKG4sdCl7dmFyIGksdT0wLHI9dCYmdC5tYXRjaChsKTtpZihyJiYxPT09bi5ub2RlVHlwZSl3aGlsZShpPXJbdSsrXSluLnJlbW92ZUF0dHJpYnV0ZShpKX19KTt2Zj17c2V0OmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4hMT09PXQ/aS5yZW1vdmVBdHRyKG4scik6bi5zZXRBdHRyaWJ1dGUocixyKSxyfX07aS5lYWNoKGkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKG4sdCl7dmFyIHI9cHRbdF18fGkuZmluZC5hdHRyO3B0W3RdPWZ1bmN0aW9uKG4sdCxpKXt2YXIgZixlLHU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiBpfHwoZT1wdFt1XSxwdFt1XT1mLGY9bnVsbCE9cihuLHQsaSk/dTpudWxsLHB0W3VdPWUpLGZ9fSk7eWY9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtwZj0vXig/OmF8YXJlYSkkL2k7aS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGkucHJvcCxuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbaS5wcm9wRml4W25dfHxuXX0pfX0pO2kuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKG4sdCxyKXt2YXIgZix1LGU9bi5ub2RlVHlwZTtpZigzIT09ZSYmOCE9PWUmJjIhPT1lKXJldHVybiAxPT09ZSYmaS5pc1hNTERvYyhuKXx8KHQ9aS5wcm9wRml4W3RdfHx0LHU9aS5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PXI/dSYmInNldCJpbiB1JiZ2b2lkIDAhPT0oZj11LnNldChuLHIsdCkpP2Y6blt0XT1yOnUmJiJnZXQiaW4gdSYmbnVsbCE9PShmPXUuZ2V0KG4sdCkpP2Y6blt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6eWYudGVzdChuLm5vZGVOYW1lKXx8cGYudGVzdChuLm5vZGVOYW1lKSYmbi5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSk7ZS5vcHRTZWxlY3RlZHx8KGkucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KTtpLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe2kucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTtpLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8sdCxyLGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLmFkZENsYXNzKG4uY2FsbCh0aGlzLHQsaXQodGhpcykpKX0pO2lmKChvPWZyKG4pKS5sZW5ndGgpd2hpbGUodD10aGlzW2MrK10paWYoZj1pdCh0KSxyPTE9PT10Lm5vZGVUeXBlJiYiICIrdHQoZikrIiAiKXtmb3Iocz0wO2U9b1tzKytdOylyLmluZGV4T2YoIiAiK2UrIiAiKTwwJiYocis9ZSsiICIpO2YhPT0oaD10dChyKSkmJnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKG4pe3ZhciBvLHIsdCxmLGUscyxoLGM9MDtpZih1KG4pKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7aSh0aGlzKS5yZW1vdmVDbGFzcyhuLmNhbGwodGhpcyx0LGl0KHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKChvPWZyKG4pKS5sZW5ndGgpd2hpbGUocj10aGlzW2MrK10paWYoZj1pdChyKSx0PTE9PT1yLm5vZGVUeXBlJiYiICIrdHQoZikrIiAiKXtmb3Iocz0wO2U9b1tzKytdOyl3aGlsZSgtMTx0LmluZGV4T2YoIiAiK2UrIiAiKSl0PXQucmVwbGFjZSgiICIrZSsiICIsIiAiKTtmIT09KGg9dHQodCkpJiZyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGgpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihuLHQpe3ZhciBmPXR5cGVvZiBuLGU9InN0cmluZyI9PT1mfHxBcnJheS5pc0FycmF5KG4pO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmU/dD90aGlzLmFkZENsYXNzKG4pOnRoaXMucmVtb3ZlQ2xhc3Mobik6dShuKT90aGlzLmVhY2goZnVuY3Rpb24ocil7aSh0aGlzKS50b2dnbGVDbGFzcyhuLmNhbGwodGhpcyxyLGl0KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbyx1LHM7aWYoZSlmb3Iobz0wLHU9aSh0aGlzKSxzPWZyKG4pO3Q9c1tvKytdOyl1Lmhhc0NsYXNzKHQpP3UucmVtb3ZlQ2xhc3ModCk6dS5hZGRDbGFzcyh0KTtlbHNlIHZvaWQgMCE9PW4mJiJib29sZWFuIiE9PWZ8fCgodD1pdCh0aGlzKSkmJnIuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHQpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHR8fCExPT09bj8iIjpyLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24obil7Zm9yKHZhciB0LHI9MCxpPSIgIituKyIgIjt0PXRoaXNbcisrXTspaWYoMT09PXQubm9kZVR5cGUmJi0xPCgiICIrdHQoaXQodCkpKyIgIikuaW5kZXhPZihpKSlyZXR1cm4hMDtyZXR1cm4hMX19KTt3Zj0vXHIvZztpLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciB0LHIsZSxmPXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dShuKSx0aGlzLmVhY2goZnVuY3Rpb24ocil7dmFyIHU7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odT1lP24uY2FsbCh0aGlzLHIsaSh0aGlzKS52YWwoKSk6bik/dT0iIjoibnVtYmVyIj09dHlwZW9mIHU/dSs9IiI6QXJyYXkuaXNBcnJheSh1KSYmKHU9aS5tYXAodSxmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj8iIjpuKyIifSkpLCh0PWkudmFsSG9va3NbdGhpcy50eXBlXXx8aS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiB0JiZ2b2lkIDAhPT10LnNldCh0aGlzLHUsInZhbHVlIil8fCh0aGlzLnZhbHVlPXUpKX0pKTpmPyh0PWkudmFsSG9va3NbZi50eXBlXXx8aS52YWxIb29rc1tmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiB0JiZ2b2lkIDAhPT0ocj10LmdldChmLCJ2YWx1ZSIpKT9yOiJzdHJpbmciPT10eXBlb2Yocj1mLnZhbHVlKT9yLnJlcGxhY2Uod2YsIiIpOm51bGw9PXI/IiI6cjp2b2lkIDB9fSk7aS5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihuKXt2YXIgdD1pLmZpbmQuYXR0cihuLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6dHQoaS50ZXh0KG4pKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgZSx0LG89bi5vcHRpb25zLHU9bi5zZWxlY3RlZEluZGV4LGY9InNlbGVjdC1vbmUiPT09bi50eXBlLHM9Zj9udWxsOltdLGg9Zj91KzE6by5sZW5ndGgscj11PDA/aDpmP3U6MDtyPGg7cisrKWlmKCgodD1vW3JdKS5zZWxlY3RlZHx8cj09PXUpJiYhdC5kaXNhYmxlZCYmKCF0LnBhcmVudE5vZGUuZGlzYWJsZWR8fCFjKHQucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGU9aSh0KS52YWwoKSxmKXJldHVybiBlO3MucHVzaChlKX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLHUsZj1uLm9wdGlvbnMsZT1pLm1ha2VBcnJheSh0KSxvPWYubGVuZ3RoO28tLTspKCh1PWZbb10pLnNlbGVjdGVkPS0xPGkuaW5BcnJheShpLnZhbEhvb2tzLm9wdGlvbi5nZXQodSksZSkpJiYocj0hMCk7cmV0dXJuIHJ8fChuLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KTtpLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtpLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24obix0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBuLmNoZWNrZWQ9LTE8aS5pbkFycmF5KGkobikudmFsKCksdCl9fTtlLmNoZWNrT258fChpLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09PW4uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6bi52YWx1ZX0pfSk7ZS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gbjtlcj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87b3I9ZnVuY3Rpb24obil7bi5zdG9wUHJvcGFnYXRpb24oKX07aS5leHRlbmQoaS5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbih0LGUsbyxzKXt2YXIgayxjLGwsZCx2LHksYSxwLHc9W298fGZdLGg9dWkuY2FsbCh0LCJ0eXBlIik/dC50eXBlOnQsYj11aS5jYWxsKHQsIm5hbWVzcGFjZSIpP3QubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoYz1wPWw9bz1vfHxmLDMhPT1vLm5vZGVUeXBlJiY4IT09by5ub2RlVHlwZSYmIWVyLnRlc3QoaCtpLmV2ZW50LnRyaWdnZXJlZCkmJigtMTxoLmluZGV4T2YoIi4iKSYmKGg9KGI9aC5zcGxpdCgiLiIpKS5zaGlmdCgpLGIuc29ydCgpKSx2PWguaW5kZXhPZigiOiIpPDAmJiJvbiIraCwodD10W2kuZXhwYW5kb10/dDpuZXcgaS5FdmVudChoLCJvYmplY3QiPT10eXBlb2YgdCYmdCkpLmlzVHJpZ2dlcj1zPzI6Myx0Lm5hbWVzcGFjZT1iLmpvaW4oIi4iKSx0LnJuYW1lc3BhY2U9dC5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrYi5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PW8pLGU9bnVsbD09ZT9bdF06aS5tYWtlQXJyYXkoZSxbdF0pLGE9aS5ldmVudC5zcGVjaWFsW2hdfHx7fSxzfHwhYS50cmlnZ2VyfHwhMSE9PWEudHJpZ2dlci5hcHBseShvLGUpKSl7aWYoIXMmJiFhLm5vQnViYmxlJiYhcnQobykpe2ZvcihkPWEuZGVsZWdhdGVUeXBlfHxoLGVyLnRlc3QoZCtoKXx8KGM9Yy5wYXJlbnROb2RlKTtjO2M9Yy5wYXJlbnROb2RlKXcucHVzaChjKSxsPWM7bD09PShvLm93bmVyRG9jdW1lbnR8fGYpJiZ3LnB1c2gobC5kZWZhdWx0Vmlld3x8bC5wYXJlbnRXaW5kb3d8fG4pfWZvcihrPTA7KGM9d1trKytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspcD1jLHQudHlwZT0xPGs/ZDphLmJpbmRUeXBlfHxoLCh5PShyLmdldChjLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXSYmci5nZXQoYywiaGFuZGxlIikpJiZ5LmFwcGx5KGMsZSksKHk9diYmY1t2XSkmJnkuYXBwbHkmJm90KGMpJiYodC5yZXN1bHQ9eS5hcHBseShjLGUpLCExPT09dC5yZXN1bHQmJnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIHQudHlwZT1oLHN8fHQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEuX2RlZmF1bHQmJiExIT09YS5fZGVmYXVsdC5hcHBseSh3LnBvcCgpLGUpfHwhb3Qobyl8fHYmJnUob1toXSkmJiFydChvKSYmKChsPW9bdl0pJiYob1t2XT1udWxsKSxpLmV2ZW50LnRyaWdnZXJlZD1oLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5hZGRFdmVudExpc3RlbmVyKGgsb3IpLG9baF0oKSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJnAucmVtb3ZlRXZlbnRMaXN0ZW5lcihoLG9yKSxpLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbCYmKG9bdl09bCkpLHQucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24obix0LHIpe3ZhciB1PWkuZXh0ZW5kKG5ldyBpLkV2ZW50LHIse3R5cGU6bixpc1NpbXVsYXRlZDohMH0pO2kuZXZlbnQudHJpZ2dlcih1LG51bGwsdCl9fSk7aS5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC50cmlnZ2VyKG4sdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXNbMF07aWYocilyZXR1cm4gaS5ldmVudC50cmlnZ2VyKG4sdCxyLCEwKX19KTtlLmZvY3VzaW58fGkuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obix0KXt2YXIgdT1mdW5jdGlvbihuKXtpLmV2ZW50LnNpbXVsYXRlKHQsbi50YXJnZXQsaS5ldmVudC5maXgobikpfTtpLmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KTtmfHxpLmFkZEV2ZW50TGlzdGVuZXIobix1LCEwKTtyLmFjY2VzcyhpLHQsKGZ8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyxmPXIuYWNjZXNzKGksdCktMTtmP3IuYWNjZXNzKGksdCxmKTooaS5yZW1vdmVFdmVudExpc3RlbmVyKG4sdSwhMCksci5yZW1vdmUoaSx0KSl9fX0pO3ZhciB0aT1uLmxvY2F0aW9uLGJmPXtndWlkOkRhdGUubm93KCl9LHNyPS9cPy87aS5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgcix1O2lmKCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw7dHJ5e3I9KG5ldyBuLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQveG1sIil9Y2F0Y2godCl7fXJldHVybiB1PXImJnIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIilbMF0sciYmIXV8fGkuZXJyb3IoIkludmFsaWQgWE1MOiAiKyh1P2kubWFwKHUuY2hpbGROb2RlcyxmdW5jdGlvbihuKXtyZXR1cm4gbi50ZXh0Q29udGVudH0pLmpvaW4oIlxuIik6dCkpLHJ9O3ZhciBybz0vXFtcXSQvLGtmPS9ccj9cbi9nLHVvPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxmbz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7aS5wYXJhbT1mdW5jdGlvbihuLHQpe3ZhciByLGY9W10sZT1mdW5jdGlvbihuLHQpe3ZhciBpPXUodCk/dCgpOnQ7ZltmLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KG4pKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09aT8iIjppKX07aWYobnVsbD09bilyZXR1cm4iIjtpZihBcnJheS5pc0FycmF5KG4pfHxuLmpxdWVyeSYmIWkuaXNQbGFpbk9iamVjdChuKSlpLmVhY2gobixmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IociBpbiBuKWhyKHIsbltyXSx0LGUpO3JldHVybiBmLmpvaW4oIiYiKX07aS5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBpLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIG49aS5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIG4/aS5tYWtlQXJyYXkobik6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBuPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhaSh0aGlzKS5pcygiOmRpc2FibGVkIikmJmZvLnRlc3QodGhpcy5ub2RlTmFtZSkmJiF1by50ZXN0KG4pJiYodGhpcy5jaGVja2VkfHwhZ3QudGVzdChuKSl9KS5tYXAoZnVuY3Rpb24obix0KXt2YXIgcj1pKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1yP251bGw6QXJyYXkuaXNBcnJheShyKT9pLm1hcChyLGZ1bmN0aW9uKG4pe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2Uoa2YsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6ci5yZXBsYWNlKGtmLCJcclxuIil9fSkuZ2V0KCl9fSk7dmFyIGVvPS8lMjAvZyxvbz0vIy4qJC8sc289LyhbPyZdKV89W14mXSovLGhvPS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sY289L14oPzpHRVR8SEVBRCkkLyxsbz0vXlwvXC8vLGRmPXt9LGNyPXt9LGdmPSIqLyIuY29uY2F0KCIqIiksbHI9Zi5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGxyLmhyZWY9dGkuaHJlZixpLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6dGkuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdCh0aS5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLCJhc3luYyI6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOmdmLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjppLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24obix0KXtyZXR1cm4gdD9hcihhcihuLGkuYWpheFNldHRpbmdzKSx0KTphcihpLmFqYXhTZXR0aW5ncyxuKX0sYWpheFByZWZpbHRlcjpuZShkZiksYWpheFRyYW5zcG9ydDpuZShjciksYWpheDpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGIodCxyLGYsYyl7dmFyIHYscnQsYixwLGcsbD1yO3N8fChzPSEwLGQmJm4uY2xlYXJUaW1lb3V0KGQpLGE9dm9pZCAwLGs9Y3x8IiIsZS5yZWFkeVN0YXRlPTA8dD80OjAsdj0yMDA8PXQmJnQ8MzAwfHwzMDQ9PT10LGYmJihwPWZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIGUsdSxmLG8scz1uLmNvbnRlbnRzLHI9bi5kYXRhVHlwZXM7IioiPT09clswXTspci5zaGlmdCgpLHZvaWQgMD09PWUmJihlPW4ubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcih1IGluIHMpaWYoc1t1XSYmc1t1XS50ZXN0KGUpKXtyLnVuc2hpZnQodSk7YnJlYWt9aWYoclswXWluIGkpZj1yWzBdO2Vsc2V7Zm9yKHUgaW4gaSl7aWYoIXJbMF18fG4uY29udmVydGVyc1t1KyIgIityWzBdXSl7Zj11O2JyZWFrfW98fChvPXUpfWY9Znx8b31pZihmKXJldHVybiBmIT09clswXSYmci51bnNoaWZ0KGYpLGlbZl19KHUsZSxmKSksIXYmJi0xPGkuaW5BcnJheSgic2NyaXB0Iix1LmRhdGFUeXBlcykmJmkuaW5BcnJheSgianNvbiIsdS5kYXRhVHlwZXMpPDAmJih1LmNvbnZlcnRlcnNbInRleHQgc2NyaXB0Il09ZnVuY3Rpb24oKXt9KSxwPWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBoLHUsZixzLGUsbz17fSxjPW4uZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IoZiBpbiBuLmNvbnZlcnRlcnMpb1tmLnRvTG93ZXJDYXNlKCldPW4uY29udmVydGVyc1tmXTtmb3IodT1jLnNoaWZ0KCk7dTspaWYobi5yZXNwb25zZUZpZWxkc1t1XSYmKGlbbi5yZXNwb25zZUZpZWxkc1t1XV09dCksIWUmJnImJm4uZGF0YUZpbHRlciYmKHQ9bi5kYXRhRmlsdGVyKHQsbi5kYXRhVHlwZSkpLGU9dSx1PWMuc2hpZnQoKSlpZigiKiI9PT11KXU9ZTtlbHNlIGlmKCIqIiE9PWUmJmUhPT11KXtpZighKGY9b1tlKyIgIit1XXx8b1siKiAiK3VdKSlmb3IoaCBpbiBvKWlmKChzPWguc3BsaXQoIiAiKSlbMV09PT11JiYoZj1vW2UrIiAiK3NbMF1dfHxvWyIqICIrc1swXV0pKXshMD09PWY/Zj1vW2hdOiEwIT09b1toXSYmKHU9c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKCEwIT09ZilpZihmJiZuLnRocm93cyl0PWYodCk7ZWxzZSB0cnl7dD1mKHQpfWNhdGNoKG4pe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmY/bjoiTm8gY29udmVyc2lvbiBmcm9tICIrZSsiIHRvICIrdX19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX0odSxwLGUsdiksdj8odS5pZk1vZGlmaWVkJiYoKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKSYmKGkubGFzdE1vZGlmaWVkW29dPWcpLChnPWUuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSkmJihpLmV0YWdbb109ZykpLDIwND09PXR8fCJIRUFEIj09PXUudHlwZT9sPSJub2NvbnRlbnQiOjMwND09PXQ/bD0ibm90bW9kaWZpZWQiOihsPXAuc3RhdGUscnQ9cC5kYXRhLHY9IShiPXAuZXJyb3IpKSk6KGI9bCwhdCYmbHx8KGw9ImVycm9yIix0PDAmJih0PTApKSksZS5zdGF0dXM9dCxlLnN0YXR1c1RleHQ9KHJ8fGwpKyIiLHY/dHQucmVzb2x2ZVdpdGgoaCxbcnQsbCxlXSk6dHQucmVqZWN0V2l0aChoLFtlLGwsYl0pLGUuc3RhdHVzQ29kZSh3KSx3PXZvaWQgMCx5JiZudC50cmlnZ2VyKHY/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbZSx1LHY/cnQ6Yl0pLGl0LmZpcmVXaXRoKGgsW2UsbF0pLHkmJihudC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtlLHVdKSwtLWkuYWN0aXZlfHxpLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX0ib2JqZWN0Ij09dHlwZW9mIHQmJihyPXQsdD12b2lkIDApO3I9cnx8e307dmFyIGEsbyxrLHYsZCxjLHMseSxnLHAsdT1pLmFqYXhTZXR1cCh7fSxyKSxoPXUuY29udGV4dHx8dSxudD11LmNvbnRleHQmJihoLm5vZGVUeXBlfHxoLmpxdWVyeSk/aShoKTppLmV2ZW50LHR0PWkuRGVmZXJyZWQoKSxpdD1pLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXUuc3RhdHVzQ29kZXx8e30scnQ9e30sdXQ9e30sZnQ9ImNhbmNlbGVkIixlPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24obil7dmFyIHQ7aWYocyl7aWYoIXYpZm9yKHY9e307dD1oby5leGVjKGspOyl2W3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPSh2W3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pO3Q9dltuLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHM/azpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXMmJihuPXV0W24udG9Mb3dlckNhc2UoKV09dXRbbi50b0xvd2VyQ2FzZSgpXXx8bixydFtuXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1zJiYodS5taW1lVHlwZT1uKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKG4pe3ZhciB0O2lmKG4paWYocyllLmFsd2F5cyhuW2Uuc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBuKXdbdF09W3dbdF0sblt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKG4pe3ZhciB0PW58fGZ0O3JldHVybiBhJiZhLmFib3J0KHQpLGIoMCx0KSx0aGlzfX07aWYodHQucHJvbWlzZShlKSx1LnVybD0oKHR8fHUudXJsfHx0aS5ocmVmKSsiIikucmVwbGFjZShsbyx0aS5wcm90b2NvbCsiLy8iKSx1LnR5cGU9ci5tZXRob2R8fHIudHlwZXx8dS5tZXRob2R8fHUudHlwZSx1LmRhdGFUeXBlcz0odS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbIiJdLG51bGw9PXUuY3Jvc3NEb21haW4pe2M9Zi5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2MuaHJlZj11LnVybDtjLmhyZWY9Yy5ocmVmO3UuY3Jvc3NEb21haW49bHIucHJvdG9jb2wrIi8vIitsci5ob3N0IT1jLnByb3RvY29sKyIvLyIrYy5ob3N0fWNhdGNoKHQpe3UuY3Jvc3NEb21haW49ITB9fWlmKHUuZGF0YSYmdS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB1LmRhdGEmJih1LmRhdGE9aS5wYXJhbSh1LmRhdGEsdS50cmFkaXRpb25hbCkpLHRlKGRmLHUscixlKSxzKXJldHVybiBlO2ZvcihnIGluKHk9aS5ldmVudCYmdS5nbG9iYWwpJiYwPT1pLmFjdGl2ZSsrJiZpLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHUudHlwZT11LnR5cGUudG9VcHBlckNhc2UoKSx1Lmhhc0NvbnRlbnQ9IWNvLnRlc3QodS50eXBlKSxvPXUudXJsLnJlcGxhY2Uob28sIiIpLHUuaGFzQ29udGVudD91LmRhdGEmJnUucHJvY2Vzc0RhdGEmJjA9PT0odS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodS5kYXRhPXUuZGF0YS5yZXBsYWNlKGVvLCIrIikpOihwPXUudXJsLnNsaWNlKG8ubGVuZ3RoKSx1LmRhdGEmJih1LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHUuZGF0YSkmJihvKz0oc3IudGVzdChvKT8iJiI6Ij8iKSt1LmRhdGEsZGVsZXRlIHUuZGF0YSksITE9PT11LmNhY2hlJiYobz1vLnJlcGxhY2Uoc28sIiQxIikscD0oc3IudGVzdChvKT8iJiI6Ij8iKSsiXz0iK2JmLmd1aWQrKytwKSx1LnVybD1vK3ApLHUuaWZNb2RpZmllZCYmKGkubGFzdE1vZGlmaWVkW29dJiZlLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixpLmxhc3RNb2RpZmllZFtvXSksaS5ldGFnW29dJiZlLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGkuZXRhZ1tvXSkpLCh1LmRhdGEmJnUuaGFzQ29udGVudCYmITEhPT11LmNvbnRlbnRUeXBlfHxyLmNvbnRlbnRUeXBlKSYmZS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHUuY29udGVudFR5cGUpLGUuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix1LmRhdGFUeXBlc1swXSYmdS5hY2NlcHRzW3UuZGF0YVR5cGVzWzBdXT91LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dKygiKiIhPT11LmRhdGFUeXBlc1swXT8iLCAiK2dmKyI7IHE9MC4wMSI6IiIpOnUuYWNjZXB0c1siKiJdKSx1LmhlYWRlcnMpZS5zZXRSZXF1ZXN0SGVhZGVyKGcsdS5oZWFkZXJzW2ddKTtpZih1LmJlZm9yZVNlbmQmJighMT09PXUuYmVmb3JlU2VuZC5jYWxsKGgsZSx1KXx8cykpcmV0dXJuIGUuYWJvcnQoKTtpZihmdD0iYWJvcnQiLGl0LmFkZCh1LmNvbXBsZXRlKSxlLmRvbmUodS5zdWNjZXNzKSxlLmZhaWwodS5lcnJvciksYT10ZShjcix1LHIsZSkpe2lmKGUucmVhZHlTdGF0ZT0xLHkmJm50LnRyaWdnZXIoImFqYXhTZW5kIixbZSx1XSkscylyZXR1cm4gZTt1LmFzeW5jJiYwPHUudGltZW91dCYmKGQ9bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hYm9ydCgidGltZW91dCIpfSx1LnRpbWVvdXQpKTt0cnl7cz0hMTthLnNlbmQocnQsYil9Y2F0Y2godCl7aWYocyl0aHJvdyB0O2IoLTEsdCl9fWVsc2UgYigtMSwiTm8gVHJhbnNwb3J0Iik7cmV0dXJuIGV9LGdldEpTT046ZnVuY3Rpb24obix0LHIpe3JldHVybiBpLmdldChuLHQsciwianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gaS5nZXQobix2b2lkIDAsdCwic2NyaXB0Iil9fSksaS5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKG4sdCl7aVt0XT1mdW5jdGlvbihuLHIsZixlKXtyZXR1cm4gdShyKSYmKGU9ZXx8ZixmPXIscj12b2lkIDApLGkuYWpheChpLmV4dGVuZCh7dXJsOm4sdHlwZTp0LGRhdGFUeXBlOmUsZGF0YTpyLHN1Y2Nlc3M6Zn0saS5pc1BsYWluT2JqZWN0KG4pJiZuKSl9fSksaS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuLmhlYWRlcnMpImNvbnRlbnQtdHlwZSI9PT10LnRvTG93ZXJDYXNlKCkmJihuLmNvbnRlbnRUeXBlPW4uaGVhZGVyc1t0XXx8IiIpfSksaS5fZXZhbFVybD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGkuYWpheCh7dXJsOm4sdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCwiYXN5bmMiOiExLGdsb2JhbDohMSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKCl7fX0sZGF0YUZpbHRlcjpmdW5jdGlvbihuKXtpLmdsb2JhbEV2YWwobix0LHIpfX0pfSxpLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHUobikmJihuPW4uY2FsbCh0aGlzWzBdKSksdD1pKG4sdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzO24uZmlyc3RFbGVtZW50Q2hpbGQ7KW49bi5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gbn0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiB1KG4pP3RoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyx0KSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMpLHI9dC5jb250ZW50cygpO3IubGVuZ3RoP3Iud3JhcEFsbChuKTp0LmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKG4pe3ZhciB0PXUobik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLndyYXBBbGwodD9uLmNhbGwodGhpcyxyKTpuKX0pfSx1bndyYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucGFyZW50KG4pLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGkuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihuKXtyZXR1cm4haS5leHByLnBzZXVkb3MudmlzaWJsZShuKX0saS5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihuKXtyZXR1cm4hIShuLm9mZnNldFdpZHRofHxuLm9mZnNldEhlaWdodHx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGkuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IG4uWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fX0saWU9ezA6MjAwLDEyMjM6MjA0fSx3dD1pLmFqYXhTZXR0aW5ncy54aHIoKSxlLmNvcnM9ISF3dCYmIndpdGhDcmVkZW50aWFscyJpbiB3dCxlLmFqYXg9d3Q9ISF3dCxpLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIGkscjtpZihlLmNvcnN8fHd0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbih1LGYpe3ZhciBvLGU9dC54aHIoKTtpZihlLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IobyBpbiB0LnhockZpZWxkcyllW29dPXQueGhyRmllbGRzW29dO2ZvcihvIGluIHQubWltZVR5cGUmJmUub3ZlcnJpZGVNaW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpLHQuY3Jvc3NEb21haW58fHVbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KHVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKSx1KWUuc2V0UmVxdWVzdEhlYWRlcihvLHVbb10pO2k9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7aSYmKGk9cj1lLm9ubG9hZD1lLm9uZXJyb3I9ZS5vbmFib3J0PWUub250aW1lb3V0PWUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PW4/ZS5hYm9ydCgpOiJlcnJvciI9PT1uPyJudW1iZXIiIT10eXBlb2YgZS5zdGF0dXM/ZigwLCJlcnJvciIpOmYoZS5zdGF0dXMsZS5zdGF0dXNUZXh0KTpmKGllW2Uuc3RhdHVzXXx8ZS5zdGF0dXMsZS5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShlLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBlLnJlc3BvbnNlVGV4dD97YmluYXJ5OmUucmVzcG9uc2V9Ont0ZXh0OmUucmVzcG9uc2VUZXh0fSxlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fTtlLm9ubG9hZD1pKCk7cj1lLm9uZXJyb3I9ZS5vbnRpbWVvdXQ9aSgiZXJyb3IiKTt2b2lkIDAhPT1lLm9uYWJvcnQ/ZS5vbmFib3J0PXI6ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09ZS5yZWFkeVN0YXRlJiZuLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpJiZyKCl9KX07aT1pKCJhYm9ydCIpO3RyeXtlLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKHUpe2lmKGkpdGhyb3cgdTt9fSxhYm9ydDpmdW5jdGlvbigpe2kmJmkoKX19fSksaS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKG4pe24uY3Jvc3NEb21haW4mJihuLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxpLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihuKXtyZXR1cm4gaS5nbG9iYWxFdmFsKG4pLG59fX0pLGkuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihuKXt2b2lkIDA9PT1uLmNhY2hlJiYobi5jYWNoZT0hMSk7bi5jcm9zc0RvbWFpbiYmKG4udHlwZT0iR0VUIil9KSxpLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsdDtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKHUsZSl7cj1pKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIix0PWZ1bmN0aW9uKG4pe3IucmVtb3ZlKCk7dD1udWxsO24mJmUoImVycm9yIj09PW4udHlwZT80MDQ6MjAwLG4udHlwZSl9KTtmLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7dCYmdCgpfX19KSx2cj1bXSx2aT0vKD0pXD8oPz0mfCQpfFw/XD8vLGkuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgbj12ci5wb3AoKXx8aS5leHBhbmRvKyJfIitiZi5ndWlkKys7cmV0dXJuIHRoaXNbbl09ITAsbn19KSxpLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHQscixmKXt2YXIgZSxvLHMsaD0hMSE9PXQuanNvbnAmJih2aS50ZXN0KHQudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJnZpLnRlc3QodC5kYXRhKSYmImRhdGEiKTtpZihofHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGU9dC5qc29ucENhbGxiYWNrPXUodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2ssaD90W2hdPXRbaF0ucmVwbGFjZSh2aSwiJDEiK2UpOiExIT09dC5qc29ucCYmKHQudXJsKz0oc3IudGVzdCh0LnVybCk/IiYiOiI/IikrdC5qc29ucCsiPSIrZSksdC5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIHN8fGkuZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksc1swXX0sdC5kYXRhVHlwZXNbMF09Impzb24iLG89bltlXSxuW2VdPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LGYuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz9pKG4pLnJlbW92ZVByb3AoZSk6bltlXT1vO3RbZV0mJih0Lmpzb25wQ2FsbGJhY2s9ci5qc29ucENhbGxiYWNrLHZyLnB1c2goZSkpO3MmJnUobykmJm8oc1swXSk7cz1vPXZvaWQgMH0pLCJzY3JpcHQifSksZS5jcmVhdGVIVE1MRG9jdW1lbnQ9KChyZT1mLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keSkuaW5uZXJIVE1MPSI8Zm9ybT48XC9mb3JtPjxmb3JtPjxcL2Zvcm0+IiwyPT09cmUuY2hpbGROb2Rlcy5sZW5ndGgpLGkucGFyc2VIVE1MPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIG4/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihyPXQsdD0hMSksdHx8KGUuY3JlYXRlSFRNTERvY3VtZW50Pygocz0odD1mLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLmNyZWF0ZUVsZW1lbnQoImJhc2UiKSkuaHJlZj1mLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHMpKTp0PWYpLHU9IXImJltdLChvPXdpLmV4ZWMobikpP1t0LmNyZWF0ZUVsZW1lbnQob1sxXSldOihvPXl1KFtuXSx0LHUpLHUmJnUubGVuZ3RoJiZpKHUpLnJlbW92ZSgpLGkubWVyZ2UoW10sby5jaGlsZE5vZGVzKSkpO3ZhciBzLG8sdX0saS5mbi5sb2FkPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZixzLGgsZT10aGlzLG89bi5pbmRleE9mKCIgIik7cmV0dXJuLTE8byYmKGY9dHQobi5zbGljZShvKSksbj1uLnNsaWNlKDAsbykpLHUodCk/KHI9dCx0PXZvaWQgMCk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYocz0iUE9TVCIpLDA8ZS5sZW5ndGgmJmkuYWpheCh7dXJsOm4sdHlwZTpzfHwiR0VUIixkYXRhVHlwZToiaHRtbCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihuKXtoPWFyZ3VtZW50cztlLmh0bWwoZj9pKCI8ZGl2PiIpLmFwcGVuZChpLnBhcnNlSFRNTChuKSkuZmluZChmKTpuKX0pLmFsd2F5cyhyJiZmdW5jdGlvbihuLHQpe2UuZWFjaChmdW5jdGlvbigpe3IuYXBwbHkodGhpcyxofHxbbi5yZXNwb25zZVRleHQsdCxuXSl9KX0pLHRoaXN9LGkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKG4pe3JldHVybiBpLmdyZXAoaS50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIG49PT10LmVsZW19KS5sZW5ndGh9LGkub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24obix0LHIpe3ZhciB2LG8scyxoLGYsYyxsPWkuY3NzKG4sInBvc2l0aW9uIiksYT1pKG4pLGU9e307InN0YXRpYyI9PT1sJiYobi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTtmPWEub2Zmc2V0KCk7cz1pLmNzcyhuLCJ0b3AiKTtjPWkuY3NzKG4sImxlZnQiKTsoImFic29sdXRlIj09PWx8fCJmaXhlZCI9PT1sKSYmLTE8KHMrYykuaW5kZXhPZigiYXV0byIpPyhoPSh2PWEucG9zaXRpb24oKSkudG9wLG89di5sZWZ0KTooaD1wYXJzZUZsb2F0KHMpfHwwLG89cGFyc2VGbG9hdChjKXx8MCk7dSh0KSYmKHQ9dC5jYWxsKG4scixpLmV4dGVuZCh7fSxmKSkpO251bGwhPXQudG9wJiYoZS50b3A9dC50b3AtZi50b3AraCk7bnVsbCE9dC5sZWZ0JiYoZS5sZWZ0PXQubGVmdC1mLmxlZnQrbyk7InVzaW5nImluIHQ/dC51c2luZy5jYWxsKG4sZSk6YS5jc3MoZSl9fSxpLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKG4pe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PW4/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7aS5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsbix0KX0pO3ZhciByLHUsdD10aGlzWzBdO2lmKHQpcmV0dXJuIHQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1PXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyx7dG9wOnIudG9wK3UucGFnZVlPZmZzZXQsbGVmdDpyLmxlZnQrdS5wYWdlWE9mZnNldH0pOnt0b3A6MCxsZWZ0OjB9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBuLHIsdSx0PXRoaXNbMF0sZj17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09aS5jc3ModCwicG9zaXRpb24iKSlyPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXtmb3Iocj10aGlzLm9mZnNldCgpLHU9dC5vd25lckRvY3VtZW50LG49dC5vZmZzZXRQYXJlbnR8fHUuZG9jdW1lbnRFbGVtZW50O24mJihuPT09dS5ib2R5fHxuPT09dS5kb2N1bWVudEVsZW1lbnQpJiYic3RhdGljIj09PWkuY3NzKG4sInBvc2l0aW9uIik7KW49bi5wYXJlbnROb2RlO24mJm4hPT10JiYxPT09bi5ub2RlVHlwZSYmKChmPWkobikub2Zmc2V0KCkpLnRvcCs9aS5jc3MobiwiYm9yZGVyVG9wV2lkdGgiLCEwKSxmLmxlZnQrPWkuY3NzKG4sImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnIudG9wLWYudG9wLWkuY3NzKHQsIm1hcmdpblRvcCIsITApLGxlZnQ6ci5sZWZ0LWYubGVmdC1pLmNzcyh0LCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXMub2Zmc2V0UGFyZW50O24mJiJzdGF0aWMiPT09aS5jc3MobiwicG9zaXRpb24iKTspbj1uLm9mZnNldFBhcmVudDtyZXR1cm4gbnx8Z30pfX0pLGkuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihuLHQpe3ZhciByPSJwYWdlWU9mZnNldCI9PT10O2kuZm5bbl09ZnVuY3Rpb24oaSl7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuLGksdSl7dmFyIGY7aWYocnQobik/Zj1uOjk9PT1uLm5vZGVUeXBlJiYoZj1uLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT11KXJldHVybiBmP2ZbdF06bltpXTtmP2Yuc2Nyb2xsVG8ocj9mLnBhZ2VYT2Zmc2V0OnUscj91OmYucGFnZVlPZmZzZXQpOm5baV09dX0sbixpLGFyZ3VtZW50cy5sZW5ndGgpfX0pLGkuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihuLHQpe2kuY3NzSG9va3NbdF09ZHUoZS5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKG4scil7aWYocilyZXR1cm4gcj1uaShuLHQpLHRyLnRlc3Qocik/aShuKS5wb3NpdGlvbigpW3RdKyJweCI6cn0pfSksaS5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24obix0KXtpLmVhY2goe3BhZGRpbmc6ImlubmVyIituLGNvbnRlbnQ6dCwiIjoib3V0ZXIiK259LGZ1bmN0aW9uKHIsdSl7aS5mblt1XT1mdW5jdGlvbihmLGUpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBmKSxzPXJ8fCghMD09PWZ8fCEwPT09ZT8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHcodGhpcyxmdW5jdGlvbih0LHIsZil7dmFyIGU7cmV0dXJuIHJ0KHQpPzA9PT11LmluZGV4T2YoIm91dGVyIik/dFsiaW5uZXIiK25dOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK25dOjk9PT10Lm5vZGVUeXBlPyhlPXQuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KHQuYm9keVsic2Nyb2xsIituXSxlWyJzY3JvbGwiK25dLHQuYm9keVsib2Zmc2V0IituXSxlWyJvZmZzZXQiK25dLGVbImNsaWVudCIrbl0pKTp2b2lkIDA9PT1mP2kuY3NzKHQscixzKTppLnN0eWxlKHQscixmLHMpfSx0LG8/Zjp2b2lkIDAsbyl9fSl9KSxpLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihuLHQpe2kuZm5bdF09ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMub24odCxuKX19KSxpLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub24obixudWxsLHQsaSl9LHVuYmluZDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9mZihuLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB0aGlzLm9uKHQsbixpLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYobiwiKioiKTp0aGlzLm9mZih0LG58fCIqKiIsaSl9LGhvdmVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihuKS5tb3VzZWxlYXZlKHR8fG4pfX0pLGkuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2kuZm5bdF09ZnVuY3Rpb24obixpKXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24odCxudWxsLG4saSk6dGhpcy50cmlnZ2VyKHQpfX0pLHVlPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxpLnByb3h5PWZ1bmN0aW9uKG4sdCl7dmFyIHIsZixlO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHI9blt0XSx0PW4sbj1yKSx1KG4pKXJldHVybiBmPWsuY2FsbChhcmd1bWVudHMsMiksKGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseSh0fHx0aGlzLGYuY29uY2F0KGsuY2FsbChhcmd1bWVudHMpKSl9KS5ndWlkPW4uZ3VpZD1uLmd1aWR8fGkuZ3VpZCsrLGV9LGkuaG9sZFJlYWR5PWZ1bmN0aW9uKG4pe24/aS5yZWFkeVdhaXQrKzppLnJlYWR5KCEwKX0saS5pc0FycmF5PUFycmF5LmlzQXJyYXksaS5wYXJzZUpTT049SlNPTi5wYXJzZSxpLm5vZGVOYW1lPWMsaS5pc0Z1bmN0aW9uPXUsaS5pc1dpbmRvdz1ydCxpLmNhbWVsQ2FzZT15LGkudHlwZT11dCxpLm5vdz1EYXRlLm5vdyxpLmlzTnVtZXJpYz1mdW5jdGlvbihuKXt2YXIgdD1pLnR5cGUobik7cmV0dXJuKCJudW1iZXIiPT09dHx8InN0cmluZyI9PT10KSYmIWlzTmFOKG4tcGFyc2VGbG9hdChuKSl9LGkudHJpbT1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj8iIjoobisiIikucmVwbGFjZSh1ZSwiIil9LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBpfSksZmU9bi5qUXVlcnksZWU9bi4kLGkubm9Db25mbGljdD1mdW5jdGlvbih0KXtyZXR1cm4gbi4kPT09aSYmKG4uJD1lZSksdCYmbi5qUXVlcnk9PT1pJiYobi5qUXVlcnk9ZmUpLGl9LCJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKG4ualF1ZXJ5PW4uJD1pKSxpfSk7DQovKiEgalF1ZXJ5IFZhbGlkYXRpb24gUGx1Z2luIC0gdjEuMTkuNSAtIDcvMS8yMDIyCiAqIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvCiAqIENvcHlyaWdodCAoYykgMjAyMiBKw7ZybiBaYWVmZmVyZXI7IExpY2Vuc2VkIE1JVCAqLwohZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXt2YXIgaSxyLHQ7cmV0dXJuIG4uZXh0ZW5kKG4uZm4se3ZhbGlkYXRlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdm9pZCh0JiZ0LmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKCJOb3RoaW5nIHNlbGVjdGVkLCBjYW4ndCB2YWxpZGF0ZSwgcmV0dXJuaW5nIG5vdGhpbmcuIikpO3ZhciBpPW4uZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiKTtyZXR1cm4gaT9pOih0aGlzLmF0dHIoIm5vdmFsaWRhdGUiLCJub3ZhbGlkYXRlIiksaT1uZXcgbi52YWxpZGF0b3IodCx0aGlzWzBdKSxuLmRhdGEodGhpc1swXSwidmFsaWRhdG9yIixpKSxpLnNldHRpbmdzLm9uc3VibWl0JiYodGhpcy5vbigiY2xpY2sudmFsaWRhdGUiLCI6c3VibWl0IixmdW5jdGlvbih0KXtpLnN1Ym1pdEJ1dHRvbj10LmN1cnJlbnRUYXJnZXQ7bih0aGlzKS5oYXNDbGFzcygiY2FuY2VsIikmJihpLmNhbmNlbFN1Ym1pdD0hMCk7dm9pZCAwIT09bih0aGlzKS5hdHRyKCJmb3Jtbm92YWxpZGF0ZSIpJiYoaS5jYW5jZWxTdWJtaXQ9ITApfSksdGhpcy5vbigic3VibWl0LnZhbGlkYXRlIixmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHIsdTtyZXR1cm4gaS5zdWJtaXRCdXR0b24mJihpLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXJ8fGkuZm9ybVN1Ym1pdHRlZCkmJihyPW4oIjxpbnB1dCB0eXBlPSdoaWRkZW4nLz4iKS5hdHRyKCJuYW1lIixpLnN1Ym1pdEJ1dHRvbi5uYW1lKS52YWwobihpLnN1Ym1pdEJ1dHRvbikudmFsKCkpLmFwcGVuZFRvKGkuY3VycmVudEZvcm0pKSwhKGkuc2V0dGluZ3Muc3VibWl0SGFuZGxlciYmIWkuc2V0dGluZ3MuZGVidWcpfHwodT1pLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIuY2FsbChpLGkuY3VycmVudEZvcm0sdCksciYmci5yZW1vdmUoKSx2b2lkIDAhPT11JiZ1KX1yZXR1cm4gaS5zZXR0aW5ncy5kZWJ1ZyYmdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FuY2VsU3VibWl0PyhpLmNhbmNlbFN1Ym1pdD0hMSxyKCkpOmkuZm9ybSgpP2kucGVuZGluZ1JlcXVlc3Q/KGkuZm9ybVN1Ym1pdHRlZD0hMCwhMSk6cigpOihpLmZvY3VzSW52YWxpZCgpLCExKX0pKSxpKX0sdmFsaWQ6ZnVuY3Rpb24oKXt2YXIgdCxpLHI7cmV0dXJuIG4odGhpc1swXSkuaXMoImZvcm0iKT90PXRoaXMudmFsaWRhdGUoKS5mb3JtKCk6KHI9W10sdD0hMCxpPW4odGhpc1swXS5mb3JtKS52YWxpZGF0ZSgpLHRoaXMuZWFjaChmdW5jdGlvbigpe3Q9aS5lbGVtZW50KHRoaXMpJiZ0O3R8fChyPXIuY29uY2F0KGkuZXJyb3JMaXN0KSl9KSxpLmVycm9yTGlzdD1yKSx0fSxydWxlczpmdW5jdGlvbih0LGkpe3ZhciBlLHMsZix1LG8saCxyPXRoaXNbMF0sYz0idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT10aGlzLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKG51bGwhPXImJighci5mb3JtJiZjJiYoci5mb3JtPXRoaXMuY2xvc2VzdCgiZm9ybSIpWzBdLHIubmFtZT10aGlzLmF0dHIoIm5hbWUiKSksbnVsbCE9ci5mb3JtKSl7aWYodClzd2l0Y2goZT1uLmRhdGEoci5mb3JtLCJ2YWxpZGF0b3IiKS5zZXR0aW5ncyxzPWUucnVsZXMsZj1uLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhyKSx0KXtjYXNlImFkZCI6bi5leHRlbmQoZixuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGkpKTtkZWxldGUgZi5tZXNzYWdlcztzW3IubmFtZV09ZjtpLm1lc3NhZ2VzJiYoZS5tZXNzYWdlc1tyLm5hbWVdPW4uZXh0ZW5kKGUubWVzc2FnZXNbci5uYW1lXSxpLm1lc3NhZ2VzKSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnJldHVybiBpPyhoPXt9LG4uZWFjaChpLnNwbGl0KC9ccy8pLGZ1bmN0aW9uKG4sdCl7aFt0XT1mW3RdO2RlbGV0ZSBmW3RdfSksaCk6KGRlbGV0ZSBzW3IubmFtZV0sZil9cmV0dXJuIHU9bi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZXMobi5leHRlbmQoe30sbi52YWxpZGF0b3IuY2xhc3NSdWxlcyhyKSxuLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhyKSxuLnZhbGlkYXRvci5kYXRhUnVsZXMociksbi52YWxpZGF0b3Iuc3RhdGljUnVsZXMocikpLHIpLHUucmVxdWlyZWQmJihvPXUucmVxdWlyZWQsZGVsZXRlIHUucmVxdWlyZWQsdT1uLmV4dGVuZCh7cmVxdWlyZWQ6b30sdSkpLHUucmVtb3RlJiYobz11LnJlbW90ZSxkZWxldGUgdS5yZW1vdGUsdT1uLmV4dGVuZCh1LHtyZW1vdGU6b30pKSx1fX19KSxpPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX0sbi5leHRlbmQobi5leHByLnBzZXVkb3N8fG4uZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbih0KXtyZXR1cm4haSgiIituKHQpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKHQpe3ZhciByPW4odCkudmFsKCk7cmV0dXJuIG51bGwhPT1yJiYhIWkoIiIrcil9LHVuY2hlY2tlZDpmdW5jdGlvbih0KXtyZXR1cm4hbih0KS5wcm9wKCJjaGVja2VkIil9fSksbi52YWxpZGF0b3I9ZnVuY3Rpb24odCxpKXt0aGlzLnNldHRpbmdzPW4uZXh0ZW5kKCEwLHt9LG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpO3RoaXMuY3VycmVudEZvcm09aTt0aGlzLmluaXQoKX0sbi52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGk9bi5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gaS51bnNoaWZ0KHQpLG4udmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGkpfTp2b2lkIDA9PT1pP3Q6KGFyZ3VtZW50cy5sZW5ndGg+MiYmaS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoaT1uLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxpLmNvbnN0cnVjdG9yIT09QXJyYXkmJihpPVtpXSksbi5lYWNoKGksZnVuY3Rpb24obixpKXt0PXQucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK24rIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBpfSl9KSx0KX0sbi5leHRlbmQobi52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6bihbXSksZXJyb3JMYWJlbENvbnRhaW5lcjpuKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihuKXt0aGlzLmxhc3RBY3RpdmU9bjt0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG4sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IobikpKX0sb25mb2N1c291dDpmdW5jdGlvbihuKXshdGhpcy5jaGVja2FibGUobikmJihuLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWR8fCF0aGlzLm9wdGlvbmFsKG4pKSYmdGhpcy5lbGVtZW50KG4pfSxvbmtleXVwOmZ1bmN0aW9uKHQsaSl7OT09PWkud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUodCl8fG4uaW5BcnJheShpLmtleUNvZGUsWzE2LDE3LDE4LDIwLDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDE0NCwyMjVdKSE9PS0xfHwodC5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHx0Lm5hbWUgaW4gdGhpcy5pbnZhbGlkKSYmdGhpcy5lbGVtZW50KHQpfSxvbmNsaWNrOmZ1bmN0aW9uKG4pe24ubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZD90aGlzLmVsZW1lbnQobik6bi5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQmJnRoaXMuZWxlbWVudChuLnBhcmVudE5vZGUpfSxoaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkuYWRkQ2xhc3MoaSkucmVtb3ZlQ2xhc3Mocik6bih0KS5hZGRDbGFzcyhpKS5yZW1vdmVDbGFzcyhyKX0sdW5oaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkucmVtb3ZlQ2xhc3MoaSkuYWRkQ2xhc3Mocik6bih0KS5yZW1vdmVDbGFzcyhpKS5hZGRDbGFzcyhyKX19LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe24uZXh0ZW5kKG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpfSxtZXNzYWdlczp7cmVxdWlyZWQ6IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIixyZW1vdGU6IlBsZWFzZSBmaXggdGhpcyBmaWVsZC4iLGVtYWlsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLiIsdXJsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuIixkYXRlOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlLiIsZGF0ZUlTTzoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZSAoSVNPKS4iLG51bWJlcjoiUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyLiIsZGlnaXRzOiJQbGVhc2UgZW50ZXIgb25seSBkaWdpdHMuIixlcXVhbFRvOiJQbGVhc2UgZW50ZXIgdGhlIHNhbWUgdmFsdWUgYWdhaW4uIixtYXhsZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLiIpLG1pbmxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy4iKSxyYW5nZWxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0gY2hhcmFjdGVycyBsb25nLiIpLHJhbmdlOm4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS4iKSxtYXg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLG1pbjpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MH0uIiksc3RlcDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS4iKX0sYXV0b0NyZWF0ZVJhbmdlczohMSxwcm90b3R5cGU6e2luaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2Ygbih0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PW4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYoIXRoaXMuZm9ybSYmZSYmKHRoaXMuZm9ybT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKVswXSx0aGlzLm5hbWU9bih0aGlzKS5hdHRyKCJuYW1lIikpLHI9PT10aGlzLmZvcm0pe3ZhciB1PW4uZGF0YSh0aGlzLmZvcm0sInZhbGlkYXRvciIpLGY9Im9uIit0LnR5cGUucmVwbGFjZSgvXnZhbGlkYXRlLywiIiksaT11LnNldHRpbmdzO2lbZl0mJiFuKHRoaXMpLmlzKGkuaWdub3JlKSYmaVtmXS5jYWxsKHUsdGhpcyx0KX19dGhpcy5sYWJlbENvbnRhaW5lcj1uKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5lcnJvckNvbnRleHQ9dGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGgmJnRoaXMubGFiZWxDb250YWluZXJ8fG4odGhpcy5jdXJyZW50Rm9ybSk7dGhpcy5jb250YWluZXJzPW4odGhpcy5zZXR0aW5ncy5lcnJvckNvbnRhaW5lcikuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5zdWJtaXR0ZWQ9e307dGhpcy52YWx1ZUNhY2hlPXt9O3RoaXMucGVuZGluZ1JlcXVlc3Q9MDt0aGlzLnBlbmRpbmc9e307dGhpcy5pbnZhbGlkPXt9O3RoaXMucmVzZXQoKTt2YXIgdCxyPXRoaXMuY3VycmVudEZvcm0sdT10aGlzLmdyb3Vwcz17fTtuLmVhY2godGhpcy5zZXR0aW5ncy5ncm91cHMsZnVuY3Rpb24odCxpKXsic3RyaW5nIj09dHlwZW9mIGkmJihpPWkuc3BsaXQoL1xzLykpO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7dVtpXT10fSl9KTt0PXRoaXMuc2V0dGluZ3MucnVsZXM7bi5lYWNoKHQsZnVuY3Rpb24oaSxyKXt0W2ldPW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUocil9KTtuKHRoaXMuY3VycmVudEZvcm0pLm9uKCJmb2N1c2luLnZhbGlkYXRlIGZvY3Vzb3V0LnZhbGlkYXRlIGtleXVwLnZhbGlkYXRlIiwiOnRleHQsIFt0eXBlPSdwYXNzd29yZCddLCBbdHlwZT0nZmlsZSddLCBzZWxlY3QsIHRleHRhcmVhLCBbdHlwZT0nbnVtYmVyJ10sIFt0eXBlPSdzZWFyY2gnXSwgW3R5cGU9J3RlbCddLCBbdHlwZT0ndXJsJ10sIFt0eXBlPSdlbWFpbCddLCBbdHlwZT0nZGF0ZXRpbWUnXSwgW3R5cGU9J2RhdGUnXSwgW3R5cGU9J21vbnRoJ10sIFt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW2NvbnRlbnRlZGl0YWJsZV0sIFt0eXBlPSdidXR0b24nXSIsaSkub24oImNsaWNrLnZhbGlkYXRlIiwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSIsaSk7dGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlciYmbih0aGlzLmN1cnJlbnRGb3JtKS5vbigiaW52YWxpZC1mb3JtLnZhbGlkYXRlIix0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyKX0sZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrRm9ybSgpLG4uZXh0ZW5kKHRoaXMuc3VibWl0dGVkLHRoaXMuZXJyb3JNYXApLHRoaXMuaW52YWxpZD1uLmV4dGVuZCh7fSx0aGlzLmVycm9yTWFwKSx0aGlzLnZhbGlkKCl8fG4odGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoImludmFsaWQtZm9ybSIsW3RoaXNdKSx0aGlzLnNob3dFcnJvcnMoKSx0aGlzLnZhbGlkKCl9LGNoZWNrRm9ybTpmdW5jdGlvbigpe3RoaXMucHJlcGFyZUZvcm0oKTtmb3IodmFyIG49MCx0PXRoaXMuY3VycmVudEVsZW1lbnRzPXRoaXMuZWxlbWVudHMoKTt0W25dO24rKyl0aGlzLmNoZWNrKHRbbl0pO3JldHVybiB0aGlzLnZhbGlkKCl9LGVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMuY2xlYW4odCkscj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoaSksdT10aGlzLGY9ITA7cmV0dXJuIHZvaWQgMD09PXI/ZGVsZXRlIHRoaXMuaW52YWxpZFtpLm5hbWVdOih0aGlzLnByZXBhcmVFbGVtZW50KHIpLHRoaXMuY3VycmVudEVsZW1lbnRzPW4ociksbz10aGlzLmdyb3Vwc1tyLm5hbWVdLG8mJm4uZWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihuLHQpe3Q9PT1vJiZuIT09ci5uYW1lJiYoaT11LnZhbGlkYXRpb25UYXJnZXRGb3IodS5jbGVhbih1LmZpbmRCeU5hbWUobikpKSxpJiZpLm5hbWUgaW4gdS5pbnZhbGlkJiYodS5jdXJyZW50RWxlbWVudHMucHVzaChpKSxmPXUuY2hlY2soaSkmJmYpKX0pLGU9dGhpcy5jaGVjayhyKSE9PSExLGY9ZiYmZSx0aGlzLmludmFsaWRbci5uYW1lXT1lPyExOiEwLHRoaXMubnVtYmVyT2ZJbnZhbGlkcygpfHwodGhpcy50b0hpZGU9dGhpcy50b0hpZGUuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2hvd0Vycm9ycygpLG4odCkuYXR0cigiYXJpYS1pbnZhbGlkIiwhZSkpLGZ9LHNob3dFcnJvcnM6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGk9dGhpcztuLmV4dGVuZCh0aGlzLmVycm9yTWFwLHQpO3RoaXMuZXJyb3JMaXN0PW4ubWFwKHRoaXMuZXJyb3JNYXAsZnVuY3Rpb24obix0KXtyZXR1cm57bWVzc2FnZTpuLGVsZW1lbnQ6aS5maW5kQnlOYW1lKHQpWzBdfX0pO3RoaXMuc3VjY2Vzc0xpc3Q9bi5ncmVwKHRoaXMuc3VjY2Vzc0xpc3QsZnVuY3Rpb24obil7cmV0dXJuIShuLm5hbWUgaW4gdCl9KX10aGlzLnNldHRpbmdzLnNob3dFcnJvcnM/dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzLmNhbGwodGhpcyx0aGlzLmVycm9yTWFwLHRoaXMuZXJyb3JMaXN0KTp0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCl9LHJlc2V0Rm9ybTpmdW5jdGlvbigpe24uZm4ucmVzZXRGb3JtJiZuKHRoaXMuY3VycmVudEZvcm0pLnJlc2V0Rm9ybSgpO3RoaXMuaW52YWxpZD17fTt0aGlzLnN1Ym1pdHRlZD17fTt0aGlzLnByZXBhcmVGb3JtKCk7dGhpcy5oaWRlRXJyb3JzKCk7dmFyIHQ9dGhpcy5lbGVtZW50cygpLnJlbW92ZURhdGEoInByZXZpb3VzVmFsdWUiKS5yZW1vdmVBdHRyKCJhcmlhLWludmFsaWQiKTt0aGlzLnJlc2V0RWxlbWVudHModCl9LHJlc2V0RWxlbWVudHM6ZnVuY3Rpb24obil7dmFyIHQ7aWYodGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodClmb3IodD0wO25bdF07dCsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG5bdF0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCIiKSx0aGlzLmZpbmRCeU5hbWUoblt0XS5uYW1lKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO2Vsc2Ugbi5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyl9LG51bWJlck9mSW52YWxpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgodGhpcy5pbnZhbGlkKX0sb2JqZWN0TGVuZ3RoOmZ1bmN0aW9uKG4pe3ZhciB0LGk9MDtmb3IodCBpbiBuKXZvaWQgMCE9PW5bdF0mJm51bGwhPT1uW3RdJiZuW3RdIT09ITEmJmkrKztyZXR1cm4gaX0saGlkZUVycm9yczpmdW5jdGlvbigpe3RoaXMuaGlkZVRoZXNlKHRoaXMudG9IaWRlKX0saGlkZVRoZXNlOmZ1bmN0aW9uKG4pe24ubm90KHRoaXMuY29udGFpbmVycykudGV4dCgiIik7dGhpcy5hZGRXcmFwcGVyKG4pLmhpZGUoKX0sdmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZSgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aH0sZm9jdXNJbnZhbGlkOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5mb2N1c0ludmFsaWQpdHJ5e24odGhpcy5maW5kTGFzdEFjdGl2ZSgpfHx0aGlzLmVycm9yTGlzdC5sZW5ndGgmJnRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnR8fFtdKS5maWx0ZXIoIjp2aXNpYmxlIikudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKCJmb2N1c2luIil9Y2F0Y2godCl7fX0sZmluZExhc3RBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhc3RBY3RpdmU7cmV0dXJuIHQmJjE9PT1uLmdyZXAodGhpcy5lcnJvckxpc3QsZnVuY3Rpb24obil7cmV0dXJuIG4uZWxlbWVudC5uYW1lPT09dC5uYW1lfSkubGVuZ3RoJiZ0fSxlbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT17fTtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV0iKS5ub3QoIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWQiKS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpLmZpbHRlcihmdW5jdGlvbigpe3ZhciByPXRoaXMubmFtZXx8bih0aGlzKS5hdHRyKCJuYW1lIiksdT0idW5kZWZpbmVkIiE9dHlwZW9mIG4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1uKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiFyJiZ0LnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcigiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWQiLHRoaXMpLHUmJih0aGlzLmZvcm09bih0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPXIpLHRoaXMuZm9ybT09PXQuY3VycmVudEZvcm0mJiEociBpbiBpfHwhdC5vYmplY3RMZW5ndGgobih0aGlzKS5ydWxlcygpKSkmJihpW3JdPSEwLCEwKX0pfSxjbGVhbjpmdW5jdGlvbih0KXtyZXR1cm4gbih0KVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBuKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIit0LHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdO3RoaXMuZXJyb3JMaXN0PVtdO3RoaXMuZXJyb3JNYXA9e307dGhpcy50b1Nob3c9bihbXSk7dGhpcy50b0hpZGU9bihbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpO3RoaXMuY3VycmVudEVsZW1lbnRzPW4oW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKTt0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihuKXt0aGlzLnJlc2V0KCk7dGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3Iobil9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPXQudHlwZSxlPSJ1bmRlZmluZWQiIT10eXBlb2YgdS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC52YWxpZGl0eT90LnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOnUudmFsKCk6KGk9ZT91LnRleHQoKTp1LnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWkuc3Vic3RyKDAsMTIpP2kuc3Vic3RyKDEyKToocj1pLmxhc3RJbmRleE9mKCIvIikscj49MD9pLnN1YnN0cihyKzEpOihyPWkubGFzdEluZGV4T2YoIlxcIikscj49MD9pLnN1YnN0cihyKzEpOmkpKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKC9cci9nLCIiKTppKX0sY2hlY2s6ZnVuY3Rpb24odCl7dD10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbih0KSk7dmFyIHUsZixyLGUsaT1uKHQpLnJ1bGVzKCksYz1uLm1hcChpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9KS5sZW5ndGgscz0hMSxoPXRoaXMuZWxlbWVudFZhbHVlKHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBpLm5vcm1hbGl6ZXI/ZT1pLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGU9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKTtlJiYoaD1lLmNhbGwodCxoKSxkZWxldGUgaS5ub3JtYWxpemVyKTtmb3IoZiBpbiBpKXtyPXttZXRob2Q6ZixwYXJhbWV0ZXJzOmlbZl19O3RyeXtpZih1PW4udmFsaWRhdG9yLm1ldGhvZHNbZl0uY2FsbCh0aGlzLGgsdCxyLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PXUmJjE9PT1jKXtzPSEwO2NvbnRpbnVlfWlmKHM9ITEsInBlbmRpbmciPT09dSlyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IodCkpKTtpZighdSlyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQodCxyKSwhMX1jYXRjaChvKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIit0LmlkKyIsIGNoZWNrIHRoZSAnIityLm1ldGhvZCsiJyBtZXRob2QuIixvKSxvIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoby5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK3QuaWQrIiwgY2hlY2sgdGhlICciK3IubWV0aG9kKyInIG1ldGhvZC4iKSxvO319aWYoIXMpcmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKGkpJiZ0aGlzLnN1Y2Nlc3NMaXN0LnB1c2godCksITB9LGN1c3RvbURhdGFNZXNzYWdlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkuZGF0YSgibXNnIitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpfHxuKHQpLmRhdGEoIm1zZyIpfSxjdXN0b21NZXNzYWdlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tuXTtyZXR1cm4gaSYmKGkuY29uc3RydWN0b3I9PT1TdHJpbmc/aTppW3RdKX0sZmluZERlZmluZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWFyZ3VtZW50c1tuXSlyZXR1cm4gYXJndW1lbnRzW25dfSxkZWZhdWx0TWVzc2FnZTpmdW5jdGlvbih0LGkpeyJzdHJpbmciPT10eXBlb2YgaSYmKGk9e21ldGhvZDppfSk7dmFyIHI9dGhpcy5maW5kRGVmaW5lZCh0aGlzLmN1c3RvbU1lc3NhZ2UodC5uYW1lLGkubWV0aG9kKSx0aGlzLmN1c3RvbURhdGFNZXNzYWdlKHQsaS5tZXRob2QpLCF0aGlzLnNldHRpbmdzLmlnbm9yZVRpdGxlJiZ0LnRpdGxlfHx2b2lkIDAsbi52YWxpZGF0b3IubWVzc2FnZXNbaS5tZXRob2RdLCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgIit0Lm5hbWUrIjxcL3N0cm9uZz4iKSx1PS9cJD9ceyhcZCspXH0vZztyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj9yPXIuY2FsbCh0aGlzLGkucGFyYW1ldGVycyx0KTp1LnRlc3QocikmJihyPW4udmFsaWRhdG9yLmZvcm1hdChyLnJlcGxhY2UodSwieyQxfSIpLGkucGFyYW1ldGVycykpLHJ9LGZvcm1hdEFuZEFkZDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZGVmYXVsdE1lc3NhZ2Uobix0KTt0aGlzLmVycm9yTGlzdC5wdXNoKHttZXNzYWdlOmksZWxlbWVudDpuLG1ldGhvZDp0Lm1ldGhvZH0pO3RoaXMuZXJyb3JNYXBbbi5uYW1lXT1pO3RoaXMuc3VibWl0dGVkW24ubmFtZV09aX0sYWRkV3JhcHBlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYobj1uLmFkZChuLnBhcmVudCh0aGlzLnNldHRpbmdzLndyYXBwZXIpKSksbn0sZGVmYXVsdFNob3dFcnJvcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGksdCxuPTA7dGhpcy5lcnJvckxpc3Rbbl07bisrKXQ9dGhpcy5lcnJvckxpc3Rbbl0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwodC5lbGVtZW50LHQubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3Iobj0wO3RoaXMuc3VjY2Vzc0xpc3Rbbl07bisrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3Rbbl0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKG49MCxpPXRoaXMudmFsaWRFbGVtZW50cygpO2lbbl07bisrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGlbbl0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KTt0aGlzLmhpZGVFcnJvcnMoKTt0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbih0LGkpe3ZhciB1LHMsZSxvLHI9dGhpcy5lcnJvcnNGb3IodCksaD10aGlzLmlkT3JOYW1lKHQpLGY9bih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7ci5sZW5ndGg/KHIucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLHIuaHRtbChpKSk6KHI9bigiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaCsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGl8fCIiKSx1PXIsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYodT1yLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZCh1KTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLHUsbih0KSk6dS5pbnNlcnRBZnRlcih0KSxyLmlzKCJsYWJlbCIpP3IuYXR0cigiZm9yIixoKTowPT09ci5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGgpKyInXSIpLmxlbmd0aCYmKGU9ci5hdHRyKCJpZCIpLGY/Zi5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShlKSsiXFxiIikpfHwoZis9IiAiK2UpOmY9ZSxuKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGYpLHM9dGhpcy5ncm91cHNbdC5uYW1lXSxzJiYobz10aGlzLG4uZWFjaChvLmdyb3VwcyxmdW5jdGlvbih0LGkpe2k9PT1zJiZuKCJbbmFtZT0nIitvLmVzY2FwZUNzc01ldGEodCkrIiddIixvLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixyLmF0dHIoImlkIikpfSkpKSk7IWkmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKHIudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/ci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhyLHQpKTt0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQocil9LGVycm9yc0ZvcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZSh0KSksdT1uKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxpPSJsYWJlbFtmb3I9JyIrcisiJ10sIGxhYmVsW2Zvcj0nIityKyInXSAqIjtyZXR1cm4gdSYmKGk9aSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEodSkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihpKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj8iIjpuLnJlcGxhY2UoLyhbXFwhIiMkJSYnKCkqKywuLzo7PD0+P0BcW1xdXmB7fH1+XSkvZywiXFwkMSIpfSxpZE9yTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5ncm91cHNbbi5uYW1lXXx8KHRoaXMuY2hlY2thYmxlKG4pP24ubmFtZTpuLmlkfHxuLm5hbWUpfSx2YWxpZGF0aW9uVGFyZ2V0Rm9yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrYWJsZSh0KSYmKHQ9dGhpcy5maW5kQnlOYW1lKHQubmFtZSkpLG4odCkubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKVswXX0sY2hlY2thYmxlOmZ1bmN0aW9uKG4pe3JldHVybi9yYWRpb3xjaGVja2JveC9pLnRlc3Qobi50eXBlKX0sZmluZEJ5TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJbbmFtZT0nIit0aGlzLmVzY2FwZUNzc01ldGEodCkrIiddIil9LGdldExlbmd0aDpmdW5jdGlvbih0LGkpe3N3aXRjaChpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2Uic2VsZWN0IjpyZXR1cm4gbigib3B0aW9uOnNlbGVjdGVkIixpKS5sZW5ndGg7Y2FzZSJpbnB1dCI6aWYodGhpcy5jaGVja2FibGUoaSkpcmV0dXJuIHRoaXMuZmluZEJ5TmFtZShpLm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS5sZW5ndGh9cmV0dXJuIHQubGVuZ3RofSxkZXBlbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4hdGhpcy5kZXBlbmRUeXBlc1t0eXBlb2Ygbl18fHRoaXMuZGVwZW5kVHlwZXNbdHlwZW9mIG5dKG4sdCl9LGRlcGVuZFR5cGVzOntib29sZWFuOmZ1bmN0aW9uKG4pe3JldHVybiBufSxzdHJpbmc6ZnVuY3Rpb24odCxpKXtyZXR1cm4hIW4odCxpLmZvcm0pLmxlbmd0aH0sImZ1bmN0aW9uIjpmdW5jdGlvbihuLHQpe3JldHVybiBuKHQpfX0sb3B0aW9uYWw6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5lbGVtZW50VmFsdWUodCk7cmV0dXJuIW4udmFsaWRhdG9yLm1ldGhvZHMucmVxdWlyZWQuY2FsbCh0aGlzLGksdCkmJiJkZXBlbmRlbmN5LW1pc21hdGNoIn0sc3RhcnRSZXF1ZXN0OmZ1bmN0aW9uKHQpe3RoaXMucGVuZGluZ1t0Lm5hbWVdfHwodGhpcy5wZW5kaW5nUmVxdWVzdCsrLG4odCkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5wZW5kaW5nQ2xhc3MpLHRoaXMucGVuZGluZ1t0Lm5hbWVdPSEwKX0sc3RvcFJlcXVlc3Q6ZnVuY3Rpb24odCxpKXt0aGlzLnBlbmRpbmdSZXF1ZXN0LS07dGhpcy5wZW5kaW5nUmVxdWVzdDwwJiYodGhpcy5wZW5kaW5nUmVxdWVzdD0wKTtkZWxldGUgdGhpcy5wZW5kaW5nW3QubmFtZV07bih0KS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyk7aSYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3QmJnRoaXMuZm9ybVN1Ym1pdHRlZCYmdGhpcy5mb3JtKCkmJjA9PT10aGlzLnBlbmRpbmdSZXF1ZXN0PyhuKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXIoInN1Ym1pdCIpLHRoaXMuc3VibWl0QnV0dG9uJiZuKCJpbnB1dDpoaWRkZW5bbmFtZT0nIit0aGlzLnN1Ym1pdEJ1dHRvbi5uYW1lKyInXSIsdGhpcy5jdXJyZW50Rm9ybSkucmVtb3ZlKCksdGhpcy5mb3JtU3VibWl0dGVkPSExKTohaSYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3QmJnRoaXMuZm9ybVN1Ym1pdHRlZCYmKG4odGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoImludmFsaWQtZm9ybSIsW3RoaXNdKSx0aGlzLmZvcm1TdWJtaXR0ZWQ9ITEpfSxwcmV2aW91c1ZhbHVlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGk9InN0cmluZyI9PXR5cGVvZiBpJiZpfHwicmVtb3RlIixuLmRhdGEodCwicHJldmlvdXNWYWx1ZSIpfHxuLmRhdGEodCwicHJldmlvdXNWYWx1ZSIse29sZDpudWxsLHZhbGlkOiEwLG1lc3NhZ2U6dGhpcy5kZWZhdWx0TWVzc2FnZSh0LHttZXRob2Q6aX0pfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Rm9ybSgpO24odGhpcy5jdXJyZW50Rm9ybSkub2ZmKCIudmFsaWRhdGUiKS5yZW1vdmVEYXRhKCJ2YWxpZGF0b3IiKS5maW5kKCIudmFsaWRhdGUtZXF1YWxUby1ibHVyIikub2ZmKCIudmFsaWRhdGUtZXF1YWxUbyIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5maW5kKCIudmFsaWRhdGUtbGVzc1RoYW4tYmx1ciIpLm9mZigiLnZhbGlkYXRlLWxlc3NUaGFuIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWxlc3NUaGFuLWJsdXIiKS5maW5kKCIudmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyIikub2ZmKCIudmFsaWRhdGUtbGVzc1RoYW5FcXVhbCIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1sZXNzVGhhbkVxdWFsLWJsdXIiKS5maW5kKCIudmFsaWRhdGUtZ3JlYXRlclRoYW5FcXVhbC1ibHVyIikub2ZmKCIudmFsaWRhdGUtZ3JlYXRlclRoYW5FcXVhbCIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsLWJsdXIiKS5maW5kKCIudmFsaWRhdGUtZ3JlYXRlclRoYW4tYmx1ciIpLm9mZigiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWdyZWF0ZXJUaGFuLWJsdXIiKX19LGNsYXNzUnVsZVNldHRpbmdzOntyZXF1aXJlZDp7cmVxdWlyZWQ6ITB9LGVtYWlsOntlbWFpbDohMH0sdXJsOnt1cmw6ITB9LGRhdGU6e2RhdGU6ITB9LGRhdGVJU086e2RhdGVJU086ITB9LG51bWJlcjp7bnVtYmVyOiEwfSxkaWdpdHM6e2RpZ2l0czohMH0sY3JlZGl0Y2FyZDp7Y3JlZGl0Y2FyZDohMH19LGFkZENsYXNzUnVsZXM6ZnVuY3Rpb24odCxpKXt0LmNvbnN0cnVjdG9yPT09U3RyaW5nP3RoaXMuY2xhc3NSdWxlU2V0dGluZ3NbdF09aTpuLmV4dGVuZCh0aGlzLmNsYXNzUnVsZVNldHRpbmdzLHQpfSxjbGFzc1J1bGVzOmZ1bmN0aW9uKHQpe3ZhciBpPXt9LHI9bih0KS5hdHRyKCJjbGFzcyIpO3JldHVybiByJiZuLmVhY2goci5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7dGhpcyBpbiBuLnZhbGlkYXRvci5jbGFzc1J1bGVTZXR0aW5ncyYmbi5leHRlbmQoaSxuLnZhbGlkYXRvci5jbGFzc1J1bGVTZXR0aW5nc1t0aGlzXSl9KSxpfSxub3JtYWxpemVBdHRyaWJ1dGVSdWxlOmZ1bmN0aW9uKG4sdCxpLHIpey9taW58bWF4fHN0ZXAvLnRlc3QoaSkmJihudWxsPT09dHx8L251bWJlcnxyYW5nZXx0ZXh0Ly50ZXN0KHQpKSYmKHI9TnVtYmVyKHIpLGlzTmFOKHIpJiYocj12b2lkIDApKTtyfHwwPT09cj9uW2ldPXI6dD09PWkmJiJyYW5nZSIhPT10JiYoblsiZGF0ZSI9PT10PyJkYXRlSVNPIjppXT0hMCl9LGF0dHJpYnV0ZVJ1bGVzOmZ1bmN0aW9uKHQpe3ZhciByLGksdT17fSxmPW4odCksZT10LmdldEF0dHJpYnV0ZSgidHlwZSIpO2ZvcihyIGluIG4udmFsaWRhdG9yLm1ldGhvZHMpInJlcXVpcmVkIj09PXI/KGk9dC5nZXRBdHRyaWJ1dGUociksIiI9PT1pJiYoaT0hMCksaT0hIWkpOmk9Zi5hdHRyKHIpLHRoaXMubm9ybWFsaXplQXR0cmlidXRlUnVsZSh1LGUscixpKTtyZXR1cm4gdS5tYXhsZW5ndGgmJi8tMXwyMTQ3NDgzNjQ3fDUyNDI4OC8udGVzdCh1Lm1heGxlbmd0aCkmJmRlbGV0ZSB1Lm1heGxlbmd0aCx1fSxkYXRhUnVsZXM6ZnVuY3Rpb24odCl7dmFyIGkscix1PXt9LGY9bih0KSxlPXQuZ2V0QXR0cmlidXRlKCJ0eXBlIik7Zm9yKGkgaW4gbi52YWxpZGF0b3IubWV0aG9kcylyPWYuZGF0YSgicnVsZSIraS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpKSwiIj09PXImJihyPSEwKSx0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUodSxlLGkscik7cmV0dXJuIHV9LHN0YXRpY1J1bGVzOmZ1bmN0aW9uKHQpe3ZhciBpPXt9LHI9bi5kYXRhKHQuZm9ybSwidmFsaWRhdG9yIik7cmV0dXJuIHIuc2V0dGluZ3MucnVsZXMmJihpPW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoci5zZXR0aW5ncy5ydWxlc1t0Lm5hbWVdKXx8e30pLGl9LG5vcm1hbGl6ZVJ1bGVzOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHIsdSl7aWYodT09PSExKXJldHVybiB2b2lkIGRlbGV0ZSB0W3JdO2lmKHUucGFyYW18fHUuZGVwZW5kcyl7dmFyIGY9ITA7c3dpdGNoKHR5cGVvZiB1LmRlcGVuZHMpe2Nhc2Uic3RyaW5nIjpmPSEhbih1LmRlcGVuZHMsaS5mb3JtKS5sZW5ndGg7YnJlYWs7Y2FzZSJmdW5jdGlvbiI6Zj11LmRlcGVuZHMuY2FsbChpLGkpfWY/dFtyXT12b2lkIDA9PT11LnBhcmFtfHx1LnBhcmFtOihuLmRhdGEoaS5mb3JtLCJ2YWxpZGF0b3IiKS5yZXNldEVsZW1lbnRzKG4oaSkpLGRlbGV0ZSB0W3JdKX19KSxuLmVhY2godCxmdW5jdGlvbihuLHIpe3Rbbl09ImZ1bmN0aW9uIj09dHlwZW9mIHImJiJub3JtYWxpemVyIiE9PW4/cihpKTpyfSksbi5lYWNoKFsibWlubGVuZ3RoIiwibWF4bGVuZ3RoIl0sZnVuY3Rpb24oKXt0W3RoaXNdJiYodFt0aGlzXT1OdW1iZXIodFt0aGlzXSkpfSksbi5lYWNoKFsicmFuZ2VsZW5ndGgiLCJyYW5nZSJdLGZ1bmN0aW9uKCl7dmFyIG47dFt0aGlzXSYmKEFycmF5LmlzQXJyYXkodFt0aGlzXSk/dFt0aGlzXT1bTnVtYmVyKHRbdGhpc11bMF0pLE51bWJlcih0W3RoaXNdWzFdKV06InN0cmluZyI9PXR5cGVvZiB0W3RoaXNdJiYobj10W3RoaXNdLnJlcGxhY2UoL1tcW1xdXS9nLCIiKS5zcGxpdCgvW1xzLF0rLyksdFt0aGlzXT1bTnVtYmVyKG5bMF0pLE51bWJlcihuWzFdKV0pKX0pLG4udmFsaWRhdG9yLmF1dG9DcmVhdGVSYW5nZXMmJihudWxsIT10Lm1pbiYmbnVsbCE9dC5tYXgmJih0LnJhbmdlPVt0Lm1pbix0Lm1heF0sZGVsZXRlIHQubWluLGRlbGV0ZSB0Lm1heCksbnVsbCE9dC5taW5sZW5ndGgmJm51bGwhPXQubWF4bGVuZ3RoJiYodC5yYW5nZWxlbmd0aD1bdC5taW5sZW5ndGgsdC5tYXhsZW5ndGhdLGRlbGV0ZSB0Lm1pbmxlbmd0aCxkZWxldGUgdC5tYXhsZW5ndGgpKSx0fSxub3JtYWxpemVSdWxlOmZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGk9e307bi5lYWNoKHQuc3BsaXQoL1xzLyksZnVuY3Rpb24oKXtpW3RoaXNdPSEwfSk7dD1pfXJldHVybiB0fSxhZGRNZXRob2Q6ZnVuY3Rpb24odCxpLHIpe24udmFsaWRhdG9yLm1ldGhvZHNbdF09aTtuLnZhbGlkYXRvci5tZXNzYWdlc1t0XT12b2lkIDAhPT1yP3I6bi52YWxpZGF0b3IubWVzc2FnZXNbdF07aS5sZW5ndGg8MyYmbi52YWxpZGF0b3IuYWRkQ2xhc3NSdWxlcyh0LG4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUodCkpfSxtZXRob2RzOntyZXF1aXJlZDpmdW5jdGlvbih0LGkscil7aWYoIXRoaXMuZGVwZW5kKHIsaSkpcmV0dXJuImRlcGVuZGVuY3ktbWlzbWF0Y2giO2lmKCJzZWxlY3QiPT09aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgdT1uKGkpLnZhbCgpO3JldHVybiB1JiZ1Lmxlbmd0aD4wfXJldHVybiB0aGlzLmNoZWNrYWJsZShpKT90aGlzLmdldExlbmd0aCh0LGkpPjA6dm9pZCAwIT09dCYmbnVsbCE9PXQmJnQubGVuZ3RoPjB9LGVtYWlsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eW2EtekEtWjAtOS4hIyQlJicqK1wvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLy50ZXN0KG4pfSx1cmw6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8L14oPzooPzooPzpodHRwcz98ZnRwKTopP1wvXC8pKD86KD86W15cXVxbP1wvPH4jYCFAJF4mKigpKz19fDoiOycsPnsgXXwlWzAtOUEtRmEtZl17Mn0pKyg/OjooPzpbXlxdXFs/XC88fiNgIUAkXiYqKCkrPX18OiI7Jyw+eyBdfCVbMC05QS1GYS1mXXsyfSkqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XC5cZHsxLDN9KXszfSkoPyEoPzoxNjlcLjI1NHwxOTJcLjE2OCkoPzpcLlxkezEsM30pezJ9KSg/ITE3MlwuKD86MVs2LTldfDJcZHwzWzAtMV0pKD86XC5cZHsxLDN9KXsyfSkoPzpbMS05XVxkP3wxXGRcZHwyWzAxXVxkfDIyWzAtM10pKD86XC4oPzoxP1xkezEsMn18MlswLTRdXGR8MjVbMC01XSkpezJ9KD86XC4oPzpbMS05XVxkP3wxXGRcZHwyWzAtNF1cZHwyNVswLTRdKSl8KD86KD86W2EtejAtOVx1MDBhMS1cdWZmZmZdW2EtejAtOVx1MDBhMS1cdWZmZmZfLV17MCw2Mn0pP1thLXowLTlcdTAwYTEtXHVmZmZmXVwuKSsoPzpbYS16XHUwMGExLVx1ZmZmZl17Mix9XC4/KSkoPzo6XGR7Miw1fSk/KD86Wy8/I11cUyopPyQvaS50ZXN0KG4pfSxkYXRlOmZ1bmN0aW9uKCl7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG58fChuPSEwLHRoaXMuc2V0dGluZ3MuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIlRoZSBgZGF0ZWAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uICcyLjAuMCcuXG5QbGVhc2UgZG9uJ3QgdXNlIGl0LCBzaW5jZSBpdCByZWxpZXMgb24gdGhlIERhdGUgY29uc3RydWN0b3IsIHdoaWNoXG5iZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXG5pbnN0ZWFkIG9yIG9uZSBvZiB0aGUgbG9jYWxlIHNwZWNpZmljIG1ldGhvZHMgaW4gYGxvY2FsaXphdGlvbnMvYFxuYW5kIGBhZGRpdGlvbmFsLW1ldGhvZHMuanNgLiIpKSx0aGlzLm9wdGlvbmFsKGkpfHwhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHQpLnRvU3RyaW5nKCkpfX0oKSxkYXRlSVNPOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGR7NH1bXC9cLV0oMD9bMS05XXwxWzAxMl0pW1wvXC1dKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3Qobil9LG51bWJlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXig/Oi0/XGQrfC0/XGR7MSwzfSg/OixcZHszfSkrKT8oPzpcLlxkKyk/JC8udGVzdChuKX0sZGlnaXRzOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGQrJC8udGVzdChuKX0sbWlubGVuZ3RoOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP24ubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKG4sdCk7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fHI+PWl9LG1heGxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPD1pfSxyYW5nZWxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPj1pWzBdJiZyPD1pWzFdfSxtaW46ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPj1pfSxtYXg6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPD1pfSxyYW5nZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fG4+PWlbMF0mJm48PWlbMV19LHN0ZXA6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bihpKS5hdHRyKCJ0eXBlIiksaD0iU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSAiK2YrIiBpcyBub3Qgc3VwcG9ydGVkLiIsYz1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGw9ZiYmIWMudGVzdCgidGV4dCxudW1iZXIscmFuZ2UiKSxlPWZ1bmN0aW9uKG4pe3ZhciB0PSgiIituKS5tYXRjaCgvKD86XC4oXGQrKSk/JC8pO3JldHVybiB0JiZ0WzFdP3RbMV0ubGVuZ3RoOjB9LG89ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucm91bmQobipNYXRoLnBvdygxMCx1KSl9LHM9ITA7aWYobCl0aHJvdyBuZXcgRXJyb3IoaCk7cmV0dXJuIHU9ZShyKSwoZSh0KT51fHxvKHQpJW8ocikhPTApJiYocz0hMSksdGhpcy5vcHRpb25hbChpKXx8c30sZXF1YWxUbzpmdW5jdGlvbih0LGkscil7dmFyIHU9bihyKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0JiZ1Lm5vdCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmxlbmd0aCYmdS5hZGRDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikub24oImJsdXIudmFsaWRhdGUtZXF1YWxUbyIsZnVuY3Rpb24oKXtuKGkpLnZhbGlkKCl9KSx0PT09dS52YWwoKX0scmVtb3RlOmZ1bmN0aW9uKHQsaSxyLHUpe2lmKHRoaXMub3B0aW9uYWwoaSkpcmV0dXJuImRlcGVuZGVuY3ktbWlzbWF0Y2giO3U9InN0cmluZyI9PXR5cGVvZiB1JiZ1fHwicmVtb3RlIjt2YXIgZixvLHMsZT10aGlzLnByZXZpb3VzVmFsdWUoaSx1KTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdfHwodGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdPXt9KSxlLm9yaWdpbmFsTWVzc2FnZT1lLm9yaWdpbmFsTWVzc2FnZXx8dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdLHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XT1lLm1lc3NhZ2Uscj0ic3RyaW5nIj09dHlwZW9mIHImJnt1cmw6cn18fHIscz1uLnBhcmFtKG4uZXh0ZW5kKHtkYXRhOnR9LHIuZGF0YSkpLGUub2xkPT09cz9lLnZhbGlkOihlLm9sZD1zLGY9dGhpcyx0aGlzLnN0YXJ0UmVxdWVzdChpKSxvPXt9LG9baS5uYW1lXT10LG4uYWpheChuLmV4dGVuZCghMCx7bW9kZToiYWJvcnQiLHBvcnQ6InZhbGlkYXRlIitpLm5hbWUsZGF0YVR5cGU6Impzb24iLGRhdGE6byxjb250ZXh0OmYuY3VycmVudEZvcm0sc3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcixzLGgsbz1uPT09ITB8fCJ0cnVlIj09PW47Zi5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdPWUub3JpZ2luYWxNZXNzYWdlO28/KGg9Zi5mb3JtU3VibWl0dGVkLGYucmVzZXRJbnRlcm5hbHMoKSxmLnRvSGlkZT1mLmVycm9yc0ZvcihpKSxmLmZvcm1TdWJtaXR0ZWQ9aCxmLnN1Y2Nlc3NMaXN0LnB1c2goaSksZi5pbnZhbGlkW2kubmFtZV09ITEsZi5zaG93RXJyb3JzKCkpOihyPXt9LHM9bnx8Zi5kZWZhdWx0TWVzc2FnZShpLHttZXRob2Q6dSxwYXJhbWV0ZXJzOnR9KSxyW2kubmFtZV09ZS5tZXNzYWdlPXMsZi5pbnZhbGlkW2kubmFtZV09ITAsZi5zaG93RXJyb3JzKHIpKTtlLnZhbGlkPW87Zi5zdG9wUmVxdWVzdChpLG8pfX0scikpLCJwZW5kaW5nIil9fX0pLHQ9e30sbi5hamF4UHJlZmlsdGVyP24uYWpheFByZWZpbHRlcihmdW5jdGlvbihuLGkscil7dmFyIHU9bi5wb3J0OyJhYm9ydCI9PT1uLm1vZGUmJih0W3VdJiZ0W3VdLmFib3J0KCksdFt1XT1yKX0pOihyPW4uYWpheCxuLmFqYXg9ZnVuY3Rpb24oaSl7dmFyIGY9KCJtb2RlImluIGk/aTpuLmFqYXhTZXR0aW5ncykubW9kZSx1PSgicG9ydCJpbiBpP2k6bi5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWY/KHRbdV0mJnRbdV0uYWJvcnQoKSx0W3VdPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRbdV0pOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbn0pOw0KLyoqCiAqIEBsaWNlbnNlCiAqIFVub2J0cnVzaXZlIHZhbGlkYXRpb24gc3VwcG9ydCBsaWJyYXJ5IGZvciBqUXVlcnkgYW5kIGpRdWVyeSBWYWxpZGF0ZQogKiBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqIEB2ZXJzaW9uIHY0LjAuMAogKi8KIWZ1bmN0aW9uKG4peyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJqcXVlcnkudmFsaWRhdGUudW5vYnRydXNpdmUiLFsianF1ZXJ5LXZhbGlkYXRpb24iXSxuKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnktdmFsaWRhdGlvbiIpKTpqUXVlcnkudmFsaWRhdG9yLnVub2J0cnVzaXZlPW4oalF1ZXJ5KX0oZnVuY3Rpb24obil7ZnVuY3Rpb24gaShuLHQsaSl7bi5ydWxlc1t0XT1pO24ubWVzc2FnZSYmKG4ubWVzc2FnZXNbdF09bi5tZXNzYWdlKX1mdW5jdGlvbiBmKG4pe3JldHVybiBuLnJlcGxhY2UoLyhbISIjJCUmJygpKissLi86Ozw9Pj9AXFtcXFxdXmB7fH1+XSkvZywiXFwkMSIpfWZ1bmN0aW9uIGUobil7cmV0dXJuIG4uc3Vic3RyKDAsbi5sYXN0SW5kZXhPZigiLiIpKzEpfWZ1bmN0aW9uIG8obix0KXtyZXR1cm4gMD09PW4uaW5kZXhPZigiKi4iKT9uLnJlcGxhY2UoIiouIix0KTpufWZ1bmN0aW9uIGgoKXt2YXIgdD1uKHRoaXMpLGk9Il9fanF1ZXJ5X3Vub2J0cnVzaXZlX3ZhbGlkYXRpb25fZm9ybV9yZXNldCI7aWYoIXQuZGF0YShpKSl7dC5kYXRhKGksITApO3RyeXt0LmRhdGEoInZhbGlkYXRvciIpLnJlc2V0Rm9ybSgpfWZpbmFsbHl7dC5yZW1vdmVEYXRhKGkpfXQuZmluZCgiLnZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5hZGRDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKTt0LmZpbmQoIi5maWVsZC12YWxpZGF0aW9uLWVycm9yIikuYWRkQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tdmFsaWQiKS5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpLnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIikuZmluZCgiPioiKS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpfX1mdW5jdGlvbiBzKHQpe2Z1bmN0aW9uIG8oaSxyKXsoaT1zW2ldKSYmbi5pc0Z1bmN0aW9uKGkpJiZpLmFwcGx5KHQscil9dmFyIGk9bih0KSxlPWkuZGF0YSh1KSxjPW4ucHJveHkoaCx0KSxzPXIudW5vYnRydXNpdmUub3B0aW9uc3x8e307cmV0dXJuIGV8fChlPXtvcHRpb25zOntlcnJvckNsYXNzOnMuZXJyb3JDbGFzc3x8ImlucHV0LXZhbGlkYXRpb24tZXJyb3IiLGVycm9yRWxlbWVudDpzLmVycm9yRWxlbWVudHx8InNwYW4iLGVycm9yUGxhY2VtZW50OmZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsaSl7dmFyIGk9bih0aGlzKS5maW5kKCJbZGF0YS12YWxtc2ctZm9yPSciK2YoaVswXS5uYW1lKSsiJ10iKSxyPShyPWkuYXR0cigiZGF0YS12YWxtc2ctcmVwbGFjZSIpKT8hMSE9PW4ucGFyc2VKU09OKHIpOm51bGw7aS5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIik7dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIsaSk7cj8oaS5lbXB0eSgpLHQucmVtb3ZlQ2xhc3MoImlucHV0LXZhbGlkYXRpb24tZXJyb3IiKS5hcHBlbmRUbyhpKSk6dC5oaWRlKCl9LmFwcGx5KHQsYXJndW1lbnRzKTtvKCJlcnJvclBsYWNlbWVudCIsYXJndW1lbnRzKX0saW52YWxpZEhhbmRsZXI6ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLmZpbmQoIltkYXRhLXZhbG1zZy1zdW1tYXJ5PXRydWVdIikscj11LmZpbmQoInVsIik7ciYmci5sZW5ndGgmJmkuZXJyb3JMaXN0Lmxlbmd0aCYmKHIuZW1wdHkoKSx1LmFkZENsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS12YWxpZCIpLG4uZWFjaChpLmVycm9yTGlzdCxmdW5jdGlvbigpe24oIjxsaSAvPiIpLmh0bWwodGhpcy5tZXNzYWdlKS5hcHBlbmRUbyhyKX0pKX0uYXBwbHkodCxhcmd1bWVudHMpO28oImludmFsaWRIYW5kbGVyIixhcmd1bWVudHMpfSxtZXNzYWdlczp7fSxydWxlczp7fSxzdWNjZXNzOmZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQpe3ZhciBpLHI9dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpO3ImJihpPShpPXIuYXR0cigiZGF0YS12YWxtc2ctcmVwbGFjZSIpKT9uLnBhcnNlSlNPTihpKTpudWxsLHIuYWRkQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tdmFsaWQiKS5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpLHQucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKSxpJiZyLmVtcHR5KCkpfS5hcHBseSh0LGFyZ3VtZW50cyk7bygic3VjY2VzcyIsYXJndW1lbnRzKX19LGF0dGFjaFZhbGlkYXRpb246ZnVuY3Rpb24oKXtpLm9mZigicmVzZXQuIit1LGMpLm9uKCJyZXNldC4iK3UsYykudmFsaWRhdGUodGhpcy5vcHRpb25zKX0sdmFsaWRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaS52YWxpZGF0ZSgpLGkudmFsaWQoKX19LGkuZGF0YSh1LGUpKSxlfXZhciB0LHI9bi52YWxpZGF0b3IsdT0idW5vYnRydXNpdmVWYWxpZGF0aW9uIjtyZXR1cm4gci51bm9idHJ1c2l2ZT17YWRhcHRlcnM6W10scGFyc2VFbGVtZW50OmZ1bmN0aW9uKHQsaSl7dmFyIHIsdSxvLGY9bih0KSxlPWYucGFyZW50cygiZm9ybSIpWzBdO2UmJigocj1zKGUpKS5vcHRpb25zLnJ1bGVzW3QubmFtZV09dT17fSxyLm9wdGlvbnMubWVzc2FnZXNbdC5uYW1lXT1vPXt9LG4uZWFjaCh0aGlzLmFkYXB0ZXJzLGZ1bmN0aW9uKCl7dmFyIGk9ImRhdGEtdmFsLSIrdGhpcy5uYW1lLHI9Zi5hdHRyKGkpLHM9e307dm9pZCAwIT09ciYmKGkrPSItIixuLmVhY2godGhpcy5wYXJhbXMsZnVuY3Rpb24oKXtzW3RoaXNdPWYuYXR0cihpK3RoaXMpfSksdGhpcy5hZGFwdCh7ZWxlbWVudDp0LGZvcm06ZSxtZXNzYWdlOnIscGFyYW1zOnMscnVsZXM6dSxtZXNzYWdlczpvfSkpfSksbi5leHRlbmQodSx7X19kdW1teV9fOiEwfSksaXx8ci5hdHRhY2hWYWxpZGF0aW9uKCkpfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgdD1uKHQpLGk9dC5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcigiZm9ybSIpLmFkZCh0LmZpbmQoImZvcm0iKSkuaGFzKCJbZGF0YS12YWw9dHJ1ZV0iKTt0LmZpbmQoIltkYXRhLXZhbD10cnVlXSIpLmVhY2goZnVuY3Rpb24oKXtyLnVub2J0cnVzaXZlLnBhcnNlRWxlbWVudCh0aGlzLCEwKX0pO2kuZWFjaChmdW5jdGlvbigpe3ZhciBuPXModGhpcyk7biYmbi5hdHRhY2hWYWxpZGF0aW9uKCl9KX19LCh0PXIudW5vYnRydXNpdmUuYWRhcHRlcnMpLmFkZD1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIGl8fChpPXQsdD1bXSksdGhpcy5wdXNoKHtuYW1lOm4scGFyYW1zOnQsYWRhcHQ6aX0pLHRoaXN9LHQuYWRkQm9vbD1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmFkZChuLGZ1bmN0aW9uKHIpe2kocix0fHxuLCEwKX0pfSx0LmFkZE1pbk1heD1mdW5jdGlvbihuLHQscix1LGYsZSl7cmV0dXJuIHRoaXMuYWRkKG4sW2Z8fCJtaW4iLGV8fCJtYXgiXSxmdW5jdGlvbihuKXt2YXIgZj1uLnBhcmFtcy5taW4sZT1uLnBhcmFtcy5tYXg7ZiYmZT9pKG4sdSxbZixlXSk6Zj9pKG4sdCxmKTplJiZpKG4scixlKX0pfSx0LmFkZFNpbmdsZVZhbD1mdW5jdGlvbihuLHQscil7cmV0dXJuIHRoaXMuYWRkKG4sW3R8fCJ2YWwiXSxmdW5jdGlvbih1KXtpKHUscnx8bix1LnBhcmFtc1t0XSl9KX0sci5hZGRNZXRob2QoIl9fZHVtbXlfXyIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pLHIuYWRkTWV0aG9kKCJyZWdleCIsZnVuY3Rpb24obix0LGkpe3JldHVybiEhdGhpcy5vcHRpb25hbCh0KXx8KHQ9bmV3IFJlZ0V4cChpKS5leGVjKG4pKSYmMD09PXQuaW5kZXgmJnRbMF0ubGVuZ3RoPT09bi5sZW5ndGh9KSxyLmFkZE1ldGhvZCgibm9uYWxwaGFtaW4iLGZ1bmN0aW9uKG4sdCxpKXt2YXIgcjtyZXR1cm4gaT8ocj1uLm1hdGNoKC9cVy9nKSkmJnIubGVuZ3RoPj1pOnJ9KSxyLm1ldGhvZHMuZXh0ZW5zaW9uPyh0LmFkZFNpbmdsZVZhbCgiYWNjZXB0IiwibWltdHlwZSIpLHQuYWRkU2luZ2xlVmFsKCJleHRlbnNpb24iLCJleHRlbnNpb24iKSk6dC5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImFjY2VwdCIpLHQuYWRkU2luZ2xlVmFsKCJyZWdleCIsInBhdHRlcm4iKSx0LmFkZEJvb2woImNyZWRpdGNhcmQiKS5hZGRCb29sKCJkYXRlIikuYWRkQm9vbCgiZGlnaXRzIikuYWRkQm9vbCgiZW1haWwiKS5hZGRCb29sKCJudW1iZXIiKS5hZGRCb29sKCJ1cmwiKSx0LmFkZE1pbk1heCgibGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwicmFuZ2VsZW5ndGgiKS5hZGRNaW5NYXgoInJhbmdlIiwibWluIiwibWF4IiwicmFuZ2UiKSx0LmFkZE1pbk1heCgibWlubGVuZ3RoIiwibWlubGVuZ3RoIikuYWRkTWluTWF4KCJtYXhsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiKSx0LmFkZCgiZXF1YWx0byIsWyJvdGhlciJdLGZ1bmN0aW9uKHQpe3ZhciByPWUodC5lbGVtZW50Lm5hbWUpLHI9byh0LnBhcmFtcy5vdGhlcixyKTtpKHQsImVxdWFsVG8iLG4odC5mb3JtKS5maW5kKCI6aW5wdXQiKS5maWx0ZXIoIltuYW1lPSciK2YocikrIiddIilbMF0pfSksdC5hZGQoInJlcXVpcmVkIixmdW5jdGlvbihuKXsiSU5QVVQiPT09bi5lbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKSYmIkNIRUNLQk9YIj09PW4uZWxlbWVudC50eXBlLnRvVXBwZXJDYXNlKCl8fGkobiwicmVxdWlyZWQiLCEwKX0pLHQuYWRkKCJyZW1vdGUiLFsidXJsIiwidHlwZSIsImFkZGl0aW9uYWxmaWVsZHMiXSxmdW5jdGlvbih0KXt2YXIgcj17dXJsOnQucGFyYW1zLnVybCx0eXBlOnQucGFyYW1zLnR5cGV8fCJHRVQiLGRhdGE6e319LHU9ZSh0LmVsZW1lbnQubmFtZSk7bi5lYWNoKCh0LnBhcmFtcy5hZGRpdGlvbmFsZmllbGRzfHx0LmVsZW1lbnQubmFtZSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLnNwbGl0KC9ccyosXHMqL2cpLGZ1bmN0aW9uKGksZSl7dmFyIHM9byhlLHUpO3IuZGF0YVtzXT1mdW5jdGlvbigpe3ZhciBpPW4odC5mb3JtKS5maW5kKCI6aW5wdXQiKS5maWx0ZXIoIltuYW1lPSciK2YocykrIiddIik7cmV0dXJuIGkuaXMoIjpjaGVja2JveCIpP2kuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHxpLmZpbHRlcigiOmhpZGRlbiIpLnZhbCgpfHwiIjppLmlzKCI6cmFkaW8iKT9pLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKXx8IiI6aS52YWwoKX19KTtpKHQsInJlbW90ZSIscil9KSx0LmFkZCgicGFzc3dvcmQiLFsibWluIiwibm9uYWxwaGFtaW4iLCJyZWdleCJdLGZ1bmN0aW9uKG4pe24ucGFyYW1zLm1pbiYmaShuLCJtaW5sZW5ndGgiLG4ucGFyYW1zLm1pbik7bi5wYXJhbXMubm9uYWxwaGFtaW4mJmkobiwibm9uYWxwaGFtaW4iLG4ucGFyYW1zLm5vbmFscGhhbWluKTtuLnBhcmFtcy5yZWdleCYmaShuLCJyZWdleCIsbi5wYXJhbXMucmVnZXgpfSksdC5hZGQoImZpbGVleHRlbnNpb25zIixbImV4dGVuc2lvbnMiXSxmdW5jdGlvbihuKXtpKG4sImV4dGVuc2lvbiIsbi5wYXJhbXMuZXh0ZW5zaW9ucyl9KSxuKGZ1bmN0aW9uKCl7ci51bm9idHJ1c2l2ZS5wYXJzZShkb2N1bWVudCl9KSxyLnVub2J0cnVzaXZlfSk7DQovKiEgalF1ZXJ5IFVJIC0gdjEuMTMuMiAtIDIwMjItMDctMTQKKiBodHRwOi8vanF1ZXJ5dWkuY29tCiogSW5jbHVkZXM6IHdpZGdldC5qcywgcG9zaXRpb24uanMsIGRhdGEuanMsIGRpc2FibGUtc2VsZWN0aW9uLmpzLCBlZmZlY3QuanMsIGVmZmVjdHMvZWZmZWN0LWJsaW5kLmpzLCBlZmZlY3RzL2VmZmVjdC1ib3VuY2UuanMsIGVmZmVjdHMvZWZmZWN0LWNsaXAuanMsIGVmZmVjdHMvZWZmZWN0LWRyb3AuanMsIGVmZmVjdHMvZWZmZWN0LWV4cGxvZGUuanMsIGVmZmVjdHMvZWZmZWN0LWZhZGUuanMsIGVmZmVjdHMvZWZmZWN0LWZvbGQuanMsIGVmZmVjdHMvZWZmZWN0LWhpZ2hsaWdodC5qcywgZWZmZWN0cy9lZmZlY3QtcHVmZi5qcywgZWZmZWN0cy9lZmZlY3QtcHVsc2F0ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2NhbGUuanMsIGVmZmVjdHMvZWZmZWN0LXNoYWtlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaXplLmpzLCBlZmZlY3RzL2VmZmVjdC1zbGlkZS5qcywgZWZmZWN0cy9lZmZlY3QtdHJhbnNmZXIuanMsIGZvY3VzYWJsZS5qcywgZm9ybS1yZXNldC1taXhpbi5qcywganF1ZXJ5LXBhdGNoLmpzLCBrZXljb2RlLmpzLCBsYWJlbHMuanMsIHNjcm9sbC1wYXJlbnQuanMsIHRhYmJhYmxlLmpzLCB1bmlxdWUtaWQuanMsIHdpZGdldHMvYWNjb3JkaW9uLmpzLCB3aWRnZXRzL2F1dG9jb21wbGV0ZS5qcywgd2lkZ2V0cy9idXR0b24uanMsIHdpZGdldHMvY2hlY2tib3hyYWRpby5qcywgd2lkZ2V0cy9jb250cm9sZ3JvdXAuanMsIHdpZGdldHMvZGF0ZXBpY2tlci5qcywgd2lkZ2V0cy9kaWFsb2cuanMsIHdpZGdldHMvZHJhZ2dhYmxlLmpzLCB3aWRnZXRzL2Ryb3BwYWJsZS5qcywgd2lkZ2V0cy9tZW51LmpzLCB3aWRnZXRzL21vdXNlLmpzLCB3aWRnZXRzL3Byb2dyZXNzYmFyLmpzLCB3aWRnZXRzL3Jlc2l6YWJsZS5qcywgd2lkZ2V0cy9zZWxlY3RhYmxlLmpzLCB3aWRnZXRzL3NlbGVjdG1lbnUuanMsIHdpZGdldHMvc2xpZGVyLmpzLCB3aWRnZXRzL3NvcnRhYmxlLmpzLCB3aWRnZXRzL3NwaW5uZXIuanMsIHdpZGdldHMvdGFicy5qcywgd2lkZ2V0cy90b29sdGlwLmpzCiogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqLwohZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sbik6bihqUXVlcnkpfShmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdnQobix0LGkpe3JldHVybltwYXJzZUZsb2F0KG5bMF0pKihpdC50ZXN0KG5bMF0pP3QvMTAwOjEpLHBhcnNlRmxvYXQoblsxXSkqKGl0LnRlc3QoblsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIGEodCxpKXtyZXR1cm4gcGFyc2VJbnQobi5jc3ModCxpKSwxMCl8fDB9ZnVuY3Rpb24geXQobil7cmV0dXJuIG51bGwhPW4mJm49PT1uLndpbmRvd31mdW5jdGlvbiBjKG4pe3JldHVybiBudWxsPT1uP24rIiI6Im9iamVjdCI9PXR5cGVvZiBuP3J0W2dpLmNhbGwobildfHwib2JqZWN0Ijp0eXBlb2Ygbn1mdW5jdGlvbiB2KG4sdCxpKXt2YXIgcj13dFt0LnR5cGVdfHx7fTtyZXR1cm4gbnVsbD09bj9pfHwhdC5kZWY/bnVsbDp0LmRlZjoobj1yLmZsb29yP35+bjpwYXJzZUZsb2F0KG4pLGlzTmFOKG4pP3QuZGVmOnIubW9kPyhuK3IubW9kKSVyLm1vZDpNYXRoLm1pbihyLm1heCxNYXRoLm1heCgwLG4pKSl9ZnVuY3Rpb24ga3Qobil7dmFyIHU9aSgpLGU9dS5fcmdiYT1bXTtyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCkscih0cixmdW5jdGlvbih0LGkpe3ZhciByPWkucmUuZXhlYyhuKSxyPXImJmkucGFyc2UociksaT1pLnNwYWNlfHwicmdiYSI7aWYocilyZXR1cm4gcj11W2ldKHIpLHVbZltpXS5jYWNoZV09cltmW2ldLmNhY2hlXSxlPXUuX3JnYmE9ci5fcmdiYSwhMX0pLGUubGVuZ3RoPygiMCwwLDAsMCI9PT1lLmpvaW4oKSYmdC5leHRlbmQoZSxmdC50cmFuc3BhcmVudCksdSk6ZnRbbl19ZnVuY3Rpb24gdXQobix0LGkpe3JldHVybiA2KihpPShpKzEpJTEpPDE/bisodC1uKSppKjY6MippPDE/dDozKmk8Mj9uKyh0LW4pKigyLzMtaSkqNjpufWZ1bmN0aW9uIG9pKG4pe3ZhciBpLHIsdD1uLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc/bi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobixudWxsKTpuLmN1cnJlbnRTdHlsZSx1PXt9O2lmKHQmJnQubGVuZ3RoJiZ0WzBdJiZ0W3RbMF1dKWZvcihyPXQubGVuZ3RoO3ItLTspInN0cmluZyI9PXR5cGVvZiB0W2k9dFtyXV0mJih1W2kucmVwbGFjZSgvLShbXGRhLXpdKS9naSxmdW5jdGlvbihuLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KV09dFtpXSk7ZWxzZSBmb3IoaSBpbiB0KSJzdHJpbmciPT10eXBlb2YgdFtpXSYmKHVbaV09dFtpXSk7cmV0dXJuIHV9ZnVuY3Rpb24gdyh0LGkscix1KXtyZXR1cm4gdD17ZWZmZWN0OnQ9bi5pc1BsYWluT2JqZWN0KHQpPyhpPXQpLmVmZmVjdDp0fSwiZnVuY3Rpb24iPT10eXBlb2YoaT1udWxsPT1pP3t9OmkpJiYodT1pLHI9bnVsbCxpPXt9KSwibnVtYmVyIiE9dHlwZW9mIGkmJiFuLmZ4LnNwZWVkc1tpXXx8KHU9cixyPWksaT17fSksImZ1bmN0aW9uIj09dHlwZW9mIHImJih1PXIscj1udWxsKSxpJiZuLmV4dGVuZCh0LGkpLHI9cnx8aS5kdXJhdGlvbix0LmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiByP3I6ciBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tyXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCx0LmNvbXBsZXRlPXV8fGkuY29tcGxldGUsdH1mdW5jdGlvbiBzdCh0KXtyZXR1cm4hdHx8Im51bWJlciI9PXR5cGVvZiB0fHxuLmZ4LnNwZWVkc1t0XXx8InN0cmluZyI9PXR5cGVvZiB0JiYhbi5lZmZlY3RzLmVmZmVjdFt0XXx8ImZ1bmN0aW9uIj09dHlwZW9mIHR8fCJvYmplY3QiPT10eXBlb2YgdCYmIXQuZWZmZWN0fWZ1bmN0aW9uIHNpKG4sdCl7dmFyIGk9dC5vdXRlcldpZHRoKCksdD10Lm91dGVySGVpZ2h0KCksbj0vXnJlY3RcKCgtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKVwpJC8uZXhlYyhuKXx8WyIiLDAsaSx0LDBdO3JldHVybnt0b3A6cGFyc2VGbG9hdChuWzFdKXx8MCxyaWdodDoiYXV0byI9PT1uWzJdP2k6cGFyc2VGbG9hdChuWzJdKSxib3R0b206ImF1dG8iPT09blszXT90OnBhcnNlRmxvYXQoblszXSksbGVmdDpwYXJzZUZsb2F0KG5bNF0pfHwwfX1mdW5jdGlvbiB5aSgpe3RoaXMuX2N1ckluc3Q9bnVsbDt0aGlzLl9rZXlFdmVudD0hMTt0aGlzLl9kaXNhYmxlZElucHV0cz1bXTt0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMTt0aGlzLl9pbkRpYWxvZz0hMTt0aGlzLl9tYWluRGl2SWQ9InVpLWRhdGVwaWNrZXItZGl2Ijt0aGlzLl9pbmxpbmVDbGFzcz0idWktZGF0ZXBpY2tlci1pbmxpbmUiO3RoaXMuX2FwcGVuZENsYXNzPSJ1aS1kYXRlcGlja2VyLWFwcGVuZCI7dGhpcy5fdHJpZ2dlckNsYXNzPSJ1aS1kYXRlcGlja2VyLXRyaWdnZXIiO3RoaXMuX2RpYWxvZ0NsYXNzPSJ1aS1kYXRlcGlja2VyLWRpYWxvZyI7dGhpcy5fZGlzYWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWRpc2FibGVkIjt0aGlzLl91bnNlbGVjdGFibGVDbGFzcz0idWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGUiO3RoaXMuX2N1cnJlbnRDbGFzcz0idWktZGF0ZXBpY2tlci1jdXJyZW50LWRheSI7dGhpcy5fZGF5T3ZlckNsYXNzPSJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyIjt0aGlzLnJlZ2lvbmFsPVtdO3RoaXMucmVnaW9uYWxbIiJdPXtjbG9zZVRleHQ6IkRvbmUiLHByZXZUZXh0OiJQcmV2IixuZXh0VGV4dDoiTmV4dCIsY3VycmVudFRleHQ6IlRvZGF5Iixtb250aE5hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aE5hbWVzU2hvcnQ6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlOYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5TmFtZXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLGRheU5hbWVzTWluOlsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXSx3ZWVrSGVhZGVyOiJXayIsZGF0ZUZvcm1hdDoibW0vZGQveXkiLGZpcnN0RGF5OjAsaXNSVEw6ITEsc2hvd01vbnRoQWZ0ZXJZZWFyOiExLHllYXJTdWZmaXg6IiIsc2VsZWN0TW9udGhMYWJlbDoiU2VsZWN0IG1vbnRoIixzZWxlY3RZZWFyTGFiZWw6IlNlbGVjdCB5ZWFyIn07dGhpcy5fZGVmYXVsdHM9e3Nob3dPbjoiZm9jdXMiLHNob3dBbmltOiJmYWRlSW4iLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDoiIixidXR0b25UZXh0OiIuLi4iLGJ1dHRvbkltYWdlOiIiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6IisxMCIsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG9uVXBkYXRlRGF0ZXBpY2tlcjpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDohMCxzaG93QnV0dG9uUGFuZWw6ITEsYXV0b1NpemU6ITEsZGlzYWJsZWQ6ITF9O24uZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLHRoaXMucmVnaW9uYWxbIiJdKTt0aGlzLnJlZ2lvbmFsLmVuPW4uZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWxbIiJdKTt0aGlzLnJlZ2lvbmFsWyJlbi1VUyJdPW4uZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWwuZW4pO3RoaXMuZHBEaXY9cGkobigiPGRpdiBpZD0nIit0aGlzLl9tYWluRGl2SWQrIicgY2xhc3M9J3VpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48XC9kaXY+IikpfWZ1bmN0aW9uIHBpKHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0Lm9uKCJtb3VzZW91dCIsaSxmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5vbigibW91c2VvdmVyIixpLHdpKX1mdW5jdGlvbiB3aSgpe24uZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIoKGUuaW5saW5lP2UuZHBEaXYucGFyZW50KCk6ZS5pbnB1dClbMF0pfHwobih0aGlzKS5wYXJlbnRzKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSxuKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLC0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikmJm4odGhpcykuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItcHJldi1ob3ZlciIpLC0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikmJm4odGhpcykuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlciIpKX1mdW5jdGlvbiBiKHQsaSl7Zm9yKHZhciByIGluIG4uZXh0ZW5kKHQsaSksaSludWxsPT1pW3JdJiYodFtyXT1pW3JdKTtyZXR1cm4gdH1mdW5jdGlvbiBiaShuLHQsaSl7cmV0dXJuIHQ8PW4mJm48dCtpfWZ1bmN0aW9uIG8obil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnZhbCgpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlZnJlc2goKTt0IT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX19dmFyIGsscyx1LGQsZyxudCx0dCxpdCxhdCxoaSxjaSxsaSxhaSx2aSxlLGwsaHQ7bi51aT1uLnVpfHx7fTtuLnVpLnZlcnNpb249IjEuMTMuMiI7dmFyIGN0LGtpPTAsZGk9QXJyYXkucHJvdG90eXBlLmhhc093blByb3BlcnR5LGx0PUFycmF5LnByb3RvdHlwZS5zbGljZTtuLmNsZWFuRGF0YT0oY3Q9bi5jbGVhbkRhdGEsZnVuY3Rpb24odCl7Zm9yKHZhciByLGksdT0wO251bGwhPShpPXRbdV0pO3UrKykocj1uLl9kYXRhKGksImV2ZW50cyIpKSYmci5yZW1vdmUmJm4oaSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO2N0KHQpfSk7bi53aWRnZXQ9ZnVuY3Rpb24odCxpLHIpe3ZhciBmLHUsbyxoPXt9LGU9dC5zcGxpdCgiLiIpWzBdLHM9ZSsiLSIrKHQ9dC5zcGxpdCgiLiIpWzFdKTtyZXR1cm4gcnx8KHI9aSxpPW4uV2lkZ2V0KSxBcnJheS5pc0FycmF5KHIpJiYocj1uLmV4dGVuZC5hcHBseShudWxsLFt7fV0uY29uY2F0KHIpKSksbi5leHByLnBzZXVkb3Nbcy50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbih0KXtyZXR1cm4hIW4uZGF0YSh0LHMpfSxuW2VdPW5bZV18fHt9LGY9bltlXVt0XSx1PW5bZV1bdF09ZnVuY3Rpb24obix0KXtpZighdGhpc3x8IXRoaXMuX2NyZWF0ZVdpZGdldClyZXR1cm4gbmV3IHUobix0KTthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQobix0KX0sbi5leHRlbmQodSxmLHt2ZXJzaW9uOnIudmVyc2lvbixfcHJvdG86bi5leHRlbmQoe30sciksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksKG89bmV3IGkpLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LG8ub3B0aW9ucyksbi5lYWNoKHIsZnVuY3Rpb24obix0KXtmdW5jdGlvbiByKCl7cmV0dXJuIGkucHJvdG90eXBlW25dLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1KHQpe3JldHVybiBpLnByb3RvdHlwZVtuXS5hcHBseSh0aGlzLHQpfWhbbl09ImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZnVuY3Rpb24oKXt2YXIgbixpPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9cix0aGlzLl9zdXBlckFwcGx5PXUsbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1pLHRoaXMuX3N1cGVyQXBwbHk9ZixufTp0fSksdS5wcm90b3R5cGU9bi53aWRnZXQuZXh0ZW5kKG8se3dpZGdldEV2ZW50UHJlZml4OmYmJm8ud2lkZ2V0RXZlbnRQcmVmaXh8fHR9LGgse2NvbnN0cnVjdG9yOnUsbmFtZXNwYWNlOmUsd2lkZ2V0TmFtZTp0LHdpZGdldEZ1bGxOYW1lOnN9KSxmPyhuLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24odCxpKXt2YXIgcj1pLnByb3RvdHlwZTtuLndpZGdldChyLm5hbWVzcGFjZSsiLiIrci53aWRnZXROYW1lLHUsaS5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTppLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKHUpLG4ud2lkZ2V0LmJyaWRnZSh0LHUpLHV9O24ud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbih0KXtmb3IodmFyIGkscixmPWx0LmNhbGwoYXJndW1lbnRzLDEpLHU9MCxlPWYubGVuZ3RoO3U8ZTt1KyspZm9yKGkgaW4gZlt1XSlyPWZbdV1baV0sZGkuY2FsbChmW3VdLGkpJiZ2b2lkIDAhPT1yJiYodFtpXT1uLmlzUGxhaW5PYmplY3Qocik/bi5pc1BsYWluT2JqZWN0KHRbaV0pP24ud2lkZ2V0LmV4dGVuZCh7fSx0W2ldLHIpOm4ud2lkZ2V0LmV4dGVuZCh7fSxyKTpyKTtyZXR1cm4gdH07bi53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKHQsaSl7dmFyIHI9aS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fHQ7bi5mblt0XT1mdW5jdGlvbih1KXt2YXIgbz0ic3RyaW5nIj09dHlwZW9mIHUsZT1sdC5jYWxsKGFyZ3VtZW50cywxKSxmPXRoaXM7cmV0dXJuIG8/dGhpcy5sZW5ndGh8fCJpbnN0YW5jZSIhPT11P3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpLG89bi5kYXRhKHRoaXMscik7cmV0dXJuImluc3RhbmNlIj09PXU/KGY9bywhMSk6bz8iZnVuY3Rpb24iIT10eXBlb2Ygb1t1XXx8Il8iPT09dS5jaGFyQXQoMCk/bi5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrdSsiJyBmb3IgIit0KyIgd2lkZ2V0IGluc3RhbmNlIik6KGk9b1t1XS5hcHBseShvLGUpKSE9PW8mJnZvaWQgMCE9PWk/KGY9aSYmaS5qcXVlcnk/Zi5wdXNoU3RhY2soaS5nZXQoKSk6aSwhMSk6dm9pZCAwOm4uZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIit0KyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIit1KyInIil9KTpmPXZvaWQgMDooZS5sZW5ndGgmJih1PW4ud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFt1XS5jb25jYXQoZSkpKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uLmRhdGEodGhpcyxyKTt0Pyh0Lm9wdGlvbih1fHx7fSksdC5faW5pdCYmdC5faW5pdCgpKTpuLmRhdGEodGhpcyxyLG5ldyBpKHUsdGhpcykpfSkpLGZ9fTtuLldpZGdldD1mdW5jdGlvbigpe307bi5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdO24uV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2NsYXNzZXM6e30sZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24odCxpKXtpPW4oaXx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF07dGhpcy5lbGVtZW50PW4oaSk7dGhpcy51dWlkPWtpKys7dGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZDt0aGlzLmJpbmRpbmdzPW4oKTt0aGlzLmhvdmVyYWJsZT1uKCk7dGhpcy5mb2N1c2FibGU9bigpO3RoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e307aSE9PXRoaXMmJihuLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1uKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PW4odGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKTt0aGlzLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCk7dGhpcy5fY3JlYXRlKCk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSk7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOm4ubm9vcCxfY3JlYXRlOm4ubm9vcCxfaW5pdDpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVzdHJveSgpO24uZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKG4saSl7dC5fcmVtb3ZlQ2xhc3MoaSxuKX0pO3RoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKTt0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95Om4ubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgdSxyLGYsZT10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYoZT17fSx0PSh1PXQuc3BsaXQoIi4iKSkuc2hpZnQoKSx1Lmxlbmd0aCl7Zm9yKHI9ZVt0XT1uLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxmPTA7Zjx1Lmxlbmd0aC0xO2YrKylyW3VbZl1dPXJbdVtmXV18fHt9LHI9clt1W2ZdXTtpZih0PXUucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXJbdF0/bnVsbDpyW3RdO3JbdF09aX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07ZVt0XT1pfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGUpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXRoaXMuX3NldE9wdGlvbih0LG5bdF0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImNsYXNzZXMiPT09biYmdGhpcy5fc2V0T3B0aW9uQ2xhc3Nlcyh0KSx0aGlzLm9wdGlvbnNbbl09dCwiZGlzYWJsZWQiPT09biYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodCksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksdSxyO2ZvcihpIGluIHQpcj10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2ldLHRbaV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tpXSYmciYmci5sZW5ndGgmJih1PW4oci5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocixpKSx1LmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6dSxrZXlzOmksY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIW4pO24mJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbih0KXtmdW5jdGlvbiB1KHUsZil7Zm9yKHZhciBvLGU9MDtlPHUubGVuZ3RoO2UrKylvPWkuY2xhc3Nlc0VsZW1lbnRMb29rdXBbdVtlXV18fG4oKSxvPXQuYWRkPyhmdW5jdGlvbigpe3ZhciByPVtdO3QuZWxlbWVudC5lYWNoKGZ1bmN0aW9uKHQsdSl7bi5tYXAoaS5jbGFzc2VzRWxlbWVudExvb2t1cCxmdW5jdGlvbihuKXtyZXR1cm4gbn0pLnNvbWUoZnVuY3Rpb24obil7cmV0dXJuIG4uaXModSl9KXx8ci5wdXNoKHUpfSk7aS5fb24obihyKSx7cmVtb3ZlOiJfdW50cmFja0NsYXNzZXNFbGVtZW50In0pfSgpLG4obi51bmlxdWVTb3J0KG8uZ2V0KCkuY29uY2F0KHQuZWxlbWVudC5nZXQoKSkpKSk6bihvLm5vdCh0LmVsZW1lbnQpLmdldCgpKSxpLmNsYXNzZXNFbGVtZW50TG9va3VwW3VbZV1dPW8sci5wdXNoKHVbZV0pLGYmJnQuY2xhc3Nlc1t1W2VdXSYmci5wdXNoKHQuY2xhc3Nlc1t1W2VdXSl9dmFyIHI9W10saT10aGlzO3JldHVybih0PW4uZXh0ZW5kKHtlbGVtZW50OnRoaXMuZWxlbWVudCxjbGFzc2VzOnRoaXMub3B0aW9ucy5jbGFzc2VzfHx7fX0sdCkpLmtleXMmJnUodC5rZXlzLm1hdGNoKC9cUysvZyl8fFtdLCEwKSx0LmV4dHJhJiZ1KHQuZXh0cmEubWF0Y2goL1xTKy9nKXx8W10pLHIuam9pbigiICIpfSxfdW50cmFja0NsYXNzZXNFbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7bi5lYWNoKGkuY2xhc3Nlc0VsZW1lbnRMb29rdXAsZnVuY3Rpb24ocix1KXstMSE9PW4uaW5BcnJheSh0LnRhcmdldCx1KSYmKGkuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcl09bih1Lm5vdCh0LnRhcmdldCkuZ2V0KCkpKX0pO3RoaXMuX29mZihuKHQudGFyZ2V0KSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKG4sdCxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3Mobix0LGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0LGkscil7dmFyIHU9InN0cmluZyI9PXR5cGVvZiBufHxudWxsPT09bixpPXtleHRyYTp1P3Q6aSxrZXlzOnU/bjp0LGVsZW1lbnQ6dT90aGlzLmVsZW1lbnQ6bixhZGQ6cj0iYm9vbGVhbiI9PXR5cGVvZiByP3I6aX07cmV0dXJuIGkuZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLl9jbGFzc2VzKGkpLHIpLHRoaXN9LF9vbjpmdW5jdGlvbih0LGkscil7dmFyIGYsdT10aGlzOyJib29sZWFuIiE9dHlwZW9mIHQmJihyPWksaT10LHQ9ITEpO3I/KGk9Zj1uKGkpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoaSkpOihyPWksaT10aGlzLmVsZW1lbnQsZj10aGlzLndpZGdldCgpKTtuLmVhY2gocixmdW5jdGlvbihyLGUpe2Z1bmN0aW9uIG8oKXtpZih0fHwhMCE9PXUub3B0aW9ucy5kaXNhYmxlZCYmIW4odGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikpcmV0dXJuKCJzdHJpbmciPT10eXBlb2YgZT91W2VdOmUpLmFwcGx5KHUsYXJndW1lbnRzKX0ic3RyaW5nIiE9dHlwZW9mIGUmJihvLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8by5ndWlkfHxuLmd1aWQrKyk7dmFyIHM9ci5tYXRjaCgvXihbXHc6LV0qKVxzKiguKikkLykscj1zWzFdK3UuZXZlbnROYW1lc3BhY2Uscz1zWzJdO3M/Zi5vbihyLHMsbyk6aS5vbihyLG8pfSl9LF9vZmY6ZnVuY3Rpb24odCxpKXtpPShpfHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlO3Qub2ZmKGkpO3RoaXMuYmluZGluZ3M9bih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSk7dGhpcy5mb2N1c2FibGU9bih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpO3RoaXMuaG92ZXJhYmxlPW4odGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIG4/aVtuXTpuKS5hcHBseShpLGFyZ3VtZW50cyl9LHR8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGYsZT10aGlzLm9wdGlvbnNbdF07aWYocj1yfHx7fSwoaT1uLkV2ZW50KGkpKS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1pLm9yaWdpbmFsRXZlbnQpZm9yKHUgaW4gZil1IGluIGl8fChpW3VdPWZbdV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLHIpLCEoImZ1bmN0aW9uIj09dHlwZW9mIGUmJiExPT09ZS5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2ldLmNvbmNhdChyKSl8fGkuaXNEZWZhdWx0UHJldmVudGVkKCkpfX07bi5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbih0LGkpe24uV2lkZ2V0LnByb3RvdHlwZVsiXyIrdF09ZnVuY3Rpb24ocix1LGYpe3ZhciBvLGU9KHU9InN0cmluZyI9PXR5cGVvZiB1P3tlZmZlY3Q6dX06dSk/ITAhPT11JiYibnVtYmVyIiE9dHlwZW9mIHUmJnUuZWZmZWN0fHxpOnQ7Im51bWJlciI9PXR5cGVvZih1PXV8fHt9KT91PXtkdXJhdGlvbjp1fTohMD09PXUmJih1PXt9KTtvPSFuLmlzRW1wdHlPYmplY3QodSk7dS5jb21wbGV0ZT1mO3UuZGVsYXkmJnIuZGVsYXkodS5kZWxheSk7byYmbi5lZmZlY3RzJiZuLmVmZmVjdHMuZWZmZWN0W2VdP3JbdF0odSk6ZSE9PXQmJnJbZV0/cltlXSh1LmR1cmF0aW9uLHUuZWFzaW5nLGYpOnIucXVldWUoZnVuY3Rpb24oaSl7bih0aGlzKVt0XSgpO2YmJmYuY2FsbChyWzBdKTtpKCl9KX19KTtuLndpZGdldDtzPU1hdGgubWF4O3U9TWF0aC5hYnM7ZD0vbGVmdHxjZW50ZXJ8cmlnaHQvO2c9L3RvcHxjZW50ZXJ8Ym90dG9tLztudD0vW1wrXC1dXGQrKFwuW1xkXSspPyU/Lzt0dD0vXlx3Ky87aXQ9LyUkLzthdD1uLmZuLnBvc2l0aW9uO24ucG9zaXRpb249e3Njcm9sbGJhcldpZHRoOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09aylyZXR1cm4gazt2YXIgcix0PW4oIjxkaXYgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjAwcHg7aGVpZ2h0OjIwMHB4O292ZXJmbG93OmhpZGRlbjsnPjxkaXYgc3R5bGU9J2hlaWdodDozMDBweDt3aWR0aDphdXRvOyc+PFwvZGl2PjxcL2Rpdj4iKSxpPXQuY2hpbGRyZW4oKVswXTtyZXR1cm4gbigiYm9keSIpLmFwcGVuZCh0KSxyPWkub2Zmc2V0V2lkdGgsdC5jc3MoIm92ZXJmbG93Iiwic2Nyb2xsIikscj09PShpPWkub2Zmc2V0V2lkdGgpJiYoaT10WzBdLmNsaWVudFdpZHRoKSx0LnJlbW92ZSgpLGs9ci1pfSxnZXRTY3JvbGxJbmZvOmZ1bmN0aW9uKHQpe3ZhciBpPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy14Iikscj10LmlzV2luZG93fHx0LmlzRG9jdW1lbnQ/IiI6dC5lbGVtZW50LmNzcygib3ZlcmZsb3cteSIpLGk9InNjcm9sbCI9PT1pfHwiYXV0byI9PT1pJiZ0LndpZHRoPHQuZWxlbWVudFswXS5zY3JvbGxXaWR0aDtyZXR1cm57d2lkdGg6InNjcm9sbCI9PT1yfHwiYXV0byI9PT1yJiZ0LmhlaWdodDx0LmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0P24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDppP24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbih0KXt2YXIgaT1uKHR8fHdpbmRvdykscj15dChpWzBdKSx1PSEhaVswXSYmOT09PWlbMF0ubm9kZVR5cGU7cmV0dXJue2VsZW1lbnQ6aSxpc1dpbmRvdzpyLGlzRG9jdW1lbnQ6dSxvZmZzZXQ6IXImJiF1P24odCkub2Zmc2V0KCk6e2xlZnQ6MCx0b3A6MH0sc2Nyb2xsTGVmdDppLnNjcm9sbExlZnQoKSxzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKSx3aWR0aDppLm91dGVyV2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpfX19O24uZm4ucG9zaXRpb249ZnVuY3Rpb24odCl7aWYoIXR8fCF0Lm9mKXJldHVybiBhdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG8scixmLGgsZSxjLHY9InN0cmluZyI9PXR5cGVvZih0PW4uZXh0ZW5kKHt9LHQpKS5vZj9uKGRvY3VtZW50KS5maW5kKHQub2YpOm4odC5vZikscD1uLnBvc2l0aW9uLmdldFdpdGhpbkluZm8odC53aXRoaW4pLHc9bi5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKHApLGw9KHQuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIikseT17fSxpPTk9PT0oYz0oaT12KVswXSkubm9kZVR5cGU/e3dpZHRoOmkud2lkdGgoKSxoZWlnaHQ6aS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDowLGxlZnQ6MH19Onl0KGMpP3t3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6aS5zY3JvbGxUb3AoKSxsZWZ0Omkuc2Nyb2xsTGVmdCgpfX06Yy5wcmV2ZW50RGVmYXVsdD97d2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXQ6e3RvcDpjLnBhZ2VZLGxlZnQ6Yy5wYWdlWH19Ont3aWR0aDppLm91dGVyV2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpLG9mZnNldDppLm9mZnNldCgpfTtyZXR1cm4gdlswXS5wcmV2ZW50RGVmYXVsdCYmKHQuYXQ9ImxlZnQgdG9wIikscj1pLndpZHRoLGY9aS5oZWlnaHQsZT1uLmV4dGVuZCh7fSxoPWkub2Zmc2V0KSxuLmVhY2goWyJteSIsImF0Il0sZnVuY3Rpb24oKXt2YXIgaSxyLG49KHRbdGhpc118fCIiKS5zcGxpdCgiICIpOyhuPTE9PT1uLmxlbmd0aD9kLnRlc3QoblswXSk/bi5jb25jYXQoWyJjZW50ZXIiXSk6Zy50ZXN0KG5bMF0pP1siY2VudGVyIl0uY29uY2F0KG4pOlsiY2VudGVyIiwiY2VudGVyIl06bilbMF09ZC50ZXN0KG5bMF0pP25bMF06ImNlbnRlciI7blsxXT1nLnRlc3QoblsxXSk/blsxXToiY2VudGVyIjtpPW50LmV4ZWMoblswXSk7cj1udC5leGVjKG5bMV0pO3lbdGhpc109W2k/aVswXTowLHI/clswXTowXTt0W3RoaXNdPVt0dC5leGVjKG5bMF0pWzBdLHR0LmV4ZWMoblsxXSlbMF1dfSksMT09PWwubGVuZ3RoJiYobFsxXT1sWzBdKSwicmlnaHQiPT09dC5hdFswXT9lLmxlZnQrPXI6ImNlbnRlciI9PT10LmF0WzBdJiYoZS5sZWZ0Kz1yLzIpLCJib3R0b20iPT09dC5hdFsxXT9lLnRvcCs9ZjoiY2VudGVyIj09PXQuYXRbMV0mJihlLnRvcCs9Zi8yKSxvPXZ0KHkuYXQscixmKSxlLmxlZnQrPW9bMF0sZS50b3ArPW9bMV0sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGcsbnQsYz1uKHRoaXMpLGI9Yy5vdXRlcldpZHRoKCksaz1jLm91dGVySGVpZ2h0KCksdHQ9YSh0aGlzLCJtYXJnaW5MZWZ0IiksaXQ9YSh0aGlzLCJtYXJnaW5Ub3AiKSxydD1iK3R0K2EodGhpcywibWFyZ2luUmlnaHQiKSt3LndpZHRoLHV0PWsraXQrYSh0aGlzLCJtYXJnaW5Cb3R0b20iKSt3LmhlaWdodCxpPW4uZXh0ZW5kKHt9LGUpLGQ9dnQoeS5teSxjLm91dGVyV2lkdGgoKSxjLm91dGVySGVpZ2h0KCkpOyJyaWdodCI9PT10Lm15WzBdP2kubGVmdC09YjoiY2VudGVyIj09PXQubXlbMF0mJihpLmxlZnQtPWIvMik7ImJvdHRvbSI9PT10Lm15WzFdP2kudG9wLT1rOiJjZW50ZXIiPT09dC5teVsxXSYmKGkudG9wLT1rLzIpO2kubGVmdCs9ZFswXTtpLnRvcCs9ZFsxXTtnPXttYXJnaW5MZWZ0OnR0LG1hcmdpblRvcDppdH07bi5lYWNoKFsibGVmdCIsInRvcCJdLGZ1bmN0aW9uKHUsZSl7bi51aS5wb3NpdGlvbltsW3VdXSYmbi51aS5wb3NpdGlvbltsW3VdXVtlXShpLHt0YXJnZXRXaWR0aDpyLHRhcmdldEhlaWdodDpmLGVsZW1XaWR0aDpiLGVsZW1IZWlnaHQ6ayxjb2xsaXNpb25Qb3NpdGlvbjpnLGNvbGxpc2lvbldpZHRoOnJ0LGNvbGxpc2lvbkhlaWdodDp1dCxvZmZzZXQ6W29bMF0rZFswXSxvWzFdK2RbMV1dLG15OnQubXksYXQ6dC5hdCx3aXRoaW46cCxlbGVtOmN9KX0pO3QudXNpbmcmJihudD1mdW5jdGlvbihuKXt2YXIgZT1oLmxlZnQtaS5sZWZ0LGE9ZStyLWIsbz1oLnRvcC1pLnRvcCx5PW8rZi1rLGw9e3RhcmdldDp7ZWxlbWVudDp2LGxlZnQ6aC5sZWZ0LHRvcDpoLnRvcCx3aWR0aDpyLGhlaWdodDpmfSxlbGVtZW50OntlbGVtZW50OmMsbGVmdDppLmxlZnQsdG9wOmkudG9wLHdpZHRoOmIsaGVpZ2h0Omt9LGhvcml6b250YWw6YTwwPyJsZWZ0IjowPGU/InJpZ2h0IjoiY2VudGVyIix2ZXJ0aWNhbDp5PDA/InRvcCI6MDxvPyJib3R0b20iOiJtaWRkbGUifTtyPGImJnUoZSthKTxyJiYobC5ob3Jpem9udGFsPSJjZW50ZXIiKTtmPGsmJnUobyt5KTxmJiYobC52ZXJ0aWNhbD0ibWlkZGxlIik7bC5pbXBvcnRhbnQ9cyh1KGUpLHUoYSkpPnModShvKSx1KHkpKT8iaG9yaXpvbnRhbCI6InZlcnRpY2FsIjt0LnVzaW5nLmNhbGwodGhpcyxuLGwpfSk7Yy5vZmZzZXQobi5leHRlbmQoaSx7dXNpbmc6bnR9KSl9KX07bi51aS5wb3NpdGlvbj17Zml0OntsZWZ0OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dC53aXRoaW4sdT1yLmlzV2luZG93P3Iuc2Nyb2xsTGVmdDpyLm9mZnNldC5sZWZ0LGU9ci53aWR0aCxvPW4ubGVmdC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaT11LW8sZj1vK3QuY29sbGlzaW9uV2lkdGgtZS11O3QuY29sbGlzaW9uV2lkdGg+ZT8wPGkmJmY8PTA/KHI9bi5sZWZ0K2krdC5jb2xsaXNpb25XaWR0aC1lLXUsbi5sZWZ0Kz1pLXIpOm4ubGVmdD0hKDA8ZiYmaTw9MCkmJmY8aT91K2UtdC5jb2xsaXNpb25XaWR0aDp1OjA8aT9uLmxlZnQrPWk6MDxmP24ubGVmdC09ZjpuLmxlZnQ9cyhuLmxlZnQtbyxuLmxlZnQpfSx0b3A6ZnVuY3Rpb24obix0KXt2YXIgcj10LndpdGhpbix1PXIuaXNXaW5kb3c/ci5zY3JvbGxUb3A6ci5vZmZzZXQudG9wLGU9dC53aXRoaW4uaGVpZ2h0LG89bi50b3AtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsaT11LW8sZj1vK3QuY29sbGlzaW9uSGVpZ2h0LWUtdTt0LmNvbGxpc2lvbkhlaWdodD5lPzA8aSYmZjw9MD8ocj1uLnRvcCtpK3QuY29sbGlzaW9uSGVpZ2h0LWUtdSxuLnRvcCs9aS1yKTpuLnRvcD0hKDA8ZiYmaTw9MCkmJmY8aT91K2UtdC5jb2xsaXNpb25IZWlnaHQ6dTowPGk/bi50b3ArPWk6MDxmP24udG9wLT1mOm4udG9wPXMobi50b3AtbyxuLnRvcCl9fSxmbGlwOntsZWZ0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dC53aXRoaW4sbz1pLm9mZnNldC5sZWZ0K2kuc2Nyb2xsTGVmdCxzPWkud2lkdGgsZj1pLmlzV2luZG93P2kuc2Nyb2xsTGVmdDppLm9mZnNldC5sZWZ0LHI9bi5sZWZ0LXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxoPXItZixjPXIrdC5jb2xsaXNpb25XaWR0aC1zLWYsZT0ibGVmdCI9PT10Lm15WzBdPy10LmVsZW1XaWR0aDoicmlnaHQiPT09dC5teVswXT90LmVsZW1XaWR0aDowLGk9ImxlZnQiPT09dC5hdFswXT90LnRhcmdldFdpZHRoOiJyaWdodCI9PT10LmF0WzBdPy10LnRhcmdldFdpZHRoOjAscj0tMip0Lm9mZnNldFswXTtoPDA/KChvPW4ubGVmdCtlK2krcit0LmNvbGxpc2lvbldpZHRoLXMtbyk8MHx8bzx1KGgpKSYmKG4ubGVmdCs9ZStpK3IpOjA8YyYmKDA8KGY9bi5sZWZ0LXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCtlK2krci1mKXx8dShmKTxjKSYmKG4ubGVmdCs9ZStpK3IpfSx0b3A6ZnVuY3Rpb24obix0KXt2YXIgaT10LndpdGhpbixvPWkub2Zmc2V0LnRvcCtpLnNjcm9sbFRvcCxzPWkuaGVpZ2h0LGY9aS5pc1dpbmRvdz9pLnNjcm9sbFRvcDppLm9mZnNldC50b3Ascj1uLnRvcC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxoPXItZixjPXIrdC5jb2xsaXNpb25IZWlnaHQtcy1mLGU9InRvcCI9PT10Lm15WzFdPy10LmVsZW1IZWlnaHQ6ImJvdHRvbSI9PT10Lm15WzFdP3QuZWxlbUhlaWdodDowLGk9InRvcCI9PT10LmF0WzFdP3QudGFyZ2V0SGVpZ2h0OiJib3R0b20iPT09dC5hdFsxXT8tdC50YXJnZXRIZWlnaHQ6MCxyPS0yKnQub2Zmc2V0WzFdO2g8MD8oKG89bi50b3ArZStpK3IrdC5jb2xsaXNpb25IZWlnaHQtcy1vKTwwfHxvPHUoaCkpJiYobi50b3ArPWUraStyKTowPGMmJigwPChmPW4udG9wLXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wK2UraStyLWYpfHx1KGYpPGMpJiYobi50b3ArPWUraStyKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bi51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe24udWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07bi51aS5wb3NpdGlvbjtuLmV4dGVuZChuLmV4cHIucHNldWRvcyx7ZGF0YTpuLmV4cHIuY3JlYXRlUHNldWRvP24uZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbi5kYXRhKGksdCl9fSk6ZnVuY3Rpb24odCxpLHIpe3JldHVybiEhbi5kYXRhKHQsclszXSl9fSk7bi5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246KHB0PSJvbnNlbGVjdHN0YXJ0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbihwdCsiLnVpLWRpc2FibGVTZWxlY3Rpb24iLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0pfSksZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfX0pO3ZhciBwdCx0PW4scnQ9e30sZ2k9cnQudG9TdHJpbmcsbnI9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyx0cj1be3JlOi9yZ2JhP1woXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKixccyooXGR7MSwzfSlccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuW25bMV0sblsyXSxuWzNdLG5bNF1dfX0se3JlOi9yZ2JhP1woXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuWzIuNTUqblsxXSwyLjU1Km5bMl0sMi41NSpuWzNdLG5bNF1dfX0se3JlOi8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KT8vLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdLDE2KSxwYXJzZUludChuWzJdLDE2KSxwYXJzZUludChuWzNdLDE2KSxuWzRdPyhwYXJzZUludChuWzRdLDE2KS8yNTUpLnRvRml4ZWQoMik6MV19fSx7cmU6LyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pPy8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuW3BhcnNlSW50KG5bMV0rblsxXSwxNikscGFyc2VJbnQoblsyXStuWzJdLDE2KSxwYXJzZUludChuWzNdK25bM10sMTYpLG5bNF0/KHBhcnNlSW50KG5bNF0rbls0XSwxNikvMjU1KS50b0ZpeGVkKDIpOjFdfX0se3JlOi9oc2xhP1woXHMqKFxkKyg/OlwuXGQrKT8pXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHNwYWNlOiJoc2xhIixwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bblsxXSxuWzJdLzEwMCxuWzNdLzEwMCxuWzRdXX19XSxpPXQuQ29sb3I9ZnVuY3Rpb24obixpLHIsdSl7cmV0dXJuIG5ldyB0LkNvbG9yLmZuLnBhcnNlKG4saSxyLHUpfSxmPXtyZ2JhOntwcm9wczp7cmVkOntpZHg6MCx0eXBlOiJieXRlIn0sZ3JlZW46e2lkeDoxLHR5cGU6ImJ5dGUifSxibHVlOntpZHg6Mix0eXBlOiJieXRlIn19fSxoc2xhOntwcm9wczp7aHVlOntpZHg6MCx0eXBlOiJkZWdyZWVzIn0sc2F0dXJhdGlvbjp7aWR4OjEsdHlwZToicGVyY2VudCJ9LGxpZ2h0bmVzczp7aWR4OjIsdHlwZToicGVyY2VudCJ9fX19LHd0PXtieXRlOntmbG9vcjohMCxtYXg6MjU1fSxwZXJjZW50OnttYXg6MX0sZGVncmVlczp7bW9kOjM2MCxmbG9vcjohMH19LGJ0PWkuc3VwcG9ydD17fSxoPXQoIjxwPiIpWzBdLHI9dC5lYWNoO2guc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSI7YnQucmdiYT0tMTxoLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCJyZ2JhIik7cihmLGZ1bmN0aW9uKG4sdCl7dC5jYWNoZT0iXyIrbjt0LnByb3BzLmFscGhhPXtpZHg6Myx0eXBlOiJwZXJjZW50IixkZWY6MX19KTt0LmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7cnRbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7KGkuZm49dC5leHRlbmQoaS5wcm90b3R5cGUse3BhcnNlOmZ1bmN0aW9uKG4sdSxlLG8pe2lmKHZvaWQgMD09PW4pcmV0dXJuIHRoaXMuX3JnYmE9W251bGwsbnVsbCxudWxsLG51bGxdLHRoaXM7KG4uanF1ZXJ5fHxuLm5vZGVUeXBlKSYmKG49dChuKS5jc3ModSksdT12b2lkIDApO3ZhciBzPXRoaXMsaD1jKG4pLGw9dGhpcy5fcmdiYT1bXTtyZXR1cm4gdm9pZCAwIT09dSYmKG49W24sdSxlLG9dLGg9ImFycmF5IiksInN0cmluZyI9PT1oP3RoaXMucGFyc2Uoa3Qobil8fGZ0Ll9kZWZhdWx0KToiYXJyYXkiPT09aD8ocihmLnJnYmEucHJvcHMsZnVuY3Rpb24odCxpKXtsW2kuaWR4XT12KG5baS5pZHhdLGkpfSksdGhpcyk6Im9iamVjdCI9PT1oPyhyKGYsbiBpbnN0YW5jZW9mIGk/ZnVuY3Rpb24odCxpKXtuW2kuY2FjaGVdJiYoc1tpLmNhY2hlXT1uW2kuY2FjaGVdLnNsaWNlKCkpfTpmdW5jdGlvbihpLHUpe3ZhciBmPXUuY2FjaGU7cih1LnByb3BzLGZ1bmN0aW9uKHQsaSl7aWYoIXNbZl0mJnUudG8pe2lmKCJhbHBoYSI9PT10fHxudWxsPT1uW3RdKXJldHVybjtzW2ZdPXUudG8ocy5fcmdiYSl9c1tmXVtpLmlkeF09dihuW3RdLGksITApfSk7c1tmXSYmdC5pbkFycmF5KG51bGwsc1tmXS5zbGljZSgwLDMpKTwwJiYobnVsbD09c1tmXVszXSYmKHNbZl1bM109MSksdS5mcm9tJiYocy5fcmdiYT11LmZyb20oc1tmXSkpKX0pLHRoaXMpOnZvaWQgMH0saXM6ZnVuY3Rpb24obil7dmFyIGU9aShuKSx0PSEwLHU9dGhpcztyZXR1cm4gcihmLGZ1bmN0aW9uKG4saSl7dmFyIG8sZj1lW2kuY2FjaGVdO3JldHVybiBmJiYobz11W2kuY2FjaGVdfHxpLnRvJiZpLnRvKHUuX3JnYmEpfHxbXSxyKGkucHJvcHMsZnVuY3Rpb24obixpKXtpZihudWxsIT1mW2kuaWR4XSlyZXR1cm4gdD1mW2kuaWR4XT09PW9baS5pZHhdfSkpLHR9KSx0fSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgbj1bXSx0PXRoaXM7cmV0dXJuIHIoZixmdW5jdGlvbihpLHIpe3Rbci5jYWNoZV0mJm4ucHVzaChpKX0pLG4ucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24obix0KXt2YXIgcz0obz1pKG4pKS5fc3BhY2UoKSx1PWZbc10sbj0wPT09dGhpcy5hbHBoYSgpP2koInRyYW5zcGFyZW50Iik6dGhpcyxoPW5bdS5jYWNoZV18fHUudG8obi5fcmdiYSksZT1oLnNsaWNlKCksbz1vW3UuY2FjaGVdO3JldHVybiByKHUucHJvcHMsZnVuY3Rpb24obixpKXt2YXIgcz1pLmlkeCxyPWhbc10sdT1vW3NdLGY9d3RbaS50eXBlXXx8e307bnVsbCE9PXUmJihudWxsPT09cj9lW3NdPXU6KGYubW9kJiYodS1yPmYubW9kLzI/cis9Zi5tb2Q6ci11PmYubW9kLzImJihyLT1mLm1vZCkpLGVbc109digodS1yKSp0K3IsaSkpKX0pLHRoaXNbc10oZSl9LGJsZW5kOmZ1bmN0aW9uKG4pe2lmKDE9PT10aGlzLl9yZ2JhWzNdKXJldHVybiB0aGlzO3ZhciByPXRoaXMuX3JnYmEuc2xpY2UoKSx1PXIucG9wKCksZj1pKG4pLl9yZ2JhO3JldHVybiBpKHQubWFwKHIsZnVuY3Rpb24obix0KXtyZXR1cm4oMS11KSpmW3RdK3Uqbn0pKX0sdG9SZ2JhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGk9InJnYmEoIixuPXQubWFwKHRoaXMuX3JnYmEsZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbCE9bj9uOjI8dD8xOjB9KTtyZXR1cm4gMT09PW5bM10mJihuLnBvcCgpLGk9InJnYigiKSxpK24uam9pbigpKyIpIn0sdG9Ic2xhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGk9ImhzbGEoIixuPXQubWFwKHRoaXMuaHNsYSgpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PW4mJihuPTI8dD8xOjApLG49dCYmdDwzP01hdGgucm91bmQoMTAwKm4pKyIlIjpufSk7cmV0dXJuIDE9PT1uWzNdJiYobi5wb3AoKSxpPSJoc2woIiksaStuLmpvaW4oKSsiKSJ9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxyPWkucG9wKCk7cmV0dXJuIG4mJmkucHVzaCh+figyNTUqcikpLCIjIit0Lm1hcChpLGZ1bmN0aW9uKG4pe3JldHVybiAxPT09KG49KG58fDApLnRvU3RyaW5nKDE2KSkubGVuZ3RoPyIwIituOm59KS5qb2luKCIiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3JnYmFbM10/InRyYW5zcGFyZW50Ijp0aGlzLnRvUmdiYVN0cmluZygpfX0pKS5wYXJzZS5wcm90b3R5cGU9aS5mbjtmLmhzbGEudG89ZnVuY3Rpb24obil7aWYobnVsbD09blswXXx8bnVsbD09blsxXXx8bnVsbD09blsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsblszXV07dmFyIHI9blswXS8yNTUsdD1uWzFdLzI1NSxmPW5bMl0vMjU1LHM9blszXSx1PU1hdGgubWF4KHIsdCxmKSxvPU1hdGgubWluKHIsdCxmKSxpPXUtbyxlPXUrbyxuPS41KmUsdD1vPT09dT8wOnI9PT11PzYwKih0LWYpL2krMzYwOnQ9PT11PzYwKihmLXIpL2krMTIwOjYwKihyLXQpL2krMjQwLGU9MD09aT8wOm48PS41P2kvZTppLygyLWUpO3JldHVybltNYXRoLnJvdW5kKHQpJTM2MCxlLG4sbnVsbD09cz8xOnNdfTtmLmhzbGEuZnJvbT1mdW5jdGlvbihuKXtpZihudWxsPT1uWzBdfHxudWxsPT1uWzFdfHxudWxsPT1uWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxuWzNdXTt2YXIgcj1uWzBdLzM2MCxpPW5bMV0sdD1uWzJdLG49blszXSxpPXQ8PS41P3QqKDEraSk6dCtpLXQqaSx0PTIqdC1pO3JldHVybltNYXRoLnJvdW5kKDI1NSp1dCh0LGkscisxLzMpKSxNYXRoLnJvdW5kKDI1NSp1dCh0LGkscikpLE1hdGgucm91bmQoMjU1KnV0KHQsaSxyLTEvMykpLG5dfTtyKGYsZnVuY3Rpb24obix0KXt2YXIgZj10LnByb3BzLHU9dC5jYWNoZSxlPXQudG8sbz10LmZyb207aS5mbltuXT1mdW5jdGlvbihuKXtpZihlJiYhdGhpc1t1XSYmKHRoaXNbdV09ZSh0aGlzLl9yZ2JhKSksdm9pZCAwPT09bilyZXR1cm4gdGhpc1t1XS5zbGljZSgpO3ZhciBzPWMobiksaD0iYXJyYXkiPT09c3x8Im9iamVjdCI9PT1zP246YXJndW1lbnRzLHQ9dGhpc1t1XS5zbGljZSgpO3JldHVybiByKGYsZnVuY3Rpb24obixpKXtuPWhbIm9iamVjdCI9PT1zP246aS5pZHhdO251bGw9PW4mJihuPXRbaS5pZHhdKTt0W2kuaWR4XT12KG4saSl9KSxvPygobj1pKG8odCkpKVt1XT10LG4pOmkodCl9O3IoZixmdW5jdGlvbih0LHIpe2kuZm5bdF18fChpLmZuW3RdPWZ1bmN0aW9uKGkpe3ZhciBmLHU9YyhpKSxzPSJhbHBoYSI9PT10P3RoaXMuX2hzbGE/ImhzbGEiOiJyZ2JhIjpuLGU9dGhpc1tzXSgpLG89ZVtyLmlkeF07cmV0dXJuInVuZGVmaW5lZCI9PT11P286KCJmdW5jdGlvbiI9PT11JiYodT1jKGk9aS5jYWxsKHRoaXMsbykpKSxudWxsPT1pJiZyLmVtcHR5P3RoaXM6KCJzdHJpbmciPT09dSYmKGY9bnIuZXhlYyhpKSkmJihpPW8rcGFyc2VGbG9hdChmWzJdKSooIisiPT09ZlsxXT8xOi0xKSksZVtyLmlkeF09aSx0aGlzW3NdKGUpKSl9KX0pfSk7KGkuaG9vaz1mdW5jdGlvbihuKXtuPW4uc3BsaXQoIiAiKTtyKG4sZnVuY3Rpb24obixyKXt0LmNzc0hvb2tzW3JdPXtzZXQ6ZnVuY3Rpb24obix1KXt2YXIgbyxmLGU9IiI7aWYoInRyYW5zcGFyZW50IiE9PXUmJigic3RyaW5nIiE9PWModSl8fChvPWt0KHUpKSkpe2lmKHU9aShvfHx1KSwhYnQucmdiYSYmMSE9PXUuX3JnYmFbM10pe2ZvcihmPSJiYWNrZ3JvdW5kQ29sb3IiPT09cj9uLnBhcmVudE5vZGU6bjsoIiI9PT1lfHwidHJhbnNwYXJlbnQiPT09ZSkmJmYmJmYuc3R5bGU7KXRyeXtlPXQuY3NzKGYsImJhY2tncm91bmRDb2xvciIpO2Y9Zi5wYXJlbnROb2RlfWNhdGNoKG4pe311PXUuYmxlbmQoZSYmInRyYW5zcGFyZW50IiE9PWU/ZToiX2RlZmF1bHQiKX11PXUudG9SZ2JhU3RyaW5nKCl9dHJ5e24uc3R5bGVbcl09dX1jYXRjaChuKXt9fX07dC5meC5zdGVwW3JdPWZ1bmN0aW9uKG4pe24uY29sb3JJbml0fHwobi5zdGFydD1pKG4uZWxlbSxyKSxuLmVuZD1pKG4uZW5kKSxuLmNvbG9ySW5pdD0hMCk7dC5jc3NIb29rc1tyXS5zZXQobi5lbGVtLG4uc3RhcnQudHJhbnNpdGlvbihuLmVuZCxuLnBvcykpfX0pfSkoImJhY2tncm91bmRDb2xvciBib3JkZXJCb3R0b21Db2xvciBib3JkZXJMZWZ0Q29sb3IgYm9yZGVyUmlnaHRDb2xvciBib3JkZXJUb3BDb2xvciBjb2xvciBjb2x1bW5SdWxlQ29sb3Igb3V0bGluZUNvbG9yIHRleHREZWNvcmF0aW9uQ29sb3IgdGV4dEVtcGhhc2lzQ29sb3IiKTt0LmNzc0hvb2tzLmJvcmRlckNvbG9yPXtleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHQ9e307cmV0dXJuIHIoWyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxmdW5jdGlvbihpLHIpe3RbImJvcmRlciIrcisiQ29sb3IiXT1ufSksdH19O3ZhciBkdCxndCxuaSx0aSxpaSxyaSx1aSxmaSxlaSx5LGZ0PXQuQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn0scD0idWktZWZmZWN0cy0iLGV0PSJ1aS1lZmZlY3RzLXN0eWxlIixvdD0idWktZWZmZWN0cy1hbmltYXRlZCI7bi5lZmZlY3RzPXtlZmZlY3Q6e319O3RpPVsiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIl07aWk9e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O24uZWFjaChbImJvcmRlckxlZnRTdHlsZSIsImJvcmRlclJpZ2h0U3R5bGUiLCJib3JkZXJCb3R0b21TdHlsZSIsImJvcmRlclRvcFN0eWxlIl0sZnVuY3Rpb24oaSxyKXtuLmZ4LnN0ZXBbcl09ZnVuY3Rpb24obil7KCJub25lIj09PW4uZW5kfHxuLnNldEF0dHIpJiYoMSE9PW4ucG9zfHxuLnNldEF0dHIpfHwodC5zdHlsZShuLmVsZW0scixuLmVuZCksbi5zZXRBdHRyPSEwKX19KTtuLmZuLmFkZEJhY2t8fChuLmZuLmFkZEJhY2s9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuYWRkKG51bGw9PW4/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIobikpfSk7bi5lZmZlY3RzLmFuaW1hdGVDbGFzcz1mdW5jdGlvbih0LGkscix1KXt2YXIgZj1uLnNwZWVkKGkscix1KTtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksZT1pLmF0dHIoImNsYXNzIil8fCIiLHI9KHI9Zi5jaGlsZHJlbj9pLmZpbmQoIioiKS5hZGRCYWNrKCk6aSkubWFwKGZ1bmN0aW9uKCl7cmV0dXJue2VsOm4odGhpcyksc3RhcnQ6b2kodGhpcyl9fSksdT1mdW5jdGlvbigpe24uZWFjaCh0aSxmdW5jdGlvbihuLHIpe3Rbcl0mJmlbcisiQ2xhc3MiXSh0W3JdKX0pfTt1KCk7cj1yLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZD1vaSh0aGlzLmVsWzBdKSx0aGlzLmRpZmY9ZnVuY3Rpb24odCxpKXt2YXIgcix1LGY9e307Zm9yKHIgaW4gaSl1PWlbcl0sdFtyXSE9PXUmJihpaVtyXXx8IW4uZnguc3RlcFtyXSYmaXNOYU4ocGFyc2VGbG9hdCh1KSl8fChmW3JdPXUpKTtyZXR1cm4gZn0odGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pO2kuYXR0cigiY2xhc3MiLGUpO3I9ci5tYXAoZnVuY3Rpb24oKXt2YXIgaT10aGlzLHQ9bi5EZWZlcnJlZCgpLHI9bi5leHRlbmQoe30sZix7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXt0LnJlc29sdmUoaSl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYsciksdC5wcm9taXNlKCl9KTtuLndoZW4uYXBwbHkobixyLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7dSgpO24uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO24uZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24obil7dC5jc3MobiwiIil9KX0pO2YuY29tcGxldGUuY2FsbChpWzBdKX0pfSl9O24uZm4uZXh0ZW5kKHthZGRDbGFzczoobmk9bi5mbi5hZGRDbGFzcyxmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gaT9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOnR9LGkscix1KTpuaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxyZW1vdmVDbGFzczooZ3Q9bi5mbi5yZW1vdmVDbGFzcyxmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gMTxhcmd1bWVudHMubGVuZ3RoP24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6dH0saSxyLHUpOmd0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHRvZ2dsZUNsYXNzOihkdD1uLmZuLnRvZ2dsZUNsYXNzLGZ1bmN0aW9uKHQsaSxyLHUsZil7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgaXx8dm9pZCAwPT09aT9yP24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLGk/e2FkZDp0fTp7cmVtb3ZlOnR9LHIsdSxmKTpkdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6bi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3RvZ2dsZTp0fSxpLHIsdSl9KSxzd2l0Y2hDbGFzczpmdW5jdGlvbih0LGkscix1LGYpe3JldHVybiBuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOmkscmVtb3ZlOnR9LHIsdSxmKX19KTtuLmV4cHImJm4uZXhwci5wc2V1ZG9zJiZuLmV4cHIucHNldWRvcy5hbmltYXRlZCYmKG4uZXhwci5wc2V1ZG9zLmFuaW1hdGVkPShyaT1uLmV4cHIucHNldWRvcy5hbmltYXRlZCxmdW5jdGlvbih0KXtyZXR1cm4hIW4odCkuZGF0YShvdCl8fHJpKHQpfSkpOyExIT09bi51aUJhY2tDb21wYXQmJm4uZXh0ZW5kKG4uZWZmZWN0cyx7c2F2ZTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyludWxsIT09dFtpXSYmbi5kYXRhKHArdFtpXSxuWzBdLnN0eWxlW3RbaV1dKX0scmVzdG9yZTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcixpPTAsdT10Lmxlbmd0aDtpPHU7aSsrKW51bGwhPT10W2ldJiYocj1uLmRhdGEocCt0W2ldKSxuLmNzcyh0W2ldLHIpKX0sc2V0TW9kZTpmdW5jdGlvbihuLHQpe3JldHVybiJ0b2dnbGUiPT09dD9uLmlzKCI6aGlkZGVuIik/InNob3ciOiJoaWRlIjp0fSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKHQpe2lmKHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksZmxvYXQ6dC5jc3MoImZsb2F0Iil9LHU9bigiPGRpdj48XC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pLGY9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0scj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtyLmlkfWNhdGNoKHUpe3I9ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHUpLHRbMF0hPT1yJiYhbi5jb250YWlucyh0WzBdLHIpfHxuKHIpLnRyaWdnZXIoImZvY3VzIiksdT10LnBhcmVudCgpLCJzdGF0aWMiPT09dC5jc3MoInBvc2l0aW9uIik/KHUuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSksdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KSk6KG4uZXh0ZW5kKGkse3Bvc2l0aW9uOnQuY3NzKCJwb3NpdGlvbiIpLHpJbmRleDp0LmNzcygiei1pbmRleCIpfSksbi5lYWNoKFsidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0Il0sZnVuY3Rpb24obixyKXtpW3JdPXQuY3NzKHIpO2lzTmFOKHBhcnNlSW50KGlbcl0sMTApKSYmKGlbcl09ImF1dG8iKX0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDowLGxlZnQ6MCxyaWdodDoiYXV0byIsYm90dG9tOiJhdXRvIn0pKSx0LmNzcyhmKSx1LmNzcyhpKS5zaG93KCl9LHJlbW92ZVdyYXBwZXI6ZnVuY3Rpb24odCl7dmFyIGk9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtyZXR1cm4gdC5wYXJlbnQoKS5pcygiLnVpLWVmZmVjdHMtd3JhcHBlciIpJiYodC5wYXJlbnQoKS5yZXBsYWNlV2l0aCh0KSx0WzBdIT09aSYmIW4uY29udGFpbnModFswXSxpKXx8bihpKS50cmlnZ2VyKCJmb2N1cyIpKSx0fX0pO24uZXh0ZW5kKG4uZWZmZWN0cyx7dmVyc2lvbjoiMS4xMy4yIixkZWZpbmU6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByfHwocj1pLGk9ImVmZmVjdCIpLG4uZWZmZWN0cy5lZmZlY3RbdF09cixuLmVmZmVjdHMuZWZmZWN0W3RdLm1vZGU9aSxyfSxzY2FsZWREaW1lbnNpb25zOmZ1bmN0aW9uKG4sdCxpKXtpZigwPT09dClyZXR1cm57aGVpZ2h0OjAsd2lkdGg6MCxvdXRlckhlaWdodDowLG91dGVyV2lkdGg6MH07dmFyIHI9Imhvcml6b250YWwiIT09aT8odHx8MTAwKS8xMDA6MSx0PSJ2ZXJ0aWNhbCIhPT1pPyh0fHwxMDApLzEwMDoxO3JldHVybntoZWlnaHQ6bi5oZWlnaHQoKSp0LHdpZHRoOm4ud2lkdGgoKSpyLG91dGVySGVpZ2h0Om4ub3V0ZXJIZWlnaHQoKSp0LG91dGVyV2lkdGg6bi5vdXRlcldpZHRoKCkqcn19LGNsaXBUb0JveDpmdW5jdGlvbihuKXtyZXR1cm57d2lkdGg6bi5jbGlwLnJpZ2h0LW4uY2xpcC5sZWZ0LGhlaWdodDpuLmNsaXAuYm90dG9tLW4uY2xpcC50b3AsbGVmdDpuLmNsaXAubGVmdCx0b3A6bi5jbGlwLnRvcH19LHVuc2hpZnQ6ZnVuY3Rpb24obix0LGkpe3ZhciByPW4ucXVldWUoKTsxPHQmJnIuc3BsaWNlLmFwcGx5KHIsWzEsMF0uY29uY2F0KHIuc3BsaWNlKHQsaSkpKTtuLmRlcXVldWUoKX0sc2F2ZVN0eWxlOmZ1bmN0aW9uKG4pe24uZGF0YShldCxuWzBdLnN0eWxlLmNzc1RleHQpfSxyZXN0b3JlU3R5bGU6ZnVuY3Rpb24obil7blswXS5zdHlsZS5jc3NUZXh0PW4uZGF0YShldCl8fCIiO24ucmVtb3ZlRGF0YShldCl9LG1vZGU6ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1uLmlzKCI6aGlkZGVuIiksInRvZ2dsZSI9PT10JiYodD1uPyJzaG93IjoiaGlkZSIpLHQ9KG4/ImhpZGUiPT09dDoic2hvdyI9PT10KT8ibm9uZSI6dH0sZ2V0QmFzZWxpbmU6ZnVuY3Rpb24obix0KXt2YXIgaSxyO3N3aXRjaChuWzBdKXtjYXNlInRvcCI6aT0wO2JyZWFrO2Nhc2UibWlkZGxlIjppPS41O2JyZWFrO2Nhc2UiYm90dG9tIjppPTE7YnJlYWs7ZGVmYXVsdDppPW5bMF0vdC5oZWlnaHR9c3dpdGNoKG5bMV0pe2Nhc2UibGVmdCI6cj0wO2JyZWFrO2Nhc2UiY2VudGVyIjpyPS41O2JyZWFrO2Nhc2UicmlnaHQiOnI9MTticmVhaztkZWZhdWx0OnI9blsxXS90LndpZHRofXJldHVybnt4OnIseTppfX0sY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dmFyIGkscj10LmNzcygicG9zaXRpb24iKSx1PXQucG9zaXRpb24oKTtyZXR1cm4gdC5jc3Moe21hcmdpblRvcDp0LmNzcygibWFyZ2luVG9wIiksbWFyZ2luQm90dG9tOnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnQuY3NzKCJtYXJnaW5MZWZ0IiksbWFyZ2luUmlnaHQ6dC5jc3MoIm1hcmdpblJpZ2h0Iil9KS5vdXRlcldpZHRoKHQub3V0ZXJXaWR0aCgpKS5vdXRlckhlaWdodCh0Lm91dGVySGVpZ2h0KCkpLC9eKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QocikmJihyPSJhYnNvbHV0ZSIsaT1uKCI8Iit0WzBdLm5vZGVOYW1lKyI+IikuaW5zZXJ0QWZ0ZXIodCkuY3NzKHtkaXNwbGF5Oi9eKGlubGluZXxydWJ5KS8udGVzdCh0LmNzcygiZGlzcGxheSIpKT8iaW5saW5lLWJsb2NrIjoiYmxvY2siLHZpc2liaWxpdHk6ImhpZGRlbiIsbWFyZ2luVG9wOnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5Cb3R0b206dC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0LmNzcygibWFyZ2luUmlnaHQiKSxmbG9hdDp0LmNzcygiZmxvYXQiKX0pLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSkuYWRkQ2xhc3MoInVpLWVmZmVjdHMtcGxhY2Vob2xkZXIiKSx0LmRhdGEocCsicGxhY2Vob2xkZXIiLGkpKSx0LmNzcyh7cG9zaXRpb246cixsZWZ0OnUubGVmdCx0b3A6dS50b3B9KSxpfSxyZW1vdmVQbGFjZWhvbGRlcjpmdW5jdGlvbihuKXt2YXIgdD1wKyJwbGFjZWhvbGRlciIsaT1uLmRhdGEodCk7aSYmKGkucmVtb3ZlKCksbi5yZW1vdmVEYXRhKHQpKX0sY2xlYW5VcDpmdW5jdGlvbih0KXtuLmVmZmVjdHMucmVzdG9yZVN0eWxlKHQpO24uZWZmZWN0cy5yZW1vdmVQbGFjZWhvbGRlcih0KX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gdT11fHx7fSxuLmVhY2goaSxmdW5jdGlvbihuLGkpe3ZhciBmPXQuY3NzVW5pdChpKTswPGZbMF0mJih1W2ldPWZbMF0qcitmWzFdKX0pLHV9fSk7bi5mbi5leHRlbmQoe2VmZmVjdDpmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIGY9bih0aGlzKSx1PW4uZWZmZWN0cy5tb2RlKGYsaSl8fHI7Zi5kYXRhKG90LCEwKTtoLnB1c2godSk7ciYmKCJzaG93Ij09PXV8fHU9PT1yJiYiaGlkZSI9PT11KSYmZi5zaG93KCk7ciYmIm5vbmUiPT09dXx8bi5lZmZlY3RzLnNhdmVTdHlsZShmKTsiZnVuY3Rpb24iPT10eXBlb2YgdCYmdCgpfWZ1bmN0aW9uIGMoZSl7ZnVuY3Rpb24gcygpeyJmdW5jdGlvbiI9PXR5cGVvZiB1JiZ1LmNhbGwob1swXSk7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUoKX12YXIgbz1uKHRoaXMpO3QubW9kZT1oLnNoaWZ0KCk7ITE9PT1uLnVpQmFja0NvbXBhdHx8cj8ibm9uZSI9PT10Lm1vZGU/KG9baV0oKSxzKCkpOmYuY2FsbChvWzBdLHQsZnVuY3Rpb24oKXtvLnJlbW92ZURhdGEob3QpO24uZWZmZWN0cy5jbGVhblVwKG8pOyJoaWRlIj09PXQubW9kZSYmby5oaWRlKCk7cygpfSk6KG8uaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1pOiJzaG93Ij09PWkpPyhvW2ldKCkscygpKTpmLmNhbGwob1swXSx0LHMpfXZhciB0PXcuYXBwbHkodGhpcyxhcmd1bWVudHMpLGY9bi5lZmZlY3RzLmVmZmVjdFt0LmVmZmVjdF0scj1mLm1vZGUsbz10LnF1ZXVlLHM9b3x8ImZ4Iix1PXQuY29tcGxldGUsaT10Lm1vZGUsaD1bXTtyZXR1cm4gbi5meC5vZmZ8fCFmP2k/dGhpc1tpXSh0LmR1cmF0aW9uLHUpOnRoaXMuZWFjaChmdW5jdGlvbigpe3UmJnUuY2FsbCh0aGlzKX0pOiExPT09bz90aGlzLmVhY2goZSkuZWFjaChjKTp0aGlzLnF1ZXVlKHMsZSkucXVldWUocyxjKX0sc2hvdzooZWk9bi5mbi5zaG93LGZ1bmN0aW9uKG4pe3JldHVybiBzdChuKT9laS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KG49dy5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi5tb2RlPSJzaG93Iix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsbikpfSksaGlkZTooZmk9bi5mbi5oaWRlLGZ1bmN0aW9uKG4pe3JldHVybiBzdChuKT9maS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KG49dy5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi5tb2RlPSJoaWRlIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsbikpfSksdG9nZ2xlOih1aT1uLmZuLnRvZ2dsZSxmdW5jdGlvbihuKXtyZXR1cm4gc3Qobil8fCJib29sZWFuIj09dHlwZW9mIG4/dWkuYXBwbHkodGhpcyxhcmd1bWVudHMpOihuPXcuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4ubW9kZT0idG9nZ2xlIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsbikpfSksY3NzVW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNzcyh0KSxyPVtdO3JldHVybiBuLmVhY2goWyJlbSIsInB4IiwiJSIsInB0Il0sZnVuY3Rpb24obix0KXswPGkuaW5kZXhPZih0KSYmKHI9W3BhcnNlRmxvYXQoaSksdF0pfSkscn0sY3NzQ2xpcDpmdW5jdGlvbihuKXtyZXR1cm4gbj90aGlzLmNzcygiY2xpcCIsInJlY3QoIituLnRvcCsicHggIituLnJpZ2h0KyJweCAiK24uYm90dG9tKyJweCAiK24ubGVmdCsicHgpIik6c2kodGhpcy5jc3MoImNsaXAiKSx0aGlzKX0sdHJhbnNmZXI6ZnVuY3Rpb24odCxpKXt2YXIgZj1uKHRoaXMpLHI9bih0LnRvKSxlPSJmaXhlZCI9PT1yLmNzcygicG9zaXRpb24iKSx1PW4oImJvZHkiKSxvPWU/dS5zY3JvbGxUb3AoKTowLHM9ZT91LnNjcm9sbExlZnQoKTowLHU9ci5vZmZzZXQoKSx1PXt0b3A6dS50b3AtbyxsZWZ0OnUubGVmdC1zLGhlaWdodDpyLmlubmVySGVpZ2h0KCksd2lkdGg6ci5pbm5lcldpZHRoKCl9LHI9Zi5vZmZzZXQoKSxoPW4oIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjxcL2Rpdj4iKTtoLmFwcGVuZFRvKCJib2R5IikuYWRkQ2xhc3ModC5jbGFzc05hbWUpLmNzcyh7dG9wOnIudG9wLW8sbGVmdDpyLmxlZnQtcyxoZWlnaHQ6Zi5pbm5lckhlaWdodCgpLHdpZHRoOmYuaW5uZXJXaWR0aCgpLHBvc2l0aW9uOmU/ImZpeGVkIjoiYWJzb2x1dGUifSkuYW5pbWF0ZSh1LHQuZHVyYXRpb24sdC5lYXNpbmcsZnVuY3Rpb24oKXtoLnJlbW92ZSgpOyJmdW5jdGlvbiI9PXR5cGVvZiBpJiZpKCl9KX19KTtuLmZ4LnN0ZXAuY2xpcD1mdW5jdGlvbih0KXt0LmNsaXBJbml0fHwodC5zdGFydD1uKHQuZWxlbSkuY3NzQ2xpcCgpLCJzdHJpbmciPT10eXBlb2YgdC5lbmQmJih0LmVuZD1zaSh0LmVuZCx0LmVsZW0pKSx0LmNsaXBJbml0PSEwKTtuKHQuZWxlbSkuY3NzQ2xpcCh7dG9wOnQucG9zKih0LmVuZC50b3AtdC5zdGFydC50b3ApK3Quc3RhcnQudG9wLHJpZ2h0OnQucG9zKih0LmVuZC5yaWdodC10LnN0YXJ0LnJpZ2h0KSt0LnN0YXJ0LnJpZ2h0LGJvdHRvbTp0LnBvcyoodC5lbmQuYm90dG9tLXQuc3RhcnQuYm90dG9tKSt0LnN0YXJ0LmJvdHRvbSxsZWZ0OnQucG9zKih0LmVuZC5sZWZ0LXQuc3RhcnQubGVmdCkrdC5zdGFydC5sZWZ0fSl9O3k9e307bi5lYWNoKFsiUXVhZCIsIkN1YmljIiwiUXVhcnQiLCJRdWludCIsIkV4cG8iXSxmdW5jdGlvbihuLHQpe3lbdF09ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsbisyKX19KTtuLmV4dGVuZCh5LHtTaW5lOmZ1bmN0aW9uKG4pe3JldHVybiAxLU1hdGguY29zKG4qTWF0aC5QSS8yKX0sQ2lyYzpmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLnNxcnQoMS1uKm4pfSxFbGFzdGljOmZ1bmN0aW9uKG4pe3JldHVybiAwPT09bnx8MT09PW4/bjotTWF0aC5wb3coMiw4KihuLTEpKSpNYXRoLnNpbigoODAqKG4tMSktNy41KSpNYXRoLlBJLzE1KX0sQmFjazpmdW5jdGlvbihuKXtyZXR1cm4gbipuKigzKm4tMil9LEJvdW5jZTpmdW5jdGlvbihuKXtmb3IodmFyIHQsaT00O248KCh0PU1hdGgucG93KDIsLS1pKSktMSkvMTE7KTtyZXR1cm4gMS9NYXRoLnBvdyg0LDMtaSktNy41NjI1Kk1hdGgucG93KCgzKnQtMikvMjItbiwyKX19KTtuLmVhY2goeSxmdW5jdGlvbih0LGkpe24uZWFzaW5nWyJlYXNlSW4iK3RdPWk7bi5lYXNpbmdbImVhc2VPdXQiK3RdPWZ1bmN0aW9uKG4pe3JldHVybiAxLWkoMS1uKX07bi5lYXNpbmdbImVhc2VJbk91dCIrdF09ZnVuY3Rpb24obil7cmV0dXJuIG48LjU/aSgyKm4pLzI6MS1pKC0yKm4rMikvMn19KTtoPW4uZWZmZWN0cztuLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGU9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSx1PW4odGhpcyksbz10LmRpcmVjdGlvbnx8InVwIixzPXUuY3NzQ2xpcCgpLHI9e2NsaXA6bi5leHRlbmQoe30scyl9LGY9bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3IuY2xpcFtlW29dWzBdXT1yLmNsaXBbZVtvXVsxXV07InNob3ciPT09dC5tb2RlJiYodS5jc3NDbGlwKHIuY2xpcCksZiYmZi5jc3Mobi5lZmZlY3RzLmNsaXBUb0JveChyKSksci5jbGlwPXMpO2YmJmYuYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KHIpLHQuZHVyYXRpb24sdC5lYXNpbmcpO3UuYW5pbWF0ZShyLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsaSl7dmFyIG8scyx1PW4odGhpcyksaD10Lm1vZGUsYz0iaGlkZSI9PT1oLHA9InNob3ciPT09aCxmPXQuZGlyZWN0aW9ufHwidXAiLHI9dC5kaXN0YW5jZSx2PXQudGltZXN8fDUsaD0yKnYrKHB8fGM/MTowKSxsPXQuZHVyYXRpb24vaCxhPXQuZWFzaW5nLGU9InVwIj09PWZ8fCJkb3duIj09PWY/InRvcCI6ImxlZnQiLHk9InVwIj09PWZ8fCJsZWZ0Ij09PWYsdz0wLHQ9dS5xdWV1ZSgpLmxlbmd0aDtmb3Iobi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpLGY9dS5jc3MoZSkscj1yfHx1WyJ0b3AiPT1lPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSgpLzMscCYmKChzPXtvcGFjaXR5OjF9KVtlXT1mLHUuY3NzKCJvcGFjaXR5IiwwKS5jc3MoZSx5PzIqLXI6MipyKS5hbmltYXRlKHMsbCxhKSksYyYmKHIvPU1hdGgucG93KDIsdi0xKSksKHM9e30pW2VdPWY7dzx2O3crKykobz17fSlbZV09KHk/Ii09IjoiKz0iKStyLHUuYW5pbWF0ZShvLGwsYSkuYW5pbWF0ZShzLGwsYSkscj1jPzIqcjpyLzI7YyYmKChvPXtvcGFjaXR5OjB9KVtlXT0oeT8iLT0iOiIrPSIpK3IsdS5hbmltYXRlKG8sbCxhKSk7dS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdCh1LHQsMStoKX0pO24uZWZmZWN0cy5kZWZpbmUoImNsaXAiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciB1PXt9LGY9bih0aGlzKSxyPXQuZGlyZWN0aW9ufHwidmVydGljYWwiLGU9ImJvdGgiPT09cixvPWV8fCJob3Jpem9udGFsIj09PXIsZT1lfHwidmVydGljYWwiPT09cixyPWYuY3NzQ2xpcCgpO3UuY2xpcD17dG9wOmU/KHIuYm90dG9tLXIudG9wKS8yOnIudG9wLHJpZ2h0Om8/KHIucmlnaHQtci5sZWZ0KS8yOnIucmlnaHQsYm90dG9tOmU/KHIuYm90dG9tLXIudG9wKS8yOnIuYm90dG9tLGxlZnQ6bz8oci5yaWdodC1yLmxlZnQpLzI6ci5sZWZ0fTtuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoZik7InNob3ciPT09dC5tb2RlJiYoZi5jc3NDbGlwKHUuY2xpcCksdS5jbGlwPXIpO2YuYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJkcm9wIiwiaGlkZSIsZnVuY3Rpb24odCxpKXt2YXIgZj1uKHRoaXMpLHM9InNob3ciPT09dC5tb2RlLHI9dC5kaXJlY3Rpb258fCJsZWZ0IixlPSJ1cCI9PT1yfHwiZG93biI9PT1yPyJ0b3AiOiJsZWZ0IixvPSJ1cCI9PT1yfHwibGVmdCI9PT1yPyItPSI6Iis9IixoPSIrPSI9PW8/Ii09IjoiKz0iLHU9e29wYWNpdHk6MH07bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGYpO3I9dC5kaXN0YW5jZXx8ZlsidG9wIj09ZT8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzI7dVtlXT1vK3I7cyYmKGYuY3NzKHUpLHVbZV09aCtyLHUub3BhY2l0eT0xKTtmLmFuaW1hdGUodSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gYigpe3AucHVzaCh0aGlzKTtwLmxlbmd0aD09PWUqYyYmKG8uY3NzKHt2aXNpYmlsaXR5OiJ2aXNpYmxlIn0pLG4ocCkucmVtb3ZlKCksaSgpKX1mb3IodmFyIHUsbCxhLHYseSxlPXQucGllY2VzP01hdGgucm91bmQoTWF0aC5zcXJ0KHQucGllY2VzKSk6MyxjPWUsbz1uKHRoaXMpLGY9InNob3ciPT09dC5tb2RlLHc9by5zaG93KCkuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIikub2Zmc2V0KCkscz1NYXRoLmNlaWwoby5vdXRlcldpZHRoKCkvYyksaD1NYXRoLmNlaWwoby5vdXRlckhlaWdodCgpL2UpLHA9W10scj0wO3I8ZTtyKyspZm9yKGE9dy50b3ArcipoLHk9ci0oZS0xKS8yLHU9MDt1PGM7dSsrKWw9dy5sZWZ0K3Uqcyx2PXUtKGMtMSkvMixvLmNsb25lKCkuYXBwZW5kVG8oImJvZHkiKS53cmFwKCI8ZGl2PjxcL2Rpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToidmlzaWJsZSIsbGVmdDotdSpzLHRvcDotcipofSkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWVmZmVjdHMtZXhwbG9kZSIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIixvdmVyZmxvdzoiaGlkZGVuIix3aWR0aDpzLGhlaWdodDpoLGxlZnQ6bCsoZj92KnM6MCksdG9wOmErKGY/eSpoOjApLG9wYWNpdHk6Zj8wOjF9KS5hbmltYXRlKHtsZWZ0OmwrKGY/MDp2KnMpLHRvcDphKyhmPzA6eSpoKSxvcGFjaXR5OmY/MTowfSx0LmR1cmF0aW9ufHw1MDAsdC5lYXNpbmcsYil9KTtuLmVmZmVjdHMuZGVmaW5lKCJmYWRlIiwidG9nZ2xlIixmdW5jdGlvbih0LGkpe3ZhciByPSJzaG93Ij09PXQubW9kZTtuKHRoaXMpLmNzcygib3BhY2l0eSIscj8wOjEpLmFuaW1hdGUoe29wYWNpdHk6cj8xOjB9LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJmb2xkIiwiaGlkZSIsZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLGM9dC5tb2RlLHY9InNob3ciPT09Yyx5PSJoaWRlIj09PWMsbz10LnNpemV8fDE1LGE9LyhbMC05XSspJS8uZXhlYyhvKSxmPSF0Lmhvcml6Rmlyc3Q/WyJib3R0b20iLCJyaWdodCJdOlsicmlnaHQiLCJib3R0b20iXSxzPXQuZHVyYXRpb24vMixoPW4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KSxlPXUuY3NzQ2xpcCgpLGw9e2NsaXA6bi5leHRlbmQoe30sZSl9LHI9e2NsaXA6bi5leHRlbmQoe30sZSl9LHA9W2VbZlswXV0sZVtmWzFdXV0sYz11LnF1ZXVlKCkubGVuZ3RoO2EmJihvPXBhcnNlSW50KGFbMV0sMTApLzEwMCpwW3k/MDoxXSk7bC5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMV1dPTA7diYmKHUuY3NzQ2xpcChyLmNsaXApLGgmJmguY3NzKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikpLHIuY2xpcD1lKTt1LnF1ZXVlKGZ1bmN0aW9uKGkpe2gmJmguYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KGwpLHMsdC5lYXNpbmcpLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChyKSxzLHQuZWFzaW5nKTtpKCl9KS5hbmltYXRlKGwscyx0LmVhc2luZykuYW5pbWF0ZShyLHMsdC5lYXNpbmcpLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsYyw0KX0pO24uZWZmZWN0cy5kZWZpbmUoImhpZ2hsaWdodCIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSx1PXtiYWNrZ3JvdW5kQ29sb3I6ci5jc3MoImJhY2tncm91bmRDb2xvciIpfTsiaGlkZSI9PT10Lm1vZGUmJih1Lm9wYWNpdHk9MCk7bi5lZmZlY3RzLnNhdmVTdHlsZShyKTtyLmNzcyh7YmFja2dyb3VuZEltYWdlOiJub25lIixiYWNrZ3JvdW5kQ29sb3I6dC5jb2xvcnx8IiNmZmZmOTkifSkuYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaXplIixmdW5jdGlvbih0LGkpe3ZhciByLHU9bih0aGlzKSx5PVsiZm9udFNpemUiXSxoPVsiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sYz1bImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCJdLGE9dC5tb2RlLHA9ImVmZmVjdCIhPT1hLGw9dC5zY2FsZXx8ImJvdGgiLHM9dC5vcmlnaW58fFsibWlkZGxlIiwiY2VudGVyIl0sdz11LmNzcygicG9zaXRpb24iKSx2PXUucG9zaXRpb24oKSxvPW4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUpLGY9dC5mcm9tfHxvLGU9dC50b3x8bi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnModSwwKTtuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSk7InNob3ciPT09YSYmKGE9ZixmPWUsZT1hKTtyPXtmcm9tOnt5OmYuaGVpZ2h0L28uaGVpZ2h0LHg6Zi53aWR0aC9vLndpZHRofSx0bzp7eTplLmhlaWdodC9vLmhlaWdodCx4OmUud2lkdGgvby53aWR0aH19OyJib3giIT09bCYmImJvdGgiIT09bHx8KHIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LGgsci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LGgsci50by55LGUpKSxyLmZyb20ueCE9PXIudG8ueCYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxjLHIuZnJvbS54LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxjLHIudG8ueCxlKSkpOyJjb250ZW50IiE9PWwmJiJib3RoIiE9PWx8fHIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHksci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHksci50by55LGUpKTtzJiYocz1uLmVmZmVjdHMuZ2V0QmFzZWxpbmUocyxvKSxmLnRvcD0oby5vdXRlckhlaWdodC1mLm91dGVySGVpZ2h0KSpzLnkrdi50b3AsZi5sZWZ0PShvLm91dGVyV2lkdGgtZi5vdXRlcldpZHRoKSpzLngrdi5sZWZ0LGUudG9wPShvLm91dGVySGVpZ2h0LWUub3V0ZXJIZWlnaHQpKnMueSt2LnRvcCxlLmxlZnQ9KG8ub3V0ZXJXaWR0aC1lLm91dGVyV2lkdGgpKnMueCt2LmxlZnQpO2RlbGV0ZSBmLm91dGVySGVpZ2h0O2RlbGV0ZSBmLm91dGVyV2lkdGg7dS5jc3MoZik7ImNvbnRlbnQiIT09bCYmImJvdGgiIT09bHx8KGg9aC5jb25jYXQoWyJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iXSkuY29uY2F0KHkpLGM9Yy5jb25jYXQoWyJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiXSksdS5maW5kKCIqW3dpZHRoXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLGk9bi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnModSksZj17aGVpZ2h0OmkuaGVpZ2h0KnIuZnJvbS55LHdpZHRoOmkud2lkdGgqci5mcm9tLngsb3V0ZXJIZWlnaHQ6aS5vdXRlckhlaWdodCpyLmZyb20ueSxvdXRlcldpZHRoOmkub3V0ZXJXaWR0aCpyLmZyb20ueH0saT17aGVpZ2h0OmkuaGVpZ2h0KnIudG8ueSx3aWR0aDppLndpZHRoKnIudG8ueCxvdXRlckhlaWdodDppLmhlaWdodCpyLnRvLnksb3V0ZXJXaWR0aDppLndpZHRoKnIudG8ueH07ci5mcm9tLnkhPT1yLnRvLnkmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsaCxyLmZyb20ueSxmKSxpPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsaCxyLnRvLnksaSkpO3IuZnJvbS54IT09ci50by54JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LGMsci5mcm9tLngsZiksaT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LGMsci50by54LGkpKTtwJiZuLmVmZmVjdHMuc2F2ZVN0eWxlKHUpO3UuY3NzKGYpO3UuYW5pbWF0ZShpLHQuZHVyYXRpb24sdC5lYXNpbmcsZnVuY3Rpb24oKXtwJiZuLmVmZmVjdHMucmVzdG9yZVN0eWxlKHUpfSl9KSk7dS5hbmltYXRlKGUse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dS5vZmZzZXQoKTswPT09ZS5vcGFjaXR5JiZ1LmNzcygib3BhY2l0eSIsZi5vcGFjaXR5KTtwfHwodS5jc3MoInBvc2l0aW9uIiwic3RhdGljIj09PXc/InJlbGF0aXZlIjp3KS5vZmZzZXQodCksbi5lZmZlY3RzLnNhdmVTdHlsZSh1KSk7aSgpfX0pfSk7bi5lZmZlY3RzLmRlZmluZSgic2NhbGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxyPXQubW9kZSxyPXBhcnNlSW50KHQucGVyY2VudCwxMCl8fCgwPT09cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8ImVmZmVjdCIhPT1yPzA6MTAwKSxyPW4uZXh0ZW5kKCEwLHtmcm9tOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUpLHRvOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUscix0LmRpcmVjdGlvbnx8ImJvdGgiKSxvcmlnaW46dC5vcmlnaW58fFsibWlkZGxlIiwiY2VudGVyIl19LHQpO3QuZmFkZSYmKHIuZnJvbS5vcGFjaXR5PTEsci50by5vcGFjaXR5PTApO24uZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKHRoaXMscixpKX0pO24uZWZmZWN0cy5kZWZpbmUoInB1ZmYiLCJoaWRlIixmdW5jdGlvbih0LGkpe3Q9bi5leHRlbmQoITAse30sdCx7ZmFkZTohMCxwZXJjZW50OnBhcnNlSW50KHQucGVyY2VudCwxMCl8fDE1MH0pO24uZWZmZWN0cy5lZmZlY3Quc2NhbGUuY2FsbCh0aGlzLHQsaSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJwdWxzYXRlIiwic2hvdyIsZnVuY3Rpb24odCxpKXt2YXIgcj1uKHRoaXMpLGY9dC5tb2RlLG89InNob3ciPT09ZixlPTIqKHQudGltZXN8fDUpKyhvfHwiaGlkZSI9PT1mPzE6MCkscz10LmR1cmF0aW9uL2UsdT0wLGg9MSxmPXIucXVldWUoKS5sZW5ndGg7Zm9yKCFvJiZyLmlzKCI6dmlzaWJsZSIpfHwoci5jc3MoIm9wYWNpdHkiLDApLnNob3coKSx1PTEpO2g8ZTtoKyspci5hbmltYXRlKHtvcGFjaXR5OnV9LHMsdC5lYXNpbmcpLHU9MS11O3IuYW5pbWF0ZSh7b3BhY2l0eTp1fSxzLHQuZWFzaW5nKTtyLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHIsZiwxK2UpfSk7bi5lZmZlY3RzLmRlZmluZSgic2hha2UiLGZ1bmN0aW9uKHQsaSl7dmFyIGw9MSxyPW4odGhpcyksdT10LmRpcmVjdGlvbnx8ImxlZnQiLGU9dC5kaXN0YW5jZXx8MjAsYT10LnRpbWVzfHwzLHY9MiphKzEsZj1NYXRoLnJvdW5kKHQuZHVyYXRpb24vdiksbz0idXAiPT09dXx8ImRvd24iPT09dT8idG9wIjoibGVmdCIscz0idXAiPT09dXx8ImxlZnQiPT09dSxoPXt9LGM9e30seT17fSx1PXIucXVldWUoKS5sZW5ndGg7Zm9yKG4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihyKSxoW29dPShzPyItPSI6Iis9IikrZSxjW29dPShzPyIrPSI6Ii09IikrMiplLHlbb109KHM/Ii09IjoiKz0iKSsyKmUsci5hbmltYXRlKGgsZix0LmVhc2luZyk7bDxhO2wrKylyLmFuaW1hdGUoYyxmLHQuZWFzaW5nKS5hbmltYXRlKHksZix0LmVhc2luZyk7ci5hbmltYXRlKGMsZix0LmVhc2luZykuYW5pbWF0ZShoLGYvMix0LmVhc2luZykucXVldWUoaSk7bi5lZmZlY3RzLnVuc2hpZnQocix1LDErdil9KTtuLmVmZmVjdHMuZGVmaW5lKCJzbGlkZSIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHMsbyx1PW4odGhpcyksaD17dXA6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLHJpZ2h0OlsibGVmdCIsInJpZ2h0Il19LGM9dC5tb2RlLGY9dC5kaXJlY3Rpb258fCJsZWZ0IixlPSJ1cCI9PT1mfHwiZG93biI9PT1mPyJ0b3AiOiJsZWZ0IixsPSJ1cCI9PT1mfHwibGVmdCI9PT1mLGE9dC5kaXN0YW5jZXx8dVsidG9wIj09ZT8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLHI9e307bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3M9dS5jc3NDbGlwKCk7bz11LnBvc2l0aW9uKClbZV07cltlXT0obD8tMToxKSphK287ci5jbGlwPXUuY3NzQ2xpcCgpO3IuY2xpcFtoW2ZdWzFdXT1yLmNsaXBbaFtmXVswXV07InNob3ciPT09YyYmKHUuY3NzQ2xpcChyLmNsaXApLHUuY3NzKGUscltlXSksci5jbGlwPXMscltlXT1vKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7aD0hMSE9PW4udWlCYWNrQ29tcGF0P24uZWZmZWN0cy5kZWZpbmUoInRyYW5zZmVyIixmdW5jdGlvbih0LGkpe24odGhpcykudHJhbnNmZXIodCxpKX0pOmg7bi51aS5mb2N1c2FibGU9ZnVuY3Rpb24odCxpKXt2YXIgZSxyLHUsbyxmPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1mPyhyPShlPXQucGFyZW50Tm9kZSkubmFtZSwhKCF0LmhyZWZ8fCFyfHwibWFwIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkmJjA8KHI9bigiaW1nW3VzZW1hcD0nIyIrcisiJ10iKSkubGVuZ3RoJiZyLmlzKCI6dmlzaWJsZSIpKTooL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdChmKT8odT0hdC5kaXNhYmxlZCkmJihvPW4odCkuY2xvc2VzdCgiZmllbGRzZXQiKVswXSkmJih1PSFvLmRpc2FibGVkKTp1PSJhIj09PWYmJnQuaHJlZnx8aSx1JiZuKHQpLmlzKCI6dmlzaWJsZSIpJiZmdW5jdGlvbihuKXtmb3IodmFyIHQ9bi5jc3MoInZpc2liaWxpdHkiKTsiaW5oZXJpdCI9PT10OyluPW4ucGFyZW50KCksdD1uLmNzcygidmlzaWJpbGl0eSIpO3JldHVybiJ2aXNpYmxlIj09PXR9KG4odCkpKX07bi5leHRlbmQobi5leHByLnBzZXVkb3Mse2ZvY3VzYWJsZTpmdW5jdGlvbih0KXtyZXR1cm4gbi51aS5mb2N1c2FibGUodCxudWxsIT1uLmF0dHIodCwidGFiaW5kZXgiKSl9fSk7bi51aS5mb2N1c2FibGU7bi5mbi5fZm9ybT1mdW5jdGlvbigpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdGhpc1swXS5mb3JtP3RoaXMuY2xvc2VzdCgiZm9ybSIpOm4odGhpc1swXS5mb3JtKX07bi51aS5mb3JtUmVzZXRNaXhpbj17X2Zvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7bi5lYWNoKGksZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pfSl9LF9iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe3ZhciBuO3RoaXMuZm9ybT10aGlzLmVsZW1lbnQuX2Zvcm0oKTt0aGlzLmZvcm0ubGVuZ3RoJiYoKG49dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIil8fFtdKS5sZW5ndGh8fHRoaXMuZm9ybS5vbigicmVzZXQudWktZm9ybS1yZXNldCIsdGhpcy5fZm9ybVJlc2V0SGFuZGxlciksbi5wdXNoKHRoaXMpLHRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIsbikpfSxfdW5iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZm9ybS5sZW5ndGgmJigodD10aGlzLmZvcm0uZGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiKSkuc3BsaWNlKG4uaW5BcnJheSh0aGlzLHQpLDEpLHQubGVuZ3RoP3RoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIsdCk6dGhpcy5mb3JtLnJlbW92ZURhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIikub2ZmKCJyZXNldC51aS1mb3JtLXJlc2V0IikpfX07bi5leHByLnBzZXVkb3N8fChuLmV4cHIucHNldWRvcz1uLmV4cHJbIjoiXSk7bi51bmlxdWVTb3J0fHwobi51bmlxdWVTb3J0PW4udW5pcXVlKTtuLmVzY2FwZVNlbGVjdG9yfHwoaGk9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15ceDgwLVx1RkZGRlx3LV0vZyxjaT1mdW5jdGlvbihuLHQpe3JldHVybiB0PyJcMCI9PT1uPyLvv70iOm4uc2xpY2UoMCwtMSkrIlxcIituLmNoYXJDb2RlQXQobi5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK259LG4uZXNjYXBlU2VsZWN0b3I9ZnVuY3Rpb24obil7cmV0dXJuKG4rIiIpLnJlcGxhY2UoaGksY2kpfSk7bi5mbi5ldmVuJiZuLmZuLm9kZHx8bi5mbi5leHRlbmQoe2V2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4lMj09MH0pfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4lMj09MX0pfX0pO24udWkua2V5Q29kZT17QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9O24uZm4ubGFiZWxzPWZ1bmN0aW9uKCl7dmFyIHQscixpO3JldHVybiB0aGlzLmxlbmd0aD90aGlzWzBdLmxhYmVscyYmdGhpc1swXS5sYWJlbHMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKHRoaXNbMF0ubGFiZWxzKToocj10aGlzLmVxKDApLnBhcmVudHMoImxhYmVsIiksKHQ9dGhpcy5hdHRyKCJpZCIpKSYmKGk9KGk9dGhpcy5lcSgwKS5wYXJlbnRzKCkubGFzdCgpKS5hZGQoKGkubGVuZ3RoP2k6dGhpcykuc2libGluZ3MoKSksdD0ibGFiZWxbZm9yPSciK24uZXNjYXBlU2VsZWN0b3IodCkrIiddIixyPXIuYWRkKGkuZmluZCh0KS5hZGRCYWNrKHQpKSksdGhpcy5wdXNoU3RhY2socikpOnRoaXMucHVzaFN0YWNrKFtdKX07bi5mbi5zY3JvbGxQYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3MoInBvc2l0aW9uIikscj0iYWJzb2x1dGUiPT09aSx1PXQ/LyhhdXRvfHNjcm9sbHxoaWRkZW4pLzovKGF1dG98c2Nyb2xsKS8sdD10aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3JldHVybighcnx8InN0YXRpYyIhPT10LmNzcygicG9zaXRpb24iKSkmJnUudGVzdCh0LmNzcygib3ZlcmZsb3ciKSt0LmNzcygib3ZlcmZsb3cteSIpK3QuY3NzKCJvdmVyZmxvdy14IikpfSkuZXEoMCk7cmV0dXJuImZpeGVkIiE9PWkmJnQubGVuZ3RoP3Q6bih0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50KX07bi5leHRlbmQobi5leHByLnBzZXVkb3Mse3RhYmJhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPW4uYXR0cih0LCJ0YWJpbmRleCIpLHI9bnVsbCE9aTtyZXR1cm4oIXJ8fDA8PWkpJiZuLnVpLmZvY3VzYWJsZSh0LHIpfX0pO24uZm4uZXh0ZW5kKHt1bmlxdWVJZDoobGk9MCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytsaSl9KX0pLHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpey9edWktaWQtXGQrJC8udGVzdCh0aGlzLmlkKSYmbih0aGlzKS5yZW1vdmVBdHRyKCJpZCIpfSl9fSk7bi53aWRnZXQoInVpLmFjY29yZGlvbiIse3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7YWN0aXZlOjAsYW5pbWF0ZTp7fSxjbGFzc2VzOnsidWktYWNjb3JkaW9uLWhlYWRlciI6InVpLWNvcm5lci10b3AiLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCI6InVpLWNvcm5lci1hbGwiLCJ1aS1hY2NvcmRpb24tY29udGVudCI6InVpLWNvcm5lci1ib3R0b20ifSxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlYWRlcjpmdW5jdGlvbihuKXtyZXR1cm4gbi5maW5kKCI+IGxpID4gOmZpcnN0LWNoaWxkIikuYWRkKG4uZmluZCgiPiA6bm90KGxpKSIpLmV2ZW4oKSl9LGhlaWdodFN0eWxlOiJhdXRvIixpY29uczp7YWN0aXZlSGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsaGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtZSJ9LGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbH0saGlkZVByb3BzOntib3JkZXJUb3BXaWR0aDoiaGlkZSIsYm9yZGVyQm90dG9tV2lkdGg6ImhpZGUiLHBhZGRpbmdUb3A6ImhpZGUiLHBhZGRpbmdCb3R0b206ImhpZGUiLGhlaWdodDoiaGlkZSJ9LHNob3dQcm9wczp7Ym9yZGVyVG9wV2lkdGg6InNob3ciLGJvcmRlckJvdHRvbVdpZHRoOiJzaG93IixwYWRkaW5nVG9wOiJzaG93IixwYWRkaW5nQm90dG9tOiJzaG93IixoZWlnaHQ6InNob3cifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMucHJldlNob3c9dGhpcy5wcmV2SGlkZT1uKCk7dGhpcy5fYWRkQ2xhc3MoInVpLWFjY29yZGlvbiIsInVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXQiKTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInRhYmxpc3QiKTt0LmNvbGxhcHNpYmxlfHwhMSE9PXQuYWN0aXZlJiZudWxsIT10LmFjdGl2ZXx8KHQuYWN0aXZlPTApO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTt0LmFjdGl2ZTwwJiYodC5hY3RpdmUrPXRoaXMuaGVhZGVycy5sZW5ndGgpO3RoaXMuX3JlZnJlc2goKX0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybntoZWFkZXI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLm5leHQoKTpuKCl9fSxfY3JlYXRlSWNvbnM6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMub3B0aW9ucy5pY29ucztpJiYodD1uKCI8c3Bhbj4iKSx0aGlzLl9hZGRDbGFzcyh0LCJ1aS1hY2NvcmRpb24taGVhZGVyLWljb24iLCJ1aS1pY29uICIraS5oZWFkZXIpLHQucHJlcGVuZFRvKHRoaXMuaGVhZGVycyksdD10aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKHQsaS5oZWFkZXIpLl9hZGRDbGFzcyh0LG51bGwsaS5hY3RpdmVIZWFkZXIpLl9hZGRDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpKX0sX2Rlc3Ryb3lJY29uczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVhZGVycywidWktYWNjb3JkaW9uLWljb25zIik7dGhpcy5oZWFkZXJzLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIikucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG47dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLmhlYWRlcnMucmVtb3ZlQXR0cigicm9sZSBhcmlhLWV4cGFuZGVkIGFyaWEtc2VsZWN0ZWQgYXJpYS1jb250cm9scyB0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCk7dGhpcy5fZGVzdHJveUljb25zKCk7bj10aGlzLmhlYWRlcnMubmV4dCgpLmNzcygiZGlzcGxheSIsIiIpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1oaWRkZW4gYXJpYS1sYWJlbGxlZGJ5IikucmVtb3ZlVW5pcXVlSWQoKTsiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJm4uY3NzKCJoZWlnaHQiLCIiKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpeyJhY3RpdmUiIT09bj8oImV2ZW50Ij09PW4mJih0aGlzLm9wdGlvbnMuZXZlbnQmJnRoaXMuX29mZih0aGlzLmhlYWRlcnMsdGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEV2ZW50cyh0KSksdGhpcy5fc3VwZXIobix0KSwiY29sbGFwc2libGUiIT09bnx8dHx8ITEhPT10aGlzLm9wdGlvbnMuYWN0aXZlfHx0aGlzLl9hY3RpdmF0ZSgwKSwiaWNvbnMiPT09biYmKHRoaXMuX2Rlc3Ryb3lJY29ucygpLHQmJnRoaXMuX2NyZWF0ZUljb25zKCkpKTp0aGlzLl9hY3RpdmF0ZSh0KX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWRpc2FibGVkIixuKTt0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFuKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmhlYWRlcnMuYWRkKHRoaXMuaGVhZGVycy5uZXh0KCkpLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfa2V5ZG93bjpmdW5jdGlvbih0KXtpZighdC5hbHRLZXkmJiF0LmN0cmxLZXkpe3ZhciBpPW4udWkua2V5Q29kZSx1PXRoaXMuaGVhZGVycy5sZW5ndGgsZj10aGlzLmhlYWRlcnMuaW5kZXgodC50YXJnZXQpLHI9ITE7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBpLlJJR0hUOmNhc2UgaS5ET1dOOnI9dGhpcy5oZWFkZXJzWyhmKzEpJXVdO2JyZWFrO2Nhc2UgaS5MRUZUOmNhc2UgaS5VUDpyPXRoaXMuaGVhZGVyc1soZi0xK3UpJXVdO2JyZWFrO2Nhc2UgaS5TUEFDRTpjYXNlIGkuRU5URVI6dGhpcy5fZXZlbnRIYW5kbGVyKHQpO2JyZWFrO2Nhc2UgaS5IT01FOnI9dGhpcy5oZWFkZXJzWzBdO2JyZWFrO2Nhc2UgaS5FTkQ6cj10aGlzLmhlYWRlcnNbdS0xXX1yJiYobih0LnRhcmdldCkuYXR0cigidGFiSW5kZXgiLC0xKSxuKHIpLmF0dHIoInRhYkluZGV4IiwwKSxuKHIpLnRyaWdnZXIoImZvY3VzIiksdC5wcmV2ZW50RGVmYXVsdCgpKX19LF9wYW5lbEtleURvd246ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlVQJiZ0LmN0cmxLZXkmJm4odC5jdXJyZW50VGFyZ2V0KS5wcmV2KCkudHJpZ2dlcigiZm9jdXMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0aGlzLl9wcm9jZXNzUGFuZWxzKCk7ITE9PT10LmFjdGl2ZSYmITA9PT10LmNvbGxhcHNpYmxlfHwhdGhpcy5oZWFkZXJzLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTohMT09PXQuYWN0aXZlP3RoaXMuX2FjdGl2YXRlKDApOnRoaXMuYWN0aXZlLmxlbmd0aCYmIW4uY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLmhlYWRlcnMubGVuZ3RoPT09dGhpcy5oZWFkZXJzLmZpbmQoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTp0aGlzLl9hY3RpdmF0ZShNYXRoLm1heCgwLHQuYWN0aXZlLTEpKTp0LmFjdGl2ZT10aGlzLmhlYWRlcnMuaW5kZXgodGhpcy5hY3RpdmUpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO3RoaXMuX3JlZnJlc2goKX0sX3Byb2Nlc3NQYW5lbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWRlcnMsbj10aGlzLnBhbmVsczt0aGlzLmhlYWRlcnM9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5oZWFkZXI/dGhpcy5vcHRpb25zLmhlYWRlcih0aGlzLmVsZW1lbnQpOnRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oZWFkZXIpO3RoaXMuX2FkZENsYXNzKHRoaXMuaGVhZGVycywidWktYWNjb3JkaW9uLWhlYWRlciB1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIsInVpLXN0YXRlLWRlZmF1bHQiKTt0aGlzLnBhbmVscz10aGlzLmhlYWRlcnMubmV4dCgpLmZpbHRlcigiOm5vdCgudWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlKSIpLmhpZGUoKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktYWNjb3JkaW9uLWNvbnRlbnQiLCJ1aS1oZWxwZXItcmVzZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTtuJiYodGhpcy5fb2ZmKHQubm90KHRoaXMuaGVhZGVycykpLHRoaXMuX29mZihuLm5vdCh0aGlzLnBhbmVscykpKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMub3B0aW9ucyxyPWkuaGVpZ2h0U3R5bGUsdT10aGlzLmVsZW1lbnQucGFyZW50KCk7dGhpcy5hY3RpdmU9dGhpcy5fZmluZEFjdGl2ZShpLmFjdGl2ZSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5hY3RpdmUsInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIikuX3JlbW92ZUNsYXNzKHRoaXMuYWN0aXZlLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIpO3RoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLm5leHQoKSwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dGhpcy5hY3RpdmUubmV4dCgpLnNob3coKTt0aGlzLmhlYWRlcnMuYXR0cigicm9sZSIsInRhYiIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLHI9dC51bmlxdWVJZCgpLmF0dHIoImlkIiksaT10Lm5leHQoKSx1PWkudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3QuYXR0cigiYXJpYS1jb250cm9scyIsdSk7aS5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLHIpfSkubmV4dCgpLmF0dHIoInJvbGUiLCJ0YWJwYW5lbCIpO3RoaXMuaGVhZGVycy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSkubmV4dCgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSkuaGlkZSgpO3RoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KTp0aGlzLmhlYWRlcnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApO3RoaXMuX2NyZWF0ZUljb25zKCk7dGhpcy5fc2V0dXBFdmVudHMoaS5ldmVudCk7ImZpbGwiPT09cj8odD11LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKSxyPWkuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1yJiYiZml4ZWQiIT09ciYmKHQtPWkub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuaGVhZGVycy5lYWNoKGZ1bmN0aW9uKCl7dC09bih0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLHQtbih0aGlzKS5pbm5lckhlaWdodCgpK24odGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIikpOiJhdXRvIj09PXImJih0PTAsdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5pcygiOnZpc2libGUiKTtpfHxuKHRoaXMpLnNob3coKTt0PU1hdGgubWF4KHQsbih0aGlzKS5jc3MoImhlaWdodCIsIiIpLmhlaWdodCgpKTtpfHxuKHRoaXMpLmhpZGUoKX0pLmhlaWdodCh0KSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt0PXRoaXMuX2ZpbmRBY3RpdmUodClbMF07dCE9PXRoaXMuYWN0aXZlWzBdJiYodD10fHx0aGlzLmFjdGl2ZVswXSx0aGlzLl9ldmVudEhhbmRsZXIoe3RhcmdldDp0LGN1cnJlbnRUYXJnZXQ6dCxwcmV2ZW50RGVmYXVsdDpuLm5vb3B9KSl9LF9maW5kQWN0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90aGlzLmhlYWRlcnMuZXEodCk6bigpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIGk9e2tleWRvd246Il9rZXlkb3duIn07dCYmbi5lYWNoKHQuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lbdF09Il9ldmVudEhhbmRsZXIifSk7dGhpcy5fb2ZmKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSkpO3RoaXMuX29uKHRoaXMuaGVhZGVycyxpKTt0aGlzLl9vbih0aGlzLmhlYWRlcnMubmV4dCgpLHtrZXlkb3duOiJfcGFuZWxLZXlEb3duIn0pO3RoaXMuX2hvdmVyYWJsZSh0aGlzLmhlYWRlcnMpO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLmhlYWRlcnMpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucyx1PXRoaXMuYWN0aXZlLHI9bih0LmN1cnJlbnRUYXJnZXQpLGY9clswXT09PXVbMF0sZT1mJiZpLmNvbGxhcHNpYmxlLG89ZT9uKCk6ci5uZXh0KCkscz11Lm5leHQoKSxvPXtvbGRIZWFkZXI6dSxvbGRQYW5lbDpzLG5ld0hlYWRlcjplP24oKTpyLG5ld1BhbmVsOm99O3QucHJldmVudERlZmF1bHQoKTtmJiYhaS5jb2xsYXBzaWJsZXx8ITE9PT10aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxvKXx8KGkuYWN0aXZlPSFlJiZ0aGlzLmhlYWRlcnMuaW5kZXgociksdGhpcy5hY3RpdmU9Zj9uKCk6cix0aGlzLl90b2dnbGUobyksdGhpcy5fcmVtb3ZlQ2xhc3ModSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKSxpLmljb25zJiYodT11LmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3ModSxudWxsLGkuaWNvbnMuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModSxudWxsLGkuaWNvbnMuaGVhZGVyKSksZnx8KHRoaXMuX3JlbW92ZUNsYXNzKHIsInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIikuX2FkZENsYXNzKHIsInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmKGY9ci5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGYsbnVsbCxpLmljb25zLmhlYWRlcikuX2FkZENsYXNzKGYsbnVsbCxpLmljb25zLmFjdGl2ZUhlYWRlcikpLHRoaXMuX2FkZENsYXNzKHIubmV4dCgpLCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKSkpfSxfdG9nZ2xlOmZ1bmN0aW9uKHQpe3ZhciByPXQubmV3UGFuZWwsaT10aGlzLnByZXZTaG93Lmxlbmd0aD90aGlzLnByZXZTaG93OnQub2xkUGFuZWw7dGhpcy5wcmV2U2hvdy5hZGQodGhpcy5wcmV2SGlkZSkuc3RvcCghMCwhMCk7dGhpcy5wcmV2U2hvdz1yO3RoaXMucHJldkhpZGU9aTt0aGlzLm9wdGlvbnMuYW5pbWF0ZT90aGlzLl9hbmltYXRlKHIsaSx0KTooaS5oaWRlKCksci5zaG93KCksdGhpcy5fdG9nZ2xlQ29tcGxldGUodCkpO2kuYXR0cih7ImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KTtpLnByZXYoKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pO3IubGVuZ3RoJiZpLmxlbmd0aD9pLnByZXYoKS5hdHRyKHt0YWJJbmRleDotMSwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pOnIubGVuZ3RoJiZ0aGlzLmhlYWRlcnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1wYXJzZUludChuKHRoaXMpLmF0dHIoInRhYkluZGV4IiksMTApfSkuYXR0cigidGFiSW5kZXgiLC0xKTtyLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKS5wcmV2KCkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KX0sX2FuaW1hdGU6ZnVuY3Rpb24obix0LGkpe3ZhciBoLHIsdSxjPXRoaXMscz0wLGw9bi5jc3MoImJveC1zaXppbmciKSxlPW4ubGVuZ3RoJiYoIXQubGVuZ3RofHxuLmluZGV4KCk8dC5pbmRleCgpKSxvPXRoaXMub3B0aW9ucy5hbmltYXRlfHx7fSxmPWUmJm8uZG93bnx8byxlPWZ1bmN0aW9uKCl7Yy5fdG9nZ2xlQ29tcGxldGUoaSl9O3JldHVybiByPShyPSJzdHJpbmciPT10eXBlb2YgZj9mOnIpfHxmLmVhc2luZ3x8by5lYXNpbmcsdT0odT0ibnVtYmVyIj09dHlwZW9mIGY/Zjp1KXx8Zi5kdXJhdGlvbnx8by5kdXJhdGlvbix0Lmxlbmd0aD9uLmxlbmd0aD8oaD1uLnNob3coKS5vdXRlckhlaWdodCgpLHQuYW5pbWF0ZSh0aGlzLmhpZGVQcm9wcyx7ZHVyYXRpb246dSxlYXNpbmc6cixzdGVwOmZ1bmN0aW9uKG4sdCl7dC5ub3c9TWF0aC5yb3VuZChuKX19KSx2b2lkIG4uaGlkZSgpLmFuaW1hdGUodGhpcy5zaG93UHJvcHMse2R1cmF0aW9uOnUsZWFzaW5nOnIsY29tcGxldGU6ZSxzdGVwOmZ1bmN0aW9uKG4saSl7aS5ub3c9TWF0aC5yb3VuZChuKTsiaGVpZ2h0IiE9PWkucHJvcD8iY29udGVudC1ib3giPT09bCYmKHMrPWkubm93KToiY29udGVudCIhPT1jLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJihpLm5vdz1NYXRoLnJvdW5kKGgtdC5vdXRlckhlaWdodCgpLXMpLHM9MCl9fSkpOnQuYW5pbWF0ZSh0aGlzLmhpZGVQcm9wcyx1LHIsZSk6bi5hbmltYXRlKHRoaXMuc2hvd1Byb3BzLHUscixlKX0sX3RvZ2dsZUNvbXBsZXRlOmZ1bmN0aW9uKG4pe3ZhciB0PW4ub2xkUGFuZWwsaT10LnByZXYoKTt0aGlzLl9yZW1vdmVDbGFzcyh0LCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKTt0aGlzLl9yZW1vdmVDbGFzcyhpLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIpLl9hZGRDbGFzcyhpLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIpO3QubGVuZ3RoJiYodC5wYXJlbnQoKVswXS5jbGFzc05hbWU9dC5wYXJlbnQoKVswXS5jbGFzc05hbWUpO3RoaXMuX3RyaWdnZXIoImFjdGl2YXRlIixudWxsLG4pfX0pO24udWkuc2FmZUFjdGl2ZUVsZW1lbnQ9ZnVuY3Rpb24obil7dmFyIHQ7dHJ5e3Q9bi5hY3RpdmVFbGVtZW50fWNhdGNoKGkpe3Q9bi5ib2R5fXJldHVybiB0PSh0PXR8fG4uYm9keSkubm9kZU5hbWU/dDpuLmJvZHl9O24ud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMy4yIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudDt0aGlzLm1vdXNlSGFuZGxlZD0hMTt0aGlzLmxhc3RNb3VzZVBvc2l0aW9uPXt4Om51bGwseTpudWxsfTt0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KTt0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt0aGlzLl9hY3RpdmF0ZUl0ZW0obil9LCJjbGljayAudWktbWVudS1pdGVtIjpmdW5jdGlvbih0KXt2YXIgaT1uKHQudGFyZ2V0KSxyPW4obi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7IXRoaXMubW91c2VIYW5kbGVkJiZpLm5vdCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoJiYodGhpcy5zZWxlY3QodCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpfHwodGhpcy5tb3VzZUhhbmRsZWQ9ITApLGkuaGFzKCIudWktbWVudSIpLmxlbmd0aD90aGlzLmV4cGFuZCh0KTohdGhpcy5lbGVtZW50LmlzKCI6Zm9jdXMiKSYmci5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aCYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIsWyEwXSksdGhpcy5hY3RpdmUmJjE9PT10aGlzLmFjdGl2ZS5wYXJlbnRzKCIudWktbWVudSIpLmxlbmd0aCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSl9LCJtb3VzZWVudGVyIC51aS1tZW51LWl0ZW0iOiJfYWN0aXZhdGVJdGVtIiwibW91c2Vtb3ZlIC51aS1tZW51LWl0ZW0iOiJfYWN0aXZhdGVJdGVtIixtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5fbWVudUl0ZW1zKCkuZmlyc3QoKTt0fHx0aGlzLmZvY3VzKG4saSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSxuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKXx8dGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbihuKXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayhuKSYmdGhpcy5jb2xsYXBzZUFsbChuLCEwKTt0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2FjdGl2YXRlSXRlbTpmdW5jdGlvbih0KXt2YXIgcixpO3RoaXMucHJldmlvdXNGaWx0ZXJ8fHQuY2xpZW50WD09PXRoaXMubGFzdE1vdXNlUG9zaXRpb24ueCYmdC5jbGllbnRZPT09dGhpcy5sYXN0TW91c2VQb3NpdGlvbi55fHwodGhpcy5sYXN0TW91c2VQb3NpdGlvbj17eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LHI9bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLGk9bih0LmN1cnJlbnRUYXJnZXQpLHJbMF09PT1pWzBdJiYoaS5pcygiLnVpLXN0YXRlLWFjdGl2ZSIpfHwodGhpcy5fcmVtb3ZlQ2xhc3MoaS5zaWJsaW5ncygpLmNoaWxkcmVuKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5mb2N1cyh0LGkpKSkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudS1pdGVtIikucmVtb3ZlQXR0cigicm9sZSBhcmlhLWRpc2FibGVkIikuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQXR0cigidGFiSW5kZXggcm9sZSBhcmlhLWhhc3BvcHVwIik7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpLmZpbmQoIi51aS1tZW51IikuYWRkQmFjaygpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1sYWJlbGxlZGJ5IGFyaWEtZXhwYW5kZWQgYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpO3QuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLW1lbnUtc3VibWVudS1jYXJldCIpJiZ0LnJlbW92ZSgpfSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdSxmPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5wcmV2aW91c1BhZ2UodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMubmV4dFBhZ2UodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTp0aGlzLl9tb3ZlKCJmaXJzdCIsImZpcnN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6dGhpcy5fbW92ZSgibGFzdCIsImxhc3QiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXModCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjp0aGlzLm5leHQodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDp0aGlzLmNvbGxhcHNlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZ0aGlzLmV4cGFuZCh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpjYXNlIG4udWkua2V5Q29kZS5TUEFDRTp0aGlzLl9hY3RpdmF0ZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jb2xsYXBzZSh0KTticmVhaztkZWZhdWx0Omk9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiI7dT1mPSExO3I9OTY8PXQua2V5Q29kZSYmdC5rZXlDb2RlPD0xMDU/KHQua2V5Q29kZS05NikudG9TdHJpbmcoKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSk7Y2xlYXJUaW1lb3V0KHRoaXMuZmlsdGVyVGltZXIpO3I9PT1pP3U9ITA6cj1pK3I7aT10aGlzLl9maWx0ZXJNZW51SXRlbXMocik7KGk9dSYmLTEhPT1pLmluZGV4KHRoaXMuYWN0aXZlLm5leHQoKSk/dGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpOmkpLmxlbmd0aHx8KHI9U3RyaW5nLmZyb21DaGFyQ29kZSh0LmtleUNvZGUpLGk9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKHIpKTtpLmxlbmd0aD8odGhpcy5mb2N1cyh0LGkpLHRoaXMucHJldmlvdXNGaWx0ZXI9cix0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfWYmJnQucHJldmVudERlZmF1bHQoKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKG4pe3RoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiYodGhpcy5hY3RpdmUuY2hpbGRyZW4oIlthcmlhLWhhc3BvcHVwPSd0cnVlJ10iKS5sZW5ndGg/dGhpcy5leHBhbmQobik6dGhpcy5zZWxlY3QobikpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHIsdCx1PXRoaXMsZj10aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxpPXRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5tZW51cyk7dGhpcy5fdG9nZ2xlQ2xhc3MoInVpLW1lbnUtaWNvbnMiLG51bGwsISF0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWljb24iKS5sZW5ndGgpO3Q9aS5maWx0ZXIoIjpub3QoLnVpLW1lbnUpIikuaGlkZSgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxpPXQucHJldigpLHI9bigiPHNwYW4+IikuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IiwhMCk7dS5fYWRkQ2xhc3MociwidWktbWVudS1pY29uIiwidWktaWNvbiAiK2YpO2kuYXR0cigiYXJpYS1oYXNwb3B1cCIsInRydWUiKS5wcmVwZW5kKHIpO3QuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixpLmF0dHIoImlkIikpfSk7dGhpcy5fYWRkQ2xhc3ModCwidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpOyhyPWkuYWRkKHRoaXMuZWxlbWVudCkuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpKS5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt1Ll9pc0RpdmlkZXIodCkmJnUuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KTtpPSh0PXIubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIikpLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSk7dGhpcy5fYWRkQ2xhc3ModCwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGksInVpLW1lbnUtaXRlbS13cmFwcGVyIik7ci5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik7dGhpcy5hY3RpdmUmJiFuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpOyJpY29ucyI9PT1uJiYoaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCx0LnN1Ym1lbnUpKTt0aGlzLl9zdXBlcihuLHQpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLFN0cmluZyhuKSk7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LGZvY3VzOmZ1bmN0aW9uKG4sdCl7dmFyIGk7dGhpcy5ibHVyKG4sbiYmImZvY3VzIj09PW4udHlwZSk7dGhpcy5fc2Nyb2xsSW50b1ZpZXcodCk7dGhpcy5hY3RpdmU9dC5maXJzdCgpO2k9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIik7dGhpcy5vcHRpb25zLnJvbGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGkuYXR0cigiaWQiKSk7aT10aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIikuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIik7biYmImtleWRvd24iPT09bi50eXBlP3RoaXMuX2Nsb3NlKCk6dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCl9LHRoaXMuZGVsYXkpOyhpPXQuY2hpbGRyZW4oIi51aS1tZW51IikpLmxlbmd0aCYmbiYmL15tb3VzZS8udGVzdChuLnR5cGUpJiZ0aGlzLl9zdGFydE9wZW5pbmcoaSk7dGhpcy5hY3RpdmVNZW51PXQucGFyZW50KCk7dGhpcy5fdHJpZ2dlcigiZm9jdXMiLG4se2l0ZW06dH0pfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24odCl7dmFyIGkscix1O3RoaXMuX2hhc1Njcm9sbCgpJiYocj1wYXJzZUZsb2F0KG4uY3NzKHRoaXMuYWN0aXZlTWVudVswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAsdT1wYXJzZUZsb2F0KG4uY3NzKHRoaXMuYWN0aXZlTWVudVswXSwicGFkZGluZ1RvcCIpKXx8MCxpPXQub2Zmc2V0KCkudG9wLXRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3Atci11LHI9dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpLHU9dGhpcy5hY3RpdmVNZW51LmhlaWdodCgpLHQ9dC5vdXRlckhlaWdodCgpLGk8MD90aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKHIraSk6dTxpK3QmJnRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AocitpLXUrdCkpfSxibHVyOmZ1bmN0aW9uKG4sdCl7dHx8Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMuYWN0aXZlJiYodGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX3RyaWdnZXIoImJsdXIiLG4se2l0ZW06dGhpcy5hY3RpdmV9KSx0aGlzLmFjdGl2ZT1udWxsKX0sX3N0YXJ0T3BlbmluZzpmdW5jdGlvbihuKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7InRydWUiPT09bi5hdHRyKCJhcmlhLWhpZGRlbiIpJiYodGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCk7dGhpcy5fb3BlbihuKX0sdGhpcy5kZWxheSkpfSxfb3BlbjpmdW5jdGlvbih0KXt2YXIgaT1uLmV4dGVuZCh7Im9mIjp0aGlzLmFjdGl2ZX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1tZW51Iikubm90KHQucGFyZW50cygiLnVpLW1lbnUiKSkuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpO3Quc2hvdygpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikuYXR0cigiYXJpYS1leHBhbmRlZCIsInRydWUiKS5wb3NpdGlvbihpKX0sY29sbGFwc2VBbGw6ZnVuY3Rpb24odCxpKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3ZhciByPWk/dGhpcy5lbGVtZW50Om4odCYmdC50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQoIi51aS1tZW51IikpO3IubGVuZ3RofHwocj10aGlzLmVsZW1lbnQpO3RoaXMuX2Nsb3NlKHIpO3RoaXMuYmx1cih0KTt0aGlzLl9yZW1vdmVDbGFzcyhyLmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKTt0aGlzLmFjdGl2ZU1lbnU9cn0saT8wOnRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24obil7KG49bnx8KHRoaXMuYWN0aXZlP3RoaXMuYWN0aXZlLnBhcmVudCgpOnRoaXMuZWxlbWVudCkpLmZpbmQoIi51aS1tZW51IikuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpfSxfY2xvc2VPbkRvY3VtZW50Q2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RofSxfaXNEaXZpZGVyOmZ1bmN0aW9uKG4pe3JldHVybiEvW15cLVx1MjAxNFx1MjAxM1xzXS8udGVzdChuLnRleHQoKSl9LGNvbGxhcHNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIix0aGlzLmVsZW1lbnQpO3QmJnQubGVuZ3RoJiYodGhpcy5fY2xvc2UoKSx0aGlzLmZvY3VzKG4sdCkpfSxleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hY3RpdmUmJnRoaXMuX21lbnVJdGVtcyh0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLW1lbnUiKSkuZmlyc3QoKTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX29wZW4odC5wYXJlbnQoKSksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmZvY3VzKG4sdCl9KSl9LG5leHQ6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgibmV4dCIsImZpcnN0IixuKX0scHJldmlvdXM6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgicHJldiIsImxhc3QiLG4pfSxpc0ZpcnN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh9LGlzTGFzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxfbWVudUl0ZW1zOmZ1bmN0aW9uKG4pe3JldHVybihufHx0aGlzLmVsZW1lbnQpLmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maWx0ZXIoIi51aS1tZW51LWl0ZW0iKX0sX21vdmU6ZnVuY3Rpb24obix0LGkpe3ZhciByOyhyPXRoaXMuYWN0aXZlPyJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP3RoaXMuYWN0aXZlWyJmaXJzdCI9PT1uPyJwcmV2QWxsIjoibmV4dEFsbCJdKCIudWktbWVudS1pdGVtIikubGFzdCgpOnRoaXMuYWN0aXZlW24rIkFsbCJdKCIudWktbWVudS1pdGVtIikuZmlyc3QoKTpyKSYmci5sZW5ndGgmJnRoaXMuYWN0aXZlfHwocj10aGlzLl9tZW51SXRlbXModGhpcy5hY3RpdmVNZW51KVt0XSgpKTt0aGlzLmZvY3VzKGkscil9LG5leHRQYWdlOmZ1bmN0aW9uKHQpe3ZhciByLHUsaTt0aGlzLmFjdGl2ZT90aGlzLmlzTGFzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyh1PXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCxpPXRoaXMuZWxlbWVudC5pbm5lckhlaWdodCgpLDA9PT1uLmZuLmpxdWVyeS5pbmRleE9mKCIzLjIuIikmJihpKz10aGlzLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0LXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpKSx0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybihyPW4odGhpcykpLm9mZnNldCgpLnRvcC11LWk8MH0pLHRoaXMuZm9jdXModCxyKSk6dGhpcy5mb2N1cyh0LHRoaXMuX21lbnVJdGVtcyh0aGlzLmFjdGl2ZU1lbnUpW3RoaXMuYWN0aXZlPyJsYXN0IjoiZmlyc3QiXSgpKSk6dGhpcy5uZXh0KHQpfSxwcmV2aW91c1BhZ2U6ZnVuY3Rpb24odCl7dmFyIHIsdSxpO3RoaXMuYWN0aXZlP3RoaXMuaXNGaXJzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyh1PXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCxpPXRoaXMuZWxlbWVudC5pbm5lckhlaWdodCgpLDA9PT1uLmZuLmpxdWVyeS5pbmRleE9mKCIzLjIuIikmJihpKz10aGlzLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0LXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpKSx0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiAwPChyPW4odGhpcykpLm9mZnNldCgpLnRvcC11K2l9KSx0aGlzLmZvY3VzKHQscikpOnRoaXMuZm9jdXModCx0aGlzLl9tZW51SXRlbXModGhpcy5hY3RpdmVNZW51KS5maXJzdCgpKSk6dGhpcy5uZXh0KHQpfSxfaGFzU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpPHRoaXMuZWxlbWVudC5wcm9wKCJzY3JvbGxIZWlnaHQiKX0sc2VsZWN0OmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlPXRoaXMuYWN0aXZlfHxuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudS1pdGVtIik7dmFyIGk9e2l0ZW06dGhpcy5hY3RpdmV9O3RoaXMuYWN0aXZlLmhhcygiLnVpLW1lbnUiKS5sZW5ndGh8fHRoaXMuY29sbGFwc2VBbGwodCwhMCk7dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LGkpfSxfZmlsdGVyTWVudUl0ZW1zOmZ1bmN0aW9uKHQpe3ZhciB0PXQucmVwbGFjZSgvW1wtXFtcXXt9KCkqKz8uLFxcXF4kfCNcc10vZywiXFwkJiIpLGk9bmV3IFJlZ0V4cCgiXiIrdCwiaSIpO3JldHVybiB0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBpLnRlc3QoU3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwobih0aGlzKS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIikudGV4dCgpKSl9KX19KTtuLndpZGdldCgidWkuYXV0b2NvbXBsZXRlIix7dmVyc2lvbjoiMS4xMy4yIixkZWZhdWx0RWxlbWVudDoiPGlucHV0PiIsb3B0aW9uczp7YXBwZW5kVG86bnVsbCxhdXRvRm9jdXM6ITEsZGVsYXk6MzAwLG1pbkxlbmd0aDoxLHBvc2l0aW9uOntteToibGVmdCB0b3AiLGF0OiJsZWZ0IGJvdHRvbSIsY29sbGlzaW9uOiJub25lIn0sc291cmNlOm51bGwsY2hhbmdlOm51bGwsY2xvc2U6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxyZXNwb25zZTpudWxsLHNlYXJjaDpudWxsLHNlbGVjdDpudWxsfSxyZXF1ZXN0SW5kZXg6MCxwZW5kaW5nOjAsbGl2ZVJlZ2lvblRpbWVyOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0LGkscix1PXRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGY9InRleHRhcmVhIj09PXUsdT0iaW5wdXQiPT09dTt0aGlzLmlzTXVsdGlMaW5lPWZ8fCF1JiZ0aGlzLl9pc0NvbnRlbnRFZGl0YWJsZSh0aGlzLmVsZW1lbnQpO3RoaXMudmFsdWVNZXRob2Q9dGhpcy5lbGVtZW50W2Z8fHU/InZhbCI6InRleHQiXTt0aGlzLmlzTmV3TWVudT0hMDt0aGlzLl9hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWlucHV0Iik7dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpO3RoaXMuX29uKHRoaXMuZWxlbWVudCx7a2V5ZG93bjpmdW5jdGlvbih1KXtpZih0aGlzLmVsZW1lbnQucHJvcCgicmVhZE9ubHkiKSlpPXI9dD0hMDtlbHNle2k9cj10PSExO3ZhciBmPW4udWkua2V5Q29kZTtzd2l0Y2godS5rZXlDb2RlKXtjYXNlIGYuUEFHRV9VUDp0PSEwO3RoaXMuX21vdmUoInByZXZpb3VzUGFnZSIsdSk7YnJlYWs7Y2FzZSBmLlBBR0VfRE9XTjp0PSEwO3RoaXMuX21vdmUoIm5leHRQYWdlIix1KTticmVhaztjYXNlIGYuVVA6dD0hMDt0aGlzLl9rZXlFdmVudCgicHJldmlvdXMiLHUpO2JyZWFrO2Nhc2UgZi5ET1dOOnQ9ITA7dGhpcy5fa2V5RXZlbnQoIm5leHQiLHUpO2JyZWFrO2Nhc2UgZi5FTlRFUjp0aGlzLm1lbnUuYWN0aXZlJiYodD0hMCx1LnByZXZlbnREZWZhdWx0KCksdGhpcy5tZW51LnNlbGVjdCh1KSk7YnJlYWs7Y2FzZSBmLlRBQjp0aGlzLm1lbnUuYWN0aXZlJiZ0aGlzLm1lbnUuc2VsZWN0KHUpO2JyZWFrO2Nhc2UgZi5FU0NBUEU6dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJih0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHRoaXMuY2xvc2UodSksdS5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztkZWZhdWx0Omk9ITA7dGhpcy5fc2VhcmNoVGltZW91dCh1KX19fSxrZXlwcmVzczpmdW5jdGlvbihyKXtpZih0KXJldHVybiB0PSExLHZvaWQodGhpcy5pc011bHRpTGluZSYmIXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpfHxyLnByZXZlbnREZWZhdWx0KCkpO2lmKCFpKXt2YXIgdT1uLnVpLmtleUNvZGU7c3dpdGNoKHIua2V5Q29kZSl7Y2FzZSB1LlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixyKTticmVhaztjYXNlIHUuUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixyKTticmVhaztjYXNlIHUuVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixyKTticmVhaztjYXNlIHUuRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscil9fX0saW5wdXQ6ZnVuY3Rpb24obil7aWYocilyZXR1cm4gcj0hMSx2b2lkIG4ucHJldmVudERlZmF1bHQoKTt0aGlzLl9zZWFyY2hUaW1lb3V0KG4pfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWRJdGVtPW51bGw7dGhpcy5wcmV2aW91cz10aGlzLl92YWx1ZSgpfSxibHVyOmZ1bmN0aW9uKG4pe2NsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyk7dGhpcy5jbG9zZShuKTt0aGlzLl9jaGFuZ2Uobil9fSk7dGhpcy5faW5pdFNvdXJjZSgpO3RoaXMubWVudT1uKCI8dWw+IikuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSkubWVudSh7cm9sZTpudWxsfSkuaGlkZSgpLmF0dHIoe3Vuc2VsZWN0YWJsZToib24ifSkubWVudSgiaW5zdGFuY2UiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLm1lbnUuZWxlbWVudCwidWktYXV0b2NvbXBsZXRlIiwidWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLm1lbnUuZWxlbWVudCx7bW91c2Vkb3duOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0sbWVudWZvY3VzOmZ1bmN0aW9uKHQsaSl7dmFyIHUscjtpZih0aGlzLmlzTmV3TWVudSYmKHRoaXMuaXNOZXdNZW51PSExLHQub3JpZ2luYWxFdmVudCYmL15tb3VzZS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkpKXJldHVybiB0aGlzLm1lbnUuYmx1cigpLHZvaWQgdGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtuKHQudGFyZ2V0KS50cmlnZ2VyKHQub3JpZ2luYWxFdmVudCl9KTtyPWkuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpOyExIT09dGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06cn0pJiZ0Lm9yaWdpbmFsRXZlbnQmJi9ea2V5Ly50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSYmdGhpcy5fdmFsdWUoci52YWx1ZSk7KHU9aS5pdGVtLmF0dHIoImFyaWEtbGFiZWwiKXx8ci52YWx1ZSkmJlN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHUpLmxlbmd0aCYmKGNsZWFyVGltZW91dCh0aGlzLmxpdmVSZWdpb25UaW1lciksdGhpcy5saXZlUmVnaW9uVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmxpdmVSZWdpb24uaHRtbChuKCI8ZGl2PiIpLnRleHQodSkpfSwxMDApKX0sbWVudXNlbGVjdDpmdW5jdGlvbih0LGkpe3ZhciByPWkuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLHU9dGhpcy5wcmV2aW91czt0aGlzLmVsZW1lbnRbMF0hPT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIiksdGhpcy5wcmV2aW91cz11LHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz11O3RoaXMuc2VsZWN0ZWRJdGVtPXJ9KSk7ITEhPT10aGlzLl90cmlnZ2VyKCJzZWxlY3QiLHQse2l0ZW06cn0pJiZ0aGlzLl92YWx1ZShyLnZhbHVlKTt0aGlzLnRlcm09dGhpcy5fdmFsdWUoKTt0aGlzLmNsb3NlKHQpO3RoaXMuc2VsZWN0ZWRJdGVtPXJ9fSk7dGhpcy5saXZlUmVnaW9uPW4oIjxkaXY+Iix7cm9sZToic3RhdHVzIiwiYXJpYS1saXZlIjoiYXNzZXJ0aXZlIiwiYXJpYS1yZWxldmFudCI6ImFkZGl0aW9ucyJ9KS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpO3RoaXMuX2FkZENsYXNzKHRoaXMubGl2ZVJlZ2lvbixudWxsLCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKTt0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyk7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpO3RoaXMubWVudS5lbGVtZW50LnJlbW92ZSgpO3RoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7InNvdXJjZSI9PT1uJiZ0aGlzLl9pbml0U291cmNlKCk7ImFwcGVuZFRvIj09PW4mJnRoaXMubWVudS5lbGVtZW50LmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpOyJkaXNhYmxlZCI9PT1uJiZ0JiZ0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKX0sX2lzRXZlbnRUYXJnZXRJbldpZGdldDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm1lbnUuZWxlbWVudFswXTtyZXR1cm4gdC50YXJnZXQ9PT10aGlzLmVsZW1lbnRbMF18fHQudGFyZ2V0PT09aXx8bi5jb250YWlucyhpLHQudGFyZ2V0KX0sX2Nsb3NlT25DbGlja091dHNpZGU6ZnVuY3Rpb24obil7dGhpcy5faXNFdmVudFRhcmdldEluV2lkZ2V0KG4pfHx0aGlzLmNsb3NlKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4odD0hKHQ9dCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSl8fCF0WzBdP3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpOnQpLmxlbmd0aD90OnRoaXMuZG9jdW1lbnRbMF0uYm9keX0sX2luaXRTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5zb3VyY2UpPyhpPXRoaXMub3B0aW9ucy5zb3VyY2UsdGhpcy5zb3VyY2U9ZnVuY3Rpb24odCxyKXtyKG4udWkuYXV0b2NvbXBsZXRlLmZpbHRlcihpLHQudGVybSkpfSk6InN0cmluZyI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuc291cmNlPyhyPXRoaXMub3B0aW9ucy5zb3VyY2UsdGhpcy5zb3VyY2U9ZnVuY3Rpb24oaSx1KXt0LnhociYmdC54aHIuYWJvcnQoKTt0Lnhocj1uLmFqYXgoe3VybDpyLGRhdGE6aSxkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihuKXt1KG4pfSxlcnJvcjpmdW5jdGlvbigpe3UoW10pfX0pfSk6dGhpcy5zb3VyY2U9dGhpcy5vcHRpb25zLnNvdXJjZX0sX3NlYXJjaFRpbWVvdXQ6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoaW5nKTt0aGlzLnNlYXJjaGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3ZhciB0PXRoaXMudGVybT09PXRoaXMuX3ZhbHVlKCksaT10aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSxyPW4uYWx0S2V5fHxuLmN0cmxLZXl8fG4ubWV0YUtleXx8bi5zaGlmdEtleTt0JiYoaXx8cil8fCh0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsbikpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1udWxsIT1uP246dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSxuLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuY2xvc2UodCk6ITEhPT10aGlzLl90cmlnZ2VyKCJzZWFyY2giLHQpP3RoaXMuX3NlYXJjaChuKTp2b2lkIDB9LF9zZWFyY2g6ZnVuY3Rpb24obil7dGhpcy5wZW5kaW5nKys7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIik7dGhpcy5jYW5jZWxTZWFyY2g9ITE7dGhpcy5zb3VyY2Uoe3Rlcm06bn0sdGhpcy5fcmVzcG9uc2UoKSl9LF9yZXNwb25zZTpmdW5jdGlvbigpe3ZhciBuPSsrdGhpcy5yZXF1ZXN0SW5kZXg7cmV0dXJuIGZ1bmN0aW9uKHQpe249PT10aGlzLnJlcXVlc3RJbmRleCYmdGhpcy5fX3Jlc3BvbnNlKHQpO3RoaXMucGVuZGluZy0tO3RoaXMucGVuZGluZ3x8dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIil9LmJpbmQodGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24obil7bj1uJiZ0aGlzLl9ub3JtYWxpemUobik7dGhpcy5fdHJpZ2dlcigicmVzcG9uc2UiLG51bGwse2NvbnRlbnQ6bn0pOyF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJm4mJm4ubGVuZ3RoJiYhdGhpcy5jYW5jZWxTZWFyY2g/KHRoaXMuX3N1Z2dlc3QobiksdGhpcy5fdHJpZ2dlcigib3BlbiIpKTp0aGlzLl9jbG9zZSgpfSxjbG9zZTpmdW5jdGlvbihuKXt0aGlzLmNhbmNlbFNlYXJjaD0hMDt0aGlzLl9jbG9zZShuKX0sX2Nsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZWRvd24iKTt0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKHRoaXMubWVudS5lbGVtZW50LmhpZGUoKSx0aGlzLm1lbnUuYmx1cigpLHRoaXMuaXNOZXdNZW51PSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIixuKSl9LF9jaGFuZ2U6ZnVuY3Rpb24obil7dGhpcy5wcmV2aW91cyE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIsbix7aXRlbTp0aGlzLnNlbGVjdGVkSXRlbX0pfSxfbm9ybWFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aCYmdFswXS5sYWJlbCYmdFswXS52YWx1ZT90Om4ubWFwKHQsZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3tsYWJlbDp0LHZhbHVlOnR9Om4uZXh0ZW5kKHt9LHQse2xhYmVsOnQubGFiZWx8fHQudmFsdWUsdmFsdWU6dC52YWx1ZXx8dC5sYWJlbH0pfSl9LF9zdWdnZXN0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMubWVudS5lbGVtZW50LmVtcHR5KCk7dGhpcy5fcmVuZGVyTWVudShpLHQpO3RoaXMuaXNOZXdNZW51PSEwO3RoaXMubWVudS5yZWZyZXNoKCk7aS5zaG93KCk7dGhpcy5fcmVzaXplTWVudSgpO2kucG9zaXRpb24obi5leHRlbmQoeyJvZiI6dGhpcy5lbGVtZW50fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKTt0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLm1lbnUubmV4dCgpO3RoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlZG93bjoiX2Nsb3NlT25DbGlja091dHNpZGUifSl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5tZW51LmVsZW1lbnQ7bi5vdXRlcldpZHRoKE1hdGgubWF4KG4ud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7ci5fcmVuZGVySXRlbURhdGEodCxpKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbShuLHQpLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIix0KX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCxpKXtyZXR1cm4gbigiPGxpPiIpLmFwcGVuZChuKCI8ZGl2PiIpLnRleHQoaS5sYWJlbCkpLmFwcGVuZFRvKHQpfSxfbW92ZTpmdW5jdGlvbihuLHQpe2lmKHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKXJldHVybiB0aGlzLm1lbnUuaXNGaXJzdEl0ZW0oKSYmL15wcmV2aW91cy8udGVzdChuKXx8dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSYmL15uZXh0Ly50ZXN0KG4pPyh0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHZvaWQgdGhpcy5tZW51LmJsdXIoKSk6dm9pZCB0aGlzLm1lbnVbbl0odCk7dGhpcy5zZWFyY2gobnVsbCx0KX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50fSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSh0aGlzLmVsZW1lbnQsYXJndW1lbnRzKX0sX2tleUV2ZW50OmZ1bmN0aW9uKG4sdCl7dGhpcy5pc011bHRpTGluZSYmIXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpfHwodGhpcy5fbW92ZShuLHQpLHQucHJldmVudERlZmF1bHQoKSl9LF9pc0NvbnRlbnRFZGl0YWJsZTpmdW5jdGlvbihuKXtpZighbi5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9bi5wcm9wKCJjb250ZW50RWRpdGFibGUiKTtyZXR1cm4iaW5oZXJpdCI9PT10P3RoaXMuX2lzQ29udGVudEVkaXRhYmxlKG4ucGFyZW50KCkpOiJ0cnVlIj09PXR9fSk7bi5leHRlbmQobi51aS5hdXRvY29tcGxldGUse2VzY2FwZVJlZ2V4OmZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX0sZmlsdGVyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IFJlZ0V4cChuLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBuLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gci50ZXN0KG4ubGFiZWx8fG4udmFsdWV8fG4pfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsbi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gbisoMTxuPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGk9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsY2xlYXJUaW1lb3V0KHRoaXMubGl2ZVJlZ2lvblRpbWVyKSx0aGlzLmxpdmVSZWdpb25UaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMubGl2ZVJlZ2lvbi5odG1sKG4oIjxkaXY+IikudGV4dChpKSl9LDEwMCkpfX0pO24udWkuYXV0b2NvbXBsZXRlO2FpPS91aS1jb3JuZXItKFthLXpdKXsyLDZ9L2c7bi53aWRnZXQoInVpLmNvbnRyb2xncm91cCIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXJlY3Rpb246Imhvcml6b250YWwiLGRpc2FibGVkOm51bGwsb25seVZpc2libGU6ITAsaXRlbXM6e2J1dHRvbjoiaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBidXR0b24sIGEiLGNvbnRyb2xncm91cExhYmVsOiIudWktY29udHJvbGdyb3VwLWxhYmVsIixjaGVja2JveHJhZGlvOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLCBpbnB1dFt0eXBlPSdyYWRpbyddIixzZWxlY3RtZW51OiJzZWxlY3QiLHNwaW5uZXI6Ii51aS1zcGlubmVyLWlucHV0In19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0b29sYmFyIik7dGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fY2FsbENoaWxkTWV0aG9kKCJkZXN0cm95Iik7dGhpcy5jaGlsZFdpZGdldHMucmVtb3ZlRGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCYmdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsKS5maW5kKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikuY29udGVudHMoKS51bndyYXAoKX0sX2luaXRXaWRnZXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPVtdO24uZWFjaCh0aGlzLm9wdGlvbnMuaXRlbXMsZnVuY3Rpb24ocix1KXt2YXIgZixlPXt9O2lmKHUpcmV0dXJuImNvbnRyb2xncm91cExhYmVsIj09PXI/KChmPXQuZWxlbWVudC5maW5kKHUpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikubGVuZ3RofHx0LmNvbnRlbnRzKCkud3JhcEFsbCgiPHNwYW4gY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyc+PFwvc3Bhbj4iKX0pLHQuX2FkZENsYXNzKGYsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSx2b2lkKGk9aS5jb25jYXQoZi5nZXQoKSkpKTp2b2lkKG4uZm5bcl0mJihlPXRbIl8iK3IrIk9wdGlvbnMiXT90WyJfIityKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSx0LmVsZW1lbnQuZmluZCh1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHU9bih0aGlzKSxvPXVbcl0oImluc3RhbmNlIiksZj1uLndpZGdldC5leHRlbmQoe30sZSk7ImJ1dHRvbiI9PT1yJiZ1LnBhcmVudCgiLnVpLXNwaW5uZXIiKS5sZW5ndGh8fCgobz1vfHx1W3JdKClbcl0oImluc3RhbmNlIikpJiYoZi5jbGFzc2VzPXQuX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGYuY2xhc3NlcyxvKSksdVtyXShmKSxmPXVbcl0oIndpZGdldCIpLG4uZGF0YShmWzBdLCJ1aS1jb250cm9sZ3JvdXAtZGF0YSIsb3x8dVtyXSgiaW5zdGFuY2UiKSksaS5wdXNoKGZbMF0pKX0pKSl9KTt0aGlzLmNoaWxkV2lkZ2V0cz1uKG4udW5pcXVlU29ydChpKSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5jaGlsZFdpZGdldHMsInVpLWNvbnRyb2xncm91cC1pdGVtIil9LF9jYWxsQ2hpbGRNZXRob2Q6ZnVuY3Rpb24odCl7dGhpcy5jaGlsZFdpZGdldHMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtpJiZpW3RdJiZpW3RdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKG4sdCl7dD10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCwibGFiZWwiKS5jbGFzc2VzLmxhYmVsO3RoaXMuX3JlbW92ZUNsYXNzKG4sbnVsbCwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1sZWZ0IHVpLWNvcm5lci1yaWdodCB1aS1jb3JuZXItYWxsIik7dGhpcy5fYWRkQ2xhc3MobixudWxsLHQpfSxfYnVpbGRTaW1wbGVPcHRpb25zOmZ1bmN0aW9uKG4sdCl7dmFyIGk9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24scj17Y2xhc3Nlczp7fX07cmV0dXJuIHIuY2xhc3Nlc1t0XT17bWlkZGxlOiIiLGZpcnN0OiJ1aS1jb3JuZXItIisoaT8idG9wIjoibGVmdCIpLGxhc3Q6InVpLWNvcm5lci0iKyhpPyJib3R0b20iOiJyaWdodCIpLG9ubHk6InVpLWNvcm5lci1hbGwifVtuXSxyfSxfc3Bpbm5lck9wdGlvbnM6ZnVuY3Rpb24obil7cmV0dXJuIG49dGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKG4sInVpLXNwaW5uZXIiKSxuLmNsYXNzZXNbInVpLXNwaW5uZXItdXAiXT0iIixuLmNsYXNzZXNbInVpLXNwaW5uZXItZG93biJdPSIiLG59LF9idXR0b25PcHRpb25zOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktYnV0dG9uIil9LF9jaGVja2JveHJhZGlvT3B0aW9uczpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKG4sInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiKX0sX3NlbGVjdG1lbnVPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uO3JldHVybnt3aWR0aDp0JiYiYXV0byIsY2xhc3Nlczp7bWlkZGxlOnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6IiIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6IiJ9LGZpcnN0OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci0iKyh0PyJ0b3AiOiJ0bCIpLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItIisodD8idG9wIjoibGVmdCIpfSxsYXN0OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6dD8iIjoidWktY29ybmVyLXRyIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKHQ/ImJvdHRvbSI6InJpZ2h0Iil9LG9ubHk6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjoidWktY29ybmVyLXRvcCIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci1hbGwifX1bbl19fSxfcmVzb2x2ZUNsYXNzZXNWYWx1ZXM6ZnVuY3Rpb24odCxpKXt2YXIgcj17fTtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24obil7dmFyIHU9aS5vcHRpb25zLmNsYXNzZXNbbl18fCIiLHU9U3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwodS5yZXBsYWNlKGFpLCIiKSk7cltuXT0odSsiICIrdFtuXSkucmVwbGFjZSgvXHMrL2csIiAiKX0pLHJ9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiZGlyZWN0aW9uIj09PW4mJnRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKTt0aGlzLl9zdXBlcihuLHQpOyJkaXNhYmxlZCIhPT1uP3RoaXMucmVmcmVzaCgpOnRoaXMuX2NhbGxDaGlsZE1ldGhvZCh0PyJkaXNhYmxlIjoiZW5hYmxlIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXM7dGhpcy5fYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKTsiaG9yaXpvbnRhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uJiZ0aGlzLl9hZGRDbGFzcyhudWxsLCJ1aS1oZWxwZXItY2xlYXJmaXgiKTt0aGlzLl9pbml0V2lkZ2V0cygpO3Q9dGhpcy5jaGlsZFdpZGdldHM7KHQ9dGhpcy5vcHRpb25zLm9ubHlWaXNpYmxlP3QuZmlsdGVyKCI6dmlzaWJsZSIpOnQpLmxlbmd0aCYmKG4uZWFjaChbImZpcnN0IiwibGFzdCJdLGZ1bmN0aW9uKG4scil7dmFyIGYsdT10W3JdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt1JiZpWyJfIit1LndpZGdldE5hbWUrIk9wdGlvbnMiXT8oKGY9aVsiXyIrdS53aWRnZXROYW1lKyJPcHRpb25zIl0oMT09PXQubGVuZ3RoPyJvbmx5IjpyKSkuY2xhc3Nlcz1pLl9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhmLmNsYXNzZXMsdSksdS5lbGVtZW50W3Uud2lkZ2V0TmFtZV0oZikpOmkuX3VwZGF0ZUNvcm5lckNsYXNzKHRbcl0oKSxyKX0pLHRoaXMuX2NhbGxDaGlsZE1ldGhvZCgicmVmcmVzaCIpKX19KTtuLndpZGdldCgidWkuY2hlY2tib3hyYWRpbyIsW24udWkuZm9ybVJlc2V0TWl4aW4se3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7ZGlzYWJsZWQ6bnVsbCxsYWJlbDpudWxsLGljb246ITAsY2xhc3Nlczp7InVpLWNoZWNrYm94cmFkaW8tbGFiZWwiOiJ1aS1jb3JuZXItYWxsIiwidWktY2hlY2tib3hyYWRpby1pY29uIjoidWktY29ybmVyLWFsbCJ9fSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuX3JlYWRUeXBlKCksdD10aGlzLmVsZW1lbnQubGFiZWxzKCksdGhpcy5sYWJlbD1uKHRbdC5sZW5ndGgtMV0pLHRoaXMubGFiZWwubGVuZ3RofHxuLmVycm9yKCJObyBsYWJlbCBmb3VuZCBmb3IgY2hlY2tib3hyYWRpbyB3aWRnZXQiKSx0aGlzLm9yaWdpbmFsTGFiZWw9IiIsKHQ9dGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pKS5sZW5ndGgmJih0aGlzLm9yaWdpbmFsTGFiZWwrPXQuY2xvbmUoKS53cmFwQWxsKCI8ZGl2PjxcL2Rpdj4iKS5wYXJlbnQoKS5odG1sKCkpLHRoaXMub3JpZ2luYWxMYWJlbCYmKGkubGFiZWw9dGhpcy5vcmlnaW5hbExhYmVsKSxudWxsIT0odD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQpJiYoaS5kaXNhYmxlZD10KSxpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQ7dGhpcy5fYmluZEZvcm1SZXNldEhhbmRsZXIoKTtudWxsPT10aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkKTt0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX2FkZENsYXNzKCJ1aS1jaGVja2JveHJhZGlvIiwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1sYWJlbCIsInVpLWJ1dHRvbiB1aS13aWRnZXQiKTsicmFkaW8iPT09dGhpcy50eXBlJiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLXJhZGlvLWxhYmVsIik7dGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLm9wdGlvbnMubGFiZWwhPT10aGlzLm9yaWdpbmFsTGFiZWw/dGhpcy5fdXBkYXRlTGFiZWwoKTp0aGlzLm9yaWdpbmFsTGFiZWwmJih0aGlzLm9wdGlvbnMubGFiZWw9dGhpcy5vcmlnaW5hbExhYmVsKTt0aGlzLl9lbmhhbmNlKCk7biYmdGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1jaGVja2VkIiwidWktc3RhdGUtYWN0aXZlIik7dGhpcy5fb24oe2NoYW5nZToiX3RvZ2dsZUNsYXNzZXMiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMubGFiZWwsbnVsbCwidWktc3RhdGUtZm9jdXMgdWktdmlzdWFsLWZvY3VzIil9fSl9LF9yZWFkVHlwZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3RoaXMudHlwZT10aGlzLmVsZW1lbnRbMF0udHlwZTsiaW5wdXQiPT09dCYmL3JhZGlvfGNoZWNrYm94Ly50ZXN0KHRoaXMudHlwZSl8fG4uZXJyb3IoIkNhbid0IGNyZWF0ZSBjaGVja2JveHJhZGlvIG9uIGVsZW1lbnQubm9kZU5hbWU9Iit0KyIgYW5kIGVsZW1lbnQudHlwZT0iK3RoaXMudHlwZSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlSWNvbih0aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfSxfZ2V0UmFkaW9Hcm91cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5uYW1lLGk9ImlucHV0W25hbWU9JyIrbi5lc2NhcGVTZWxlY3Rvcih0KSsiJ10iO3JldHVybiB0Pyh0aGlzLmZvcm0ubGVuZ3RoP24odGhpcy5mb3JtWzBdLmVsZW1lbnRzKS5maWx0ZXIoaSk6bihpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PW4odGhpcykuX2Zvcm0oKS5sZW5ndGh9KSkubm90KHRoaXMuZWxlbWVudCk6bihbXSl9LF90b2dnbGVDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQ7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1jaGVja2VkIiwidWktc3RhdGUtYWN0aXZlIix0KTt0aGlzLm9wdGlvbnMuaWNvbiYmImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLWljb24tY2hlY2sgdWktc3RhdGUtY2hlY2tlZCIsdCkuX3RvZ2dsZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWJsYW5rIiwhdCk7InJhZGlvIj09PXRoaXMudHlwZSYmdGhpcy5fZ2V0UmFkaW9Hcm91cCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLmNoZWNrYm94cmFkaW8oImluc3RhbmNlIik7dCYmdC5fcmVtb3ZlQ2xhc3ModC5sYWJlbCwidWktY2hlY2tib3hyYWRpby1jaGVja2VkIiwidWktc3RhdGUtYWN0aXZlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl91bmJpbmRGb3JtUmVzZXRIYW5kbGVyKCk7dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKCJsYWJlbCIhPT1ufHx0KXtpZih0aGlzLl9zdXBlcihuLHQpLCJkaXNhYmxlZCI9PT1uKXJldHVybiB0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIix0KSx2b2lkKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZD10KTt0aGlzLnJlZnJlc2goKX19LF91cGRhdGVJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPSJ1aS1pY29uIHVpLWljb24tYmFja2dyb3VuZCAiO3RoaXMub3B0aW9ucy5pY29uPyh0aGlzLmljb258fCh0aGlzLmljb249bigiPHNwYW4+IiksdGhpcy5pY29uU3BhY2U9bigiPHNwYW4+IDxcL3NwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsInVpLWNoZWNrYm94cmFkaW8taWNvbi1zcGFjZSIpKSwiY2hlY2tib3giPT09dGhpcy50eXBlPyhpKz10PyJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiOiJ1aS1pY29uLWJsYW5rIix0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0PyJ1aS1pY29uLWJsYW5rIjoidWktaWNvbi1jaGVjayIpKTppKz0idWktaWNvbi1ibGFuayIsdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLCJ1aS1jaGVja2JveHJhZGlvLWljb24iLGkpLHR8fHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiKSx0aGlzLmljb24ucHJlcGVuZFRvKHRoaXMubGFiZWwpLmFmdGVyKHRoaXMuaWNvblNwYWNlKSk6dm9pZCAwIT09dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmljb24pfSxfdXBkYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSk7dGhpcy5pY29uJiYobj1uLm5vdCh0aGlzLmljb25bMF0pKTsobj10aGlzLmljb25TcGFjZT9uLm5vdCh0aGlzLmljb25TcGFjZVswXSk6bikucmVtb3ZlKCk7dGhpcy5sYWJlbC5hcHBlbmQodGhpcy5vcHRpb25zLmxhYmVsKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudFswXS5jaGVja2VkLHQ9dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkO3RoaXMuX3VwZGF0ZUljb24obik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1jaGVja2VkIiwidWktc3RhdGUtYWN0aXZlIixuKTtudWxsIT09dGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLl91cGRhdGVMYWJlbCgpO3QhPT10aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOnR9KX19XSk7bi51aS5jaGVja2JveHJhZGlvO24ud2lkZ2V0KCJ1aS5idXR0b24iLHt2ZXJzaW9uOiIxLjEzLjIiLGRlZmF1bHRFbGVtZW50OiI8YnV0dG9uPiIsb3B0aW9uczp7Y2xhc3Nlczp7InVpLWJ1dHRvbiI6InVpLWNvcm5lci1hbGwifSxkaXNhYmxlZDpudWxsLGljb246bnVsbCxpY29uUG9zaXRpb246ImJlZ2lubmluZyIsbGFiZWw6bnVsbCxzaG93TGFiZWw6ITB9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLl9zdXBlcigpfHx7fTtyZXR1cm4gdGhpcy5pc0lucHV0PXRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSxudWxsIT0odD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQpJiYobi5kaXNhYmxlZD10KSx0aGlzLm9yaWdpbmFsTGFiZWw9dGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwoKTp0aGlzLmVsZW1lbnQuaHRtbCgpLHRoaXMub3JpZ2luYWxMYWJlbCYmKG4ubGFiZWw9dGhpcy5vcmlnaW5hbExhYmVsKSxufSxfY3JlYXRlOmZ1bmN0aW9uKCl7IXRoaXMub3B0aW9uLnNob3dMYWJlbCYhdGhpcy5vcHRpb25zLmljb24mJih0aGlzLm9wdGlvbnMuc2hvd0xhYmVsPSEwKTtudWxsPT10aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkfHwhMSk7dGhpcy5oYXNUaXRsZT0hIXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpO3RoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5vcHRpb25zLmxhYmVsIT09dGhpcy5vcmlnaW5hbExhYmVsJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKTp0aGlzLmVsZW1lbnQuaHRtbCh0aGlzLm9wdGlvbnMubGFiZWwpKTt0aGlzLl9hZGRDbGFzcygidWktYnV0dG9uIiwidWktd2lkZ2V0Iik7dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9lbmhhbmNlKCk7dGhpcy5lbGVtZW50LmlzKCJhIikmJnRoaXMuX29uKHtrZXl1cDpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuU1BBQ0UmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5lbGVtZW50WzBdLmNsaWNrP3RoaXMuZWxlbWVudFswXS5jbGljaygpOnRoaXMuZWxlbWVudC50cmlnZ2VyKCJjbGljayIpKX19KX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaXMoImJ1dHRvbiIpfHx0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsImJ1dHRvbiIpO3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5fdXBkYXRlSWNvbigiaWNvbiIsdGhpcy5vcHRpb25zLmljb24pLHRoaXMuX3VwZGF0ZVRvb2x0aXAoKSl9LF91cGRhdGVUb29sdGlwOmZ1bmN0aW9uKCl7dGhpcy50aXRsZT10aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKTt0aGlzLm9wdGlvbnMuc2hvd0xhYmVsfHx0aGlzLnRpdGxlfHx0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMub3B0aW9ucy5sYWJlbCl9LF91cGRhdGVJY29uOmZ1bmN0aW9uKHQsaSl7dmFyIHU9Imljb25Qb3NpdGlvbiIhPT10LHI9dT90aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uOmksdD0idG9wIj09PXJ8fCJib3R0b20iPT09cjt0aGlzLmljb24/dSYmdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsdGhpcy5vcHRpb25zLmljb24pOih0aGlzLmljb249bigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLCJ1aS1idXR0b24taWNvbiIsInVpLWljb24iKSx0aGlzLm9wdGlvbnMuc2hvd0xhYmVsfHx0aGlzLl9hZGRDbGFzcygidWktYnV0dG9uLWljb24tb25seSIpKTt1JiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCxpKTt0aGlzLl9hdHRhY2hJY29uKHIpO3Q/KHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS13aWRnZXQtaWNvbi1ibG9jayIpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSk6KHRoaXMuaWNvblNwYWNlfHwodGhpcy5pY29uU3BhY2U9bigiPHNwYW4+IDxcL3NwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsInVpLWJ1dHRvbi1pY29uLXNwYWNlIikpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS13aWdldC1pY29uLWJsb2NrIiksdGhpcy5fYXR0YWNoSWNvblNwYWNlKHIpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMuaWNvbiYmdGhpcy5pY29uLnJlbW92ZSgpO3RoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKTt0aGlzLmhhc1RpdGxlfHx0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigidGl0bGUiKX0sX2F0dGFjaEljb25TcGFjZTpmdW5jdGlvbihuKXt0aGlzLmljb25bL14oPzplbmR8Ym90dG9tKS8udGVzdChuKT8iYmVmb3JlIjoiYWZ0ZXIiXSh0aGlzLmljb25TcGFjZSl9LF9hdHRhY2hJY29uOmZ1bmN0aW9uKG4pe3RoaXMuZWxlbWVudFsvXig/OmVuZHxib3R0b20pLy50ZXN0KG4pPyJhcHBlbmQiOiJwcmVwZW5kIl0odGhpcy5pY29uKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24obil7dmFyIHQ9KHZvaWQgMD09PW4uc2hvd0xhYmVsP3RoaXMub3B0aW9uczpuKS5zaG93TGFiZWwsaT0odm9pZCAwPT09bi5pY29uP3RoaXMub3B0aW9uczpuKS5pY29uO3R8fGl8fChuLnNob3dMYWJlbD0hMCk7dGhpcy5fc3VwZXIobil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiaWNvbiI9PT1uJiYodD90aGlzLl91cGRhdGVJY29uKG4sdCk6dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSkpOyJpY29uUG9zaXRpb24iPT09biYmdGhpcy5fdXBkYXRlSWNvbihuLHQpOyJzaG93TGFiZWwiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IixudWxsLCF0KSx0aGlzLl91cGRhdGVUb29sdGlwKCkpOyJsYWJlbCI9PT1uJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodCk6KHRoaXMuZWxlbWVudC5odG1sKHQpLHRoaXMuaWNvbiYmKHRoaXMuX2F0dGFjaEljb24odGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbiksdGhpcy5fYXR0YWNoSWNvblNwYWNlKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pKSkpO3RoaXMuX3N1cGVyKG4sdCk7ImRpc2FibGVkIj09PW4mJih0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZD10KSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoImJsdXIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuaXMoImlucHV0LCBidXR0b24iKT90aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTtuIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpufSk7dGhpcy5fdXBkYXRlVG9vbHRpcCgpfX0pOyExIT09bi51aUJhY2tDb21wYXQmJihuLndpZGdldCgidWkuYnV0dG9uIixuLnVpLmJ1dHRvbix7b3B0aW9uczp7dGV4dDohMCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93TGFiZWwmJiF0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9dGhpcy5vcHRpb25zLnRleHQpOyF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiZ0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy50ZXh0PXRoaXMub3B0aW9ucy5zaG93TGFiZWwpO3RoaXMub3B0aW9ucy5pY29ufHwhdGhpcy5vcHRpb25zLmljb25zLnByaW1hcnkmJiF0aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5P3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dGhpcy5vcHRpb25zLmljb24pOnRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5P3RoaXMub3B0aW9ucy5pY29uPXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5Oih0aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5LHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb249ImVuZCIpO3RoaXMuX3N1cGVyKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsidGV4dCIhPT1uPygic2hvd0xhYmVsIj09PW4mJih0aGlzLm9wdGlvbnMudGV4dD10KSwiaWNvbiI9PT1uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dCksImljb25zIj09PW4mJih0LnByaW1hcnk/KHRoaXMuX3N1cGVyKCJpY29uIix0LnByaW1hcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJiZWdpbm5pbmciKSk6dC5zZWNvbmRhcnkmJih0aGlzLl9zdXBlcigiaWNvbiIsdC5zZWNvbmRhcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJlbmQiKSkpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSk6dGhpcy5fc3VwZXIoInNob3dMYWJlbCIsdCl9fSksbi5mbi5idXR0b249KHZpPW4uZm4uYnV0dG9uLGZ1bmN0aW9uKHQpe3ZhciB1PSJzdHJpbmciPT10eXBlb2YgdCxyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxpPXRoaXM7cmV0dXJuIHU/dGhpcy5sZW5ndGh8fCJpbnN0YW5jZSIhPT10P3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB1PW4odGhpcykuYXR0cigidHlwZSIpLGY9bi5kYXRhKHRoaXMsInVpLSIrKCJjaGVja2JveCIhPT11JiYicmFkaW8iIT09dT8iYnV0dG9uIjoiY2hlY2tib3hyYWRpbyIpKTtyZXR1cm4iaW5zdGFuY2UiPT09dD8oaT1mLCExKTpmPyJmdW5jdGlvbiIhPXR5cGVvZiBmW3RdfHwiXyI9PT10LmNoYXJBdCgwKT9uLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIit0KyInIGZvciBidXR0b24gd2lkZ2V0IGluc3RhbmNlIik6KHU9Zlt0XS5hcHBseShmLHIpKSE9PWYmJnZvaWQgMCE9PXU/KGk9dSYmdS5qcXVlcnk/aS5wdXNoU3RhY2sodS5nZXQoKSk6dSwhMSk6dm9pZCAwOm4uZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gYnV0dG9uIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrdCsiJyIpfSk6aT12b2lkIDA6KHIubGVuZ3RoJiYodD1uLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbdF0uY29uY2F0KHIpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5hdHRyKCJ0eXBlIikscj0iY2hlY2tib3giIT09aSYmInJhZGlvIiE9PWk/ImJ1dHRvbiI6ImNoZWNrYm94cmFkaW8iLGk9bi5kYXRhKHRoaXMsInVpLSIrcik7aT8oaS5vcHRpb24odHx8e30pLGkuX2luaXQmJmkuX2luaXQoKSk6ImJ1dHRvbiIhPXI/bih0aGlzKS5jaGVja2JveHJhZGlvKG4uZXh0ZW5kKHtpY29uOiExfSx0KSk6dmkuY2FsbChuKHRoaXMpLHQpfSkpLGl9KSxuLmZuLmJ1dHRvbnNldD1mdW5jdGlvbigpe3JldHVybiBuLnVpLmNvbnRyb2xncm91cHx8bi5lcnJvcigiQ29udHJvbGdyb3VwIHdpZGdldCBtaXNzaW5nIiksIm9wdGlvbiI9PT1hcmd1bWVudHNbMF0mJiJpdGVtcyI9PT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1syXT90aGlzLmNvbnRyb2xncm91cC5hcHBseSh0aGlzLFthcmd1bWVudHNbMF0sIml0ZW1zLmJ1dHRvbiIsYXJndW1lbnRzWzJdXSk6Im9wdGlvbiI9PT1hcmd1bWVudHNbMF0mJiJpdGVtcyI9PT1hcmd1bWVudHNbMV0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iXSk6KCJvYmplY3QiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0uaXRlbXMmJihhcmd1bWVudHNbMF0uaXRlbXM9e2J1dHRvbjphcmd1bWVudHNbMF0uaXRlbXN9KSx0aGlzLmNvbnRyb2xncm91cC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSk7bi51aS5idXR0b247bi5leHRlbmQobi51aSx7ZGF0ZXBpY2tlcjp7dmVyc2lvbjoiMS4xMy4yIn19KTtuLmV4dGVuZCh5aS5wcm90b3R5cGUse21hcmtlckNsYXNzTmFtZToiaGFzRGF0ZXBpY2tlciIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe3JldHVybiBiKHRoaXMuX2RlZmF1bHRzLG58fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByLHU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGY9ImRpdiI9PT11fHwic3BhbiI9PT11O3QuaWR8fCh0aGlzLnV1aWQrPTEsdC5pZD0iZHAiK3RoaXMudXVpZCk7KHI9dGhpcy5fbmV3SW5zdChuKHQpLGYpKS5zZXR0aW5ncz1uLmV4dGVuZCh7fSxpfHx7fSk7ImlucHV0Ij09PXU/dGhpcy5fY29ubmVjdERhdGVwaWNrZXIodCxyKTpmJiZ0aGlzLl9pbmxpbmVEYXRlcGlja2VyKHQscil9LF9uZXdJbnN0OmZ1bmN0aW9uKHQsaSl7cmV0dXJue2lkOnRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIiksaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTppLGRwRGl2Omk/cGkobigiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48XC9kaXY+IikpOnRoaXMuZHBEaXZ9fSxfY29ubmVjdERhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHQpO2kuYXBwZW5kPW4oW10pO2kudHJpZ2dlcj1uKFtdKTtyLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKXx8KHRoaXMuX2F0dGFjaG1lbnRzKHIsaSksci5hZGRDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub24oImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikub24oImtleXByZXNzIix0aGlzLl9kb0tleVByZXNzKS5vbigia2V5dXAiLHRoaXMuX2RvS2V5VXApLHRoaXMuX2F1dG9TaXplKGkpLG4uZGF0YSh0LCJkYXRlcGlja2VyIixpKSxpLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KSl9LF9hdHRhY2htZW50czpmdW5jdGlvbih0LGkpe3ZhciByLHU9dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxmPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKTt1JiYoaS5hcHBlbmQ9bigiPHNwYW4+IikuYWRkQ2xhc3ModGhpcy5fYXBwZW5kQ2xhc3MpLnRleHQodSksdFtmPyJiZWZvcmUiOiJhZnRlciJdKGkuYXBwZW5kKSk7dC5vZmYoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcik7aS50cmlnZ2VyJiZpLnRyaWdnZXIucmVtb3ZlKCk7ImZvY3VzIiE9PShyPXRoaXMuX2dldChpLCJzaG93T24iKSkmJiJib3RoIiE9PXJ8fHQub24oImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcik7ImJ1dHRvbiIhPT1yJiYiYm90aCIhPT1yfHwodT10aGlzLl9nZXQoaSwiYnV0dG9uVGV4dCIpLHI9dGhpcy5fZ2V0KGksImJ1dHRvbkltYWdlIiksdGhpcy5fZ2V0KGksImJ1dHRvbkltYWdlT25seSIpP2kudHJpZ2dlcj1uKCI8aW1nPiIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuYXR0cih7c3JjOnIsYWx0OnUsdGl0bGU6dX0pOihpLnRyaWdnZXI9bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPiIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykscj9pLnRyaWdnZXIuaHRtbChuKCI8aW1nPiIpLmF0dHIoe3NyYzpyLGFsdDp1LHRpdGxlOnV9KSk6aS50cmlnZ2VyLnRleHQodSkpLHRbZj8iYmVmb3JlIjoiYWZ0ZXIiXShpLnRyaWdnZXIpLGkudHJpZ2dlci5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dFswXT9uLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6KG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dFswXSYmbi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLG4uZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodFswXSkpLCExfSkpfSxfYXV0b1NpemU6ZnVuY3Rpb24obil7dmFyIHIsdSxmLHQsaSxlO3RoaXMuX2dldChuLCJhdXRvU2l6ZSIpJiYhbi5pbmxpbmUmJihpPW5ldyBEYXRlKDIwMDksMTEsMjApLChlPXRoaXMuX2dldChuLCJkYXRlRm9ybWF0IikpLm1hdGNoKC9bRE1dLykmJihyPWZ1bmN0aW9uKG4pe2Zvcih0PWY9dT0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0ubGVuZ3RoPnUmJih1PW5bdF0ubGVuZ3RoLGY9dCk7cmV0dXJuIGZ9LGkuc2V0TW9udGgocih0aGlzLl9nZXQobixlLm1hdGNoKC9NTS8pPyJtb250aE5hbWVzIjoibW9udGhOYW1lc1Nob3J0IikpKSxpLnNldERhdGUocih0aGlzLl9nZXQobixlLm1hdGNoKC9ERC8pPyJkYXlOYW1lcyI6ImRheU5hbWVzU2hvcnQiKSkrMjAtaS5nZXREYXkoKSkpLG4uaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShuLGkpLmxlbmd0aCkpfSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7ci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLHRoaXMuX3NldERhdGUoaSx0aGlzLl9nZXREZWZhdWx0RGF0ZShpKSwhMCksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSksaS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCksaS5kcERpdi5jc3MoImRpc3BsYXkiLCJibG9jayIpKX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24odCxpLHIsdSxmKXt2YXIgbyxlPXRoaXMuX2RpYWxvZ0luc3Q7cmV0dXJuIGV8fCh0aGlzLnV1aWQrPTEsbz0iZHAiK3RoaXMudXVpZCx0aGlzLl9kaWFsb2dJbnB1dD1uKCI8aW5wdXQgdHlwZT0ndGV4dCcgaWQ9JyIrbysiJyBzdHlsZT0ncG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsnLz4iKSx0aGlzLl9kaWFsb2dJbnB1dC5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKSxuKCJib2R5IikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KSwoZT10aGlzLl9kaWFsb2dJbnN0PXRoaXMuX25ld0luc3QodGhpcy5fZGlhbG9nSW5wdXQsITEpKS5zZXR0aW5ncz17fSxuLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sImRhdGVwaWNrZXIiLGUpKSxiKGUuc2V0dGluZ3MsdXx8e30pLGk9aSYmaS5jb25zdHJ1Y3Rvcj09PURhdGU/dGhpcy5fZm9ybWF0RGF0ZShlLGkpOmksdGhpcy5fZGlhbG9nSW5wdXQudmFsKGkpLHRoaXMuX3Bvcz1mP2YubGVuZ3RoP2Y6W2YucGFnZVgsZi5wYWdlWV06bnVsbCx0aGlzLl9wb3N8fChvPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx1PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsaT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LGY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsdGhpcy5fcG9zPVtvLzItMTAwK2ksdS8yLTE1MCtmXSksdGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKSxlLnNldHRpbmdzLm9uU2VsZWN0PXIsdGhpcy5faW5EaWFsb2c9ITAsdGhpcy5kcERpdi5hZGRDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcyksdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pLG4uYmxvY2tVSSYmbi5ibG9ja1VJKHRoaXMuZHBEaXYpLG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsZSksdGhpc30sX2Rlc3Ryb3lEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBpLHI9bih0KSx1PW4uZGF0YSh0LCJkYXRlcGlja2VyIik7ci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxuLnJlbW92ZURhdGEodCwiZGF0ZXBpY2tlciIpLCJpbnB1dCI9PT1pPyh1LmFwcGVuZC5yZW1vdmUoKSx1LnRyaWdnZXIucmVtb3ZlKCksci5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLm9mZigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vZmYoImtleXByZXNzIix0aGlzLl9kb0tleVByZXNzKS5vZmYoImtleXVwIix0aGlzLl9kb0tleVVwKSk6ImRpdiIhPT1pJiYic3BhbiIhPT1pfHxyLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpLGU9PT11JiYoZT1udWxsLHRoaXMuX2N1ckluc3Q9bnVsbCkpfSxfZW5hYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgcixpPW4odCksdT1uLmRhdGEodCwiZGF0ZXBpY2tlciIpO2kuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoImlucHV0Ij09PShyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/KHQuZGlzYWJsZWQ9ITEsdS50cmlnZ2VyLmZpbHRlcigiYnV0dG9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITF9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMS4wIixjdXJzb3I6IiJ9KSk6ImRpdiIhPT1yJiYic3BhbiIhPT1yfHwoKGk9aS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLGkuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIiKS5wcm9wKCJkaXNhYmxlZCIsITEpKSx0aGlzLl9kaXNhYmxlZElucHV0cz1uLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/bnVsbDpufSkpfSxfZGlzYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIHIsaT1uKHQpLHU9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTtpLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKCJpbnB1dCI9PT0ocj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpPyh0LmRpc2FibGVkPSEwLHUudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pKToiZGl2IiE9PXImJiJzcGFuIiE9PXJ8fCgoaT1pLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykpLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiksaS5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMCkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPW4ubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD9udWxsOm59KSx0aGlzLl9kaXNhYmxlZElucHV0c1t0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGhdPXQpfSxfaXNEaXNhYmxlZERhdGVwaWNrZXI6ZnVuY3Rpb24obil7aWYoIW4pcmV0dXJuITE7Zm9yKHZhciB0PTA7dDx0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg7dCsrKWlmKHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RdPT09bilyZXR1cm4hMDtyZXR1cm4hMX0sX2dldEluc3Q6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuLmRhdGEodCwiZGF0ZXBpY2tlciIpfWNhdGNoKHQpe3Rocm93Ik1pc3NpbmcgaW5zdGFuY2UgZGF0YSBmb3IgdGhpcyBkYXRlcGlja2VyIjt9fSxfb3B0aW9uRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkscil7dmFyIGYsZSx1PXRoaXMuX2dldEluc3QodCk7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2YgaSlyZXR1cm4iZGVmYXVsdHMiPT09aT9uLmV4dGVuZCh7fSxuLmRhdGVwaWNrZXIuX2RlZmF1bHRzKTp1PyJhbGwiPT09aT9uLmV4dGVuZCh7fSx1LnNldHRpbmdzKTp0aGlzLl9nZXQodSxpKTpudWxsO2Y9aXx8e307InN0cmluZyI9PXR5cGVvZiBpJiYoKGY9e30pW2ldPXIpO3UmJih0aGlzLl9jdXJJbnN0PT09dSYmdGhpcy5faGlkZURhdGVwaWNrZXIoKSxlPXRoaXMuX2dldERhdGVEYXRlcGlja2VyKHQsITApLGk9dGhpcy5fZ2V0TWluTWF4RGF0ZSh1LCJtaW4iKSxyPXRoaXMuX2dldE1pbk1heERhdGUodSwibWF4IiksYih1LnNldHRpbmdzLGYpLG51bGwhPT1pJiZ2b2lkIDAhPT1mLmRhdGVGb3JtYXQmJnZvaWQgMD09PWYubWluRGF0ZSYmKHUuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKHUsaSkpLG51bGwhPT1yJiZ2b2lkIDAhPT1mLmRhdGVGb3JtYXQmJnZvaWQgMD09PWYubWF4RGF0ZSYmKHUuc2V0dGluZ3MubWF4RGF0ZT10aGlzLl9mb3JtYXREYXRlKHUscikpLCJkaXNhYmxlZCJpbiBmJiYoZi5kaXNhYmxlZD90aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KTp0aGlzLl9lbmFibGVEYXRlcGlja2VyKHQpKSx0aGlzLl9hdHRhY2htZW50cyhuKHQpLHUpLHRoaXMuX2F1dG9TaXplKHUpLHRoaXMuX3NldERhdGUodSxlKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUodSksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih1KSl9LF9jaGFuZ2VEYXRlcGlja2VyOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLl9vcHRpb25EYXRlcGlja2VyKG4sdCxpKX0sX3JlZnJlc2hEYXRlcGlja2VyOmZ1bmN0aW9uKG4pe249dGhpcy5fZ2V0SW5zdChuKTtuJiZ0aGlzLl91cGRhdGVEYXRlcGlja2VyKG4pfSxfc2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24obix0KXtuPXRoaXMuX2dldEluc3Qobik7biYmKHRoaXMuX3NldERhdGUobix0KSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKG4pLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShuKSl9LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3JldHVybiBuPXRoaXMuX2dldEluc3QobiksbiYmIW4uaW5saW5lJiZ0aGlzLl9zZXREYXRlRnJvbUZpZWxkKG4sdCksbj90aGlzLl9nZXREYXRlKG4pOm51bGx9LF9kb0tleURvd246ZnVuY3Rpb24odCl7dmFyIGYsdSxpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCkscj0hMCxlPWkuZHBEaXYuaXMoIi51aS1kYXRlcGlja2VyLXJ0bCIpO2lmKGkuX2tleUV2ZW50PSEwLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5Om4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyPSExO2JyZWFrO2Nhc2UgMTM6cmV0dXJuKHU9bigidGQuIituLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIituLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsaS5kcERpdikpWzBdJiZuLmRhdGVwaWNrZXIuX3NlbGVjdERheSh0LnRhcmdldCxpLnNlbGVjdGVkTW9udGgsaS5zZWxlY3RlZFllYXIsdVswXSksKGY9bi5kYXRlcGlja2VyLl9nZXQoaSwib25TZWxlY3QiKSk/KHU9bi5kYXRlcGlja2VyLl9mb3JtYXREYXRlKGkpLGYuYXBwbHkoaS5pbnB1dD9pLmlucHV0WzBdOm51bGwsW3UsaV0pKTpuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksITE7Y2FzZSAyNzpuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzpuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5Py1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6LW4uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzQ6bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8rbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOituLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM1Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fY2xlYXJEYXRlKHQudGFyZ2V0KTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzY6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9nb3RvVG9kYXkodC50YXJnZXQpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzNzoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsZT8xOi0xLCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTt0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5Py1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6LW4uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzg6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LC03LCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM5Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCxlPy0xOjEsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O3Qub3JpZ2luYWxFdmVudC5hbHRLZXkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTorbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSA0MDoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsNywiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7ZGVmYXVsdDpyPSExfWVsc2UgMzY9PT10LmtleUNvZGUmJnQuY3RybEtleT9uLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRoaXMpOnI9ITE7ciYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKX0sX2RvS2V5UHJlc3M6ZnVuY3Rpb24odCl7dmFyIHIsaT1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpO2lmKG4uZGF0ZXBpY2tlci5fZ2V0KGksImNvbnN0cmFpbklucHV0IikpcmV0dXJuIHI9bi5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKG4uZGF0ZXBpY2tlci5fZ2V0KGksImRhdGVGb3JtYXQiKSksaT1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXQuY2hhckNvZGU/dC5rZXlDb2RlOnQuY2hhckNvZGUpLHQuY3RybEtleXx8dC5tZXRhS2V5fHxpPCIgInx8IXJ8fC0xPHIuaW5kZXhPZihpKX0sX2RvS2V5VXA6ZnVuY3Rpb24odCl7aWYodD1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpLHQuaW5wdXQudmFsKCkhPT10Lmxhc3RWYWwpdHJ5e24uZGF0ZXBpY2tlci5wYXJzZURhdGUobi5kYXRlcGlja2VyLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHQuaW5wdXQ/dC5pbnB1dC52YWwoKTpudWxsLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHQpKSYmKG4uZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZCh0KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZSh0KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIodCkpfWNhdGNoKHQpe31yZXR1cm4hMH0sX3Nob3dEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBmLHUscixpOyJpbnB1dCIhPT0odD10LnRhcmdldHx8dCkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKHQ9bigiaW5wdXQiLHQucGFyZW50Tm9kZSlbMF0pO24uZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIodCl8fG4uZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dHx8KGk9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQpLG4uZGF0ZXBpY2tlci5fY3VySW5zdCYmbi5kYXRlcGlja2VyLl9jdXJJbnN0IT09aSYmKG4uZGF0ZXBpY2tlci5fY3VySW5zdC5kcERpdi5zdG9wKCEwLCEwKSxpJiZuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKG4uZGF0ZXBpY2tlci5fY3VySW5zdC5pbnB1dFswXSkpLCExIT09KHU9KHI9bi5kYXRlcGlja2VyLl9nZXQoaSwiYmVmb3JlU2hvdyIpKT9yLmFwcGx5KHQsW3QsaV0pOnt9KSYmKGIoaS5zZXR0aW5ncyx1KSxpLmxhc3RWYWw9bnVsbCxuLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD10LG4uZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChpKSxuLmRhdGVwaWNrZXIuX2luRGlhbG9nJiYodC52YWx1ZT0iIiksbi5kYXRlcGlja2VyLl9wb3N8fChuLmRhdGVwaWNrZXIuX3Bvcz1uLmRhdGVwaWNrZXIuX2ZpbmRQb3ModCksbi5kYXRlcGlja2VyLl9wb3NbMV0rPXQub2Zmc2V0SGVpZ2h0KSxmPSExLG4odCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4hKGZ8PSJmaXhlZCI9PT1uKHRoaXMpLmNzcygicG9zaXRpb24iKSl9KSxyPXtsZWZ0Om4uZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpuLmRhdGVwaWNrZXIuX3Bvc1sxXX0sbi5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSkscj1uLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGkscixmKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJPyJzdGF0aWMiOmY/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6ci5sZWZ0KyJweCIsdG9wOnIudG9wKyJweCJ9KSxpLmlubGluZXx8KHU9bi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxyPW4uZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLGZ1bmN0aW9uKG4pe2Zvcih2YXIgaSx0O24ubGVuZ3RoJiZuWzBdIT09ZG9jdW1lbnQ7KXtpZigoImFic29sdXRlIj09PShpPW4uY3NzKCJwb3NpdGlvbiIpKXx8InJlbGF0aXZlIj09PWl8fCJmaXhlZCI9PT1pKSYmKHQ9cGFyc2VJbnQobi5jc3MoInpJbmRleCIpLDEwKSwhaXNOYU4odCkmJjAhPT10KSlyZXR1cm4gdDtuPW4ucGFyZW50KCl9cmV0dXJuIDB9KG4odCkpKzEpLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsbi5lZmZlY3RzJiZuLmVmZmVjdHMuZWZmZWN0W3VdP2kuZHBEaXYuc2hvdyh1LG4uZGF0ZXBpY2tlci5fZ2V0KGksInNob3dPcHRpb25zIikscik6aS5kcERpdlt1fHwic2hvdyJdKHU/cjpudWxsKSxuLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQoaSkmJmkuaW5wdXQudHJpZ2dlcigiZm9jdXMiKSxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9aSkpKX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dGhpcy5tYXhSb3dzPTQ7KGU9dCkuZHBEaXYuZW1wdHkoKS5hcHBlbmQodGhpcy5fZ2VuZXJhdGVIVE1MKHQpKTt0aGlzLl9hdHRhY2hIYW5kbGVycyh0KTt2YXIgaSxyPXRoaXMuX2dldE51bWJlck9mTW9udGhzKHQpLHU9clsxXSxmPXQuZHBEaXYuZmluZCgiLiIrdGhpcy5fZGF5T3ZlckNsYXNzKyIgYSIpLG89bi5kYXRlcGlja2VyLl9nZXQodCwib25VcGRhdGVEYXRlcGlja2VyIik7MDxmLmxlbmd0aCYmd2kuYXBwbHkoZi5nZXQoMCkpO3QuZHBEaXYucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktMiB1aS1kYXRlcGlja2VyLW11bHRpLTMgdWktZGF0ZXBpY2tlci1tdWx0aS00Iikud2lkdGgoIiIpOzE8dSYmdC5kcERpdi5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0iK3UpLmNzcygid2lkdGgiLDE3KnUrImVtIik7dC5kcERpdlsoMSE9PXJbMF18fDEhPT1yWzFdPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1tdWx0aSIpO3QuZHBEaXZbKHRoaXMuX2dldCh0LCJpc1JUTCIpPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1ydGwiKTt0PT09bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQodCkmJnQuaW5wdXQudHJpZ2dlcigiZm9jdXMiKTt0LnllYXJzaHRtbCYmKGk9dC55ZWFyc2h0bWwsc2V0VGltZW91dChmdW5jdGlvbigpe2k9PT10LnllYXJzaHRtbCYmdC55ZWFyc2h0bWwmJnQuZHBEaXYuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLmZpcnN0KCkucmVwbGFjZVdpdGgodC55ZWFyc2h0bWwpO2k9dC55ZWFyc2h0bWw9bnVsbH0sMCkpO28mJm8uYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW3RdKX0sX3Nob3VsZEZvY3VzSW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIG4uaW5wdXQmJm4uaW5wdXQuaXMoIjp2aXNpYmxlIikmJiFuLmlucHV0LmlzKCI6ZGlzYWJsZWQiKSYmIW4uaW5wdXQuaXMoIjpmb2N1cyIpfSxfY2hlY2tPZmZzZXQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXQuZHBEaXYub3V0ZXJXaWR0aCgpLGY9dC5kcERpdi5vdXRlckhlaWdodCgpLGg9dC5pbnB1dD90LmlucHV0Lm91dGVyV2lkdGgoKTowLG89dC5pbnB1dD90LmlucHV0Lm91dGVySGVpZ2h0KCk6MCxlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCsocj8wOm4oZG9jdW1lbnQpLnNjcm9sbExlZnQoKSkscz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsVG9wKCkpO3JldHVybiBpLmxlZnQtPXRoaXMuX2dldCh0LCJpc1JUTCIpP3UtaDowLGkubGVmdC09ciYmaS5sZWZ0PT09dC5pbnB1dC5vZmZzZXQoKS5sZWZ0P24oZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowLGkudG9wLT1yJiZpLnRvcD09PXQuaW5wdXQub2Zmc2V0KCkudG9wK28/bihkb2N1bWVudCkuc2Nyb2xsVG9wKCk6MCxpLmxlZnQtPU1hdGgubWluKGkubGVmdCxpLmxlZnQrdT5lJiZ1PGU/TWF0aC5hYnMoaS5sZWZ0K3UtZSk6MCksaS50b3AtPU1hdGgubWluKGkudG9wLGkudG9wK2Y+cyYmZjxzP01hdGguYWJzKGYrbyk6MCksaX0sX2ZpbmRQb3M6ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXRoaXMuX2dldEluc3QodCkscj10aGlzLl9nZXQoaSwiaXNSVEwiKTt0JiYoImhpZGRlbiI9PT10LnR5cGV8fDEhPT10Lm5vZGVUeXBlfHxuLmV4cHIucHNldWRvcy5oaWRkZW4odCkpOyl0PXRbcj8icHJldmlvdXNTaWJsaW5nIjoibmV4dFNpYmxpbmciXTtyZXR1cm5bKGk9bih0KS5vZmZzZXQoKSkubGVmdCxpLnRvcF19LF9oaWRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgcix1LGk9dGhpcy5fY3VySW5zdDshaXx8dCYmaSE9PW4uZGF0YSh0LCJkYXRlcGlja2VyIil8fHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nJiYocj10aGlzLl9nZXQoaSwic2hvd0FuaW0iKSx1PXRoaXMuX2dldChpLCJkdXJhdGlvbiIpLHQ9ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaSl9LG4uZWZmZWN0cyYmKG4uZWZmZWN0cy5lZmZlY3Rbcl18fG4uZWZmZWN0c1tyXSk/aS5kcERpdi5oaWRlKHIsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSx1LHQpOmkuZHBEaXZbInNsaWRlRG93biI9PT1yPyJzbGlkZVVwIjoiZmFkZUluIj09PXI/ImZhZGVPdXQiOiJoaWRlIl0ocj91Om51bGwsdCkscnx8dCgpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLCh0PXRoaXMuX2dldChpLCJvbkNsb3NlIikpJiZ0LmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtpLmlucHV0P2kuaW5wdXQudmFsKCk6IiIsaV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjAiLHRvcDoiLTEwMHB4In0pLG4uYmxvY2tVSSYmKG4udW5ibG9ja1VJKCksbigiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24obil7bi5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykub2ZmKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKHQpe3ZhciBpO24uZGF0ZXBpY2tlci5fY3VySW5zdCYmKGk9bih0LnRhcmdldCksdD1uLmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSksKGlbMF0uaWQ9PT1uLmRhdGVwaWNrZXIuX21haW5EaXZJZHx8MCE9PWkucGFyZW50cygiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aHx8aS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8aS5jbG9zZXN0KCIuIituLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RofHwhbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZ3x8bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJKSYmKCFpLmhhc0NsYXNzKG4uZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpfHxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9PT10KXx8bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpKX0sX2FkanVzdERhdGU6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4odCksdD10aGlzLl9nZXRJbnN0KHVbMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKHVbMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUodCxpLHIpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCkpfSxfZ290b1RvZGF5OmZ1bmN0aW9uKHQpe3ZhciByPW4odCksaT10aGlzLl9nZXRJbnN0KHJbMF0pO3RoaXMuX2dldChpLCJnb3RvQ3VycmVudCIpJiZpLmN1cnJlbnREYXk/KGkuc2VsZWN0ZWREYXk9aS5jdXJyZW50RGF5LGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD1pLmN1cnJlbnRNb250aCxpLmRyYXdZZWFyPWkuc2VsZWN0ZWRZZWFyPWkuY3VycmVudFllYXIpOih0PW5ldyBEYXRlLGkuc2VsZWN0ZWREYXk9dC5nZXREYXRlKCksaS5kcmF3TW9udGg9aS5zZWxlY3RlZE1vbnRoPXQuZ2V0TW9udGgoKSxpLmRyYXdZZWFyPWkuc2VsZWN0ZWRZZWFyPXQuZ2V0RnVsbFllYXIoKSk7dGhpcy5fbm90aWZ5Q2hhbmdlKGkpO3RoaXMuX2FkanVzdERhdGUocil9LF9zZWxlY3RNb250aFllYXI6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4odCksdD10aGlzLl9nZXRJbnN0KHVbMF0pO3RbInNlbGVjdGVkIisoIk0iPT09cj8iTW9udGgiOiJZZWFyIildPXRbImRyYXciKygiTSI9PT1yPyJNb250aCI6IlllYXIiKV09cGFyc2VJbnQoaS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWUsMTApO3RoaXMuX25vdGlmeUNoYW5nZSh0KTt0aGlzLl9hZGp1c3REYXRlKHUpfSxfc2VsZWN0RGF5OmZ1bmN0aW9uKHQsaSxyLHUpe3ZhciBmPW4odCk7bih1KS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pfHwoKGY9dGhpcy5fZ2V0SW5zdChmWzBdKSkuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PXBhcnNlSW50KG4oImEiLHUpLmF0dHIoImRhdGEtZGF0ZSIpKSxmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9aSxmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPXIsdGhpcy5fc2VsZWN0RGF0ZSh0LHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpKX0sX2NsZWFyRGF0ZTpmdW5jdGlvbih0KXt0PW4odCk7dGhpcy5fc2VsZWN0RGF0ZSh0LCIiKX0sX3NlbGVjdERhdGU6ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHQpLHQ9dGhpcy5fZ2V0SW5zdChyWzBdKTtpPW51bGwhPWk/aTp0aGlzLl9mb3JtYXREYXRlKHQpO3QuaW5wdXQmJnQuaW5wdXQudmFsKGkpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZSh0KTsocj10aGlzLl9nZXQodCwib25TZWxlY3QiKSk/ci5hcHBseSh0LmlucHV0P3QuaW5wdXRbMF06bnVsbCxbaSx0XSk6dC5pbnB1dCYmdC5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTt0LmlubGluZT90aGlzLl91cGRhdGVEYXRlcGlja2VyKHQpOih0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLHRoaXMuX2xhc3RJbnB1dD10LmlucHV0WzBdLCJvYmplY3QiIT10eXBlb2YgdC5pbnB1dFswXSYmdC5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU9dGhpcy5fZ2V0KHQsImFsdEZpZWxkIik7dSYmKGk9dGhpcy5fZ2V0KHQsImFsdEZvcm1hdCIpfHx0aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHI9dGhpcy5fZ2V0RGF0ZSh0KSx0PXRoaXMuZm9ybWF0RGF0ZShpLHIsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKSxuKGRvY3VtZW50KS5maW5kKHUpLnZhbCh0KSl9LG5vV2Vla2VuZHM6ZnVuY3Rpb24obil7cmV0dXJuIG49bi5nZXREYXkoKSxbMDxuJiZuPDYsIiJdfSxpc284NjAxV2VlazpmdW5jdGlvbihuKXt2YXIgdD1uZXcgRGF0ZShuLmdldFRpbWUoKSk7cmV0dXJuIHQuc2V0RGF0ZSh0LmdldERhdGUoKSs0LSh0LmdldERheSgpfHw3KSksbj10LmdldFRpbWUoKSx0LnNldE1vbnRoKDApLHQuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKG4tdCkvODY0ZTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbih0LGkscil7aWYobnVsbD09dHx8bnVsbD09aSl0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7aWYoIiI9PT0oaT0ib2JqZWN0Ij09dHlwZW9mIGk/aS50b1N0cmluZygpOmkrIiIpKXJldHVybiBudWxsO2Zvcih2YXIgYix2LGUsdT0wLGw9KHI/ci5zaG9ydFllYXJDdXRvZmY6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixsPSJzdHJpbmciIT10eXBlb2YgbD9sOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQobCwxMCksZD0ocj9yLmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsZz0ocj9yLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxudD0ocj9yLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LHR0PShyP3IubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxmPS0xLG89LTEscz0tMSx5PS0xLHA9ITEsYT1mdW5jdGlvbihuKXtyZXR1cm4gbj1oKzE8dC5sZW5ndGgmJnQuY2hhckF0KGgrMSk9PT1uLG4mJmgrKyxufSxjPWZ1bmN0aW9uKG4pe3ZhciB0PWEobiksdD0iQCI9PT1uPzE0OiIhIj09PW4/MjA6InkiPT09biYmdD80OiJvIj09PW4/MzoyLHQ9bmV3IFJlZ0V4cCgiXlxcZHsiKygieSI9PT1uP3Q6MSkrIiwiK3QrIn0iKSx0PWkuc3Vic3RyaW5nKHUpLm1hdGNoKHQpO2lmKCF0KXRocm93Ik1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uICIrdTtyZXR1cm4gdSs9dFswXS5sZW5ndGgscGFyc2VJbnQodFswXSwxMCl9LGs9ZnVuY3Rpb24odCxyLGYpe3ZhciBlPS0xLHI9bi5tYXAoYSh0KT9mOnIsZnVuY3Rpb24obix0KXtyZXR1cm5bW3Qsbl1dfSkuc29ydChmdW5jdGlvbihuLHQpe3JldHVybi0oblsxXS5sZW5ndGgtdFsxXS5sZW5ndGgpfSk7aWYobi5lYWNoKHIsZnVuY3Rpb24obix0KXt2YXIgcj10WzFdO2lmKGkuc3Vic3RyKHUsci5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1yLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGU9dFswXSx1Kz1yLmxlbmd0aCwhMX0pLC0xIT09ZSlyZXR1cm4gZSsxO3Rocm93IlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiAiK3U7fSx3PWZ1bmN0aW9uKCl7aWYoaS5jaGFyQXQodSkhPT10LmNoYXJBdChoKSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIit1O3UrK30saD0wO2g8dC5sZW5ndGg7aCsrKWlmKHApIiciIT09dC5jaGFyQXQoaCl8fGEoIiciKT93KCk6cD0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChoKSl7Y2FzZSJkIjpzPWMoImQiKTticmVhaztjYXNlIkQiOmsoIkQiLGQsZyk7YnJlYWs7Y2FzZSJvIjp5PWMoIm8iKTticmVhaztjYXNlIm0iOm89YygibSIpO2JyZWFrO2Nhc2UiTSI6bz1rKCJNIixudCx0dCk7YnJlYWs7Y2FzZSJ5IjpmPWMoInkiKTticmVhaztjYXNlIkAiOmY9KGU9bmV3IERhdGUoYygiQCIpKSkuZ2V0RnVsbFllYXIoKTtvPWUuZ2V0TW9udGgoKSsxO3M9ZS5nZXREYXRlKCk7YnJlYWs7Y2FzZSIhIjpmPShlPW5ldyBEYXRlKChjKCIhIiktdGhpcy5fdGlja3NUbzE5NzApLzFlNCkpLmdldEZ1bGxZZWFyKCk7bz1lLmdldE1vbnRoKCkrMTtzPWUuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiJyI6YSgiJyIpP3coKTpwPSEwO2JyZWFrO2RlZmF1bHQ6dygpfWlmKHU8aS5sZW5ndGgmJih2PWkuc3Vic3RyKHUpLCEvXlxzKy8udGVzdCh2KSkpdGhyb3ciRXh0cmEvdW5wYXJzZWQgY2hhcmFjdGVycyBmb3VuZCBpbiBkYXRlOiAiK3Y7aWYoLTE9PT1mP2Y9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpOmY8MTAwJiYoZis9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArKGY8PWw/MDotMTAwKSksLTE8eSlmb3Iobz0xLHM9eTs7KXtpZihzPD0oYj10aGlzLl9nZXREYXlzSW5Nb250aChmLG8tMSkpKWJyZWFrO28rKztzLT1ifWlmKChlPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGYsby0xLHMpKSkuZ2V0RnVsbFllYXIoKSE9PWZ8fGUuZ2V0TW9udGgoKSsxIT09b3x8ZS5nZXREYXRlKCkhPT1zKXRocm93IkludmFsaWQgZGF0ZSI7cmV0dXJuIGV9LEFUT006Inl5LW1tLWRkIixDT09LSUU6IkQsIGRkIE0geXkiLElTT184NjAxOiJ5eS1tbS1kZCIsUkZDXzgyMjoiRCwgZCBNIHkiLFJGQ184NTA6IkRELCBkZC1NLXkiLFJGQ18xMDM2OiJELCBkIE0geSIsUkZDXzExMjM6IkQsIGQgTSB5eSIsUkZDXzI4MjI6IkQsIGQgTSB5eSIsUlNTOiJELCBkIE0geSIsVElDS1M6IiEiLFRJTUVTVEFNUDoiQCIsVzNDOiJ5eS1tbS1kZCIsX3RpY2tzVG8xOTcwOjg2NGU5Kig3MTg2ODUrTWF0aC5mbG9vcig0OTIuNSktTWF0aC5mbG9vcigxOS43KStNYXRoLmZsb29yKDQuOTI1KSksZm9ybWF0RGF0ZTpmdW5jdGlvbihuLHQsaSl7ZnVuY3Rpb24gZShuLHQsaSl7dmFyIHI9IiIrdDtpZihmKG4pKWZvcig7ci5sZW5ndGg8aTspcj0iMCIrcjtyZXR1cm4gcn1mdW5jdGlvbiBzKG4sdCxpLHIpe3JldHVybihmKG4pP3I6aSlbdF19aWYoIXQpcmV0dXJuIiI7dmFyIHUsaD0oaT9pLmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsYz0oaT9pLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxsPShpP2kubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQsYT0oaT9pLm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsZj1mdW5jdGlvbih0KXtyZXR1cm4gdD11KzE8bi5sZW5ndGgmJm4uY2hhckF0KHUrMSk9PT10LHQmJnUrKyx0fSxyPSIiLG89ITE7aWYodClmb3IodT0wO3U8bi5sZW5ndGg7dSsrKWlmKG8pIiciIT09bi5jaGFyQXQodSl8fGYoIiciKT9yKz1uLmNoYXJBdCh1KTpvPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHUpKXtjYXNlImQiOnIrPWUoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6cis9cygiRCIsdC5nZXREYXkoKSxoLGMpO2JyZWFrO2Nhc2UibyI6cis9ZSgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2UibSI6cis9ZSgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpyKz1zKCJNIix0LmdldE1vbnRoKCksbCxhKTticmVhaztjYXNlInkiOnIrPWYoInkiKT90LmdldEZ1bGxZZWFyKCk6KHQuZ2V0RnVsbFllYXIoKSUxMDA8MTA/IjAiOiIiKSt0LmdldEZ1bGxZZWFyKCklMTAwO2JyZWFrO2Nhc2UiQCI6cis9dC5nZXRUaW1lKCk7YnJlYWs7Y2FzZSIhIjpyKz0xZTQqdC5nZXRUaW1lKCkrdGhpcy5fdGlja3NUbzE5NzA7YnJlYWs7Y2FzZSInIjpmKCInIik/cis9IiciOm89ITA7YnJlYWs7ZGVmYXVsdDpyKz1uLmNoYXJBdCh1KX1yZXR1cm4gcn0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24obil7Zm9yKHZhciBpPSIiLHI9ITEsdT1mdW5jdGlvbihpKXtyZXR1cm4gaT10KzE8bi5sZW5ndGgmJm4uY2hhckF0KHQrMSk9PT1pLGkmJnQrKyxpfSx0PTA7dDxuLmxlbmd0aDt0KyspaWYocikiJyIhPT1uLmNoYXJBdCh0KXx8dSgiJyIpP2krPW4uY2hhckF0KHQpOnI9ITE7ZWxzZSBzd2l0Y2gobi5jaGFyQXQodCkpe2Nhc2UiZCI6Y2FzZSJtIjpjYXNlInkiOmNhc2UiQCI6aSs9IjAxMjM0NTY3ODkiO2JyZWFrO2Nhc2UiRCI6Y2FzZSJNIjpyZXR1cm4gbnVsbDtjYXNlIiciOnUoIiciKT9pKz0iJyI6cj0hMDticmVhaztkZWZhdWx0OmkrPW4uY2hhckF0KHQpfXJldHVybiBpfSxfZ2V0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuKHZvaWQgMCE9PW4uc2V0dGluZ3NbdF0/bi5zZXR0aW5nczp0aGlzLl9kZWZhdWx0cylbdF19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKG4sdCl7aWYobi5pbnB1dC52YWwoKSE9PW4ubGFzdFZhbCl7dmFyIGY9dGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSxyPW4ubGFzdFZhbD1uLmlucHV0P24uaW5wdXQudmFsKCk6bnVsbCx1PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLGk9dSxlPXRoaXMuX2dldEZvcm1hdENvbmZpZyhuKTt0cnl7aT10aGlzLnBhcnNlRGF0ZShmLHIsZSl8fHV9Y2F0Y2gobil7cj10PyIiOnJ9bi5zZWxlY3RlZERheT1pLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9aS5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9aS5nZXRGdWxsWWVhcigpO24uY3VycmVudERheT1yP2kuZ2V0RGF0ZSgpOjA7bi5jdXJyZW50TW9udGg9cj9pLmdldE1vbnRoKCk6MDtuLmN1cnJlbnRZZWFyPXI/aS5nZXRGdWxsWWVhcigpOjA7dGhpcy5fYWRqdXN0SW5zdERhdGUobil9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHRoaXMuX2dldChuLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1LGk9bnVsbD09aXx8IiI9PT1pP3I6InN0cmluZyI9PXR5cGVvZiBpP2Z1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbi5kYXRlcGlja2VyLnBhcnNlRGF0ZShuLmRhdGVwaWNrZXIuX2dldCh0LCJkYXRlRm9ybWF0IiksaSxuLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyh0KSl9Y2F0Y2goaSl7fWZvcih2YXIgbz0oaS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eYy8pP24uZGF0ZXBpY2tlci5fZ2V0RGF0ZSh0KTpudWxsKXx8bmV3IERhdGUsZj1vLmdldEZ1bGxZZWFyKCksZT1vLmdldE1vbnRoKCkscj1vLmdldERhdGUoKSxzPS8oWytcLV0/WzAtOV0rKVxzKihkfER8d3xXfG18TXx5fFkpPy9nLHU9cy5leGVjKGkpO3U7KXtzd2l0Y2godVsyXXx8ImQiKXtjYXNlImQiOmNhc2UiRCI6cis9cGFyc2VJbnQodVsxXSwxMCk7YnJlYWs7Y2FzZSJ3IjpjYXNlIlciOnIrPTcqcGFyc2VJbnQodVsxXSwxMCk7YnJlYWs7Y2FzZSJtIjpjYXNlIk0iOmUrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpO2JyZWFrO2Nhc2UieSI6Y2FzZSJZIjpmKz1wYXJzZUludCh1WzFdLDEwKTtyPU1hdGgubWluKHIsbi5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChmLGUpKX11PXMuZXhlYyhpKX1yZXR1cm4gbmV3IERhdGUoZixlLHIpfShpKToibnVtYmVyIj09dHlwZW9mIGk/aXNOYU4oaSk/cjooZj1pLCh1PW5ldyBEYXRlKS5zZXREYXRlKHUuZ2V0RGF0ZSgpK2YpLHUpOm5ldyBEYXRlKGkuZ2V0VGltZSgpKTtyZXR1cm4oaT1pJiYiSW52YWxpZCBEYXRlIj09PWkudG9TdHJpbmcoKT9yOmkpJiYoaS5zZXRIb3VycygwKSxpLnNldE1pbnV0ZXMoMCksaS5zZXRTZWNvbmRzKDApLGkuc2V0TWlsbGlzZWNvbmRzKDApKSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChpKX0sX2RheWxpZ2h0U2F2aW5nQWRqdXN0OmZ1bmN0aW9uKG4pe3JldHVybiBuPyhuLnNldEhvdXJzKDEyPG4uZ2V0SG91cnMoKT9uLmdldEhvdXJzKCkrMjowKSxuKTpudWxsfSxfc2V0RGF0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI9IXQsdT1uLnNlbGVjdGVkTW9udGgsZj1uLnNlbGVjdGVkWWVhcix0PXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHQsbmV3IERhdGUpKTtuLnNlbGVjdGVkRGF5PW4uY3VycmVudERheT10LmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9bi5jdXJyZW50TW9udGg9dC5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9bi5jdXJyZW50WWVhcj10LmdldEZ1bGxZZWFyKCk7dT09PW4uc2VsZWN0ZWRNb250aCYmZj09PW4uc2VsZWN0ZWRZZWFyfHxpfHx0aGlzLl9ub3RpZnlDaGFuZ2Uobik7dGhpcy5fYWRqdXN0SW5zdERhdGUobik7bi5pbnB1dCYmbi5pbnB1dC52YWwocj8iIjp0aGlzLl9mb3JtYXREYXRlKG4pKX0sX2dldERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIW4uY3VycmVudFllYXJ8fG4uaW5wdXQmJiIiPT09bi5pbnB1dC52YWwoKT9udWxsOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG4uY3VycmVudFllYXIsbi5jdXJyZW50TW9udGgsbi5jdXJyZW50RGF5KSl9LF9hdHRhY2hIYW5kbGVyczpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXQodCwic3RlcE1vbnRocyIpLGk9IiMiK3QuaWQucmVwbGFjZSgvXFxcXC9nLCJcXCIpO3QuZHBEaXYuZmluZCgiW2RhdGEtaGFuZGxlcl0iKS5tYXAoZnVuY3Rpb24oKXt2YXIgdD17cHJldjpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLC1yLCJNIil9LG5leHQ6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoaSwrciwiTSIpfSxoaWRlOmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfSx0b2RheTpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fZ290b1RvZGF5KGkpfSxzZWxlY3REYXk6ZnVuY3Rpb24oKXtyZXR1cm4gbi5kYXRlcGlja2VyLl9zZWxlY3REYXkoaSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtbW9udGgiKSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEteWVhciIpLHRoaXMpLCExfSxzZWxlY3RNb250aDpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpLHRoaXMsIk0iKSwhMX0sc2VsZWN0WWVhcjpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpLHRoaXMsIlkiKSwhMX19O24odGhpcykub24odGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtZXZlbnQiKSx0W3RoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWhhbmRsZXIiKV0pfSl9LF9nZW5lcmF0ZUhUTUw6ZnVuY3Rpb24odCl7dmFyIGcsZXQsb3QsbCxzdCxndCxuaSx0aSxpaSxodCxpdCxyaSxjdCxydCxjLHksbHQscCxhdCxhLGUsdnQsdWkseXQsdyxwdCxpLHd0LGJ0LG50LGIsdXQsbz1uZXcgRGF0ZSxrdD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShvLmdldEZ1bGxZZWFyKCksby5nZXRNb250aCgpLG8uZ2V0RGF0ZSgpKSkscz10aGlzLl9nZXQodCwiaXNSVEwiKSxmaT10aGlzLl9nZXQodCwic2hvd0J1dHRvblBhbmVsIiksdHQ9dGhpcy5fZ2V0KHQsImhpZGVJZk5vUHJldk5leHQiKSxrPXRoaXMuX2dldCh0LCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0IiksaD10aGlzLl9nZXROdW1iZXJPZk1vbnRocyh0KSxyPXRoaXMuX2dldCh0LCJzaG93Q3VycmVudEF0UG9zIiksbz10aGlzLl9nZXQodCwic3RlcE1vbnRocyIpLGR0PTEhPT1oWzBdfHwxIT09aFsxXSxmdD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCh0LmN1cnJlbnREYXk/bmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpOm5ldyBEYXRlKDk5OTksOSw5KSksZD10aGlzLl9nZXRNaW5NYXhEYXRlKHQsIm1pbiIpLHY9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtYXgiKSx1PXQuZHJhd01vbnRoLXIsZj10LmRyYXdZZWFyO2lmKHU8MCYmKHUrPTEyLGYtLSksdilmb3IoZz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh2LmdldEZ1bGxZZWFyKCksdi5nZXRNb250aCgpLWhbMF0qaFsxXSsxLHYuZ2V0RGF0ZSgpKSksZz1kJiZnPGQ/ZDpnO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGYsdSwxKSk+ZzspLS11PDAmJih1PTExLGYtLSk7Zm9yKHQuZHJhd01vbnRoPXUsdC5kcmF3WWVhcj1mLHI9dGhpcy5fZ2V0KHQsInByZXZUZXh0Iikscj1rP3RoaXMuZm9ybWF0RGF0ZShyLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGYsdS1vLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOnIsZXQ9dGhpcy5fY2FuQWRqdXN0TW9udGgodCwtMSxmLHUpP24oIjxhPiIpLmF0dHIoeyJjbGFzcyI6InVpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIiwiZGF0YS1oYW5kbGVyIjoicHJldiIsImRhdGEtZXZlbnQiOiJjbGljayIsdGl0bGU6cn0pLmFwcGVuZChuKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhzPyJlIjoidyIpKS50ZXh0KHIpKVswXS5vdXRlckhUTUw6dHQ/IiI6bigiPGE+IikuYXR0cih7ImNsYXNzIjoidWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQiLHRpdGxlOnJ9KS5hcHBlbmQobigiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisocz8iZSI6InciKSkudGV4dChyKSlbMF0ub3V0ZXJIVE1MLHI9dGhpcy5fZ2V0KHQsIm5leHRUZXh0Iikscj1rP3RoaXMuZm9ybWF0RGF0ZShyLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGYsdStvLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOnIsb3Q9dGhpcy5fY2FuQWRqdXN0TW9udGgodCwxLGYsdSk/bigiPGE+IikuYXR0cih7ImNsYXNzIjoidWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwiLCJkYXRhLWhhbmRsZXIiOiJuZXh0IiwiZGF0YS1ldmVudCI6ImNsaWNrIix0aXRsZTpyfSkuYXBwZW5kKG4oIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKHM/InciOiJlIikpLnRleHQocikpWzBdLm91dGVySFRNTDp0dD8iIjpuKCI8YT4iKS5hdHRyKHsiY2xhc3MiOiJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCIsdGl0bGU6cn0pLmFwcGVuZChuKCI8c3Bhbj4iKS5hdHRyKCJjbGFzcyIsInVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisocz8idyI6ImUiKSkudGV4dChyKSlbMF0ub3V0ZXJIVE1MLG89dGhpcy5fZ2V0KHQsImN1cnJlbnRUZXh0IiksdHQ9dGhpcy5fZ2V0KHQsImdvdG9DdXJyZW50IikmJnQuY3VycmVudERheT9mdDprdCxvPWs/dGhpcy5mb3JtYXREYXRlKG8sdHQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKTpvLHI9IiIsdC5pbmxpbmV8fChyPW4oIjxidXR0b24+IikuYXR0cih7dHlwZToiYnV0dG9uIiwiY2xhc3MiOiJ1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsIiwiZGF0YS1oYW5kbGVyIjoiaGlkZSIsImRhdGEtZXZlbnQiOiJjbGljayJ9KS50ZXh0KHRoaXMuX2dldCh0LCJjbG9zZVRleHQiKSlbMF0ub3V0ZXJIVE1MKSxrPSIiLGZpJiYoaz1uKCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQnPiIpLmFwcGVuZChzP3I6IiIpLmFwcGVuZCh0aGlzLl9pc0luUmFuZ2UodCx0dCk/bigiPGJ1dHRvbj4iKS5hdHRyKHt0eXBlOiJidXR0b24iLCJjbGFzcyI6InVpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsIiwiZGF0YS1oYW5kbGVyIjoidG9kYXkiLCJkYXRhLWV2ZW50IjoiY2xpY2sifSkudGV4dChvKToiIikuYXBwZW5kKHM/IiI6cilbMF0ub3V0ZXJIVE1MKSxsPXBhcnNlSW50KHRoaXMuX2dldCh0LCJmaXJzdERheSIpLDEwKSxsPWlzTmFOKGwpPzA6bCxzdD10aGlzLl9nZXQodCwic2hvd1dlZWsiKSxndD10aGlzLl9nZXQodCwiZGF5TmFtZXMiKSxuaT10aGlzLl9nZXQodCwiZGF5TmFtZXNNaW4iKSx0aT10aGlzLl9nZXQodCwibW9udGhOYW1lcyIpLGlpPXRoaXMuX2dldCh0LCJtb250aE5hbWVzU2hvcnQiKSxodD10aGlzLl9nZXQodCwiYmVmb3JlU2hvd0RheSIpLGl0PXRoaXMuX2dldCh0LCJzaG93T3RoZXJNb250aHMiKSxyaT10aGlzLl9nZXQodCwic2VsZWN0T3RoZXJNb250aHMiKSxjdD10aGlzLl9nZXREZWZhdWx0RGF0ZSh0KSxydD0iIix5PTA7eTxoWzBdO3krKyl7Zm9yKGx0PSIiLHRoaXMubWF4Um93cz00LHA9MDtwPGhbMV07cCsrKXtpZihhdD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShmLHUsdC5zZWxlY3RlZERheSkpLGE9IiB1aS1jb3JuZXItYWxsIixlPSIiLGR0KXtpZihlKz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1ncm91cCIsMTxoWzFdKXN3aXRjaChwKXtjYXNlIDA6ZSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWZpcnN0IjthPSIgdWktY29ybmVyLSIrKHM/InJpZ2h0IjoibGVmdCIpO2JyZWFrO2Nhc2UgaFsxXS0xOmUrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0IjthPSIgdWktY29ybmVyLSIrKHM/ImxlZnQiOiJyaWdodCIpO2JyZWFrO2RlZmF1bHQ6ZSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSI7YT0iIn1lKz0iJz4ifWZvcihlKz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgiK2ErIic+IisoL2FsbHxsZWZ0Ly50ZXN0KGEpJiYwPT09eT9zP290OmV0OiIiKSsoL2FsbHxyaWdodC8udGVzdChhKSYmMD09PXk/cz9ldDpvdDoiIikrdGhpcy5fZ2VuZXJhdGVNb250aFllYXJIZWFkZXIodCx1LGYsZCx2LDA8eXx8MDxwLHRpLGlpKSsiPFwvZGl2Pjx0YWJsZSBjbGFzcz0ndWktZGF0ZXBpY2tlci1jYWxlbmRhcic+PHRoZWFkPjx0cj4iLHZ0PXN0PyI8dGggY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPiIrdGhpcy5fZ2V0KHQsIndlZWtIZWFkZXIiKSsiPFwvdGg+IjoiIixjPTA7Yzw3O2MrKyl2dCs9Ijx0aCBzY29wZT0nY29sJyIrKDU8PShjK2wrNiklNz8iIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstZW5kJyI6IiIpKyI+PHNwYW4gdGl0bGU9JyIrZ3RbdWk9KGMrbCklN10rIic+IituaVt1aV0rIjxcL3NwYW4+PFwvdGg+Ijtmb3IoZSs9dnQrIjxcL3RyPjxcL3RoZWFkPjx0Ym9keT4iLHc9dGhpcy5fZ2V0RGF5c0luTW9udGgoZix1KSxmPT09dC5zZWxlY3RlZFllYXImJnU9PT10LnNlbGVjdGVkTW9udGgmJih0LnNlbGVjdGVkRGF5PU1hdGgubWluKHQuc2VsZWN0ZWREYXksdykpLHl0PSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgoZix1KS1sKzcpJTcsdz1NYXRoLmNlaWwoKHl0K3cpLzcpLHB0PWR0JiZ0aGlzLm1heFJvd3M+dz90aGlzLm1heFJvd3M6dyx0aGlzLm1heFJvd3M9cHQsaT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShmLHUsMS15dCkpLHd0PTA7d3Q8cHQ7d3QrKyl7Zm9yKGUrPSI8dHI+IixidD1zdD8iPHRkIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz4iK3RoaXMuX2dldCh0LCJjYWxjdWxhdGVXZWVrIikoaSkrIjxcL3RkPiI6IiIsYz0wO2M8NztjKyspbnQ9aHQ/aHQuYXBwbHkodC5pbnB1dD90LmlucHV0WzBdOm51bGwsW2ldKTpbITAsIiJdLHV0PShiPWkuZ2V0TW9udGgoKSE9PXUpJiYhcml8fCFudFswXXx8ZCYmaTxkfHx2JiZ2PGksYnQrPSI8dGQgY2xhc3M9JyIrKDU8PShjK2wrNiklNz8iIHVpLWRhdGVwaWNrZXItd2Vlay1lbmQiOiIiKSsoYj8iIHVpLWRhdGVwaWNrZXItb3RoZXItbW9udGgiOiIiKSsoaS5nZXRUaW1lKCk9PT1hdC5nZXRUaW1lKCkmJnU9PT10LnNlbGVjdGVkTW9udGgmJnQuX2tleUV2ZW50fHxjdC5nZXRUaW1lKCk9PT1pLmdldFRpbWUoKSYmY3QuZ2V0VGltZSgpPT09YXQuZ2V0VGltZSgpPyIgIit0aGlzLl9kYXlPdmVyQ2xhc3M6IiIpKyh1dD8iICIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrIiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhiJiYhaXQ/IiI6IiAiK250WzFdKyhpLmdldFRpbWUoKT09PWZ0LmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoaS5nZXRUaW1lKCk9PT1rdC5nZXRUaW1lKCk/IiB1aS1kYXRlcGlja2VyLXRvZGF5IjoiIikpKyInIisoYiYmIWl0fHwhbnRbMl0/IiI6IiB0aXRsZT0nIitudFsyXS5yZXBsYWNlKC8nL2csIiYjMzk7IikrIiciKSsodXQ/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIraS5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIitpLmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKGImJiFpdD8iJiN4YTA7Ijp1dD8iPHNwYW4gY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQnPiIraS5nZXREYXRlKCkrIjxcL3NwYW4+IjoiPGEgY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQiKyhpLmdldFRpbWUoKT09PWt0LmdldFRpbWUoKT8iIHVpLXN0YXRlLWhpZ2hsaWdodCI6IiIpKyhpLmdldFRpbWUoKT09PWZ0LmdldFRpbWUoKT8iIHVpLXN0YXRlLWFjdGl2ZSI6IiIpKyhiPyIgdWktcHJpb3JpdHktc2Vjb25kYXJ5IjoiIikrIicgaHJlZj0nIycgYXJpYS1jdXJyZW50PSciKyhpLmdldFRpbWUoKT09PWZ0LmdldFRpbWUoKT8idHJ1ZSI6ImZhbHNlIikrIicgZGF0YS1kYXRlPSciK2kuZ2V0RGF0ZSgpKyInPiIraS5nZXREYXRlKCkrIjxcL2E+IikrIjxcL3RkPiIsaS5zZXREYXRlKGkuZ2V0RGF0ZSgpKzEpLGk9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoaSk7ZSs9YnQrIjxcL3RyPiJ9MTE8Kyt1JiYodT0wLGYrKyk7bHQrPWUrPSI8XC90Ym9keT48XC90YWJsZT4iKyhkdD8iPFwvZGl2PiIrKDA8aFswXSYmcD09PWhbMV0tMT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1yb3ctYnJlYWsnPjxcL2Rpdj4iOiIiKToiIil9cnQrPWx0fXJldHVybiBydCs9ayx0Ll9rZXlFdmVudD0hMSxydH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUsbyl7dmFyIGIsayxoLHYscyxhLHk9dGhpcy5fZ2V0KG4sImNoYW5nZU1vbnRoIikscD10aGlzLl9nZXQobiwiY2hhbmdlWWVhciIpLGQ9dGhpcy5fZ2V0KG4sInNob3dNb250aEFmdGVyWWVhciIpLHc9dGhpcy5fZ2V0KG4sInNlbGVjdE1vbnRoTGFiZWwiKSxnPXRoaXMuX2dldChuLCJzZWxlY3RZZWFyTGFiZWwiKSxjPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz4iLGw9IiI7aWYoZnx8IXkpbCs9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz4iK2VbdF0rIjxcL3NwYW4+IjtlbHNle2ZvcihiPXImJnIuZ2V0RnVsbFllYXIoKT09PWksaz11JiZ1LmdldEZ1bGxZZWFyKCk9PT1pLGwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBhcmlhLWxhYmVsPSciK3crIicgZGF0YS1oYW5kbGVyPSdzZWxlY3RNb250aCcgZGF0YS1ldmVudD0nY2hhbmdlJz4iLGg9MDtoPDEyO2grKykoIWJ8fGg+PXIuZ2V0TW9udGgoKSkmJigha3x8aDw9dS5nZXRNb250aCgpKSYmKGwrPSI8b3B0aW9uIHZhbHVlPSciK2grIiciKyhoPT09dD8iIHNlbGVjdGVkPSdzZWxlY3RlZCciOiIiKSsiPiIrb1toXSsiPFwvb3B0aW9uPiIpO2wrPSI8XC9zZWxlY3Q+In1pZihkfHwoYys9bCsoIWYmJnkmJnA/IiI6IiYjeGEwOyIpKSwhbi55ZWFyc2h0bWwpaWYobi55ZWFyc2h0bWw9IiIsZnx8IXApYys9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInPiIraSsiPFwvc3Bhbj4iO2Vsc2V7Zm9yKGU9dGhpcy5fZ2V0KG4sInllYXJSYW5nZSIpLnNwbGl0KCI6Iiksdj0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCkscz0odz1mdW5jdGlvbihuKXtyZXR1cm4gbj1uLm1hdGNoKC9jWytcLV0uKi8pP2krcGFyc2VJbnQobi5zdWJzdHJpbmcoMSksMTApOm4ubWF0Y2goL1srXC1dLiovKT92K3BhcnNlSW50KG4sMTApOnBhcnNlSW50KG4sMTApLGlzTmFOKG4pP3Y6bn0pKGVbMF0pLGE9TWF0aC5tYXgocyx3KGVbMV18fCIiKSkscz1yP01hdGgubWF4KHMsci5nZXRGdWxsWWVhcigpKTpzLGE9dT9NYXRoLm1pbihhLHUuZ2V0RnVsbFllYXIoKSk6YSxuLnllYXJzaHRtbCs9IjxzZWxlY3QgY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcicgYXJpYS1sYWJlbD0nIitnKyInIGRhdGEtaGFuZGxlcj0nc2VsZWN0WWVhcicgZGF0YS1ldmVudD0nY2hhbmdlJz4iO3M8PWE7cysrKW4ueWVhcnNodG1sKz0iPG9wdGlvbiB2YWx1ZT0nIitzKyInIisocz09PWk/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK3MrIjxcL29wdGlvbj4iO24ueWVhcnNodG1sKz0iPFwvc2VsZWN0PiI7Yys9bi55ZWFyc2h0bWw7bi55ZWFyc2h0bWw9bnVsbH1yZXR1cm4gYys9dGhpcy5fZ2V0KG4sInllYXJTdWZmaXgiKSxkJiYoYys9KCFmJiZ5JiZwPyIiOiImI3hhMDsiKStsKSxjKyI8XC9kaXY+In0sX2FkanVzdEluc3REYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1uLnNlbGVjdGVkWWVhcisoIlkiPT09aT90OjApLHU9bi5zZWxlY3RlZE1vbnRoKygiTSI9PT1pP3Q6MCksdD1NYXRoLm1pbihuLnNlbGVjdGVkRGF5LHRoaXMuX2dldERheXNJbk1vbnRoKHIsdSkpKygiRCI9PT1pP3Q6MCksdD10aGlzLl9yZXN0cmljdE1pbk1heChuLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdSx0KSkpO24uc2VsZWN0ZWREYXk9dC5nZXREYXRlKCk7bi5kcmF3TW9udGg9bi5zZWxlY3RlZE1vbnRoPXQuZ2V0TW9udGgoKTtuLmRyYXdZZWFyPW4uc2VsZWN0ZWRZZWFyPXQuZ2V0RnVsbFllYXIoKTsiTSIhPT1pJiYiWSIhPT1pfHx0aGlzLl9ub3RpZnlDaGFuZ2Uobil9LF9yZXN0cmljdE1pbk1heDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksbj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHQ9aSYmdDxpP2k6dDtyZXR1cm4gbiYmbjx0P246dH0sX25vdGlmeUNoYW5nZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXQobiwib25DaGFuZ2VNb250aFllYXIiKTt0JiZ0LmFwcGx5KG4uaW5wdXQ/bi5pbnB1dFswXTpudWxsLFtuLnNlbGVjdGVkWWVhcixuLnNlbGVjdGVkTW9udGgrMSxuXSl9LF9nZXROdW1iZXJPZk1vbnRoczpmdW5jdGlvbihuKXtyZXR1cm4gbj10aGlzLl9nZXQobiwibnVtYmVyT2ZNb250aHMiKSxudWxsPT1uP1sxLDFdOiJudW1iZXIiPT10eXBlb2Ygbj9bMSxuXTpufSxfZ2V0TWluTWF4RGF0ZTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9kZXRlcm1pbmVEYXRlKG4sdGhpcy5fZ2V0KG4sdCsiRGF0ZSIpLG51bGwpfSxfZ2V0RGF5c0luTW9udGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gMzItdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobix0LDMyKSkuZ2V0RGF0ZSgpfSxfZ2V0Rmlyc3REYXlPZk1vbnRoOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5ldyBEYXRlKG4sdCwxKS5nZXREYXkoKX0sX2NhbkFkanVzdE1vbnRoOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PXRoaXMuX2dldE51bWJlck9mTW9udGhzKG4pLHU9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoaSxyKyh0PDA/dDp1WzBdKnVbMV0pLDEpKTtyZXR1cm4gdDwwJiZ1LnNldERhdGUodGhpcy5fZ2V0RGF5c0luTW9udGgodS5nZXRGdWxsWWVhcigpLHUuZ2V0TW9udGgoKSkpLHRoaXMuX2lzSW5SYW5nZShuLHUpfSxfaXNJblJhbmdlOmZ1bmN0aW9uKG4sdCl7dmFyIGY9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtaW4iKSxlPXRoaXMuX2dldE1pbk1heERhdGUobiwibWF4Iikscj1udWxsLHU9bnVsbCxpPXRoaXMuX2dldChuLCJ5ZWFyUmFuZ2UiKTtyZXR1cm4gaSYmKG49aS5zcGxpdCgiOiIpLGk9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLHI9cGFyc2VJbnQoblswXSwxMCksdT1wYXJzZUludChuWzFdLDEwKSxuWzBdLm1hdGNoKC9bK1wtXS4qLykmJihyKz1pKSxuWzFdLm1hdGNoKC9bK1wtXS4qLykmJih1Kz1pKSksKCFmfHx0LmdldFRpbWUoKT49Zi5nZXRUaW1lKCkpJiYoIWV8fHQuZ2V0VGltZSgpPD1lLmdldFRpbWUoKSkmJighcnx8dC5nZXRGdWxsWWVhcigpPj1yKSYmKCF1fHx0LmdldEZ1bGxZZWFyKCk8PXUpfSxfZ2V0Rm9ybWF0Q29uZmlnOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJzaG9ydFllYXJDdXRvZmYiKTtyZXR1cm57c2hvcnRZZWFyQ3V0b2ZmOnQ9InN0cmluZyIhPXR5cGVvZiB0P3Q6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludCh0LDEwKSxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJkYXlOYW1lc1Nob3J0IiksZGF5TmFtZXM6dGhpcy5fZ2V0KG4sImRheU5hbWVzIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxtb250aE5hbWVzOnRoaXMuX2dldChuLCJtb250aE5hbWVzIil9fSxfZm9ybWF0RGF0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdHx8KG4uY3VycmVudERheT1uLnNlbGVjdGVkRGF5LG4uY3VycmVudE1vbnRoPW4uc2VsZWN0ZWRNb250aCxuLmN1cnJlbnRZZWFyPW4uc2VsZWN0ZWRZZWFyKSx0PXQ/Im9iamVjdCI9PXR5cGVvZiB0P3Q6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocixpLHQpKTp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSkpLHRoaXMuZm9ybWF0RGF0ZSh0aGlzLl9nZXQobiwiZGF0ZUZvcm1hdCIpLHQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKX19KTtuLmZuLmRhdGVwaWNrZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZHx8KG4oZG9jdW1lbnQpLm9uKCJtb3VzZWRvd24iLG4uZGF0ZXBpY2tlci5fY2hlY2tFeHRlcm5hbENsaWNrKSxuLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITApOzA9PT1uKCIjIituLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoJiZuKCJib2R5IikuYXBwZW5kKG4uZGF0ZXBpY2tlci5kcERpdik7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKCJpc0Rpc2FibGVkIj09PXR8fCJnZXREYXRlIj09PXR8fCJ3aWRnZXQiPT09dCl8fCJvcHRpb24iPT09dCYmMj09PWFyZ3VtZW50cy5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2YgYXJndW1lbnRzWzFdP24uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc1swXV0uY29uY2F0KGkpKTp0aGlzLmVhY2goZnVuY3Rpb24oKXsic3RyaW5nIj09dHlwZW9mIHQ/bi5kYXRlcGlja2VyWyJfIit0KyJEYXRlcGlja2VyIl0uYXBwbHkobi5kYXRlcGlja2VyLFt0aGlzXS5jb25jYXQoaSkpOm4uZGF0ZXBpY2tlci5fYXR0YWNoRGF0ZXBpY2tlcih0aGlzLHQpfSl9O24uZGF0ZXBpY2tlcj1uZXcgeWk7bi5kYXRlcGlja2VyLmluaXRpYWxpemVkPSExO24uZGF0ZXBpY2tlci51dWlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpO24uZGF0ZXBpY2tlci52ZXJzaW9uPSIxLjEzLjIiO24uZGF0ZXBpY2tlcjtuLnVpLmllPSEhL21zaWUgW1x3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7bD0hMTtuKGRvY3VtZW50KS5vbigibW91c2V1cCIsZnVuY3Rpb24oKXtsPSExfSk7bi53aWRnZXQoInVpLm1vdXNlIix7dmVyc2lvbjoiMS4xMy4yIixvcHRpb25zOntjYW5jZWw6ImlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCBzZWxlY3QsIG9wdGlvbiIsZGlzdGFuY2U6MSxkZWxheTowfSxfbW91c2VJbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVsZW1lbnQub24oIm1vdXNlZG93bi4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihuKXtyZXR1cm4gdC5fbW91c2VEb3duKG4pfSkub24oImNsaWNrLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGkpe2lmKCEwPT09bi5kYXRhKGkudGFyZ2V0LHQud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IikpcmV0dXJuIG4ucmVtb3ZlRGF0YShpLnRhcmdldCx0LndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpLGkuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITF9KTt0aGlzLnN0YXJ0ZWQ9ITF9LF9tb3VzZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKCIuIit0aGlzLndpZGdldE5hbWUpO3RoaXMuX21vdXNlTW92ZURlbGVnYXRlJiZ0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKX0sX21vdXNlRG93bjpmdW5jdGlvbih0KXtpZighbCl7dGhpcy5fbW91c2VNb3ZlZD0hMTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJnRoaXMuX21vdXNlVXAodCk7dGhpcy5fbW91c2VEb3duRXZlbnQ9dDt2YXIgaT10aGlzLHI9MT09PXQud2hpY2gsdT0hKCJzdHJpbmciIT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbHx8IXQudGFyZ2V0Lm5vZGVOYW1lKSYmbih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg7cmV0dXJuIHImJiF1JiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPSExIT09dGhpcy5fbW91c2VTdGFydCh0KSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1uLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmbi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGkuX21vdXNlTW92ZShuKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpLl9tb3VzZVVwKG4pfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLGw9ITApKTohMH19LF9tb3VzZU1vdmU6ZnVuY3Rpb24odCl7aWYodGhpcy5fbW91c2VNb3ZlZCl7aWYobi51aS5pZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fGRvY3VtZW50LmRvY3VtZW50TW9kZTw5KSYmIXQuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpO2lmKCF0LndoaWNoKWlmKHQub3JpZ2luYWxFdmVudC5hbHRLZXl8fHQub3JpZ2luYWxFdmVudC5jdHJsS2V5fHx0Lm9yaWdpbmFsRXZlbnQubWV0YUtleXx8dC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KXRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSEwO2Vsc2UgaWYoIXRoaXMuaWdub3JlTWlzc2luZ1doaWNoKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpfXJldHVybih0LndoaWNofHx0LmJ1dHRvbikmJih0aGlzLl9tb3VzZU1vdmVkPSEwKSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/KHRoaXMuX21vdXNlRHJhZyh0KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPSExIT09dGhpcy5fbW91c2VTdGFydCh0aGlzLl9tb3VzZURvd25FdmVudCx0KSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKHQpOnRoaXMuX21vdXNlVXAodCkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbih0KXt0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9ITEsdC50YXJnZXQ9PT10aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQmJm4uZGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIsITApLHRoaXMuX21vdXNlU3RvcCh0KSk7dGhpcy5fbW91c2VEZWxheVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlRGVsYXlUaW1lciksZGVsZXRlIHRoaXMuX21vdXNlRGVsYXlUaW1lcik7dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2g9ITE7bD0hMTt0LnByZXZlbnREZWZhdWx0KCl9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC1uLnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS1uLnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pO24udWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bi51aVt0XS5wcm90b3R5cGU7Zm9yKHUgaW4gcilmLnBsdWdpbnNbdV09Zi5wbHVnaW5zW3VdfHxbXSxmLnBsdWdpbnNbdV0ucHVzaChbaSxyW3VdXSl9LGNhbGw6ZnVuY3Rpb24obix0LGkscil7dmFyIHUsZj1uLnBsdWdpbnNbdF07aWYoZiYmKHJ8fG4uZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PW4uZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IodT0wO3U8Zi5sZW5ndGg7dSsrKW4ub3B0aW9uc1tmW3VdWzBdXSYmZlt1XVsxXS5hcHBseShuLmVsZW1lbnQsaSl9fTtuLnVpLnNhZmVCbHVyPWZ1bmN0aW9uKHQpe3QmJiJib2R5IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmbih0KS50cmlnZ2VyKCJibHVyIil9O24ud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTMuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7dGhpcy5vcHRpb25zLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKTt0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTt0aGlzLl9tb3VzZUluaXQoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiYodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpeyh0aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50KS5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpP3RoaXMuZGVzdHJveU9uQ2xlYXI9ITA6KHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnM7cmV0dXJuISh0aGlzLmhlbHBlcnx8aS5kaXNhYmxlZHx8MDxuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktcmVzaXphYmxlLWhhbmRsZSIpLmxlbmd0aCkmJih0aGlzLmhhbmRsZT10aGlzLl9nZXRIYW5kbGUodCksISF0aGlzLmhhbmRsZSYmKHRoaXMuX2JsdXJBY3RpdmVFbGVtZW50KHQpLHRoaXMuX2Jsb2NrRnJhbWVzKCEwPT09aS5pZnJhbWVGaXg/ImlmcmFtZSI6aS5pZnJhbWVGaXgpLCEwKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbih0KXt0aGlzLmlmcmFtZUJsb2Nrcz10aGlzLmRvY3VtZW50LmZpbmQodCkubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbigiPGRpdj4iKS5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKS5hcHBlbmRUbyh0LnBhcmVudCgpKS5vdXRlcldpZHRoKHQub3V0ZXJXaWR0aCgpKS5vdXRlckhlaWdodCh0Lm91dGVySGVpZ2h0KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2JsdXJBY3RpdmVFbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBpPW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSk7bih0LnRhcmdldCkuY2xvc2VzdChpKS5sZW5ndGh8fG4udWkuc2FmZUJsdXIoaSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksbi51aS5kZG1hbmFnZXImJihuLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCghMCksdGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCksdGhpcy5oYXNGaXhlZEFuY2VzdG9yPTA8dGhpcy5oZWxwZXIucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJmaXhlZCI9PT1uKHRoaXMpLmNzcygicG9zaXRpb24iKX0pLmxlbmd0aCx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuZWxlbWVudC5vZmZzZXQoKSx0aGlzLl9yZWZyZXNoT2Zmc2V0cyh0KSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQsITEpLHRoaXMub3JpZ2luYWxQYWdlWD10LnBhZ2VYLHRoaXMub3JpZ2luYWxQYWdlWT10LnBhZ2VZLGkuY3Vyc29yQXQmJnRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoaS5jdXJzb3JBdCksdGhpcy5fc2V0Q29udGFpbm1lbnQoKSwhMT09PXRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KT8odGhpcy5fY2xlYXIoKSwhMSk6KHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxuLnVpLmRkbWFuYWdlciYmIWkuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLl9tb3VzZURyYWcodCwhMCksbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWdTdGFydCh0aGlzLHQpLCEwKX0sX3JlZnJlc2hPZmZzZXRzOmZ1bmN0aW9uKG4pe3RoaXMub2Zmc2V0PXt0b3A6dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMucG9zaXRpb25BYnMubGVmdC10aGlzLm1hcmdpbnMubGVmdCxzY3JvbGw6ITEscGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9O3RoaXMub2Zmc2V0LmNsaWNrPXtsZWZ0Om4ucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6bi5wYWdlWS10aGlzLm9mZnNldC50b3B9fSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQsaSl7aWYodGhpcy5oYXNGaXhlZEFuY2VzdG9yJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKSx0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSwhaSl7aWYoaT10aGlzLl91aUhhc2goKSwhMT09PXRoaXMuX3RyaWdnZXIoImRyYWciLHQsaSkpcmV0dXJuIHRoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHQpKSwhMTt0aGlzLnBvc2l0aW9uPWkucG9zaXRpb259cmV0dXJuIHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIsbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9ITE7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJihpPW4udWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSksdGhpcy5kcm9wcGVkJiYoaT10aGlzLmRyb3BwZWQsdGhpcy5kcm9wcGVkPSExKSwiaW52YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiYhaXx8InZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJml8fCEwPT09dGhpcy5vcHRpb25zLnJldmVydHx8ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5yZXZlcnQmJnRoaXMub3B0aW9ucy5yZXZlcnQuY2FsbCh0aGlzLmVsZW1lbnQsaSk/bih0aGlzLmhlbHBlcikuYW5pbWF0ZSh0aGlzLm9yaWdpbmFsUG9zaXRpb24scGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydER1cmF0aW9uLDEwKSxmdW5jdGlvbigpeyExIT09ci5fdHJpZ2dlcigic3RvcCIsdCkmJnIuX2NsZWFyKCl9KTohMSE9PXRoaXMuX3RyaWdnZXIoInN0b3AiLHQpJiZ0aGlzLl9jbGVhcigpLCExfSxfbW91c2VVcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdW5ibG9ja0ZyYW1lcygpLG4udWkuZGRtYW5hZ2VyJiZuLnVpLmRkbWFuYWdlci5kcmFnU3RvcCh0aGlzLHQpLHRoaXMuaGFuZGxlRWxlbWVudC5pcyh0LnRhcmdldCkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLG4udWkubW91c2UucHJvdG90eXBlLl9tb3VzZVVwLmNhbGwodGhpcyx0KX0sY2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVscGVyLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIik/dGhpcy5fbW91c2VVcChuZXcgbi5FdmVudCgibW91c2V1cCIse3RhcmdldDp0aGlzLmVsZW1lbnRbMF19KSk6dGhpcy5fY2xlYXIoKSx0aGlzfSxfZ2V0SGFuZGxlOmZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLm9wdGlvbnMuaGFuZGxlfHwhIW4odC50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSkpLmxlbmd0aH0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlRWxlbWVudD10aGlzLm9wdGlvbnMuaGFuZGxlP3RoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpOnRoaXMuZWxlbWVudDt0aGlzLl9hZGRDbGFzcyh0aGlzLmhhbmRsZUVsZW1lbnQsInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucyxyPSJmdW5jdGlvbiI9PXR5cGVvZiBpLmhlbHBlcix0PXI/bihpLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW3RdKSk6ImNsb25lIj09PWkuaGVscGVyP3RoaXMuZWxlbWVudC5jbG9uZSgpLnJlbW92ZUF0dHIoImlkIik6dGhpcy5lbGVtZW50O3JldHVybiB0LnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fHQuYXBwZW5kVG8oInBhcmVudCI9PT1pLmFwcGVuZFRvP3RoaXMuZWxlbWVudFswXS5wYXJlbnROb2RlOmkuYXBwZW5kVG8pLHImJnRbMF09PT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKSx0WzBdPT09dGhpcy5lbGVtZW50WzBdfHwvKGZpeGVkfGFic29sdXRlKS8udGVzdCh0LmNzcygicG9zaXRpb24iKSl8fHQuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIiksdH0sX3NldFBvc2l0aW9uUmVsYXRpdmU6ZnVuY3Rpb24oKXsvXig/OnJ8YXxmKS8udGVzdCh0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKXx8KHRoaXMuZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKX0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24obil7InN0cmluZyI9PXR5cGVvZiBuJiYobj1uLnNwbGl0KCIgIikpOyJsZWZ0ImluKG49QXJyYXkuaXNBcnJheShuKT97bGVmdDorblswXSx0b3A6K25bMV18fDB9Om4pJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD1uLmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpOyJyaWdodCJpbiBuJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLW4ucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpOyJ0b3AiaW4gbiYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD1uLnRvcCt0aGlzLm1hcmdpbnMudG9wKTsiYm90dG9tImluIG4mJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtbi5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9pc1Jvb3ROb2RlOmZ1bmN0aW9uKG4pe3JldHVybi8oaHRtbHxib2R5KS9pLnRlc3Qobi50YWdOYW1lKXx8bj09PXRoaXMuZG9jdW1lbnRbMF19LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKSxpPXRoaXMuZG9jdW1lbnRbMF07cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09aSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLHt0b3A6KHQ9dGhpcy5faXNSb290Tm9kZSh0aGlzLm9mZnNldFBhcmVudFswXSk/e3RvcDowLGxlZnQ6MH06dCkudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb24pcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIG49dGhpcy5lbGVtZW50LnBvc2l0aW9uKCksdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwxMCl8fDAsYm90dG9tOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGYsdCxyLGk9dGhpcy5vcHRpb25zLHU9dGhpcy5kb2N1bWVudFswXTt0aGlzLnJlbGF0aXZlQ29udGFpbmVyPW51bGw7aS5jb250YWlubWVudD8id2luZG93IiE9PWkuY29udGFpbm1lbnQ/ImRvY3VtZW50IiE9PWkuY29udGFpbm1lbnQ/aS5jb250YWlubWVudC5jb25zdHJ1Y3RvciE9PUFycmF5PygicGFyZW50Ij09PWkuY29udGFpbm1lbnQmJihpLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLChyPSh0PW4oaS5jb250YWlubWVudCkpWzBdKSYmKGY9LyhzY3JvbGx8YXV0bykvLnRlc3QodC5jc3MoIm92ZXJmbG93IikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludCh0LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQodC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChmP01hdGgubWF4KHIuc2Nyb2xsV2lkdGgsci5vZmZzZXRXaWR0aCk6ci5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGY/TWF0aC5tYXgoci5zY3JvbGxIZWlnaHQsci5vZmZzZXRIZWlnaHQpOnIub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQodC5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj10KSk6dGhpcy5jb250YWlubWVudD1pLmNvbnRhaW5tZW50OnRoaXMuY29udGFpbm1lbnQ9WzAsMCxuKHUpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwobih1KS5oZWlnaHQoKXx8dS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXTp0aGlzLmNvbnRhaW5tZW50PVtuKHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsbih3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLG4od2luZG93KS5zY3JvbGxMZWZ0KCkrbih3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxuKHdpbmRvdykuc2Nyb2xsVG9wKCkrKG4od2luZG93KS5oZWlnaHQoKXx8dS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXTp0aGlzLmNvbnRhaW5tZW50PW51bGx9LF9jb252ZXJ0UG9zaXRpb25UbzpmdW5jdGlvbihuLHQpe3Q9dHx8dGhpcy5wb3NpdGlvbjt2YXIgaT0iYWJzb2x1dGUiPT09bj8xOi0xLG49dGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSk7cmV0dXJue3RvcDp0LnRvcCt0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AqaSt0aGlzLm9mZnNldC5wYXJlbnQudG9wKmktKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOm4/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSppLGxlZnQ6dC5sZWZ0K3RoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQqaSt0aGlzLm9mZnNldC5wYXJlbnQubGVmdCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6bj8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KSppfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24obix0KXt2YXIgaSxyPXRoaXMub3B0aW9ucyxlPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pLHU9bi5wYWdlWCxmPW4ucGFnZVk7cmV0dXJuIGUmJnRoaXMub2Zmc2V0LnNjcm9sbHx8KHRoaXMub2Zmc2V0LnNjcm9sbD17dG9wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLGxlZnQ6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfSksdCYmKHRoaXMuY29udGFpbm1lbnQmJihpPXRoaXMucmVsYXRpdmVDb250YWluZXI/KGk9dGhpcy5yZWxhdGl2ZUNvbnRhaW5lci5vZmZzZXQoKSxbdGhpcy5jb250YWlubWVudFswXStpLmxlZnQsdGhpcy5jb250YWlubWVudFsxXStpLnRvcCx0aGlzLmNvbnRhaW5tZW50WzJdK2kubGVmdCx0aGlzLmNvbnRhaW5tZW50WzNdK2kudG9wXSk6dGhpcy5jb250YWlubWVudCxuLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKHU9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxuLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYoZj1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJih1PWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKGY9aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxyLmdyaWQmJihuPXIuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoZi10aGlzLm9yaWdpbmFsUGFnZVkpL3IuZ3JpZFsxXSkqci5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxmPSFpfHxuLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXXx8bi10aGlzLm9mZnNldC5jbGljay50b3A+aVszXT9uOm4tdGhpcy5vZmZzZXQuY2xpY2sudG9wPj1pWzFdP24tci5ncmlkWzFdOm4rci5ncmlkWzFdLG49ci5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKCh1LXRoaXMub3JpZ2luYWxQYWdlWCkvci5ncmlkWzBdKSpyLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLHU9IWl8fG4tdGhpcy5vZmZzZXQuY2xpY2subGVmdD49aVswXXx8bi10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0/bjpuLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF0/bi1yLmdyaWRbMF06bityLmdyaWRbMF0pLCJ5Ij09PXIuYXhpcyYmKHU9dGhpcy5vcmlnaW5hbFBhZ2VYKSwieCI9PT1yLmF4aXMmJihmPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6Zi10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOmU/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6ZT8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKTt0aGlzLmhlbHBlcj1udWxsO3RoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTt0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByPXJ8fHRoaXMuX3VpSGFzaCgpLG4udWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHIsdGhpc10sITApLC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QodCkmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHIub2Zmc2V0PXRoaXMucG9zaXRpb25BYnMpLG4uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKHRoaXMsdCxpLHIpfSxwbHVnaW5zOnt9LF91aUhhc2g6ZnVuY3Rpb24oKXtyZXR1cm57aGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OnRoaXMucG9zaXRpb25BYnN9fX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY29ubmVjdFRvU29ydGFibGUiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bi5leHRlbmQoe30saSx7aXRlbTpyLmVsZW1lbnR9KTtyLnNvcnRhYmxlcz1bXTtuKHIub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc29ydGFibGUoImluc3RhbmNlIik7aSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKHIuc29ydGFibGVzLnB1c2goaSksaS5yZWZyZXNoUG9zaXRpb25zKCksaS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdSkpfSl9LHN0b3A6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5jYW5jZWxIZWxwZXJSZW1vdmFsPSExO24uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5pc092ZXI/KG4uaXNPdmVyPTAsci5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSxuLl9zdG9yZWRDU1M9e3Bvc2l0aW9uOm4ucGxhY2Vob2xkZXIuY3NzKCJwb3NpdGlvbiIpLHRvcDpuLnBsYWNlaG9sZGVyLmNzcygidG9wIiksbGVmdDpuLnBsYWNlaG9sZGVyLmNzcygibGVmdCIpfSxuLl9tb3VzZVN0b3AodCksbi5vcHRpb25zLmhlbHBlcj1uLm9wdGlvbnMuX2hlbHBlcik6KG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHUpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgZj0hMSx1PXRoaXM7dS5wb3NpdGlvbkFicz1yLnBvc2l0aW9uQWJzO3UuaGVscGVyUHJvcG9ydGlvbnM9ci5oZWxwZXJQcm9wb3J0aW9uczt1Lm9mZnNldC5jbGljaz1yLm9mZnNldC5jbGljazt1Ll9pbnRlcnNlY3RzV2l0aCh1LmNvbnRhaW5lckNhY2hlKSYmKGY9ITAsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFicyx0aGlzLmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnMsdGhpcy5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2ssZj10aGlzIT09dSYmdGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJDYWNoZSkmJm4uY29udGFpbnModS5lbGVtZW50WzBdLHRoaXMuZWxlbWVudFswXSk/ITE6Zn0pKTtmPyh1LmlzT3Zlcnx8KHUuaXNPdmVyPTEsci5fcGFyZW50PWkuaGVscGVyLnBhcmVudCgpLHUuY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8odS5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwhMCksdS5vcHRpb25zLl9oZWxwZXI9dS5vcHRpb25zLmhlbHBlcix1Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaGVscGVyWzBdfSx0LnRhcmdldD11LmN1cnJlbnRJdGVtWzBdLHUuX21vdXNlQ2FwdHVyZSh0LCEwKSx1Ll9tb3VzZVN0YXJ0KHQsITAsITApLHUub2Zmc2V0LmNsaWNrLnRvcD1yLm9mZnNldC5jbGljay50b3AsdS5vZmZzZXQuY2xpY2subGVmdD1yLm9mZnNldC5jbGljay5sZWZ0LHUub2Zmc2V0LnBhcmVudC5sZWZ0LT1yLm9mZnNldC5wYXJlbnQubGVmdC11Lm9mZnNldC5wYXJlbnQubGVmdCx1Lm9mZnNldC5wYXJlbnQudG9wLT1yLm9mZnNldC5wYXJlbnQudG9wLXUub2Zmc2V0LnBhcmVudC50b3Asci5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsdCksci5kcm9wcGVkPXUuZWxlbWVudCxuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pLHIuY3VycmVudEl0ZW09ci5lbGVtZW50LHUuZnJvbU91dHNpZGU9ciksdS5jdXJyZW50SXRlbSYmKHUuX21vdXNlRHJhZyh0KSxpLnBvc2l0aW9uPXUucG9zaXRpb24pKTp1LmlzT3ZlciYmKHUuaXNPdmVyPTAsdS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHUub3B0aW9ucy5fcmV2ZXJ0PXUub3B0aW9ucy5yZXZlcnQsdS5vcHRpb25zLnJldmVydD0hMSx1Ll90cmlnZ2VyKCJvdXQiLHQsdS5fdWlIYXNoKHUpKSx1Ll9tb3VzZVN0b3AodCwhMCksdS5vcHRpb25zLnJldmVydD11Lm9wdGlvbnMuX3JldmVydCx1Lm9wdGlvbnMuaGVscGVyPXUub3B0aW9ucy5faGVscGVyLHUucGxhY2Vob2xkZXImJnUucGxhY2Vob2xkZXIucmVtb3ZlKCksaS5oZWxwZXIuYXBwZW5kVG8oci5fcGFyZW50KSxyLl9yZWZyZXNoT2Zmc2V0cyh0KSxpLnBvc2l0aW9uPXIuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksci5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIix0KSxyLmRyb3BwZWQ9ITEsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSl9KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKCJib2R5Iikscj1yLm9wdGlvbnM7dS5jc3MoImN1cnNvciIpJiYoci5fY3Vyc29yPXUuY3NzKCJjdXJzb3IiKSk7dS5jc3MoImN1cnNvciIsci5jdXJzb3IpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXtyPXIub3B0aW9ucztyLl9jdXJzb3ImJm4oImJvZHkiKS5jc3MoImN1cnNvciIsci5fY3Vyc29yKX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsIm9wYWNpdHkiLHtzdGFydDpmdW5jdGlvbih0LGkscil7aT1uKGkuaGVscGVyKTtyPXIub3B0aW9ucztpLmNzcygib3BhY2l0eSIpJiYoci5fb3BhY2l0eT1pLmNzcygib3BhY2l0eSIpKTtpLmNzcygib3BhY2l0eSIsci5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbih0LGkscil7cj1yLm9wdGlvbnM7ci5fb3BhY2l0eSYmbihpLmhlbHBlcikuY3NzKCJvcGFjaXR5IixyLl9vcGFjaXR5KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNjcm9sbCIse3N0YXJ0OmZ1bmN0aW9uKG4sdCxpKXtpLnNjcm9sbFBhcmVudE5vdEhpZGRlbnx8KGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuPWkuaGVscGVyLnNjcm9sbFBhcmVudCghMSkpO2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdIT09aS5kb2N1bWVudFswXSYmIkhUTUwiIT09aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0udGFnTmFtZSYmKGkub3ZlcmZsb3dPZmZzZXQ9aS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnMsbz0hMSxlPXIuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLGY9ci5kb2N1bWVudFswXTtlIT09ZiYmIkhUTUwiIT09ZS50YWdOYW1lPyh1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHIub3ZlcmZsb3dPZmZzZXQudG9wK2Uub2Zmc2V0SGVpZ2h0LXQucGFnZVk8dS5zY3JvbGxTZW5zaXRpdml0eT9lLnNjcm9sbFRvcD1vPWUuc2Nyb2xsVG9wK3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWS1yLm92ZXJmbG93T2Zmc2V0LnRvcDx1LnNjcm9sbFNlbnNpdGl2aXR5JiYoZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcC11LnNjcm9sbFNwZWVkKSksdS5heGlzJiYieSI9PT11LmF4aXN8fChyLm92ZXJmbG93T2Zmc2V0LmxlZnQrZS5vZmZzZXRXaWR0aC10LnBhZ2VYPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxMZWZ0PW89ZS5zY3JvbGxMZWZ0K3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC1yLm92ZXJmbG93T2Zmc2V0LmxlZnQ8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdC11LnNjcm9sbFNwZWVkKSkpOih1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHQucGFnZVktbihmKS5zY3JvbGxUb3AoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykuaGVpZ2h0KCktKHQucGFnZVktbihmKS5zY3JvbGxUb3AoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKSt1LnNjcm9sbFNwZWVkKSkpLHUuYXhpcyYmInkiPT09dS5heGlzfHwodC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpLXUuc2Nyb2xsU3BlZWQpOm4od2luZG93KS53aWR0aCgpLSh0LnBhZ2VYLW4oZikuc2Nyb2xsTGVmdCgpKTx1LnNjcm9sbFNlbnNpdGl2aXR5JiYobz1uKGYpLnNjcm9sbExlZnQobihmKS5zY3JvbGxMZWZ0KCkrdS5zY3JvbGxTcGVlZCkpKSk7ITEhPT1vJiZuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMocix0KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNuYXAiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3Iuc25hcEVsZW1lbnRzPVtdO24odS5zbmFwLmNvbnN0cnVjdG9yIT09U3RyaW5nP3Uuc25hcC5pdGVtc3x8IjpkYXRhKHVpLWRyYWdnYWJsZSkiOnUuc25hcCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10Lm9mZnNldCgpO3RoaXMhPT1yLmVsZW1lbnRbMF0mJnIuc25hcEVsZW1lbnRzLnB1c2goe2l0ZW06dGhpcyx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDppLnRvcCxsZWZ0OmkubGVmdH0pfSl9LGRyYWc6ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgZSxvLHMsaCxjLGwsYSx2LHcsYj1yLm9wdGlvbnMsZj1iLnNuYXBUb2xlcmFuY2UseT1pLm9mZnNldC5sZWZ0LGs9eStyLmhlbHBlclByb3BvcnRpb25zLndpZHRoLHA9aS5vZmZzZXQudG9wLGQ9cCtyLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PXIuc25hcEVsZW1lbnRzLmxlbmd0aC0xOzA8PXU7dS0tKWw9KGM9ci5zbmFwRWxlbWVudHNbdV0ubGVmdC1yLm1hcmdpbnMubGVmdCkrci5zbmFwRWxlbWVudHNbdV0ud2lkdGgsdj0oYT1yLnNuYXBFbGVtZW50c1t1XS50b3Atci5tYXJnaW5zLnRvcCkrci5zbmFwRWxlbWVudHNbdV0uaGVpZ2h0LGs8Yy1mfHxsK2Y8eXx8ZDxhLWZ8fHYrZjxwfHwhbi5jb250YWlucyhyLnNuYXBFbGVtZW50c1t1XS5pdGVtLm93bmVyRG9jdW1lbnQsci5zbmFwRWxlbWVudHNbdV0uaXRlbSk/KHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwoci5lbGVtZW50LHQsbi5leHRlbmQoci5fdWlIYXNoKCkse3NuYXBJdGVtOnIuc25hcEVsZW1lbnRzW3VdLml0ZW19KSksci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmc9ITEpOigiaW5uZXIiIT09Yi5zbmFwTW9kZSYmKGU9TWF0aC5hYnMoYS1kKTw9ZixvPU1hdGguYWJzKHYtcCk8PWYscz1NYXRoLmFicyhjLWspPD1mLGg9TWF0aC5hYnMobC15KTw9ZixlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmEtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Yy1yLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Omx9KS5sZWZ0KSksdz1lfHxvfHxzfHxoLCJvdXRlciIhPT1iLnNuYXBNb2RlJiYoZT1NYXRoLmFicyhhLXApPD1mLG89TWF0aC5hYnModi1kKTw9ZixzPU1hdGguYWJzKGMteSk8PWYsaD1NYXRoLmFicyhsLWspPD1mLGUmJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6YSxsZWZ0OjB9KS50b3ApLG8mJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6di1yLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLHMmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpjfSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Omwtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpKSwhci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJihlfHxvfHxzfHxofHx3KSYmci5vcHRpb25zLnNuYXAuc25hcCYmci5vcHRpb25zLnNuYXAuc25hcC5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpLHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPWV8fG98fHN8fGh8fHcpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHUscj1yLm9wdGlvbnMscj1uLm1ha2VBcnJheShuKHIuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHBhcnNlSW50KG4odCkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChuKGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3IubGVuZ3RoJiYodT1wYXJzZUludChuKHJbMF0pLmNzcygiekluZGV4IiksMTApfHwwLG4ocikuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmNzcygiekluZGV4Iix1K3QpfSksdGhpcy5jc3MoInpJbmRleCIsdStyLmxlbmd0aCkpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe2k9bihpLmhlbHBlcik7cj1yLm9wdGlvbnM7aS5jc3MoInpJbmRleCIpJiYoci5fekluZGV4PWkuY3NzKCJ6SW5kZXgiKSk7aS5jc3MoInpJbmRleCIsci56SW5kZXgpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXtyPXIub3B0aW9ucztyLl96SW5kZXgmJm4oaS5oZWxwZXIpLmNzcygiekluZGV4IixyLl96SW5kZXgpfX0pO24udWkuZHJhZ2dhYmxlO24ud2lkZ2V0KCJ1aS5yZXNpemFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTMuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6InJlc2l6ZSIsb3B0aW9uczp7YWxzb1Jlc2l6ZTohMSxhbmltYXRlOiExLGFuaW1hdGVEdXJhdGlvbjoic2xvdyIsYW5pbWF0ZUVhc2luZzoic3dpbmciLGFzcGVjdFJhdGlvOiExLGF1dG9IaWRlOiExLGNsYXNzZXM6eyJ1aS1yZXNpemFibGUtc2UiOiJ1aS1pY29uIHVpLWljb24tZ3JpcHNtYWxsLWRpYWdvbmFsLXNlIn0sY29udGFpbm1lbnQ6ITEsZ2hvc3Q6ITEsZ3JpZDohMSxoYW5kbGVzOiJlLHMsc2UiLGhlbHBlcjohMSxtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoxMCxtaW5XaWR0aDoxMCx6SW5kZXg6OTAscmVzaXplOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9udW06ZnVuY3Rpb24obil7cmV0dXJuIHBhcnNlRmxvYXQobil8fDB9LF9pc051bWJlcjpmdW5jdGlvbihuKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChuKSl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24odCxpKXtpZigiaGlkZGVuIj09PW4odCkuY3NzKCJvdmVyZmxvdyIpKXJldHVybiExO3ZhciByPWkmJiJsZWZ0Ij09PWk/InNjcm9sbExlZnQiOiJzY3JvbGxUb3AiLGk9ITE7aWYoMDx0W3JdKXJldHVybiEwO3RyeXt0W3JdPTE7aT0wPHRbcl07dFtyXT0wfWNhdGNoKHQpe31yZXR1cm4gaX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciByLHQ9dGhpcy5vcHRpb25zLGk9dGhpczt0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlIik7bi5leHRlbmQodGhpcyx7X2FzcGVjdFJhdGlvOiEhdC5hc3BlY3RSYXRpbyxhc3BlY3RSYXRpbzp0LmFzcGVjdFJhdGlvLG9yaWdpbmFsRWxlbWVudDp0aGlzLmVsZW1lbnQsX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHM6W10sX2hlbHBlcjp0LmhlbHBlcnx8dC5naG9zdHx8dC5hbmltYXRlP3QuaGVscGVyfHwidWktcmVzaXphYmxlLWhlbHBlciI6bnVsbH0pO3RoaXMuZWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXihjYW52YXN8dGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbnxpbWcpJC9pKSYmKHRoaXMuZWxlbWVudC53cmFwKG4oIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInPjxcL2Rpdj4iKS5jc3Moe292ZXJmbG93OiJoaWRkZW4iLHBvc2l0aW9uOnRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCksdG9wOnRoaXMuZWxlbWVudC5jc3MoInRvcCIpLGxlZnQ6dGhpcy5lbGVtZW50LmNzcygibGVmdCIpfSkpLHRoaXMuZWxlbWVudD10aGlzLmVsZW1lbnQucGFyZW50KCkuZGF0YSgidWktcmVzaXphYmxlIix0aGlzLmVsZW1lbnQucmVzaXphYmxlKCJpbnN0YW5jZSIpKSx0aGlzLmVsZW1lbnRJc1dyYXBwZXI9ITAscj17bWFyZ2luVG9wOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luVG9wIiksbWFyZ2luUmlnaHQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLG1hcmdpbkJvdHRvbTp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0Iil9LHRoaXMuZWxlbWVudC5jc3MociksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW4iLDApLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZT10aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiwibm9uZSIpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMucHVzaCh0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJzdGF0aWMiLHpvb206MSxkaXNwbGF5OiJibG9jayJ9KSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHIpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpO3RoaXMuX3NldHVwSGFuZGxlcygpO3QuYXV0b0hpZGUmJm4odGhpcy5lbGVtZW50KS5vbigibW91c2VlbnRlciIsZnVuY3Rpb24oKXt0LmRpc2FibGVkfHwoaS5fcmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuc2hvdygpKX0pLm9uKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe3QuZGlzYWJsZWR8fGkucmVzaXppbmd8fChpLl9hZGRDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIiksaS5faGFuZGxlcy5oaWRlKCkpfSk7dGhpcy5fbW91c2VJbml0KCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSh0KXtuKHQpLnJlbW92ZURhdGEoInJlc2l6YWJsZSIpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZSIpLm9mZigiLnJlc2l6YWJsZSIpfXRoaXMuX21vdXNlRGVzdHJveSgpO3RoaXMuX2FkZGVkSGFuZGxlcy5yZW1vdmUoKTt2YXIgdDtyZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyJiYoaSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5lbGVtZW50LHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246dC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6dC5jc3MoInRvcCIpLGxlZnQ6dC5jc3MoImxlZnQiKX0pLmluc2VydEFmdGVyKHQpLHQucmVtb3ZlKCkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIix0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpLGkodGhpcy5vcmlnaW5hbEVsZW1lbnQpLHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtzd2l0Y2godGhpcy5fc3VwZXIobix0KSxuKXtjYXNlImhhbmRsZXMiOnRoaXMuX3JlbW92ZUhhbmRsZXMoKTt0aGlzLl9zZXR1cEhhbmRsZXMoKTticmVhaztjYXNlImFzcGVjdFJhdGlvIjp0aGlzLl9hc3BlY3RSYXRpbz0hIXR9fSxfc2V0dXBIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIGkscix1LG8sdCxmPXRoaXMub3B0aW9ucyxlPXRoaXM7aWYodGhpcy5oYW5kbGVzPWYuaGFuZGxlc3x8KG4oIi51aS1yZXNpemFibGUtaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aD97bjoiLnVpLXJlc2l6YWJsZS1uIixlOiIudWktcmVzaXphYmxlLWUiLHM6Ii51aS1yZXNpemFibGUtcyIsdzoiLnVpLXJlc2l6YWJsZS13IixzZToiLnVpLXJlc2l6YWJsZS1zZSIsc3c6Ii51aS1yZXNpemFibGUtc3ciLG5lOiIudWktcmVzaXphYmxlLW5lIixudzoiLnVpLXJlc2l6YWJsZS1udyJ9OiJlLHMsc2UiKSx0aGlzLl9oYW5kbGVzPW4oKSx0aGlzLl9hZGRlZEhhbmRsZXM9bigpLHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09PVN0cmluZylmb3IoImFsbCI9PT10aGlzLmhhbmRsZXMmJih0aGlzLmhhbmRsZXM9Im4sZSxzLHcsc2Usc3csbmUsbnciKSx1PXRoaXMuaGFuZGxlcy5zcGxpdCgiLCIpLHRoaXMuaGFuZGxlcz17fSxyPTA7cjx1Lmxlbmd0aDtyKyspbz0idWktcmVzaXphYmxlLSIrKGk9U3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwodVtyXSkpLHQ9bigiPGRpdj4iKSx0aGlzLl9hZGRDbGFzcyh0LCJ1aS1yZXNpemFibGUtaGFuZGxlICIrbyksdC5jc3Moe3pJbmRleDpmLnpJbmRleH0pLHRoaXMuaGFuZGxlc1tpXT0iLnVpLXJlc2l6YWJsZS0iK2ksdGhpcy5lbGVtZW50LmNoaWxkcmVuKHRoaXMuaGFuZGxlc1tpXSkubGVuZ3RofHwodGhpcy5lbGVtZW50LmFwcGVuZCh0KSx0aGlzLl9hZGRlZEhhbmRsZXM9dGhpcy5fYWRkZWRIYW5kbGVzLmFkZCh0KSk7dGhpcy5fcmVuZGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgaSxyLHU7Zm9yKGkgaW4gdD10fHx0aGlzLmVsZW1lbnQsdGhpcy5oYW5kbGVzKXRoaXMuaGFuZGxlc1tpXS5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmhhbmRsZXNbaV09dGhpcy5lbGVtZW50LmNoaWxkcmVuKHRoaXMuaGFuZGxlc1tpXSkuZmlyc3QoKS5zaG93KCk6KHRoaXMuaGFuZGxlc1tpXS5qcXVlcnl8fHRoaXMuaGFuZGxlc1tpXS5ub2RlVHlwZSkmJih0aGlzLmhhbmRsZXNbaV09bih0aGlzLmhhbmRsZXNbaV0pLHRoaXMuX29uKHRoaXMuaGFuZGxlc1tpXSx7bW91c2Vkb3duOmUuX21vdXNlRG93bn0pKSx0aGlzLmVsZW1lbnRJc1dyYXBwZXImJnRoaXMub3JpZ2luYWxFbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKHRleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b24pJC9pKSYmKHI9bih0aGlzLmhhbmRsZXNbaV0sdGhpcy5lbGVtZW50KSx1PS9zd3xuZXxud3xzZXxufHMvLnRlc3QoaSk/ci5vdXRlckhlaWdodCgpOnIub3V0ZXJXaWR0aCgpLHI9WyJwYWRkaW5nIiwvbmV8bnd8bi8udGVzdChpKT8iVG9wIjovc2V8c3d8cy8udGVzdChpKT8iQm90dG9tIjovXmUkLy50ZXN0KGkpPyJSaWdodCI6IkxlZnQiXS5qb2luKCIiKSx0LmNzcyhyLHUpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHRoaXMuX2hhbmRsZXM9dGhpcy5faGFuZGxlcy5hZGQodGhpcy5oYW5kbGVzW2ldKX07dGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpO3RoaXMuX2hhbmRsZXM9dGhpcy5faGFuZGxlcy5hZGQodGhpcy5lbGVtZW50LmZpbmQoIi51aS1yZXNpemFibGUtaGFuZGxlIikpO3RoaXMuX2hhbmRsZXMuZGlzYWJsZVNlbGVjdGlvbigpO3RoaXMuX2hhbmRsZXMub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtlLnJlc2l6aW5nfHwodGhpcy5jbGFzc05hbWUmJih0PXRoaXMuY2xhc3NOYW1lLm1hdGNoKC91aS1yZXNpemFibGUtKHNlfHN3fG5lfG53fG58ZXxzfHcpL2kpKSxlLmF4aXM9dCYmdFsxXT90WzFdOiJzZSIpfSk7Zi5hdXRvSGlkZSYmKHRoaXMuX2hhbmRsZXMuaGlkZSgpLHRoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSl9LF9yZW1vdmVIYW5kbGVzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkZWRIYW5kbGVzLnJlbW92ZSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT0hMTtmb3IoaSBpbiB0aGlzLmhhbmRsZXMpKChyPW4odGhpcy5oYW5kbGVzW2ldKVswXSk9PT10LnRhcmdldHx8bi5jb250YWlucyhyLHQudGFyZ2V0KSkmJih1PSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ1fSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgdSxmLHI9dGhpcy5vcHRpb25zLGk9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLHRoaXMuX3JlbmRlclByb3h5KCksdT10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpLGY9dGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcygidG9wIikpLHIuY29udGFpbm1lbnQmJih1Kz1uKHIuY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKXx8MCxmKz1uKHIuY29udGFpbm1lbnQpLnNjcm9sbFRvcCgpfHwwKSx0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKSx0aGlzLnBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMuc2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOnRoaXMuaGVscGVyLndpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLmhlaWdodCgpfTp7d2lkdGg6aS53aWR0aCgpLGhlaWdodDppLmhlaWdodCgpfSx0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOmkub3V0ZXJXaWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMuc2l6ZURpZmY9e3dpZHRoOmkub3V0ZXJXaWR0aCgpLWkud2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpLWkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDp1LHRvcDpmfSx0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZfSx0aGlzLmFzcGVjdFJhdGlvPSJudW1iZXIiPT10eXBlb2Ygci5hc3BlY3RSYXRpbz9yLmFzcGVjdFJhdGlvOnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MSxyPW4oIi51aS1yZXNpemFibGUtIit0aGlzLmF4aXMpLmNzcygiY3Vyc29yIiksbigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byI9PT1yP3RoaXMuYXhpcysiLXJlc2l6ZSI6ciksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RhcnQiLHQpLCEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLHI9dGhpcy5heGlzLHU9dC5wYWdlWC1pLmxlZnR8fDAsaT10LnBhZ2VZLWkudG9wfHwwLHI9dGhpcy5fY2hhbmdlW3JdO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLHImJihpPXIuYXBwbHkodGhpcyxbdCx1LGldKSx0aGlzLl91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyh0LnNoaWZ0S2V5KSwodGhpcy5fYXNwZWN0UmF0aW98fHQuc2hpZnRLZXkpJiYoaT10aGlzLl91cGRhdGVSYXRpbyhpLHQpKSxpPXRoaXMuX3Jlc3BlY3RTaXplKGksdCksdGhpcy5fdXBkYXRlQ2FjaGUoaSksdGhpcy5fcHJvcGFnYXRlKCJyZXNpemUiLHQpLGk9dGhpcy5fYXBwbHlDaGFuZ2VzKCksIXRoaXMuX2hlbHBlciYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCksbi5pc0VtcHR5T2JqZWN0KGkpfHwodGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSx0aGlzLl90cmlnZ2VyKCJyZXNpemUiLHQsdGhpcy51aSgpKSx0aGlzLl9hcHBseUNoYW5nZXMoKSkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3RoaXMucmVzaXppbmc9ITE7dmFyIHUscixmLGU9dGhpcy5vcHRpb25zLGk9dGhpcztyZXR1cm4gdGhpcy5faGVscGVyJiYoZj0odT0ocj10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzKS5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSkpJiZ0aGlzLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQscj11PzA6aS5zaXplRGlmZi53aWR0aCx1PXt3aWR0aDppLmhlbHBlci53aWR0aCgpLXIsaGVpZ2h0OmkuaGVscGVyLmhlaWdodCgpLWZ9LHI9cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpKyhpLnBvc2l0aW9uLmxlZnQtaS5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsLGY9cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ0b3AiKSkrKGkucG9zaXRpb24udG9wLWkub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsLGUuYW5pbWF0ZXx8dGhpcy5lbGVtZW50LmNzcyhuLmV4dGVuZCh1LHt0b3A6ZixsZWZ0OnJ9KSksaS5oZWxwZXIuaGVpZ2h0KGkuc2l6ZS5oZWlnaHQpLGkuaGVscGVyLndpZHRoKGkuc2l6ZS53aWR0aCksdGhpcy5faGVscGVyJiYhZS5hbmltYXRlJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSxuKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIiksdGhpcy5fcmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsdCksdGhpcy5faGVscGVyJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX0sX3VwZGF0ZVByZXZQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2UG9zaXRpb249e3RvcDp0aGlzLnBvc2l0aW9uLnRvcCxsZWZ0OnRoaXMucG9zaXRpb24ubGVmdH07dGhpcy5wcmV2U2l6ZT17d2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fX0sX2FwcGx5Q2hhbmdlczpmdW5jdGlvbigpe3ZhciBuPXt9O3JldHVybiB0aGlzLnBvc2l0aW9uLnRvcCE9PXRoaXMucHJldlBvc2l0aW9uLnRvcCYmKG4udG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLHRoaXMucG9zaXRpb24ubGVmdCE9PXRoaXMucHJldlBvc2l0aW9uLmxlZnQmJihuLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMuc2l6ZS53aWR0aCE9PXRoaXMucHJldlNpemUud2lkdGgmJihuLndpZHRoPXRoaXMuc2l6ZS53aWR0aCsicHgiKSx0aGlzLnNpemUuaGVpZ2h0IT09dGhpcy5wcmV2U2l6ZS5oZWlnaHQmJihuLmhlaWdodD10aGlzLnNpemUuaGVpZ2h0KyJweCIpLHRoaXMuaGVscGVyLmNzcyhuKSxufSxfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6ZnVuY3Rpb24obil7dmFyIHIsdSxpPXRoaXMub3B0aW9ucyx0PXttaW5XaWR0aDp0aGlzLl9pc051bWJlcihpLm1pbldpZHRoKT9pLm1pbldpZHRoOjAsbWF4V2lkdGg6dGhpcy5faXNOdW1iZXIoaS5tYXhXaWR0aCk/aS5tYXhXaWR0aDoxLzAsbWluSGVpZ2h0OnRoaXMuX2lzTnVtYmVyKGkubWluSGVpZ2h0KT9pLm1pbkhlaWdodDowLG1heEhlaWdodDp0aGlzLl9pc051bWJlcihpLm1heEhlaWdodCk/aS5tYXhIZWlnaHQ6MS8wfTsodGhpcy5fYXNwZWN0UmF0aW98fG4pJiYocj10Lm1pbkhlaWdodCp0aGlzLmFzcGVjdFJhdGlvLHU9dC5taW5XaWR0aC90aGlzLmFzcGVjdFJhdGlvLGk9dC5tYXhIZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxuPXQubWF4V2lkdGgvdGhpcy5hc3BlY3RSYXRpbyxyPnQubWluV2lkdGgmJih0Lm1pbldpZHRoPXIpLHU+dC5taW5IZWlnaHQmJih0Lm1pbkhlaWdodD11KSxpPHQubWF4V2lkdGgmJih0Lm1heFdpZHRoPWkpLG48dC5tYXhIZWlnaHQmJih0Lm1heEhlaWdodD1uKSk7dGhpcy5fdkJvdW5kYXJpZXM9dH0sX3VwZGF0ZUNhY2hlOmZ1bmN0aW9uKG4pe3RoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpO3RoaXMuX2lzTnVtYmVyKG4ubGVmdCkmJih0aGlzLnBvc2l0aW9uLmxlZnQ9bi5sZWZ0KTt0aGlzLl9pc051bWJlcihuLnRvcCkmJih0aGlzLnBvc2l0aW9uLnRvcD1uLnRvcCk7dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiYodGhpcy5zaXplLmhlaWdodD1uLmhlaWdodCk7dGhpcy5faXNOdW1iZXIobi53aWR0aCkmJih0aGlzLnNpemUud2lkdGg9bi53aWR0aCl9LF91cGRhdGVSYXRpbzpmdW5jdGlvbihuKXt2YXIgdD10aGlzLnBvc2l0aW9uLGk9dGhpcy5zaXplLHI9dGhpcy5heGlzO3JldHVybiB0aGlzLl9pc051bWJlcihuLmhlaWdodCk/bi53aWR0aD1uLmhlaWdodCp0aGlzLmFzcGVjdFJhdGlvOnRoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiYobi5oZWlnaHQ9bi53aWR0aC90aGlzLmFzcGVjdFJhdGlvKSwic3ciPT09ciYmKG4ubGVmdD10LmxlZnQrKGkud2lkdGgtbi53aWR0aCksbi50b3A9bnVsbCksIm53Ij09PXImJihuLnRvcD10LnRvcCsoaS5oZWlnaHQtbi5oZWlnaHQpLG4ubGVmdD10LmxlZnQrKGkud2lkdGgtbi53aWR0aCkpLG59LF9yZXNwZWN0U2l6ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl92Qm91bmRhcmllcyxpPXRoaXMuYXhpcyxyPXRoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiZ0Lm1heFdpZHRoJiZ0Lm1heFdpZHRoPG4ud2lkdGgsdT10aGlzLl9pc051bWJlcihuLmhlaWdodCkmJnQubWF4SGVpZ2h0JiZ0Lm1heEhlaWdodDxuLmhlaWdodCxmPXRoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiZ0Lm1pbldpZHRoJiZ0Lm1pbldpZHRoPm4ud2lkdGgsZT10aGlzLl9pc051bWJlcihuLmhlaWdodCkmJnQubWluSGVpZ2h0JiZ0Lm1pbkhlaWdodD5uLmhlaWdodCxvPXRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0K3RoaXMub3JpZ2luYWxTaXplLndpZHRoLHM9dGhpcy5vcmlnaW5hbFBvc2l0aW9uLnRvcCt0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQsaD0vc3d8bnd8dy8udGVzdChpKSxpPS9ud3xuZXxuLy50ZXN0KGkpO3JldHVybiBmJiYobi53aWR0aD10Lm1pbldpZHRoKSxlJiYobi5oZWlnaHQ9dC5taW5IZWlnaHQpLHImJihuLndpZHRoPXQubWF4V2lkdGgpLHUmJihuLmhlaWdodD10Lm1heEhlaWdodCksZiYmaCYmKG4ubGVmdD1vLXQubWluV2lkdGgpLHImJmgmJihuLmxlZnQ9by10Lm1heFdpZHRoKSxlJiZpJiYobi50b3A9cy10Lm1pbkhlaWdodCksdSYmaSYmKG4udG9wPXMtdC5tYXhIZWlnaHQpLG4ud2lkdGh8fG4uaGVpZ2h0fHxuLmxlZnR8fCFuLnRvcD9uLndpZHRofHxuLmhlaWdodHx8bi50b3B8fCFuLmxlZnR8fChuLmxlZnQ9bnVsbCk6bi50b3A9bnVsbCxufSxfZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wLGk9W10scj1bbi5jc3MoImJvcmRlclRvcFdpZHRoIiksbi5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSxuLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSxuLmNzcygiYm9yZGVyTGVmdFdpZHRoIildLHU9W24uY3NzKCJwYWRkaW5nVG9wIiksbi5jc3MoInBhZGRpbmdSaWdodCIpLG4uY3NzKCJwYWRkaW5nQm90dG9tIiksbi5jc3MoInBhZGRpbmdMZWZ0IildO3Q8NDt0KyspaVt0XT1wYXJzZUZsb2F0KHJbdF0pfHwwLGlbdF0rPXBhcnNlRmxvYXQodVt0XSl8fDA7cmV0dXJue2hlaWdodDppWzBdK2lbMl0sd2lkdGg6aVsxXStpWzNdfX0sX3Byb3BvcnRpb25hbGx5UmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpZm9yKHZhciBuLHQ9MCxpPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQ7dDx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aDt0Kyspbj10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW3RdLHRoaXMub3V0ZXJEaW1lbnNpb25zfHwodGhpcy5vdXRlckRpbWVuc2lvbnM9dGhpcy5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKG4pKSxuLmNzcyh7aGVpZ2h0OmkuaGVpZ2h0KCktdGhpcy5vdXRlckRpbWVuc2lvbnMuaGVpZ2h0fHwwLHdpZHRoOmkud2lkdGgoKS10aGlzLm91dGVyRGltZW5zaW9ucy53aWR0aHx8MH0pfSxfcmVuZGVyUHJveHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQsaT10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50T2Zmc2V0PXQub2Zmc2V0KCk7dGhpcy5faGVscGVyPyh0aGlzLmhlbHBlcj10aGlzLmhlbHBlcnx8bigiPGRpdj48XC9kaXY+IikuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIn0pLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLHRoaXMuX2hlbHBlciksdGhpcy5oZWxwZXIuY3NzKHt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSxwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6dGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQrInB4Iix0b3A6dGhpcy5lbGVtZW50T2Zmc2V0LnRvcCsicHgiLHpJbmRleDorK2kuekluZGV4fSksdGhpcy5oZWxwZXIuYXBwZW5kVG8oImJvZHkiKS5kaXNhYmxlU2VsZWN0aW9uKCkpOnRoaXMuaGVscGVyPXRoaXMuZWxlbWVudH0sX2NoYW5nZTp7ZTpmdW5jdGlvbihuLHQpe3JldHVybnt3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCt0fX0sdzpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMub3JpZ2luYWxTaXplO3JldHVybntsZWZ0OnRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0K3Qsd2lkdGg6aS53aWR0aC10fX0sbjpmdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcy5vcmlnaW5hbFNpemU7cmV0dXJue3RvcDp0aGlzLm9yaWdpbmFsUG9zaXRpb24udG9wK2ksaGVpZ2h0OnIuaGVpZ2h0LWl9fSxzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCtpfX0sc2U6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbdCxpLHJdKSl9LHN3OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxuZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGkscl0pKX0sbnc6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHJdKSl9fSxfcHJvcGFnYXRlOmZ1bmN0aW9uKHQsaSl7bi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2ksdGhpcy51aSgpXSk7InJlc2l6ZSIhPT10JiZ0aGlzLl90cmlnZ2VyKHQsaSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259fX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYW5pbWF0ZSIse3N0b3A6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksbz1pLm9wdGlvbnMscj1pLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLHU9ci5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSksZj11JiZpLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQsZT11PzA6aS5zaXplRGlmZi53aWR0aCx1PXt3aWR0aDppLnNpemUud2lkdGgtZSxoZWlnaHQ6aS5zaXplLmhlaWdodC1mfSxlPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxmPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDtpLmVsZW1lbnQuYW5pbWF0ZShuLmV4dGVuZCh1LGYmJmU/e3RvcDpmLGxlZnQ6ZX06e30pLHtkdXJhdGlvbjpvLmFuaW1hdGVEdXJhdGlvbixlYXNpbmc6by5hbmltYXRlRWFzaW5nLHN0ZXA6ZnVuY3Rpb24oKXt2YXIgdT17d2lkdGg6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ3aWR0aCIpKSxoZWlnaHQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSksdG9wOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpLGxlZnQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpfTtyJiZyLmxlbmd0aCYmbihyWzBdKS5jc3Moe3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSk7aS5fdXBkYXRlQ2FjaGUodSk7aS5fcHJvcGFnYXRlKCJyZXNpemUiLHQpfX0pfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB1LGUsdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxvPXQub3B0aW9ucyxmPXQuZWxlbWVudCxpPW8uY29udGFpbm1lbnQscj1pIGluc3RhbmNlb2Ygbj9pLmdldCgwKTovcGFyZW50Ly50ZXN0KGkpP2YucGFyZW50KCkuZ2V0KDApOmk7ciYmKHQuY29udGFpbmVyRWxlbWVudD1uKHIpLC9kb2N1bWVudC8udGVzdChpKXx8aT09PWRvY3VtZW50Pyh0LmNvbnRhaW5lck9mZnNldD17bGVmdDowLHRvcDowfSx0LmNvbnRhaW5lclBvc2l0aW9uPXtsZWZ0OjAsdG9wOjB9LHQucGFyZW50RGF0YT17ZWxlbWVudDpuKGRvY3VtZW50KSxsZWZ0OjAsdG9wOjAsd2lkdGg6bihkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6bihkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHR9KToodT1uKHIpLGU9W10sbihbIlRvcCIsIlJpZ2h0IiwiTGVmdCIsIkJvdHRvbSJdKS5lYWNoKGZ1bmN0aW9uKG4saSl7ZVtuXT10Ll9udW0odS5jc3MoInBhZGRpbmciK2kpKX0pLHQuY29udGFpbmVyT2Zmc2V0PXUub2Zmc2V0KCksdC5jb250YWluZXJQb3NpdGlvbj11LnBvc2l0aW9uKCksdC5jb250YWluZXJTaXplPXtoZWlnaHQ6dS5pbm5lckhlaWdodCgpLWVbM10sd2lkdGg6dS5pbm5lcldpZHRoKCktZVsxXX0sbz10LmNvbnRhaW5lck9mZnNldCxmPXQuY29udGFpbmVyU2l6ZS5oZWlnaHQsaT10LmNvbnRhaW5lclNpemUud2lkdGgsaT10Ll9oYXNTY3JvbGwociwibGVmdCIpP3Iuc2Nyb2xsV2lkdGg6aSxmPXQuX2hhc1Njcm9sbChyKT9yLnNjcm9sbEhlaWdodDpmLHQucGFyZW50RGF0YT17ZWxlbWVudDpyLGxlZnQ6by5sZWZ0LHRvcDpvLnRvcCx3aWR0aDppLGhlaWdodDpmfSkpfSxyZXNpemU6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksbz1pLm9wdGlvbnMscj1pLmNvbnRhaW5lck9mZnNldCx1PWkucG9zaXRpb24sZj1pLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSxlPXt0b3A6MCxsZWZ0OjB9LHM9aS5jb250YWluZXJFbGVtZW50LHQ9ITA7c1swXSE9PWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KHMuY3NzKCJwb3NpdGlvbiIpKSYmKGU9cik7dS5sZWZ0PChpLl9oZWxwZXI/ci5sZWZ0OjApJiYoaS5zaXplLndpZHRoPWkuc2l6ZS53aWR0aCsoaS5faGVscGVyP2kucG9zaXRpb24ubGVmdC1yLmxlZnQ6aS5wb3NpdGlvbi5sZWZ0LWUubGVmdCksZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdD0hMSksaS5wb3NpdGlvbi5sZWZ0PW8uaGVscGVyP3IubGVmdDowKTt1LnRvcDwoaS5faGVscGVyP3IudG9wOjApJiYoaS5zaXplLmhlaWdodD1pLnNpemUuaGVpZ2h0KyhpLl9oZWxwZXI/aS5wb3NpdGlvbi50b3Atci50b3A6aS5wb3NpdGlvbi50b3ApLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHQ9ITEpLGkucG9zaXRpb24udG9wPWkuX2hlbHBlcj9yLnRvcDowKTtvPWkuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1pLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApO3U9L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGkuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpO28mJnU/KGkub2Zmc2V0LmxlZnQ9aS5wYXJlbnREYXRhLmxlZnQraS5wb3NpdGlvbi5sZWZ0LGkub2Zmc2V0LnRvcD1pLnBhcmVudERhdGEudG9wK2kucG9zaXRpb24udG9wKTooaS5vZmZzZXQubGVmdD1pLmVsZW1lbnQub2Zmc2V0KCkubGVmdCxpLm9mZnNldC50b3A9aS5lbGVtZW50Lm9mZnNldCgpLnRvcCk7dT1NYXRoLmFicyhpLnNpemVEaWZmLndpZHRoKyhpLl9oZWxwZXI/aS5vZmZzZXQubGVmdC1lLmxlZnQ6aS5vZmZzZXQubGVmdC1yLmxlZnQpKTtyPU1hdGguYWJzKGkuc2l6ZURpZmYuaGVpZ2h0KyhpLl9oZWxwZXI/aS5vZmZzZXQudG9wLWUudG9wOmkub2Zmc2V0LnRvcC1yLnRvcCkpO3UraS5zaXplLndpZHRoPj1pLnBhcmVudERhdGEud2lkdGgmJihpLnNpemUud2lkdGg9aS5wYXJlbnREYXRhLndpZHRoLXUsZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdD0hMSkpO3IraS5zaXplLmhlaWdodD49aS5wYXJlbnREYXRhLmhlaWdodCYmKGkuc2l6ZS5oZWlnaHQ9aS5wYXJlbnREYXRhLmhlaWdodC1yLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHQ9ITEpKTt0fHwoaS5wb3NpdGlvbi5sZWZ0PWkucHJldlBvc2l0aW9uLmxlZnQsaS5wb3NpdGlvbi50b3A9aS5wcmV2UG9zaXRpb24udG9wLGkuc2l6ZS53aWR0aD1pLnByZXZTaXplLndpZHRoLGkuc2l6ZS5oZWlnaHQ9aS5wcmV2U2l6ZS5oZWlnaHQpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikscj10Lm9wdGlvbnMsdT10LmNvbnRhaW5lck9mZnNldCxmPXQuY29udGFpbmVyUG9zaXRpb24sZT10LmNvbnRhaW5lckVsZW1lbnQsaT1uKHQuaGVscGVyKSxvPWkub2Zmc2V0KCkscz1pLm91dGVyV2lkdGgoKS10LnNpemVEaWZmLndpZHRoLGk9aS5vdXRlckhlaWdodCgpLXQuc2l6ZURpZmYuaGVpZ2h0O3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KGUuY3NzKCJwb3NpdGlvbiIpKSYmbih0aGlzKS5jc3Moe2xlZnQ6by5sZWZ0LWYubGVmdC11LmxlZnQsd2lkdGg6cyxoZWlnaHQ6aX0pO3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChlLmNzcygicG9zaXRpb24iKSkmJm4odGhpcykuY3NzKHtsZWZ0Om8ubGVmdC1mLmxlZnQtdS5sZWZ0LHdpZHRoOnMsaGVpZ2h0Oml9KX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnM7bih0LmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiLHt3aWR0aDpwYXJzZUZsb2F0KHQud2lkdGgoKSksaGVpZ2h0OnBhcnNlRmxvYXQodC5oZWlnaHQoKSksbGVmdDpwYXJzZUZsb2F0KHQuY3NzKCJsZWZ0IikpLHRvcDpwYXJzZUZsb2F0KHQuY3NzKCJ0b3AiKSl9KX0pfSxyZXNpemU6ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxlPXIub3B0aW9ucyx1PXIub3JpZ2luYWxTaXplLGY9ci5vcmlnaW5hbFBvc2l0aW9uLG89e2hlaWdodDpyLnNpemUuaGVpZ2h0LXUuaGVpZ2h0fHwwLHdpZHRoOnIuc2l6ZS53aWR0aC11LndpZHRofHwwLHRvcDpyLnBvc2l0aW9uLnRvcC1mLnRvcHx8MCxsZWZ0OnIucG9zaXRpb24ubGVmdC1mLmxlZnR8fDB9O24oZS5hbHNvUmVzaXplKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSx1PW4odGhpcykuZGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiKSxyPXt9LGY9dC5wYXJlbnRzKGkub3JpZ2luYWxFbGVtZW50WzBdKS5sZW5ndGg/WyJ3aWR0aCIsImhlaWdodCJdOlsid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0Il07bi5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT0odVt0XXx8MCkrKG9bdF18fDApO2kmJjA8PWkmJihyW3RdPWl8fG51bGwpfSk7dC5jc3Mocil9KX0sc3RvcDpmdW5jdGlvbigpe24odGhpcykucmVtb3ZlRGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiKX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdob3N0Iix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxpPXQuc2l6ZTt0Lmdob3N0PXQub3JpZ2luYWxFbGVtZW50LmNsb25lKCk7dC5naG9zdC5jc3Moe29wYWNpdHk6LjI1LGRpc3BsYXk6ImJsb2NrIixwb3NpdGlvbjoicmVsYXRpdmUiLGhlaWdodDppLmhlaWdodCx3aWR0aDppLndpZHRoLG1hcmdpbjowLGxlZnQ6MCx0b3A6MH0pO3QuX2FkZENsYXNzKHQuZ2hvc3QsInVpLXJlc2l6YWJsZS1naG9zdCIpOyExIT09bi51aUJhY2tDb21wYXQmJiJzdHJpbmciPT10eXBlb2YgdC5vcHRpb25zLmdob3N0JiZ0Lmdob3N0LmFkZENsYXNzKHRoaXMub3B0aW9ucy5naG9zdCk7dC5naG9zdC5hcHBlbmRUbyh0LmhlbHBlcil9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpO3QuZ2hvc3QmJnQuZ2hvc3QuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLGhlaWdodDp0LnNpemUuaGVpZ2h0LHdpZHRoOnQuc2l6ZS53aWR0aH0pfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIik7dC5naG9zdCYmdC5oZWxwZXImJnQuaGVscGVyLmdldCgwKS5yZW1vdmVDaGlsZCh0Lmdob3N0LmdldCgwKSl9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJncmlkIix7cmVzaXplOmZ1bmN0aW9uKCl7dmFyIGgsdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxpPXQub3B0aW9ucyxjPXQuc2l6ZSxvPXQub3JpZ2luYWxTaXplLHM9dC5vcmlnaW5hbFBvc2l0aW9uLGw9dC5heGlzLGE9Im51bWJlciI9PXR5cGVvZiBpLmdyaWQ/W2kuZ3JpZCxpLmdyaWRdOmkuZ3JpZCxmPWFbMF18fDEsZT1hWzFdfHwxLHY9TWF0aC5yb3VuZCgoYy53aWR0aC1vLndpZHRoKS9mKSpmLHk9TWF0aC5yb3VuZCgoYy5oZWlnaHQtby5oZWlnaHQpL2UpKmUscj1vLndpZHRoK3YsdT1vLmhlaWdodCt5LHA9aS5tYXhXaWR0aCYmaS5tYXhXaWR0aDxyLHc9aS5tYXhIZWlnaHQmJmkubWF4SGVpZ2h0PHUsYj1pLm1pbldpZHRoJiZpLm1pbldpZHRoPnIsYz1pLm1pbkhlaWdodCYmaS5taW5IZWlnaHQ+dTtpLmdyaWQ9YTtiJiYocis9Zik7YyYmKHUrPWUpO3AmJihyLT1mKTt3JiYodS09ZSk7L14oc2V8c3xlKSQvLnRlc3QobCk/KHQuc2l6ZS53aWR0aD1yLHQuc2l6ZS5oZWlnaHQ9dSk6L14obmUpJC8udGVzdChsKT8odC5zaXplLndpZHRoPXIsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wLXkpOi9eKHN3KSQvLnRlc3QobCk/KHQuc2l6ZS53aWR0aD1yLHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0LXYpOigodS1lPD0wfHxyLWY8PTApJiYoaD10Ll9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnModGhpcykpLDA8dS1lPyh0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi50b3A9cy50b3AteSk6KHU9ZS1oLmhlaWdodCx0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi50b3A9cy50b3Arby5oZWlnaHQtdSksMDxyLWY/KHQuc2l6ZS53aWR0aD1yLHQucG9zaXRpb24ubGVmdD1zLmxlZnQtdik6KHI9Zi1oLndpZHRoLHQuc2l6ZS53aWR0aD1yLHQucG9zaXRpb24ubGVmdD1zLmxlZnQrby53aWR0aC1yKSl9fSk7bi51aS5yZXNpemFibGU7bi53aWRnZXQoInVpLmRpYWxvZyIse3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7YXBwZW5kVG86ImJvZHkiLGF1dG9PcGVuOiEwLGJ1dHRvbnM6W10sY2xhc3Nlczp7InVpLWRpYWxvZyI6InVpLWNvcm5lci1hbGwiLCJ1aS1kaWFsb2ctdGl0bGViYXIiOiJ1aS1jb3JuZXItYWxsIn0sY2xvc2VPbkVzY2FwZTohMCxjbG9zZVRleHQ6IkNsb3NlIixkcmFnZ2FibGU6ITAsaGlkZTpudWxsLGhlaWdodDoiYXV0byIsbWF4SGVpZ2h0Om51bGwsbWF4V2lkdGg6bnVsbCxtaW5IZWlnaHQ6MTUwLG1pbldpZHRoOjE1MCxtb2RhbDohMSxwb3NpdGlvbjp7bXk6ImNlbnRlciIsYXQ6ImNlbnRlciIsIm9mIjp3aW5kb3csY29sbGlzaW9uOiJmaXQiLHVzaW5nOmZ1bmN0aW9uKHQpe3ZhciBpPW4odGhpcykuY3NzKHQpLm9mZnNldCgpLnRvcDtpPDAmJm4odGhpcykuY3NzKCJ0b3AiLHQudG9wLWkpfX0scmVzaXphYmxlOiEwLHNob3c6bnVsbCx0aXRsZTpudWxsLHdpZHRoOjMwMCxiZWZvcmVDbG9zZTpudWxsLGNsb3NlOm51bGwsZHJhZzpudWxsLGRyYWdTdGFydDpudWxsLGRyYWdTdG9wOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzaXplOm51bGwscmVzaXplU3RhcnQ6bnVsbCxyZXNpemVTdG9wOm51bGx9LHNpemVSZWxhdGVkT3B0aW9uczp7YnV0dG9uczohMCxoZWlnaHQ6ITAsbWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMCx3aWR0aDohMH0scmVzaXphYmxlUmVsYXRlZE9wdGlvbnM6e21heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsQ3NzPXtkaXNwbGF5OnRoaXMuZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5LHdpZHRoOnRoaXMuZWxlbWVudFswXS5zdHlsZS53aWR0aCxtaW5IZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1pbkhlaWdodCxtYXhIZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1heEhlaWdodCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmhlaWdodH07dGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtwYXJlbnQ6dGhpcy5lbGVtZW50LnBhcmVudCgpLGluZGV4OnRoaXMuZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KHRoaXMuZWxlbWVudCl9O3RoaXMub3JpZ2luYWxUaXRsZT10aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKTtudWxsPT10aGlzLm9wdGlvbnMudGl0bGUmJm51bGwhPXRoaXMub3JpZ2luYWxUaXRsZSYmKHRoaXMub3B0aW9ucy50aXRsZT10aGlzLm9yaWdpbmFsVGl0bGUpO3RoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMSk7dGhpcy5fY3JlYXRlV3JhcHBlcigpO3RoaXMuZWxlbWVudC5zaG93KCkucmVtb3ZlQXR0cigidGl0bGUiKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKTt0aGlzLl9hZGRDbGFzcygidWktZGlhbG9nLWNvbnRlbnQiLCJ1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX2NyZWF0ZVRpdGxlYmFyKCk7dGhpcy5fY3JlYXRlQnV0dG9uUGFuZSgpO3RoaXMub3B0aW9ucy5kcmFnZ2FibGUmJm4uZm4uZHJhZ2dhYmxlJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCk7dGhpcy5vcHRpb25zLnJlc2l6YWJsZSYmbi5mbi5yZXNpemFibGUmJnRoaXMuX21ha2VSZXNpemFibGUoKTt0aGlzLl9pc09wZW49ITE7dGhpcy5fdHJhY2tGb2N1cygpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlKT9uKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0fHwiYm9keSIpLmVxKDApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3RoaXMuX3VudHJhY2tJbnN0YW5jZSgpO3RoaXMuX2Rlc3Ryb3lPdmVybGF5KCk7dGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCkuY3NzKHRoaXMub3JpZ2luYWxDc3MpLmRldGFjaCgpO3RoaXMudWlEaWFsb2cucmVtb3ZlKCk7dGhpcy5vcmlnaW5hbFRpdGxlJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMub3JpZ2luYWxUaXRsZSk7KG49dC5wYXJlbnQuY2hpbGRyZW4oKS5lcSh0LmluZGV4KSkubGVuZ3RoJiZuWzBdIT09dGhpcy5lbGVtZW50WzBdP24uYmVmb3JlKHRoaXMuZWxlbWVudCk6dC5wYXJlbnQuYXBwZW5kKHRoaXMuZWxlbWVudCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxkaXNhYmxlOm4ubm9vcCxlbmFibGU6bi5ub29wLGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7dGhpcy5faXNPcGVuJiYhMSE9PXRoaXMuX3RyaWdnZXIoImJlZm9yZUNsb3NlIix0KSYmKHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9mb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCksdGhpcy5fdW50cmFja0luc3RhbmNlKCksdGhpcy5vcGVuZXIuZmlsdGVyKCI6Zm9jdXNhYmxlIikudHJpZ2dlcigiZm9jdXMiKS5sZW5ndGh8fG4udWkuc2FmZUJsdXIobi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSksdGhpcy5faGlkZSh0aGlzLnVpRGlhbG9nLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7aS5fdHJpZ2dlcigiY2xvc2UiLHQpfSkpfSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxtb3ZlVG9Ub3A6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlVG9Ub3AoKX0sX21vdmVUb1RvcDpmdW5jdGlvbih0LGkpe3ZhciByPSExLHU9dGhpcy51aURpYWxvZy5zaWJsaW5ncygiLnVpLWZyb250OnZpc2libGUiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4rbih0aGlzKS5jc3MoInotaW5kZXgiKX0pLmdldCgpLHU9TWF0aC5tYXguYXBwbHkobnVsbCx1KTtyZXR1cm4gdT49K3RoaXMudWlEaWFsb2cuY3NzKCJ6LWluZGV4IikmJih0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIsdSsxKSxyPSEwKSxyJiYhaSYmdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQpLHJ9LG9wZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2lzT3Blbj90aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpOih0aGlzLl9pc09wZW49ITAsdGhpcy5vcGVuZXI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKSx0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9jcmVhdGVPdmVybGF5KCksdGhpcy5fbW92ZVRvVG9wKG51bGwsITApLHRoaXMub3ZlcmxheSYmdGhpcy5vdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKS0xKSx0aGlzLl9zaG93KHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLnNob3csZnVuY3Rpb24oKXt0Ll9mb2N1c1RhYmJhYmxlKCk7dC5fdHJpZ2dlcigiZm9jdXMiKX0pLHRoaXMuX21ha2VGb2N1c1RhcmdldCgpLHRoaXMuX3RyaWdnZXIoIm9wZW4iKSl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZm9jdXNlZEVsZW1lbnQ7KG49KG49KG49KG49KG49bnx8dGhpcy5lbGVtZW50LmZpbmQoIlthdXRvZm9jdXNdIikpLmxlbmd0aD9uOnRoaXMuZWxlbWVudC5maW5kKCI6dGFiYmFibGUiKSkubGVuZ3RoP246dGhpcy51aURpYWxvZ0J1dHRvblBhbmUuZmluZCgiOnRhYmJhYmxlIikpLmxlbmd0aD9uOnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmZpbHRlcigiOnRhYmJhYmxlIikpLmxlbmd0aD9uOnRoaXMudWlEaWFsb2cpLmVxKDApLnRyaWdnZXIoImZvY3VzIil9LF9yZXN0b3JlVGFiYmFibGVGb2N1czpmdW5jdGlvbigpe3ZhciB0PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSk7dGhpcy51aURpYWxvZ1swXT09PXR8fG4uY29udGFpbnModGhpcy51aURpYWxvZ1swXSx0KXx8dGhpcy5fZm9jdXNUYWJiYWJsZSgpfSxfa2VlcEZvY3VzOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt0aGlzLl9yZXN0b3JlVGFiYmFibGVGb2N1cygpO3RoaXMuX2RlbGF5KHRoaXMuX3Jlc3RvcmVUYWJiYWJsZUZvY3VzKX0sX2NyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nPW4oIjxkaXY+IikuaGlkZSgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6ImRpYWxvZyJ9KS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nLCJ1aS1kaWFsb2ciLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLnVpRGlhbG9nLHtrZXlkb3duOmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjYXBlJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmdC5rZXlDb2RlJiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuRVNDQVBFKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdm9pZCB0aGlzLmNsb3NlKHQpO3ZhciBpLHIsdTt0LmtleUNvZGUhPT1uLnVpLmtleUNvZGUuVEFCfHx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaT10aGlzLnVpRGlhbG9nLmZpbmQoIjp0YWJiYWJsZSIpLHI9aS5maXJzdCgpLHU9aS5sYXN0KCksdC50YXJnZXQhPT11WzBdJiZ0LnRhcmdldCE9PXRoaXMudWlEaWFsb2dbMF18fHQuc2hpZnRLZXk/dC50YXJnZXQhPT1yWzBdJiZ0LnRhcmdldCE9PXRoaXMudWlEaWFsb2dbMF18fCF0LnNoaWZ0S2V5fHwodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt1LnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9kZWxheShmdW5jdGlvbigpe3IudHJpZ2dlcigiZm9jdXMiKX0pLHQucHJldmVudERlZmF1bHQoKSkpfSxtb3VzZWRvd246ZnVuY3Rpb24obil7dGhpcy5fbW92ZVRvVG9wKG4pJiZ0aGlzLl9mb2N1c1RhYmJhYmxlKCl9fSk7dGhpcy5lbGVtZW50LmZpbmQoIlthcmlhLWRlc2NyaWJlZGJ5XSIpLmxlbmd0aHx8dGhpcy51aURpYWxvZy5hdHRyKHsiYXJpYS1kZXNjcmliZWRieSI6dGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYXR0cigiaWQiKX0pfSxfY3JlYXRlVGl0bGViYXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnVpRGlhbG9nVGl0bGViYXI9bigiPGRpdj4iKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nVGl0bGViYXIsInVpLWRpYWxvZy10aXRsZWJhciIsInVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4Iik7dGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyLHttb3VzZWRvd246ZnVuY3Rpb24odCl7bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpfHx0aGlzLnVpRGlhbG9nLnRyaWdnZXIoImZvY3VzIil9fSk7dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2U9bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjxcL2J1dHRvbj4iKS5idXR0b24oe2xhYmVsOm4oIjxhPiIpLnRleHQodGhpcy5vcHRpb25zLmNsb3NlVGV4dCkuaHRtbCgpLGljb246InVpLWljb24tY2xvc2V0aGljayIsc2hvd0xhYmVsOiExfSkuYXBwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSwidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIik7dGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2Use2NsaWNrOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt0aGlzLmNsb3NlKG4pfX0pO3Q9bigiPHNwYW4+IikudW5pcXVlSWQoKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKTt0aGlzLl9hZGRDbGFzcyh0LCJ1aS1kaWFsb2ctdGl0bGUiKTt0aGlzLl90aXRsZSh0KTt0aGlzLnVpRGlhbG9nVGl0bGViYXIucHJlcGVuZFRvKHRoaXMudWlEaWFsb2cpO3RoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtbGFiZWxsZWRieSI6dC5hdHRyKCJpZCIpfSl9LF90aXRsZTpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMudGl0bGU/bi50ZXh0KHRoaXMub3B0aW9ucy50aXRsZSk6bi5odG1sKCImIzE2MDsiKX0sX2NyZWF0ZUJ1dHRvblBhbmU6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZT1uKCI8ZGl2PiIpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLCJ1aS1kaWFsb2ctYnV0dG9ucGFuZSIsInVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMudWlCdXR0b25TZXQ9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSk7dGhpcy5fYWRkQ2xhc3ModGhpcy51aUJ1dHRvblNldCwidWktZGlhbG9nLWJ1dHRvbnNldCIpO3RoaXMuX2NyZWF0ZUJ1dHRvbnMoKX0sX2NyZWF0ZUJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLHQ9dGhpcy5vcHRpb25zLmJ1dHRvbnM7dGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCk7dGhpcy51aUJ1dHRvblNldC5lbXB0eSgpO24uaXNFbXB0eU9iamVjdCh0KXx8QXJyYXkuaXNBcnJheSh0KSYmIXQubGVuZ3RoP3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIik6KG4uZWFjaCh0LGZ1bmN0aW9uKHQscil7dmFyIHU7cj1uLmV4dGVuZCh7dHlwZToiYnV0dG9uIn0scj0iZnVuY3Rpb24iPT10eXBlb2Ygcj97Y2xpY2s6cix0ZXh0OnR9OnIpO3U9ci5jbGljazt0PXtpY29uOnIuaWNvbixpY29uUG9zaXRpb246ci5pY29uUG9zaXRpb24sc2hvd0xhYmVsOnIuc2hvd0xhYmVsLGljb25zOnIuaWNvbnMsdGV4dDpyLnRleHR9O2RlbGV0ZSByLmNsaWNrO2RlbGV0ZSByLmljb247ZGVsZXRlIHIuaWNvblBvc2l0aW9uO2RlbGV0ZSByLnNob3dMYWJlbDtkZWxldGUgci5pY29uczsiYm9vbGVhbiI9PXR5cGVvZiByLnRleHQmJmRlbGV0ZSByLnRleHQ7bigiPGJ1dHRvbj48XC9idXR0b24+IixyKS5idXR0b24odCkuYXBwZW5kVG8oaS51aUJ1dHRvblNldCkub24oImNsaWNrIixmdW5jdGlvbigpe3UuYXBwbHkoaS5lbGVtZW50WzBdLGFyZ3VtZW50cyl9KX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIiksdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8odGhpcy51aURpYWxvZykpfSxfbWFrZURyYWdnYWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGkobil7cmV0dXJue3Bvc2l0aW9uOm4ucG9zaXRpb24sb2Zmc2V0Om4ub2Zmc2V0fX12YXIgdD10aGlzLHI9dGhpcy5vcHRpb25zO3RoaXMudWlEaWFsb2cuZHJhZ2dhYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCwgLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIsaGFuZGxlOiIudWktZGlhbG9nLXRpdGxlYmFyIixjb250YWlubWVudDoiZG9jdW1lbnQiLHN0YXJ0OmZ1bmN0aW9uKHIsdSl7dC5fYWRkQ2xhc3Mobih0aGlzKSwidWktZGlhbG9nLWRyYWdnaW5nIik7dC5fYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJkcmFnU3RhcnQiLHIsaSh1KSl9LGRyYWc6ZnVuY3Rpb24obixyKXt0Ll90cmlnZ2VyKCJkcmFnIixuLGkocikpfSxzdG9wOmZ1bmN0aW9uKHUsZil7dmFyIGU9Zi5vZmZzZXQubGVmdC10LmRvY3VtZW50LnNjcm9sbExlZnQoKSxvPWYub2Zmc2V0LnRvcC10LmRvY3VtZW50LnNjcm9sbFRvcCgpO3IucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKygwPD1lPyIrIjoiIikrZSsiIHRvcCIrKDA8PW8/IisiOiIiKStvLCJvZiI6dC53aW5kb3d9O3QuX3JlbW92ZUNsYXNzKG4odGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpO3QuX3VuYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJkcmFnU3RvcCIsdSxpKGYpKX19KX0sX21ha2VSZXNpemFibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiB1KG4pe3JldHVybntvcmlnaW5hbFBvc2l0aW9uOm4ub3JpZ2luYWxQb3NpdGlvbixvcmlnaW5hbFNpemU6bi5vcmlnaW5hbFNpemUscG9zaXRpb246bi5wb3NpdGlvbixzaXplOm4uc2l6ZX19dmFyIHQ9dGhpcyxpPXRoaXMub3B0aW9ucyxyPWkucmVzaXphYmxlLGY9dGhpcy51aURpYWxvZy5jc3MoInBvc2l0aW9uIikscj0ic3RyaW5nIj09dHlwZW9mIHI/cjoibixlLHMsdyxzZSxzdyxuZSxudyI7dGhpcy51aURpYWxvZy5yZXNpemFibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50Iixjb250YWlubWVudDoiZG9jdW1lbnQiLGFsc29SZXNpemU6dGhpcy5lbGVtZW50LG1heFdpZHRoOmkubWF4V2lkdGgsbWF4SGVpZ2h0OmkubWF4SGVpZ2h0LG1pbldpZHRoOmkubWluV2lkdGgsbWluSGVpZ2h0OnRoaXMuX21pbkhlaWdodCgpLGhhbmRsZXM6cixzdGFydDpmdW5jdGlvbihpLHIpe3QuX2FkZENsYXNzKG4odGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpO3QuX2Jsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigicmVzaXplU3RhcnQiLGksdShyKSl9LHJlc2l6ZTpmdW5jdGlvbihuLGkpe3QuX3RyaWdnZXIoInJlc2l6ZSIsbix1KGkpKX0sc3RvcDpmdW5jdGlvbihyLGYpe3ZhciBlPXQudWlEaWFsb2cub2Zmc2V0KCksbz1lLmxlZnQtdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksZT1lLnRvcC10LmRvY3VtZW50LnNjcm9sbFRvcCgpO2kuaGVpZ2h0PXQudWlEaWFsb2cuaGVpZ2h0KCk7aS53aWR0aD10LnVpRGlhbG9nLndpZHRoKCk7aS5wb3NpdGlvbj17bXk6ImxlZnQgdG9wIixhdDoibGVmdCIrKDA8PW8/IisiOiIiKStvKyIgdG9wIisoMDw9ZT8iKyI6IiIpK2UsIm9mIjp0LndpbmRvd307dC5fcmVtb3ZlQ2xhc3Mobih0aGlzKSwidWktZGlhbG9nLXJlc2l6aW5nIik7dC5fdW5ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoInJlc2l6ZVN0b3AiLHIsdShmKSl9fSkuY3NzKCJwb3NpdGlvbiIsZil9LF90cmFja0ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy53aWRnZXQoKSx7Zm9jdXNpbjpmdW5jdGlvbih0KXt0aGlzLl9tYWtlRm9jdXNUYXJnZXQoKTt0aGlzLl9mb2N1c2VkRWxlbWVudD1uKHQudGFyZ2V0KX19KX0sX21ha2VGb2N1c1RhcmdldDpmdW5jdGlvbigpe3RoaXMuX3VudHJhY2tJbnN0YW5jZSgpO3RoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCkudW5zaGlmdCh0aGlzKX0sX3VudHJhY2tJbnN0YW5jZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCksaT1uLmluQXJyYXkodGhpcyx0KTstMSE9PWkmJnQuc3BsaWNlKGksMSl9LF90cmFja2luZ0luc3RhbmNlczpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLWluc3RhbmNlcyIpO3JldHVybiBufHx0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiLG49W10pLG59LF9taW5IZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnM7cmV0dXJuImF1dG8iPT09bi5oZWlnaHQ/bi5taW5IZWlnaHQ6TWF0aC5taW4obi5taW5IZWlnaHQsbi5oZWlnaHQpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpO258fHRoaXMudWlEaWFsb2cuc2hvdygpO3RoaXMudWlEaWFsb2cucG9zaXRpb24odGhpcy5vcHRpb25zLnBvc2l0aW9uKTtufHx0aGlzLnVpRGlhbG9nLmhpZGUoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxyPSExLHU9e307bi5lYWNoKHQsZnVuY3Rpb24obix0KXtpLl9zZXRPcHRpb24obix0KTtuIGluIGkuc2l6ZVJlbGF0ZWRPcHRpb25zJiYocj0hMCk7biBpbiBpLnJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zJiYodVtuXT10KX0pO3ImJih0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIix1KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByLHU9dGhpcy51aURpYWxvZzsiZGlzYWJsZWQiIT09dCYmKHRoaXMuX3N1cGVyKHQsaSksImFwcGVuZFRvIj09PXQmJnRoaXMudWlEaWFsb2cuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksImJ1dHRvbnMiPT09dCYmdGhpcy5fY3JlYXRlQnV0dG9ucygpLCJjbG9zZVRleHQiPT09dCYmdGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UuYnV0dG9uKHtsYWJlbDpuKCI8YT4iKS50ZXh0KCIiK3RoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKX0pLCJkcmFnZ2FibGUiPT09dCYmKChyPXUuaXMoIjpkYXRhKHVpLWRyYWdnYWJsZSkiKSkmJiFpJiZ1LmRyYWdnYWJsZSgiZGVzdHJveSIpLCFyJiZpJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCkpLCJwb3NpdGlvbiI9PT10JiZ0aGlzLl9wb3NpdGlvbigpLCJyZXNpemFibGUiPT09dCYmKChyPXUuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSkmJiFpJiZ1LnJlc2l6YWJsZSgiZGVzdHJveSIpLHImJiJzdHJpbmciPT10eXBlb2YgaSYmdS5yZXNpemFibGUoIm9wdGlvbiIsImhhbmRsZXMiLGkpLHJ8fCExPT09aXx8dGhpcy5fbWFrZVJlc2l6YWJsZSgpKSwidGl0bGUiPT09dCYmdGhpcy5fdGl0bGUodGhpcy51aURpYWxvZ1RpdGxlYmFyLmZpbmQoIi51aS1kaWFsb2ctdGl0bGUiKSkpfSxfc2l6ZTpmdW5jdGlvbigpe3ZhciB0LGkscixuPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnQuc2hvdygpLmNzcyh7d2lkdGg6ImF1dG8iLG1pbkhlaWdodDowLG1heEhlaWdodDoibm9uZSIsaGVpZ2h0OjB9KTtuLm1pbldpZHRoPm4ud2lkdGgmJihuLndpZHRoPW4ubWluV2lkdGgpO3Q9dGhpcy51aURpYWxvZy5jc3Moe2hlaWdodDoiYXV0byIsd2lkdGg6bi53aWR0aH0pLm91dGVySGVpZ2h0KCk7aT1NYXRoLm1heCgwLG4ubWluSGVpZ2h0LXQpO3I9Im51bWJlciI9PXR5cGVvZiBuLm1heEhlaWdodD9NYXRoLm1heCgwLG4ubWF4SGVpZ2h0LXQpOiJub25lIjsiYXV0byI9PT1uLmhlaWdodD90aGlzLmVsZW1lbnQuY3NzKHttaW5IZWlnaHQ6aSxtYXhIZWlnaHQ6cixoZWlnaHQ6ImF1dG8ifSk6dGhpcy5lbGVtZW50LmhlaWdodChNYXRoLm1heCgwLG4uaGVpZ2h0LXQpKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLCJtaW5IZWlnaHQiLHRoaXMuX21pbkhlaWdodCgpKX0sX2Jsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKCJpZnJhbWUiKS5tYXAoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3JldHVybiBuKCI8ZGl2PiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpfSkuYXBwZW5kVG8odC5wYXJlbnQoKSkub2Zmc2V0KHQub2Zmc2V0KCkpWzBdfSl9LF91bmJsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3MmJih0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKSxkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpfSxfYWxsb3dJbnRlcmFjdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4hIW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ciKS5sZW5ndGh8fCEhbih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWRhdGVwaWNrZXIiKS5sZW5ndGh9LF9jcmVhdGVPdmVybGF5OmZ1bmN0aW9uKCl7dmFyIHQsaTt0aGlzLm9wdGlvbnMubW9kYWwmJih0PW4uZm4uanF1ZXJ5LnN1YnN0cmluZygwLDQpLGk9ITAsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtpPSExfSksdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8dGhpcy5kb2N1bWVudC5vbigiZm9jdXNpbi51aS1kaWFsb2ciLGZ1bmN0aW9uKG4pe3ZhciByO2l8fChyPXRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKClbMF0pLl9hbGxvd0ludGVyYWN0aW9uKG4pfHwobi5wcmV2ZW50RGVmYXVsdCgpLHIuX2ZvY3VzVGFiYmFibGUoKSwiMy40LiIhPT10JiYiMy41LiIhPT10fHxyLl9kZWxheShyLl9yZXN0b3JlVGFiYmFibGVGb2N1cykpfS5iaW5kKHRoaXMpKSx0aGlzLm92ZXJsYXk9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSx0aGlzLl9hZGRDbGFzcyh0aGlzLm92ZXJsYXksbnVsbCwidWktd2lkZ2V0LW92ZXJsYXkgdWktZnJvbnQiKSx0aGlzLl9vbih0aGlzLm92ZXJsYXkse21vdXNlZG93bjoiX2tlZXBGb2N1cyJ9KSx0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIsKHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fDApKzEpKX0sX2Rlc3Ryb3lPdmVybGF5OmZ1bmN0aW9uKCl7dmFyIG47dGhpcy5vcHRpb25zLm1vZGFsJiZ0aGlzLm92ZXJsYXkmJigobj10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpLTEpP3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIixuKToodGhpcy5kb2N1bWVudC5vZmYoImZvY3VzaW4udWktZGlhbG9nIiksdGhpcy5kb2N1bWVudC5yZW1vdmVEYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKSksdGhpcy5vdmVybGF5LnJlbW92ZSgpLHRoaXMub3ZlcmxheT1udWxsKX19KTshMSE9PW4udWlCYWNrQ29tcGF0JiZuLndpZGdldCgidWkuZGlhbG9nIixuLnVpLmRpYWxvZyx7b3B0aW9uczp7ZGlhbG9nQ2xhc3M6IiJ9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLnVpRGlhbG9nLmFkZENsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiZGlhbG9nQ2xhc3MiPT09biYmdGhpcy51aURpYWxvZy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpLmFkZENsYXNzKHQpO3RoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKX19KTtuLnVpLmRpYWxvZztuLndpZGdldCgidWkuZHJvcHBhYmxlIix7dmVyc2lvbjoiMS4xMy4yIix3aWRnZXRFdmVudFByZWZpeDoiZHJvcCIsb3B0aW9uczp7YWNjZXB0OiIqIixhZGRDbGFzc2VzOiEwLGdyZWVkeTohMSxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QiLGFjdGl2YXRlOm51bGwsZGVhY3RpdmF0ZTpudWxsLGRyb3A6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMub3B0aW9ucyxpPXQuYWNjZXB0O3RoaXMuaXNvdmVyPSExO3RoaXMuaXNvdXQ9ITA7dGhpcy5hY2NlcHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGk/aTpmdW5jdGlvbihuKXtyZXR1cm4gbi5pcyhpKX07dGhpcy5wcm9wb3J0aW9ucz1mdW5jdGlvbigpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBuPW58fHt3aWR0aDp0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9O249YXJndW1lbnRzWzBdfTt0aGlzLl9hZGRUb01hbmFnZXIodC5zY29wZSk7dC5hZGRDbGFzc2VzJiZ0aGlzLl9hZGRDbGFzcygidWktZHJvcHBhYmxlIil9LF9hZGRUb01hbmFnZXI6ZnVuY3Rpb24odCl7bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0XT1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdfHxbXTtuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdLnB1c2godGhpcyl9LF9zcGxpY2U6ZnVuY3Rpb24obil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT09PXRoaXMmJm4uc3BsaWNlKHQsMSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdO3RoaXMuX3NwbGljZSh0KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByOyJhY2NlcHQiPT09dD90aGlzLmFjY2VwdD0iZnVuY3Rpb24iPT10eXBlb2YgaT9pOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKGkpfToic2NvcGUiPT09dCYmKHI9bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdLHRoaXMuX3NwbGljZShyKSx0aGlzLl9hZGRUb01hbmFnZXIoaSkpO3RoaXMuX3N1cGVyKHQsaSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMuX2FkZEFjdGl2ZUNsYXNzKCk7aSYmdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdGhpcy51aShpKSl9LF9kZWFjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPW4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5fcmVtb3ZlQWN0aXZlQ2xhc3MoKTtpJiZ0aGlzLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfb3ZlcjpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fYWRkSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy51aShpKSkpfSxfb3V0OmZ1bmN0aW9uKHQpe3ZhciBpPW4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ7aSYmKGkuY3VycmVudEl0ZW18fGkuZWxlbWVudClbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGkuY3VycmVudEl0ZW18fGkuZWxlbWVudCkmJih0aGlzLl9yZW1vdmVIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigib3V0Iix0LHRoaXMudWkoaSkpKX0sX2Ryb3A6ZnVuY3Rpb24odCxpKXt2YXIgcj1pfHxuLnVpLmRkbWFuYWdlci5jdXJyZW50LHU9ITE7cmV0dXJuISghcnx8KHIuY3VycmVudEl0ZW18fHIuZWxlbWVudClbMF09PT10aGlzLmVsZW1lbnRbMF0pJiYodGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7aWYoaS5vcHRpb25zLmdyZWVkeSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmaS5vcHRpb25zLnNjb3BlPT09ci5vcHRpb25zLnNjb3BlJiZpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiZuLnVpLmludGVyc2VjdChyLG4uZXh0ZW5kKGkse29mZnNldDppLmVsZW1lbnQub2Zmc2V0KCl9KSxpLm9wdGlvbnMudG9sZXJhbmNlLHQpKXJldHVybiEodT0hMCl9KSwhdSYmISF0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlQWN0aXZlQ2xhc3MoKSx0aGlzLl9yZW1vdmVIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigiZHJvcCIsdCx0aGlzLnVpKHIpKSx0aGlzLmVsZW1lbnQpKX0sdWk6ZnVuY3Rpb24obil7cmV0dXJue2RyYWdnYWJsZTpuLmN1cnJlbnRJdGVtfHxuLmVsZW1lbnQsaGVscGVyOm4uaGVscGVyLHBvc2l0aW9uOm4ucG9zaXRpb24sb2Zmc2V0Om4ucG9zaXRpb25BYnN9fSxfYWRkSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUtaG92ZXIiKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlLWhvdmVyIil9LF9hZGRBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUtYWN0aXZlIil9LF9yZW1vdmVBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUtYWN0aXZlIil9fSk7bi51aS5pbnRlcnNlY3Q9ZnVuY3Rpb24obix0LGkscil7aWYoIXQub2Zmc2V0KXJldHVybiExO3ZhciBlPShuLnBvc2l0aW9uQWJzfHxuLnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0K24ubWFyZ2lucy5sZWZ0LG89KG4ucG9zaXRpb25BYnN8fG4ucG9zaXRpb24uYWJzb2x1dGUpLnRvcCtuLm1hcmdpbnMudG9wLHM9ZStuLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGg9bytuLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PXQub2Zmc2V0LmxlZnQsZj10Lm9mZnNldC50b3AsYz11K3QucHJvcG9ydGlvbnMoKS53aWR0aCxsPWYrdC5wcm9wb3J0aW9ucygpLmhlaWdodDtzd2l0Y2goaSl7Y2FzZSJmaXQiOnJldHVybiB1PD1lJiZzPD1jJiZmPD1vJiZoPD1sO2Nhc2UiaW50ZXJzZWN0IjpyZXR1cm4gdTxlK24uaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmcy1uLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8YyYmZjxvK24uaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmgtbi5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxsO2Nhc2UicG9pbnRlciI6cmV0dXJuIGJpKHIucGFnZVksZix0LnByb3BvcnRpb25zKCkuaGVpZ2h0KSYmYmkoci5wYWdlWCx1LHQucHJvcG9ydGlvbnMoKS53aWR0aCk7Y2FzZSJ0b3VjaCI6cmV0dXJuKGY8PW8mJm88PWx8fGY8PWgmJmg8PWx8fG88ZiYmbDxoKSYmKHU8PWUmJmU8PWN8fHU8PXMmJnM8PWN8fGU8dSYmYzxzKTtkZWZhdWx0OnJldHVybiExfX07IShuLnVpLmRkbWFuYWdlcj17Y3VycmVudDpudWxsLGRyb3BwYWJsZXM6eyJkZWZhdWx0IjpbXX0scHJlcGFyZU9mZnNldHM6ZnVuY3Rpb24odCxpKXt2YXIgcixmLHU9bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSxvPWk/aS50eXBlOm51bGwsZT0odC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KS5maW5kKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuYWRkQmFjaygpO246Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKylpZighKHVbcl0ub3B0aW9ucy5kaXNhYmxlZHx8dCYmIXVbcl0uYWNjZXB0LmNhbGwodVtyXS5lbGVtZW50WzBdLHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkpKXtmb3IoZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGVbZl09PT11W3JdLmVsZW1lbnRbMF0pe3Vbcl0ucHJvcG9ydGlvbnMoKS5oZWlnaHQ9MDtjb250aW51ZSBufXVbcl0udmlzaWJsZT0ibm9uZSIhPT11W3JdLmVsZW1lbnQuY3NzKCJkaXNwbGF5Iik7dVtyXS52aXNpYmxlJiYoIm1vdXNlZG93biI9PT1vJiZ1W3JdLl9hY3RpdmF0ZS5jYWxsKHVbcl0saSksdVtyXS5vZmZzZXQ9dVtyXS5lbGVtZW50Lm9mZnNldCgpLHVbcl0ucHJvcG9ydGlvbnMoe3dpZHRoOnVbcl0uZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dVtyXS5lbGVtZW50WzBdLm9mZnNldEhlaWdodH0pKX19LGRyb3A6ZnVuY3Rpb24odCxpKXt2YXIgcj0hMTtyZXR1cm4gbi5lYWNoKChuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3Qub3B0aW9ucy5zY29wZV18fFtdKS5zbGljZSgpLGZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zJiYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy52aXNpYmxlJiZuLnVpLmludGVyc2VjdCh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSYmKHI9dGhpcy5fZHJvcC5jYWxsKHRoaXMsaSl8fHIpLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSYmKHRoaXMuaXNvdXQ9ITAsdGhpcy5pc292ZXI9ITEsdGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsaSkpKX0pLHJ9LGRyYWdTdGFydDpmdW5jdGlvbih0LGkpe3QuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS5vbigic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8bi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSk7bi5lYWNoKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXt2YXIgcixlLGYsdTt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZ3JlZWR5Q2hpbGR8fCF0aGlzLnZpc2libGV8fCh1PSEoZj1uLnVpLmludGVyc2VjdCh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSkmJnRoaXMuaXNvdmVyPyJpc291dCI6ZiYmIXRoaXMuaXNvdmVyPyJpc292ZXIiOm51bGwpJiYodGhpcy5vcHRpb25zLmdyZWVkeSYmKGU9dGhpcy5vcHRpb25zLnNjb3BlLChmPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnMuc2NvcGU9PT1lfSkpLmxlbmd0aCYmKChyPW4oZlswXSkuZHJvcHBhYmxlKCJpbnN0YW5jZSIpKS5ncmVlZHlDaGlsZD0iaXNvdmVyIj09PXUpKSxyJiYiaXNvdmVyIj09PXUmJihyLmlzb3Zlcj0hMSxyLmlzb3V0PSEwLHIuX291dC5jYWxsKHIsaSkpLHRoaXNbdV09ITAsdGhpc1siaXNvdXQiPT09dT8iaXNvdmVyIjoiaXNvdXQiXT0hMSx0aGlzWyJpc292ZXIiPT09dT8iX292ZXIiOiJfb3V0Il0uY2FsbCh0aGlzLGkpLHImJiJpc291dCI9PT11JiYoci5pc291dD0hMSxyLmlzb3Zlcj0hMCxyLl9vdmVyLmNhbGwocixpKSkpfSl9LGRyYWdTdG9wOmZ1bmN0aW9uKHQsaSl7dC5lbGVtZW50LnBhcmVudHNVbnRpbCgiYm9keSIpLm9mZigic2Nyb2xsLmRyb3BwYWJsZSIpO3Qub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHxuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGkpfX0pIT09bi51aUJhY2tDb21wYXQmJm4ud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLG4udWkuZHJvcHBhYmxlLHtvcHRpb25zOntob3ZlckNsYXNzOiExLGFjdGl2ZUNsYXNzOiExfSxfYWRkQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyl9LF9yZW1vdmVBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKX0sX2FkZEhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpfSxfcmVtb3ZlSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyl9fSk7bi51aS5kcm9wcGFibGU7bi53aWRnZXQoInVpLnByb2dyZXNzYmFyIix7dmVyc2lvbjoiMS4xMy4yIixvcHRpb25zOntjbGFzc2VzOnsidWktcHJvZ3Jlc3NiYXIiOiJ1aS1jb3JuZXItYWxsIiwidWktcHJvZ3Jlc3NiYXItdmFsdWUiOiJ1aS1jb3JuZXItbGVmdCIsInVpLXByb2dyZXNzYmFyLWNvbXBsZXRlIjoidWktY29ybmVyLXJpZ2h0In0sbWF4OjEwMCx2YWx1ZTowLGNoYW5nZTpudWxsLGNvbXBsZXRlOm51bGx9LG1pbjowLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9sZFZhbHVlPXRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKCk7dGhpcy5lbGVtZW50LmF0dHIoe3JvbGU6InByb2dyZXNzYmFyIiwiYXJpYS12YWx1ZW1pbiI6dGhpcy5taW59KTt0aGlzLl9hZGRDbGFzcygidWktcHJvZ3Jlc3NiYXIiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLnZhbHVlRGl2PW4oIjxkaXY+IikuYXBwZW5kVG8odGhpcy5lbGVtZW50KTt0aGlzLl9hZGRDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci12YWx1ZSIsInVpLXdpZGdldC1oZWFkZXIiKTt0aGlzLl9yZWZyZXNoVmFsdWUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSBhcmlhLXZhbHVlbWluIGFyaWEtdmFsdWVtYXggYXJpYS12YWx1ZW5vdyIpO3RoaXMudmFsdWVEaXYucmVtb3ZlKCl9LHZhbHVlOmZ1bmN0aW9uKG4pe2lmKHZvaWQgMD09PW4pcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZTt0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZShuKTt0aGlzLl9yZWZyZXNoVmFsdWUoKX0sX2NvbnN0cmFpbmVkVmFsdWU6ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXRoaXMub3B0aW9ucy52YWx1ZSksdGhpcy5pbmRldGVybWluYXRlPSExPT09biwibnVtYmVyIiE9dHlwZW9mIG4mJihuPTApLCF0aGlzLmluZGV0ZXJtaW5hdGUmJk1hdGgubWluKHRoaXMub3B0aW9ucy5tYXgsTWF0aC5tYXgodGhpcy5taW4sbikpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihuKXt2YXIgdD1uLnZhbHVlO2RlbGV0ZSBuLnZhbHVlO3RoaXMuX3N1cGVyKG4pO3RoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKHQpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7Im1heCI9PT1uJiYodD1NYXRoLm1heCh0aGlzLm1pbix0KSk7dGhpcy5fc3VwZXIobix0KX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWRpc2FibGVkIixuKTt0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFuKX0sX3BlcmNlbnRhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRldGVybWluYXRlPzEwMDoxMDAqKHRoaXMub3B0aW9ucy52YWx1ZS10aGlzLm1pbikvKHRoaXMub3B0aW9ucy5tYXgtdGhpcy5taW4pfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnZhbHVlLGk9dGhpcy5fcGVyY2VudGFnZSgpO3RoaXMudmFsdWVEaXYudG9nZ2xlKHRoaXMuaW5kZXRlcm1pbmF0ZXx8dD50aGlzLm1pbikud2lkdGgoaS50b0ZpeGVkKDApKyIlIik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy52YWx1ZURpdiwidWktcHJvZ3Jlc3NiYXItY29tcGxldGUiLG51bGwsdD09PXRoaXMub3B0aW9ucy5tYXgpLl90b2dnbGVDbGFzcygidWktcHJvZ3Jlc3NiYXItaW5kZXRlcm1pbmF0ZSIsbnVsbCx0aGlzLmluZGV0ZXJtaW5hdGUpO3RoaXMuaW5kZXRlcm1pbmF0ZT8odGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKSx0aGlzLm92ZXJsYXlEaXZ8fCh0aGlzLm92ZXJsYXlEaXY9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLnZhbHVlRGl2KSx0aGlzLl9hZGRDbGFzcyh0aGlzLm92ZXJsYXlEaXYsInVpLXByb2dyZXNzYmFyLW92ZXJsYXkiKSkpOih0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnR9KSx0aGlzLm92ZXJsYXlEaXYmJih0aGlzLm92ZXJsYXlEaXYucmVtb3ZlKCksdGhpcy5vdmVybGF5RGl2PW51bGwpKTt0aGlzLm9sZFZhbHVlIT09dCYmKHRoaXMub2xkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKSk7dD09PXRoaXMub3B0aW9ucy5tYXgmJnRoaXMuX3RyaWdnZXIoImNvbXBsZXRlIil9fSk7bi53aWRnZXQoInVpLnNlbGVjdGFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7YXBwZW5kVG86ImJvZHkiLGF1dG9SZWZyZXNoOiEwLGRpc3RhbmNlOjAsZmlsdGVyOiIqIix0b2xlcmFuY2U6InRvdWNoIixzZWxlY3RlZDpudWxsLHNlbGVjdGluZzpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVuc2VsZWN0ZWQ6bnVsbCx1bnNlbGVjdGluZzpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9hZGRDbGFzcygidWktc2VsZWN0YWJsZSIpO3RoaXMuZHJhZ2dlZD0hMTt0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oKXt0LmVsZW1lbnRQb3M9bih0LmVsZW1lbnRbMF0pLm9mZnNldCgpO3Quc2VsZWN0ZWVzPW4odC5vcHRpb25zLmZpbHRlcix0LmVsZW1lbnRbMF0pO3QuX2FkZENsYXNzKHQuc2VsZWN0ZWVzLCJ1aS1zZWxlY3RlZSIpO3Quc2VsZWN0ZWVzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHI9aS5vZmZzZXQoKSxyPXtsZWZ0OnIubGVmdC10LmVsZW1lbnRQb3MubGVmdCx0b3A6ci50b3AtdC5lbGVtZW50UG9zLnRvcH07bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIse2VsZW1lbnQ6dGhpcywkZWxlbWVudDppLGxlZnQ6ci5sZWZ0LHRvcDpyLnRvcCxyaWdodDpyLmxlZnQraS5vdXRlcldpZHRoKCksYm90dG9tOnIudG9wK2kub3V0ZXJIZWlnaHQoKSxzdGFydHNlbGVjdGVkOiExLHNlbGVjdGVkOmkuaGFzQ2xhc3MoInVpLXNlbGVjdGVkIiksc2VsZWN0aW5nOmkuaGFzQ2xhc3MoInVpLXNlbGVjdGluZyIpLHVuc2VsZWN0aW5nOmkuaGFzQ2xhc3MoInVpLXVuc2VsZWN0aW5nIil9KX0pfTt0aGlzLnJlZnJlc2goKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLmhlbHBlcj1uKCI8ZGl2PiIpO3RoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zZWxlY3RhYmxlLWhlbHBlciIpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWVzLnJlbW92ZURhdGEoInNlbGVjdGFibGUtaXRlbSIpO3RoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9dGhpcy5vcHRpb25zO3RoaXMub3Bvcz1bdC5wYWdlWCx0LnBhZ2VZXTt0aGlzLmVsZW1lbnRQb3M9bih0aGlzLmVsZW1lbnRbMF0pLm9mZnNldCgpO3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8KHRoaXMuc2VsZWN0ZWVzPW4oci5maWx0ZXIsdGhpcy5lbGVtZW50WzBdKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCksbihyLmFwcGVuZFRvKS5hcHBlbmQodGhpcy5oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZLHdpZHRoOjAsaGVpZ2h0OjB9KSxyLmF1dG9SZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSx0aGlzLnNlbGVjdGVlcy5maWx0ZXIoIi51aS1zZWxlY3RlZCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7ci5zdGFydHNlbGVjdGVkPSEwO3QubWV0YUtleXx8dC5jdHJsS2V5fHwoaS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxyLnNlbGVjdGVkPSExLGkuX2FkZENsYXNzKHIuJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ci5lbGVtZW50fSkpfSksbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHUscj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aWYocilyZXR1cm4gdT0hdC5tZXRhS2V5JiYhdC5jdHJsS2V5fHwhci4kZWxlbWVudC5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LHU/InVpLXVuc2VsZWN0aW5nIjoidWktc2VsZWN0ZWQiKS5fYWRkQ2xhc3Moci4kZWxlbWVudCx1PyJ1aS1zZWxlY3RpbmciOiJ1aS11bnNlbGVjdGluZyIpLHIudW5zZWxlY3Rpbmc9IXUsci5zZWxlY3Rpbmc9dSwoci5zZWxlY3RlZD11KT9pLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpyLmVsZW1lbnR9KTppLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ci5lbGVtZW50fSksITF9KSl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7aWYodGhpcy5kcmFnZ2VkPSEwLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBvLGk9dGhpcyxzPXRoaXMub3B0aW9ucyxyPXRoaXMub3Bvc1swXSx1PXRoaXMub3Bvc1sxXSxmPXQucGFnZVgsZT10LnBhZ2VZO3JldHVybiBmPHImJihvPWYsZj1yLHI9byksZTx1JiYobz1lLGU9dSx1PW8pLHRoaXMuaGVscGVyLmNzcyh7bGVmdDpyLHRvcDp1LHdpZHRoOmYtcixoZWlnaHQ6ZS11fSksdGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKSxjPSExLGg9e307byYmby5lbGVtZW50IT09aS5lbGVtZW50WzBdJiYoaC5sZWZ0PW8ubGVmdCtpLmVsZW1lbnRQb3MubGVmdCxoLnJpZ2h0PW8ucmlnaHQraS5lbGVtZW50UG9zLmxlZnQsaC50b3A9by50b3AraS5lbGVtZW50UG9zLnRvcCxoLmJvdHRvbT1vLmJvdHRvbStpLmVsZW1lbnRQb3MudG9wLCJ0b3VjaCI9PT1zLnRvbGVyYW5jZT9jPSEoaC5sZWZ0PmZ8fGgucmlnaHQ8cnx8aC50b3A+ZXx8aC5ib3R0b208dSk6ImZpdCI9PT1zLnRvbGVyYW5jZSYmKGM9aC5sZWZ0PnImJmgucmlnaHQ8ZiYmaC50b3A+dSYmaC5ib3R0b208ZSksYz8oby5zZWxlY3RlZCYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSksby51bnNlbGVjdGluZyYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksby51bnNlbGVjdGluZz0hMSksby5zZWxlY3Rpbmd8fChpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSxvLnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpvLmVsZW1lbnR9KSkpOihvLnNlbGVjdGluZyYmKCh0Lm1ldGFLZXl8fHQuY3RybEtleSkmJm8uc3RhcnRzZWxlY3RlZD8oaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxvLnNlbGVjdGVkPSEwKTooaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsby5zdGFydHNlbGVjdGVkJiYoaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxvLnVuc2VsZWN0aW5nPSEwKSxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6by5lbGVtZW50fSkpKSxvLnNlbGVjdGVkJiYodC5tZXRhS2V5fHx0LmN0cmxLZXl8fG8uc3RhcnRzZWxlY3RlZHx8KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSxpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLG8udW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOm8uZWxlbWVudH0pKSkpKX0pLCExfX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmRyYWdnZWQ9ITEsbigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKTtyLnVuc2VsZWN0aW5nPSExO3Iuc3RhcnRzZWxlY3RlZD0hMTtpLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIix0LHt1bnNlbGVjdGVkOnIuZWxlbWVudH0pfSksbigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2kuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpO3Iuc2VsZWN0aW5nPSExO3Iuc2VsZWN0ZWQ9ITA7ci5zdGFydHNlbGVjdGVkPSEwO2kuX3RyaWdnZXIoInNlbGVjdGVkIix0LHtzZWxlY3RlZDpyLmVsZW1lbnR9KX0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLHQpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pO24ud2lkZ2V0KCJ1aS5zZWxlY3RtZW51Iixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMy4yIixkZWZhdWx0RWxlbWVudDoiPHNlbGVjdD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsY2xhc3Nlczp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItdG9wIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjoidWktaWNvbi10cmlhbmdsZS0xLXMifSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHdpZHRoOiExLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3RoaXMuaWRzPXtlbGVtZW50OnQsYnV0dG9uOnQrIi1idXR0b24iLG1lbnU6dCsiLW1lbnUifTt0aGlzLl9kcmF3QnV0dG9uKCk7dGhpcy5fZHJhd01lbnUoKTt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuX3JlbmRlcmVkPSExO3RoaXMubWVudUl0ZW1zPW4oKX0sX2RyYXdCdXR0b246ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMscj10aGlzLl9wYXJzZU9wdGlvbih0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uOnNlbGVjdGVkIiksdGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpO3RoaXMubGFiZWxzPXRoaXMuZWxlbWVudC5sYWJlbHMoKS5hdHRyKCJmb3IiLHRoaXMuaWRzLmJ1dHRvbik7dGhpcy5fb24odGhpcy5sYWJlbHMse2NsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuYnV0dG9uLnRyaWdnZXIoImZvY3VzIik7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuZWxlbWVudC5oaWRlKCk7dGhpcy5idXR0b249bigiPHNwYW4+Iix7dGFiaW5kZXg6dGhpcy5vcHRpb25zLmRpc2FibGVkPy0xOjAsaWQ6dGhpcy5pZHMuYnV0dG9uLHJvbGU6ImNvbWJvYm94IiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1vd25zIjp0aGlzLmlkcy5tZW51LCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsdGl0bGU6dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIil9KS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7dD1uKCI8c3Bhbj4iKS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5fYWRkQ2xhc3ModCwidWktc2VsZWN0bWVudS1pY29uIiwidWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy5idXR0b24pO3RoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKTshMSE9PXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy5fcmVzaXplQnV0dG9uKCk7dGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKTt0aGlzLmJ1dHRvbi5vbmUoImZvY3VzaW4iLGZ1bmN0aW9uKCl7aS5fcmVuZGVyZWR8fGkuX3JlZnJlc2hNZW51KCl9KX0sX2RyYXdNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm1lbnU9bigiPHVsPiIseyJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsbGVkYnkiOnRoaXMuaWRzLmJ1dHRvbixpZDp0aGlzLmlkcy5tZW51fSk7dGhpcy5tZW51V3JhcD1uKCI8ZGl2PiIpLmFwcGVuZCh0aGlzLm1lbnUpO3RoaXMuX2FkZENsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtbWVudSIsInVpLWZyb250Iik7dGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLm1lbnVJbnN0YW5jZT10aGlzLm1lbnUubWVudSh7Y2xhc3Nlczp7InVpLW1lbnUiOiJ1aS1jb3JuZXItYm90dG9tIn0scm9sZToibGlzdGJveCIsc2VsZWN0OmZ1bmN0aW9uKG4saSl7bi5wcmV2ZW50RGVmYXVsdCgpO3QuX3NldFNlbGVjdGlvbigpO3QuX3NlbGVjdChpLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksbil9LGZvY3VzOmZ1bmN0aW9uKG4saSl7aT1pLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIik7bnVsbCE9dC5mb2N1c0luZGV4JiZpLmluZGV4IT09dC5mb2N1c0luZGV4JiYodC5fdHJpZ2dlcigiZm9jdXMiLG4se2l0ZW06aX0pLHQuaXNPcGVufHx0Ll9zZWxlY3QoaSxuKSk7dC5mb2N1c0luZGV4PWkuaW5kZXg7dC5idXR0b24uYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50Iix0Lm1lbnVJdGVtcy5lcShpLmluZGV4KS5hdHRyKCJpZCIpKX19KS5tZW51KCJpbnN0YW5jZSIpO3RoaXMubWVudUluc3RhbmNlLl9vZmYodGhpcy5tZW51LCJtb3VzZWxlYXZlIik7dGhpcy5tZW51SW5zdGFuY2UuX2Nsb3NlT25Eb2N1bWVudENsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3RoaXMubWVudUluc3RhbmNlLl9pc0RpdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoTWVudSgpO3RoaXMuYnV0dG9uSXRlbS5yZXBsYWNlV2l0aCh0aGlzLmJ1dHRvbkl0ZW09dGhpcy5fcmVuZGVyQnV0dG9uSXRlbSh0aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKXx8e30pKTtudWxsPT09dGhpcy5vcHRpb25zLndpZHRoJiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3JlZnJlc2hNZW51OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpO3RoaXMubWVudS5lbXB0eSgpO3RoaXMuX3BhcnNlT3B0aW9ucyhuKTt0aGlzLl9yZW5kZXJNZW51KHRoaXMubWVudSx0aGlzLml0ZW1zKTt0aGlzLm1lbnVJbnN0YW5jZS5yZWZyZXNoKCk7dGhpcy5tZW51SXRlbXM9dGhpcy5tZW51LmZpbmQoImxpIikubm90KCIudWktc2VsZWN0bWVudS1vcHRncm91cCIpLmZpbmQoIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX3JlbmRlcmVkPSEwO24ubGVuZ3RoJiYobj10aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLG4pLHRoaXMuX3NldEFyaWEobi5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpKX0sb3BlbjpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLl9yZW5kZXJlZD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5tZW51LmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpKSk6dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLm1lbnVJdGVtcy5sZW5ndGgmJih0aGlzLmlzT3Blbj0hMCx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fcmVzaXplTWVudSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx0aGlzLl9kb2N1bWVudENsaWNrKSx0aGlzLl90cmlnZ2VyKCJvcGVuIixuKSkpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLm1lbnVXcmFwLnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsbikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgaT1uKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChpLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGksInVpLXNlbGVjdG1lbnUtdGV4dCIpLGl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcyx1PSIiO24uZWFjaChpLGZ1bmN0aW9uKGksZil7dmFyIGU7Zi5vcHRncm91cCE9PXUmJihlPW4oIjxsaT4iLHt0ZXh0OmYub3B0Z3JvdXB9KSxyLl9hZGRDbGFzcyhlLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZi5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksZS5hcHBlbmRUbyh0KSx1PWYub3B0Z3JvdXApO3IuX3JlbmRlckl0ZW1EYXRhKHQsZil9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0obix0KS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3ZhciByPW4oIjxsaT4iKSx1PW4oIjxkaXY+Iix7dGl0bGU6aS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gaS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MocixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQodSxpLmxhYmVsKSxyLmFwcGVuZCh1KS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24obix0KXt0P24udGV4dCh0KTpuLmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbihuLHQpe3ZhciByLGk9Ii51aS1tZW51LWl0ZW0iO3RoaXMuaXNPcGVuP3I9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik6KHI9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKSxpKz0iOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpIik7KGk9ImZpcnN0Ij09PW58fCJsYXN0Ij09PW4/clsiZmlyc3QiPT09bj8icHJldkFsbCI6Im5leHRBbGwiXShpKS5lcSgtMSk6cltuKyJBbGwiXShpKS5lcSgwKSkubGVuZ3RoJiZ0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyh0LGkpfSxfZ2V0U2VsZWN0ZWRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KS5wYXJlbnQoImxpIil9LF90b2dnbGU6ZnVuY3Rpb24obil7dGhpc1t0aGlzLmlzT3Blbj8iY2xvc2UiOiJvcGVuIl0obil9LF9zZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbjt0aGlzLnJhbmdlJiYod2luZG93LmdldFNlbGVjdGlvbj8oKG49d2luZG93LmdldFNlbGVjdGlvbigpKS5yZW1vdmVBbGxSYW5nZXMoKSxuLmFkZFJhbmdlKHRoaXMucmFuZ2UpKTp0aGlzLnJhbmdlLnNlbGVjdCgpLHRoaXMuYnV0dG9uLnRyaWdnZXIoImZvY3VzIikpfSxfZG9jdW1lbnRDbGljazp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuaXNPcGVuJiYobih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXNlbGVjdG1lbnUtbWVudSwgIyIrbi5lc2NhcGVTZWxlY3Rvcih0aGlzLmlkcy5idXR0b24pKS5sZW5ndGh8fHRoaXMuY2xvc2UodCkpfX0sX2J1dHRvbkV2ZW50czp7bW91c2Vkb3duOmZ1bmN0aW9uKCl7dmFyIG47d2luZG93LmdldFNlbGVjdGlvbj8obj13aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPW4uZ2V0UmFuZ2VBdCgwKSk6dGhpcy5yYW5nZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX0sY2xpY2s6ZnVuY3Rpb24obil7dGhpcy5fc2V0U2VsZWN0aW9uKCk7dGhpcy5fdG9nZ2xlKG4pfSxrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBpPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLlRBQjpjYXNlIG4udWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jbG9zZSh0KTtpPSExO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVOVEVSOnRoaXMuaXNPcGVuJiZ0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5pc09wZW4/dGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk6dGhpcy5fdG9nZ2xlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTpjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOnRoaXMuX21vdmUoImZpcnN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMuX21vdmUoImxhc3QiLHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5tZW51LnRyaWdnZXIodCk7aT0hMX1pJiZ0LnByZXZlbnREZWZhdWx0KCl9fSxfc2VsZWN0Rm9jdXNlZEl0ZW06ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik7dC5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8dGhpcy5fc2VsZWN0KHQuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksbil9LF9zZWxlY3Q6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDt0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleD1uLmluZGV4O3RoaXMuYnV0dG9uSXRlbS5yZXBsYWNlV2l0aCh0aGlzLmJ1dHRvbkl0ZW09dGhpcy5fcmVuZGVyQnV0dG9uSXRlbShuKSk7dGhpcy5fc2V0QXJpYShuKTt0aGlzLl90cmlnZ2VyKCJzZWxlY3QiLHQse2l0ZW06bn0pO24uaW5kZXghPT1pJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQse2l0ZW06bn0pO3RoaXMuY2xvc2UodCl9LF9zZXRBcmlhOmZ1bmN0aW9uKG4pe249dGhpcy5tZW51SXRlbXMuZXEobi5pbmRleCkuYXR0cigiaWQiKTt0aGlzLmJ1dHRvbi5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5IjpuLCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOm59KTt0aGlzLm1lbnUuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixuKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpOyJpY29ucyI9PT1uJiYoaT10aGlzLmJ1dHRvbi5maW5kKCJzcGFuLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbikuX2FkZENsYXNzKGksbnVsbCx0LmJ1dHRvbikpO3RoaXMuX3N1cGVyKG4sdCk7ImFwcGVuZFRvIj09PW4mJnRoaXMubWVudVdyYXAuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSk7IndpZHRoIj09PW4mJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5tZW51SW5zdGFuY2Uub3B0aW9uKCJkaXNhYmxlZCIsbik7dGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsbik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5idXR0b24sbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLG4pO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsbik7bj8odGhpcy5idXR0b24uYXR0cigidGFiaW5kZXgiLC0xKSx0aGlzLmNsb3NlKCkpOnRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwwKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybih0PSEodD10JiYodC5qcXVlcnl8fHQubm9kZVR5cGU/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpKXx8IXRbMF0/dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik6dCkubGVuZ3RoP3Q6dGhpcy5kb2N1bWVudFswXS5ib2R5fSxfdG9nZ2xlQXR0cjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZXhwYW5kZWQiLHRoaXMuaXNPcGVuKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/ImNsb3NlZCI6Im9wZW4iKSkuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi0iKyh0aGlzLmlzT3Blbj8ib3BlbiI6ImNsb3NlZCIpKS5fdG9nZ2xlQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1vcGVuIixudWxsLHRoaXMuaXNPcGVuKTt0aGlzLm1lbnUuYXR0cigiYXJpYS1oaWRkZW4iLCF0aGlzLmlzT3Blbil9LF9yZXNpemVCdXR0b246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMud2lkdGg7ITEhPT1uPyhudWxsPT09biYmKG49dGhpcy5lbGVtZW50LnNob3coKS5vdXRlcldpZHRoKCksdGhpcy5lbGVtZW50LmhpZGUoKSksdGhpcy5idXR0b24ub3V0ZXJXaWR0aChuKSk6dGhpcy5idXR0b24uY3NzKCJ3aWR0aCIsIiIpfSxfcmVzaXplTWVudTpmdW5jdGlvbigpe3RoaXMubWVudS5vdXRlcldpZHRoKE1hdGgubWF4KHRoaXMuYnV0dG9uLm91dGVyV2lkdGgoKSx0aGlzLm1lbnUud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxKSl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fc3VwZXIoKTtyZXR1cm4gbi5kaXNhYmxlZD10aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSxufSxfcGFyc2VPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1bXTt0LmVhY2goZnVuY3Rpb24odCx1KXt1LmhpZGRlbnx8aS5wdXNoKHIuX3BhcnNlT3B0aW9uKG4odSksdCkpfSk7dGhpcy5pdGVtcz1pfSxfcGFyc2VPcHRpb246ZnVuY3Rpb24obix0KXt2YXIgaT1uLnBhcmVudCgib3B0Z3JvdXAiKTtyZXR1cm57ZWxlbWVudDpuLGluZGV4OnQsdmFsdWU6bi52YWwoKSxsYWJlbDpuLnRleHQoKSxvcHRncm91cDppLmF0dHIoImxhYmVsIil8fCIiLGRpc2FibGVkOmkucHJvcCgiZGlzYWJsZWQiKXx8bi5wcm9wKCJkaXNhYmxlZCIpfX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl91bmJpbmRGb3JtUmVzZXRIYW5kbGVyKCk7dGhpcy5tZW51V3JhcC5yZW1vdmUoKTt0aGlzLmJ1dHRvbi5yZW1vdmUoKTt0aGlzLmVsZW1lbnQuc2hvdygpO3RoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpO3RoaXMubGFiZWxzLmF0dHIoImZvciIsdGhpcy5pZHMuZWxlbWVudCl9fV0pO24ud2lkZ2V0KCJ1aS5zbGlkZXIiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTMuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnthbmltYXRlOiExLGNsYXNzZXM6eyJ1aS1zbGlkZXIiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLWhhbmRsZSI6InVpLWNvcm5lci1hbGwiLCJ1aS1zbGlkZXItcmFuZ2UiOiJ1aS1jb3JuZXItYWxsIHVpLXdpZGdldC1oZWFkZXIifSxkaXN0YW5jZTowLG1heDoxMDAsbWluOjAsb3JpZW50YXRpb246Imhvcml6b250YWwiLHJhbmdlOiExLHN0ZXA6MSx2YWx1ZTowLHZhbHVlczpudWxsLGNoYW5nZTpudWxsLHNsaWRlOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LG51bVBhZ2VzOjUsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmc9ITE7dGhpcy5fbW91c2VTbGlkaW5nPSExO3RoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5faGFuZGxlSW5kZXg9bnVsbDt0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuX2NhbGN1bGF0ZU5ld01heCgpO3RoaXMuX2FkZENsYXNzKCJ1aS1zbGlkZXIgdWktc2xpZGVyLSIrdGhpcy5vcmllbnRhdGlvbiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fcmVmcmVzaCgpO3RoaXMuX2FuaW1hdGVPZmY9ITF9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlUmFuZ2UoKTt0aGlzLl9jcmVhdGVIYW5kbGVzKCk7dGhpcy5fc2V0dXBFdmVudHMoKTt0aGlzLl9yZWZyZXNoVmFsdWUoKX0sX2NyZWF0ZUhhbmRsZXM6ZnVuY3Rpb24oKXt2YXIgcix1PXRoaXMub3B0aW9ucyx0PXRoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWhhbmRsZSIpLGY9W10saT11LnZhbHVlcyYmdS52YWx1ZXMubGVuZ3RofHwxO2Zvcih0Lmxlbmd0aD5pJiYodC5zbGljZShpKS5yZW1vdmUoKSx0PXQuc2xpY2UoMCxpKSkscj10Lmxlbmd0aDtyPGk7cisrKWYucHVzaCgiPHNwYW4gdGFiaW5kZXg9JzAnPjxcL3NwYW4+Iik7dGhpcy5oYW5kbGVzPXQuYWRkKG4oZi5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKTt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8oITA9PT10LnJhbmdlJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06QXJyYXkuaXNBcnJheSh0LnZhbHVlcykmJih0LnZhbHVlcz10LnZhbHVlcy5zbGljZSgwKSk6dC52YWx1ZXM9W3RoaXMuX3ZhbHVlTWluKCksdGhpcy5fdmFsdWVNaW4oKV0pLHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UubGVuZ3RoPyh0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLnJhbmdlLCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXgiKSx0aGlzLnJhbmdlLmNzcyh7bGVmdDoiIixib3R0b206IiJ9KSk6KHRoaXMucmFuZ2U9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZSIpKSwibWluIiE9PXQucmFuZ2UmJiJtYXgiIT09dC5yYW5nZXx8dGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlLSIrdC5yYW5nZSkpOih0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMucmFuZ2U9bnVsbCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmhhbmRsZXMpO3RoaXMuX29uKHRoaXMuaGFuZGxlcyx0aGlzLl9oYW5kbGVFdmVudHMpO3RoaXMuX2hvdmVyYWJsZSh0aGlzLmhhbmRsZXMpO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLmhhbmRsZXMpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcy5yZW1vdmUoKTt0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpO3RoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSx1LG8sZixzPXRoaXMsaD10aGlzLm9wdGlvbnM7cmV0dXJuIWguZGlzYWJsZWQmJih0aGlzLmVsZW1lbnRTaXplPXt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKX0sdGhpcy5lbGVtZW50T2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxmPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxlPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShmKSxyPXRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSsxLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBmPU1hdGguYWJzKGUtcy52YWx1ZXModCkpOyhmPHJ8fHI9PT1mJiYodD09PXMuX2xhc3RDaGFuZ2VkVmFsdWV8fHMudmFsdWVzKHQpPT09aC5taW4pKSYmKHI9ZixpPW4odGhpcyksdT10KX0pLCExIT09dGhpcy5fc3RhcnQodCx1KSYmKHRoaXMuX21vdXNlU2xpZGluZz0hMCx0aGlzLl9oYW5kbGVJbmRleD11LHRoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksaS50cmlnZ2VyKCJmb2N1cyIpLG89aS5vZmZzZXQoKSxmPSFuKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX2NsaWNrT2Zmc2V0PWY/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6dC5wYWdlWC1vLmxlZnQtaS53aWR0aCgpLzIsdG9wOnQucGFnZVktby50b3AtaS5oZWlnaHQoKS8yLShwYXJzZUludChpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChpLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChpLmNzcygibWFyZ2luVG9wIiksMTApfHwwKX0sdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfHx0aGlzLl9zbGlkZSh0LHUsZSksdGhpcy5fYW5pbWF0ZU9mZj0hMCkpfSxfbW91c2VTdGFydDpmdW5jdGlvbigpe3JldHVybiEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKG4pe3ZhciB0PXt4Om4ucGFnZVgseTpuLnBhZ2VZfSx0PXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSh0KTtyZXR1cm4gdGhpcy5fc2xpZGUobix0aGlzLl9oYW5kbGVJbmRleCx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oYW5kbGVzLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9zdG9wKG4sdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2NoYW5nZShuLHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9oYW5kbGVJbmRleD1udWxsLHRoaXMuX2NsaWNrT2Zmc2V0PW51bGwsdGhpcy5fYW5pbWF0ZU9mZj0hMX0sX2RldGVjdE9yaWVudGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5vcmllbnRhdGlvbj0idmVydGljYWwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxfbm9ybVZhbHVlRnJvbU1vdXNlOmZ1bmN0aW9uKG4pe3ZhciB0LG49Imhvcml6b250YWwiPT09dGhpcy5vcmllbnRhdGlvbj8odD10aGlzLmVsZW1lbnRTaXplLndpZHRoLG4ueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KHQ9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQsbi55LXRoaXMuZWxlbWVudE9mZnNldC50b3AtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LnRvcDowKSksbj1uL3Q7cmV0dXJuKG49MTxuPzE6bik8MCYmKG49MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJihuPTEtbiksdD10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksdD10aGlzLl92YWx1ZU1pbigpK24qdCx0aGlzLl90cmltQWxpZ25WYWx1ZSh0KX0sX3VpSGFzaDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9e2hhbmRsZTp0aGlzLmhhbmRsZXNbbl0saGFuZGxlSW5kZXg6bix2YWx1ZTp2b2lkIDAhPT10P3Q6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHIudmFsdWU9dm9pZCAwIT09dD90OnRoaXMudmFsdWVzKG4pLHIudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHJ9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixuLHRoaXMuX3VpSGFzaCh0KSl9LF9zbGlkZTpmdW5jdGlvbihuLHQsaSl7dmFyIHIsdT10aGlzLnZhbHVlKCksZj10aGlzLnZhbHVlcygpO3RoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkmJihyPXRoaXMudmFsdWVzKHQ/MDoxKSx1PXRoaXMudmFsdWVzKHQpLDI9PT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmITA9PT10aGlzLm9wdGlvbnMucmFuZ2UmJihpPTA9PT10P01hdGgubWluKHIsaSk6TWF0aC5tYXgocixpKSksZlt0XT1pKTtpIT09dSYmITEhPT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsbix0aGlzLl91aUhhc2godCxpLGYpKSYmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy52YWx1ZXModCxpKTp0aGlzLnZhbHVlKGkpKX0sX3N0b3A6ZnVuY3Rpb24obix0KXt0aGlzLl90cmlnZ2VyKCJzdG9wIixuLHRoaXMuX3VpSGFzaCh0KSl9LF9jaGFuZ2U6ZnVuY3Rpb24obix0KXt0aGlzLl9rZXlTbGlkaW5nfHx0aGlzLl9tb3VzZVNsaWRpbmd8fCh0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlPXQsdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuLHRoaXMuX3VpSGFzaCh0KSkpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3RyaW1BbGlnblZhbHVlKG4pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgdGhpcy5fY2hhbmdlKG51bGwsMCkpOnRoaXMuX3ZhbHVlKCl9LHZhbHVlczpmdW5jdGlvbihuLHQpe3ZhciByLHUsaTtpZigxPGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXNbbl09dGhpcy5fdHJpbUFsaWduVmFsdWUodCksdGhpcy5fcmVmcmVzaFZhbHVlKCksdm9pZCB0aGlzLl9jaGFuZ2UobnVsbCxuKTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIUFycmF5LmlzQXJyYXkobikpcmV0dXJuIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy5fdmFsdWVzKG4pOnRoaXMudmFsdWUoKTtmb3Iocj10aGlzLm9wdGlvbnMudmFsdWVzLHU9bixpPTA7aTxyLmxlbmd0aDtpKz0xKXJbaV09dGhpcy5fdHJpbUFsaWduVmFsdWUodVtpXSksdGhpcy5fY2hhbmdlKG51bGwsaSk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt2YXIgaSxyPTA7c3dpdGNoKCJyYW5nZSI9PT1uJiYhMD09PXRoaXMub3B0aW9ucy5yYW5nZSYmKCJtaW4iPT09dD8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09dCYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMudmFsdWVzKSYmKHI9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpLHRoaXMuX3N1cGVyKG4sdCksbil7Y2FzZSJvcmllbnRhdGlvbiI6dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuX2FkZENsYXNzKCJ1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLm9wdGlvbnMucmFuZ2UmJnRoaXMuX3JlZnJlc2hSYW5nZSh0KTt0aGlzLmhhbmRsZXMuY3NzKCJob3Jpem9udGFsIj09PXQ/ImJvdHRvbSI6ImxlZnQiLCIiKTticmVhaztjYXNlInZhbHVlIjp0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMuX2NoYW5nZShudWxsLDApO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJ2YWx1ZXMiOmZvcih0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLGk9ci0xOzA8PWk7aS0tKXRoaXMuX2NoYW5nZShudWxsLGkpO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJzdGVwIjpjYXNlIm1pbiI6Y2FzZSJtYXgiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInJhbmdlIjp0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIHRoaXMuX3RyaW1BbGlnblZhbHVlKG4pfSxfdmFsdWVzOmZ1bmN0aW9uKG4pe3ZhciB0LGk7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbj10aGlzLm9wdGlvbnMudmFsdWVzW25dLG49dGhpcy5fdHJpbUFsaWduVmFsdWUobik7aWYodGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSl7Zm9yKHQ9dGhpcy5vcHRpb25zLnZhbHVlcy5zbGljZSgpLGk9MDtpPHQubGVuZ3RoO2krPTEpdFtpXT10aGlzLl90cmltQWxpZ25WYWx1ZSh0W2ldKTtyZXR1cm4gdH1yZXR1cm5bXX0sX3RyaW1BbGlnblZhbHVlOmZ1bmN0aW9uKG4pe2lmKG48PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWluKCk7aWYobj49dGhpcy5fdmFsdWVNYXgoKSlyZXR1cm4gdGhpcy5fdmFsdWVNYXgoKTt2YXIgdD0wPHRoaXMub3B0aW9ucy5zdGVwP3RoaXMub3B0aW9ucy5zdGVwOjEsaT0obi10aGlzLl92YWx1ZU1pbigpKSV0LG49bi1pO3JldHVybiAyKk1hdGguYWJzKGkpPj10JiYobis9MDxpP3Q6LXQpLHBhcnNlRmxvYXQobi50b0ZpeGVkKDUpKX0sX2NhbGN1bGF0ZU5ld01heDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy5tYXgsaT10aGlzLl92YWx1ZU1pbigpLHQ9dGhpcy5vcHRpb25zLnN0ZXA7KG49TWF0aC5yb3VuZCgobi1pKS90KSp0K2kpPnRoaXMub3B0aW9ucy5tYXgmJihuLT10KTt0aGlzLm1heD1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpfSxfcHJlY2lzaW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLnN0ZXApO3JldHVybiBudWxsIT09dGhpcy5vcHRpb25zLm1pbj9NYXRoLm1heChuLHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKTpufSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24obil7dmFyIHQ9bi50b1N0cmluZygpLG49dC5pbmRleE9mKCIuIik7cmV0dXJuLTE9PT1uPzA6dC5sZW5ndGgtbi0xfSxfdmFsdWVNaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbn0sX3ZhbHVlTWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4fSxfcmVmcmVzaFJhbmdlOmZ1bmN0aW9uKG4peyJ2ZXJ0aWNhbCI9PT1uJiZ0aGlzLnJhbmdlLmNzcyh7d2lkdGg6IiIsbGVmdDoiIn0pOyJob3Jpem9udGFsIj09PW4mJnRoaXMucmFuZ2UuY3NzKHtoZWlnaHQ6IiIsYm90dG9tOiIifSl9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgcyx0LGMsZixoLGU9dGhpcy5vcHRpb25zLnJhbmdlLGk9dGhpcy5vcHRpb25zLHI9dGhpcyx1PSF0aGlzLl9hbmltYXRlT2ZmJiZpLmFuaW1hdGUsbz17fTt0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGYpe3Q9KHIudmFsdWVzKGYpLXIuX3ZhbHVlTWluKCkpLyhyLl92YWx1ZU1heCgpLXIuX3ZhbHVlTWluKCkpKjEwMDtvWyJob3Jpem9udGFsIj09PXIub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT10KyIlIjtuKHRoaXMpLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0obyxpLmFuaW1hdGUpOyEwPT09ci5vcHRpb25zLnJhbmdlJiYoImhvcml6b250YWwiPT09ci5vcmllbnRhdGlvbj8oMD09PWYmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7bGVmdDp0KyIlIn0saS5hbmltYXRlKSwxPT09ZiYmci5yYW5nZVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSk6KDA9PT1mJiZyLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2JvdHRvbTp0KyIlIn0saS5hbmltYXRlKSwxPT09ZiYmci5yYW5nZVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0LXMrIiUifSx7cXVldWU6ITEsZHVyYXRpb246aS5hbmltYXRlfSkpKTtzPXR9KTooYz10aGlzLnZhbHVlKCksZj10aGlzLl92YWx1ZU1pbigpLGg9dGhpcy5fdmFsdWVNYXgoKSx0PWghPT1mPyhjLWYpLyhoLWYpKjEwMDowLG9bImhvcml6b250YWwiPT09dGhpcy5vcmllbnRhdGlvbj8ibGVmdCI6ImJvdHRvbSJdPXQrIiUiLHRoaXMuaGFuZGxlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0obyxpLmFuaW1hdGUpLCJtaW4iPT09ZSYmImhvcml6b250YWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDp0KyIlIn0saS5hbmltYXRlKSwibWF4Ij09PWUmJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6MTAwLXQrIiUifSxpLmFuaW1hdGUpLCJtaW4iPT09ZSYmInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OnQrIiUifSxpLmFuaW1hdGUpLCJtYXgiPT09ZSYmInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OjEwMC10KyIlIn0saS5hbmltYXRlKSl9LF9oYW5kbGVFdmVudHM6e2tleWRvd246ZnVuY3Rpb24odCl7dmFyIHIsaSx1LGY9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmNhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZih0LnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuX2FkZENsYXNzKG4odC50YXJnZXQpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLCExPT09dGhpcy5fc3RhcnQodCxmKSkpcmV0dXJufXN3aXRjaCh1PXRoaXMub3B0aW9ucy5zdGVwLHI9aT10aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMudmFsdWVzKGYpOnRoaXMudmFsdWUoKSx0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6aT10aGlzLl92YWx1ZU1pbigpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDppPXRoaXMuX3ZhbHVlTWF4KCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDppPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIrKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmk9dGhpcy5fdHJpbUFsaWduVmFsdWUoci0odGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpKS90aGlzLm51bVBhZ2VzKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5SSUdIVDppZihyPT09dGhpcy5fdmFsdWVNYXgoKSlyZXR1cm47aT10aGlzLl90cmltQWxpZ25WYWx1ZShyK3UpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZihyPT09dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm47aT10aGlzLl90cmltQWxpZ25WYWx1ZShyLXUpfXRoaXMuX3NsaWRlKHQsZixpKX0sa2V5dXA6ZnVuY3Rpb24odCl7dmFyIGk9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX3N0b3AodCxpKSx0aGlzLl9jaGFuZ2UodCxpKSx0aGlzLl9yZW1vdmVDbGFzcyhuKHQudGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSl9fX0pO24ud2lkZ2V0KCJ1aS5zb3J0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMy4yIix3aWRnZXRFdmVudFByZWZpeDoic29ydCIscmVhZHk6ITEsb3B0aW9uczp7YXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0V2l0aDohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGRyb3BPbkVtcHR5OiEwLGZvcmNlUGxhY2Vob2xkZXJTaXplOiExLGZvcmNlSGVscGVyU2l6ZTohMSxncmlkOiExLGhhbmRsZTohMSxoZWxwZXI6Im9yaWdpbmFsIixpdGVtczoiPiAqIixvcGFjaXR5OiExLHBsYWNlaG9sZGVyOiExLHJldmVydDohMSxzY3JvbGw6ITAsc2Nyb2xsU2Vuc2l0aXZpdHk6MjAsc2Nyb2xsU3BlZWQ6MjAsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0Iix6SW5kZXg6MWUzLGFjdGl2YXRlOm51bGwsYmVmb3JlU3RvcDpudWxsLGNoYW5nZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGwscmVjZWl2ZTpudWxsLHJlbW92ZTpudWxsLHNvcnQ6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbCx1cGRhdGU6bnVsbH0sX2lzT3ZlckF4aXM6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0PD1uJiZuPHQraX0sX2lzRmxvYXRpbmc6ZnVuY3Rpb24obil7cmV0dXJuL2xlZnR8cmlnaHQvLnRlc3Qobi5jc3MoImZsb2F0IikpfHwvaW5saW5lfHRhYmxlLWNlbGwvLnRlc3Qobi5jc3MoImRpc3BsYXkiKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lckNhY2hlPXt9O3RoaXMuX2FkZENsYXNzKCJ1aS1zb3J0YWJsZSIpO3RoaXMucmVmcmVzaCgpO3RoaXMub2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTt0aGlzLnJlYWR5PSEwfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dGhpcy5fc3VwZXIobix0KTsiaGFuZGxlIj09PW4mJnRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpfSxfc2V0SGFuZGxlQ2xhc3NOYW1lOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNvcnRhYmxlLWhhbmRsZSIpLCJ1aS1zb3J0YWJsZS1oYW5kbGUiKTtuLmVhY2godGhpcy5pdGVtcyxmdW5jdGlvbigpe3QuX2FkZENsYXNzKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGU/dGhpcy5pdGVtLmZpbmQodGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSk6dGhpcy5pdGVtLCJ1aS1zb3J0YWJsZS1oYW5kbGUiKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO2Zvcih2YXIgbj10aGlzLml0ZW1zLmxlbmd0aC0xOzA8PW47bi0tKXRoaXMuaXRlbXNbbl0uaXRlbS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSsiLWl0ZW0iKTtyZXR1cm4gdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0LGkpe3ZhciByPW51bGwsZj0hMSx1PXRoaXM7cmV0dXJuIXRoaXMucmV2ZXJ0aW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkJiYic3RhdGljIiE9PXRoaXMub3B0aW9ucy50eXBlJiYodGhpcy5fcmVmcmVzaEl0ZW1zKHQpLG4odC50YXJnZXQpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7aWYobi5kYXRhKHRoaXMsdS53aWRnZXROYW1lKyItaXRlbSIpPT09dSlyZXR1cm4gcj1uKHRoaXMpLCExfSksISEocj1uLmRhdGEodC50YXJnZXQsdS53aWRnZXROYW1lKyItaXRlbSIpPT09dT9uKHQudGFyZ2V0KTpyKSYmISh0aGlzLm9wdGlvbnMuaGFuZGxlJiYhaSYmKG4odGhpcy5vcHRpb25zLmhhbmRsZSxyKS5maW5kKCIqIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt0aGlzPT09dC50YXJnZXQmJihmPSEwKX0pLCFmKSkmJih0aGlzLmN1cnJlbnRJdGVtPXIsdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMCkpfSxfbW91c2VTdGFydDpmdW5jdGlvbih0LGkscil7dmFyIGYsZSx1PXRoaXMub3B0aW9ucztpZigodGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMpLnJlZnJlc2hQb3NpdGlvbnMoKSx0aGlzLmFwcGVuZFRvPW4oInBhcmVudCIhPT11LmFwcGVuZFRvP3UuYXBwZW5kVG86dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKSksdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSxuLmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0pLHRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpLHUuY3Vyc29yQXQmJnRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIodS5jdXJzb3JBdCksdGhpcy5kb21Qb3NpdGlvbj17cHJldjp0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVswXSxwYXJlbnQ6dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXX0sdGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmN1cnJlbnRJdGVtLmhpZGUoKSx0aGlzLl9jcmVhdGVQbGFjZWhvbGRlcigpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMucGxhY2Vob2xkZXIuc2Nyb2xsUGFyZW50KCksbi5leHRlbmQodGhpcy5vZmZzZXQse3BhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKX0pLHUuY29udGFpbm1lbnQmJnRoaXMuX3NldENvbnRhaW5tZW50KCksdS5jdXJzb3ImJiJhdXRvIiE9PXUuY3Vyc29yJiYoZT10aGlzLmRvY3VtZW50LmZpbmQoImJvZHkiKSx0aGlzLnN0b3JlZEN1cnNvcj1lLmNzcygiY3Vyc29yIiksZS5jc3MoImN1cnNvciIsdS5jdXJzb3IpLHRoaXMuc3RvcmVkU3R5bGVzaGVldD1uKCI8c3R5bGU+KnsgY3Vyc29yOiAiK3UuY3Vyc29yKyIgIWltcG9ydGFudDsgfTxcL3N0eWxlPiIpLmFwcGVuZFRvKGUpKSx1LnpJbmRleCYmKHRoaXMuaGVscGVyLmNzcygiekluZGV4IikmJih0aGlzLl9zdG9yZWRaSW5kZXg9dGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSksdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLHUuekluZGV4KSksdS5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IikmJih0aGlzLl9zdG9yZWRPcGFjaXR5PXRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSx0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHUub3BhY2l0eSkpLHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmIkhUTUwiIT09dGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSYmKHRoaXMub3ZlcmZsb3dPZmZzZXQ9dGhpcy5zY3JvbGxQYXJlbnQub2Zmc2V0KCkpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLl9wcmVzZXJ2ZUhlbHBlclByb3BvcnRpb25zfHx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksIXIpZm9yKGY9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PWY7Zi0tKXRoaXMuY29udGFpbmVyc1tmXS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKTtyZXR1cm4gbi51aS5kZG1hbmFnZXImJihuLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLG4udWkuZGRtYW5hZ2VyJiYhdS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNvcnRhYmxlLWhlbHBlciIpLHRoaXMuaGVscGVyLnBhcmVudCgpLmlzKHRoaXMuYXBwZW5kVG8pfHwodGhpcy5oZWxwZXIuZGV0YWNoKCkuYXBwZW5kVG8odGhpcy5hcHBlbmRUbyksdGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKSx0aGlzLnBvc2l0aW9uPXRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQpLHRoaXMub3JpZ2luYWxQYWdlWD10LnBhZ2VYLHRoaXMub3JpZ2luYWxQYWdlWT10LnBhZ2VZLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5fbW91c2VEcmFnKHQpLCEwfSxfc2Nyb2xsOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMub3B0aW9ucyxpPSExO3JldHVybiB0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWU/KHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wK3RoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldEhlaWdodC1uLnBhZ2VZPHQuc2Nyb2xsU2Vuc2l0aXZpdHk/dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPWk9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wK3Quc2Nyb2xsU3BlZWQ6bi5wYWdlWS10aGlzLm92ZXJmbG93T2Zmc2V0LnRvcDx0LnNjcm9sbFNlbnNpdGl2aXR5JiYodGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPWk9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wLXQuc2Nyb2xsU3BlZWQpLHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRXaWR0aC1uLnBhZ2VYPHQuc2Nyb2xsU2Vuc2l0aXZpdHk/dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1pPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQrdC5zY3JvbGxTcGVlZDpuLnBhZ2VYLXRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdDx0LnNjcm9sbFNlbnNpdGl2aXR5JiYodGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1pPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQtdC5zY3JvbGxTcGVlZCkpOihuLnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCk8dC5zY3JvbGxTZW5zaXRpdml0eT9pPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCktdC5zY3JvbGxTcGVlZCk6dGhpcy53aW5kb3cuaGVpZ2h0KCktKG4ucGFnZVktdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSk8dC5zY3JvbGxTZW5zaXRpdml0eSYmKGk9dGhpcy5kb2N1bWVudC5zY3JvbGxUb3AodGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSt0LnNjcm9sbFNwZWVkKSksbi5wYWdlWC10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKTx0LnNjcm9sbFNlbnNpdGl2aXR5P2k9dGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLXQuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LndpZHRoKCktKG4ucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkpPHQuc2Nyb2xsU2Vuc2l0aXZpdHkmJihpPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSt0LnNjcm9sbFNwZWVkKSkpLGl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIHUsaSxyLGYsZT10aGlzLm9wdGlvbnM7Zm9yKHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMub3B0aW9ucy5heGlzJiYieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMub3B0aW9ucy5heGlzJiYieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSxlLnNjcm9sbCYmITEhPT10aGlzLl9zY3JvbGwodCkmJih0aGlzLl9yZWZyZXNoSXRlbVBvc2l0aW9ucyghMCksbi51aS5kZG1hbmFnZXImJiFlLmRyb3BCZWhhdmlvdXImJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsdCkpLHRoaXMuZHJhZ0RpcmVjdGlvbj17dmVydGljYWw6dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaG9yaXpvbnRhbDp0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpfSx1PXRoaXMuaXRlbXMubGVuZ3RoLTE7MDw9dTt1LS0paWYocj0oaT10aGlzLml0ZW1zW3VdKS5pdGVtWzBdLChmPXRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlcihpKSkmJmkuaW5zdGFuY2U9PT10aGlzLmN1cnJlbnRDb250YWluZXImJiEocj09PXRoaXMuY3VycmVudEl0ZW1bMF18fHRoaXMucGxhY2Vob2xkZXJbMT09PWY/Im5leHQiOiJwcmV2Il0oKVswXT09PXJ8fG4uY29udGFpbnModGhpcy5wbGFjZWhvbGRlclswXSxyKXx8InNlbWktZHluYW1pYyI9PT10aGlzLm9wdGlvbnMudHlwZSYmbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0scikpKXtpZih0aGlzLmRpcmVjdGlvbj0xPT09Zj8iZG93biI6InVwIiwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiYhdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyhpKSlicmVhazt0aGlzLl9yZWFycmFuZ2UodCxpKTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfXJldHVybiB0aGlzLl9jb250YWN0Q29udGFpbmVycyh0KSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLHRoaXMuX3RyaWdnZXIoInNvcnQiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMsITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCxpKXt2YXIgZSxmLHIsdTtpZih0KXJldHVybiBuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCksdGhpcy5vcHRpb25zLnJldmVydD8oZj0oZT10aGlzKS5wbGFjZWhvbGRlci5vZmZzZXQoKSx1PXt9LChyPXRoaXMub3B0aW9ucy5heGlzKSYmIngiIT09cnx8KHUubGVmdD1mLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnQrKHRoaXMub2Zmc2V0UGFyZW50WzBdPT09dGhpcy5kb2N1bWVudFswXS5ib2R5PzA6dGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsTGVmdCkpLHImJiJ5IiE9PXJ8fCh1LnRvcD1mLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLXRoaXMubWFyZ2lucy50b3ArKHRoaXMub2Zmc2V0UGFyZW50WzBdPT09dGhpcy5kb2N1bWVudFswXS5ib2R5PzA6dGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsVG9wKSksdGhpcy5yZXZlcnRpbmc9ITAsbih0aGlzLmhlbHBlcikuYW5pbWF0ZSh1LHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnQsMTApfHw1MDAsZnVuY3Rpb24oKXtlLl9jbGVhcih0KX0pKTp0aGlzLl9jbGVhcih0LGkpLCExfSxjYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXt0aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0Om51bGx9KSk7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/KHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIikpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7MDw9dDt0LS0pdGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbdF0uX3RyaWdnZXIoIm91dCIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyPTApfXJldHVybiB0aGlzLnBsYWNlaG9sZGVyJiYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlJiZ0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksIm9yaWdpbmFsIiE9PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSxuLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/bih0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOm4odGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KHQmJnQuY29ubmVjdGVkKSxpPVtdO3JldHVybiB0PXR8fHt9LG4ocikuZWFjaChmdW5jdGlvbigpe3ZhciByPShuKHQuaXRlbXx8dGhpcykuYXR0cih0LmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaCh0LmV4cHJlc3Npb258fC8oLispW1wtPV9dKC4rKS8pO3ImJmkucHVzaCgodC5rZXl8fHJbMV0rIltdIikrIj0iKyh0LmtleSYmdC5leHByZXNzaW9uP3JbMV06clsyXSkpfSksIWkubGVuZ3RoJiZ0LmtleSYmaS5wdXNoKHQua2V5KyI9IiksaS5qb2luKCImIil9LHRvQXJyYXk6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxyLmVhY2goZnVuY3Rpb24oKXtpLnB1c2gobih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIil9KSxpfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGg9dCt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGk9dGhpcy5wb3NpdGlvbkFicy50b3AsYz1pK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHI9bi5sZWZ0LG89cituLndpZHRoLHU9bi50b3Ascz11K24uaGVpZ2h0LGY9dGhpcy5vZmZzZXQuY2xpY2sudG9wLGU9dGhpcy5vZmZzZXQuY2xpY2subGVmdCxmPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx1PGkrZiYmaStmPHMsZT0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8cjx0K2UmJnQrZTxvO3JldHVybiJwb2ludGVyIj09PXRoaXMub3B0aW9ucy50b2xlcmFuY2V8fHRoaXMub3B0aW9ucy5mb3JjZVBvaW50ZXJGb3JDb250YWluZXJzfHwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiZ0aGlzLmhlbHBlclByb3BvcnRpb25zW3RoaXMuZmxvYXRpbmc/IndpZHRoIjoiaGVpZ2h0Il0+blt0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdP2YmJmU6cjx0K3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmaC10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8byYmdTxpK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmMtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxzfSxfaW50ZXJzZWN0c1dpdGhQb2ludGVyOmZ1bmN0aW9uKG4pe3ZhciB0PSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCxuLmhlaWdodCksbj0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCxuLmxlZnQsbi53aWR0aCk7cmV0dXJuISghdHx8IW4pJiYodD10aGlzLmRyYWdEaXJlY3Rpb24udmVydGljYWwsbj10aGlzLmRyYWdEaXJlY3Rpb24uaG9yaXpvbnRhbCx0aGlzLmZsb2F0aW5nPyJyaWdodCI9PT1ufHwiZG93biI9PT10PzI6MTp0JiYoImRvd24iPT09dD8yOjEpKX0sX2ludGVyc2VjdHNXaXRoU2lkZXM6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3Asbi50b3Arbi5oZWlnaHQvMixuLmhlaWdodCkscj10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LG4ubGVmdCtuLndpZHRoLzIsbi53aWR0aCksdD10aGlzLmRyYWdEaXJlY3Rpb24udmVydGljYWwsbj10aGlzLmRyYWdEaXJlY3Rpb24uaG9yaXpvbnRhbDtyZXR1cm4gdGhpcy5mbG9hdGluZyYmbj8icmlnaHQiPT09biYmcnx8ImxlZnQiPT09biYmIXI6dCYmKCJkb3duIj09PXQmJml8fCJ1cCI9PT10JiYhaSl9LF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLmxhc3RQb3NpdGlvbkFicy50b3A7cmV0dXJuIDAhPW4mJigwPG4/ImRvd24iOiJ1cCIpfSxfZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLmxlZnQtdGhpcy5sYXN0UG9zaXRpb25BYnMubGVmdDtyZXR1cm4gMCE9biYmKDA8bj8icmlnaHQiOiJsZWZ0Iil9LHJlZnJlc2g6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JlZnJlc2hJdGVtcyhuKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSx0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKSx0aGlzfSxfY29ubmVjdFdpdGg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnM7cmV0dXJuIG4uY29ubmVjdFdpdGguY29uc3RydWN0b3I9PT1TdHJpbmc/W24uY29ubmVjdFdpdGhdOm4uY29ubmVjdFdpdGh9LF9nZXRJdGVtc0FzalF1ZXJ5OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGgoKXtzLnB1c2godGhpcyl9dmFyIHIsdSxvLGkscz1bXSxmPVtdLGU9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihlJiZ0KWZvcihyPWUubGVuZ3RoLTE7MDw9cjtyLS0pZm9yKHU9KG89bihlW3JdLHRoaXMuZG9jdW1lbnRbMF0pKS5sZW5ndGgtMTswPD11O3UtLSkoaT1uLmRhdGEob1t1XSx0aGlzLndpZGdldEZ1bGxOYW1lKSkmJmkhPT10aGlzJiYhaS5vcHRpb25zLmRpc2FibGVkJiZmLnB1c2goWyJmdW5jdGlvbiI9PXR5cGVvZiBpLm9wdGlvbnMuaXRlbXM/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50KTpuKGkub3B0aW9ucy5pdGVtcyxpLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaV0pO2ZvcihmLnB1c2goWyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuaXRlbXM/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50LG51bGwse29wdGlvbnM6dGhpcy5vcHRpb25zLGl0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4odGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSx0aGlzXSkscj1mLmxlbmd0aC0xOzA8PXI7ci0tKWZbcl1bMF0uZWFjaChoKTtyZXR1cm4gbihzKX0sX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50SXRlbS5maW5kKCI6ZGF0YSgiK3RoaXMud2lkZ2V0TmFtZSsiLWl0ZW0pIik7dGhpcy5pdGVtcz1uLmdyZXAodGhpcy5pdGVtcyxmdW5jdGlvbihuKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldPT09bi5pdGVtWzBdKXJldHVybiExO3JldHVybiEwfSl9LF9yZWZyZXNoSXRlbXM6ZnVuY3Rpb24odCl7dGhpcy5pdGVtcz1bXTt0aGlzLmNvbnRhaW5lcnM9W3RoaXNdO3ZhciByLHUscyxpLGUsaCxjLGwsYT10aGlzLml0ZW1zLGY9W1siZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLml0ZW1zP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudFswXSx0LHtpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLHRoaXNdXSxvPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYobyYmdGhpcy5yZWFkeSlmb3Iocj1vLmxlbmd0aC0xOzA8PXI7ci0tKWZvcih1PShzPW4ob1tyXSx0aGlzLmRvY3VtZW50WzBdKSkubGVuZ3RoLTE7MDw9dTt1LS0pKGk9bi5kYXRhKHNbdV0sdGhpcy53aWRnZXRGdWxsTmFtZSkpJiZpIT09dGhpcyYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKGYucHVzaChbImZ1bmN0aW9uIj09dHlwZW9mIGkub3B0aW9ucy5pdGVtcz9pLm9wdGlvbnMuaXRlbXMuY2FsbChpLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6bihpLm9wdGlvbnMuaXRlbXMsaS5lbGVtZW50KSxpXSksdGhpcy5jb250YWluZXJzLnB1c2goaSkpO2ZvcihyPWYubGVuZ3RoLTE7MDw9cjtyLS0pZm9yKGU9ZltyXVsxXSxsPShoPWZbcl1bdT0wXSkubGVuZ3RoO3U8bDt1KyspKGM9bihoW3VdKSkuZGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIixlKSxhLnB1c2goe2l0ZW06YyxpbnN0YW5jZTplLHdpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHRvcDowfSl9LF9yZWZyZXNoSXRlbVBvc2l0aW9uczpmdW5jdGlvbih0KXtmb3IodmFyIGkscix1PXRoaXMuaXRlbXMubGVuZ3RoLTE7MDw9dTt1LS0paT10aGlzLml0ZW1zW3VdLHRoaXMuY3VycmVudENvbnRhaW5lciYmaS5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmaS5pdGVtWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXXx8KHI9dGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQ/bih0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCxpLml0ZW0pOmkuaXRlbSx0fHwoaS53aWR0aD1yLm91dGVyV2lkdGgoKSxpLmhlaWdodD1yLm91dGVySGVpZ2h0KCkpLHI9ci5vZmZzZXQoKSxpLmxlZnQ9ci5sZWZ0LGkudG9wPXIudG9wKX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbihuKXt2YXIgdCxpO2lmKHRoaXMuZmxvYXRpbmc9ISF0aGlzLml0ZW1zLmxlbmd0aCYmKCJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuaXRlbXNbMF0uaXRlbSkpLHRoaXMub2Zmc2V0UGFyZW50JiZ0aGlzLmhlbHBlciYmKHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSksdGhpcy5fcmVmcmVzaEl0ZW1Qb3NpdGlvbnMobiksdGhpcy5vcHRpb25zLmN1c3RvbSYmdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycyl0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyk7ZWxzZSBmb3IodD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7MDw9dDt0LS0paT10aGlzLmNvbnRhaW5lcnNbdF0uZWxlbWVudC5vZmZzZXQoKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUubGVmdD1pLmxlZnQsdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLnRvcD1pLnRvcCx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUud2lkdGg9dGhpcy5jb250YWluZXJzW3RdLmVsZW1lbnQub3V0ZXJXaWR0aCgpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5oZWlnaHQ9dGhpcy5jb250YWluZXJzW3RdLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtyZXR1cm4gdGhpc30sX2NyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3ZhciB1LHIsaT0odD10fHx0aGlzKS5vcHRpb25zO2kucGxhY2Vob2xkZXImJmkucGxhY2Vob2xkZXIuY29uc3RydWN0b3IhPT1TdHJpbmd8fCh1PWkucGxhY2Vob2xkZXIscj10LmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaS5wbGFjZWhvbGRlcj17ZWxlbWVudDpmdW5jdGlvbigpe3ZhciBpPW4oIjwiK3IrIj4iLHQuZG9jdW1lbnRbMF0pO3JldHVybiB0Ll9hZGRDbGFzcyhpLCJ1aS1zb3J0YWJsZS1wbGFjZWhvbGRlciIsdXx8dC5jdXJyZW50SXRlbVswXS5jbGFzc05hbWUpLl9yZW1vdmVDbGFzcyhpLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSwidGJvZHkiPT09cj90Ll9jcmVhdGVUclBsYWNlaG9sZGVyKHQuY3VycmVudEl0ZW0uZmluZCgidHIiKS5lcSgwKSxuKCI8dHI+Iix0LmRvY3VtZW50WzBdKS5hcHBlbmRUbyhpKSk6InRyIj09PXI/dC5fY3JlYXRlVHJQbGFjZWhvbGRlcih0LmN1cnJlbnRJdGVtLGkpOiJpbWciPT09ciYmaS5hdHRyKCJzcmMiLHQuY3VycmVudEl0ZW0uYXR0cigic3JjIikpLHV8fGkuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksaX0sdXBkYXRlOmZ1bmN0aW9uKG4sZil7dSYmIWkuZm9yY2VQbGFjZWhvbGRlclNpemV8fChmLmhlaWdodCgpJiYoIWkuZm9yY2VQbGFjZWhvbGRlclNpemV8fCJ0Ym9keSIhPT1yJiYidHIiIT09cil8fGYuaGVpZ2h0KHQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1RvcCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0JvdHRvbSIpfHwwLDEwKSksZi53aWR0aCgpfHxmLndpZHRoKHQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nTGVmdCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1JpZ2h0Iil8fDAsMTApKSl9fSk7dC5wbGFjZWhvbGRlcj1uKGkucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHQuZWxlbWVudCx0LmN1cnJlbnRJdGVtKSk7dC5jdXJyZW50SXRlbS5hZnRlcih0LnBsYWNlaG9sZGVyKTtpLnBsYWNlaG9sZGVyLnVwZGF0ZSh0LHQucGxhY2Vob2xkZXIpfSxfY3JlYXRlVHJQbGFjZWhvbGRlcjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7dC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXtuKCI8dGQ+JiMxNjA7PFwvdGQ+IixyLmRvY3VtZW50WzBdKS5hdHRyKCJjb2xzcGFuIixuKHRoaXMpLmF0dHIoImNvbHNwYW4iKXx8MSkuYXBwZW5kVG8oaSl9KX0sX2NvbnRhY3RDb250YWluZXJzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgdSxoLGYsYSx2LG8sYyxsLHMsZT1udWxsLGk9bnVsbCxyPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTswPD1yO3ItLSluLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0pfHwodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlKT9lJiZuLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tyXS5lbGVtZW50WzBdLGUuZWxlbWVudFswXSl8fChlPXRoaXMuY29udGFpbmVyc1tyXSxpPXIpOnRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW3JdLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKSk7aWYoZSlpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGg9MWU0LGY9bnVsbCxhPShsPWUuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSkpPyJsZWZ0IjoidG9wIix2PWw/IndpZHRoIjoiaGVpZ2h0IixzPWw/InBhZ2VYIjoicGFnZVkiLHU9dGhpcy5pdGVtcy5sZW5ndGgtMTswPD11O3UtLSluLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbdV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbdV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihvPXRoaXMuaXRlbXNbdV0uaXRlbS5vZmZzZXQoKVthXSxjPSExLHRbc10tbz50aGlzLml0ZW1zW3VdW3ZdLzImJihjPSEwKSxNYXRoLmFicyh0W3NdLW8pPGgmJihoPU1hdGguYWJzKHRbc10tbyksZj10aGlzLml0ZW1zW3VdLHRoaXMuZGlyZWN0aW9uPWM/InVwIjoiZG93biIpKTsoZnx8dGhpcy5vcHRpb25zLmRyb3BPbkVtcHR5KSYmKHRoaXMuY3VycmVudENvbnRhaW5lciE9PXRoaXMuY29udGFpbmVyc1tpXT8oZj90aGlzLl9yZWFycmFuZ2UodCxmLG51bGwsITApOnRoaXMuX3JlYXJyYW5nZSh0LG51bGwsdGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQsITApLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jb250YWluZXJzW2ldLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcy5jb250YWluZXJzW2ldLHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlci51cGRhdGUodGhpcy5jdXJyZW50Q29udGFpbmVyLHRoaXMucGxhY2Vob2xkZXIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMucGxhY2Vob2xkZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lJiYodGhpcy5vdmVyZmxvd09mZnNldD10aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKSksdGhpcy5jb250YWluZXJzW2ldLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXI9MSk6dGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXJ8fCh0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyPTEpKX19LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGkuaGVscGVyP24oaS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PWkuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiB0LnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fHRoaXMuYXBwZW5kVG9bMF0uYXBwZW5kQ2hpbGQodFswXSksdFswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0mJih0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfSksdFswXS5zdHlsZS53aWR0aCYmIWkuZm9yY2VIZWxwZXJTaXplfHx0LndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSksdFswXS5zdHlsZS5oZWlnaHQmJiFpLmZvcmNlSGVscGVyU2l6ZXx8dC5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksdH0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24obil7InN0cmluZyI9PXR5cGVvZiBuJiYobj1uLnNwbGl0KCIgIikpOyJsZWZ0ImluKG49QXJyYXkuaXNBcnJheShuKT97bGVmdDorblswXSx0b3A6K25bMV18fDB9Om4pJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD1uLmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpOyJyaWdodCJpbiBuJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLW4ucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpOyJ0b3AiaW4gbiYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD1uLnRvcCt0aGlzLm1hcmdpbnMudG9wKTsiYm90dG9tImluIG4mJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtbi5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSkse3RvcDoodD10aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnVpLmllP3t0b3A6MCxsZWZ0OjB9OnQpLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9uKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciBuPXRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIHQscixpPXRoaXMub3B0aW9uczsicGFyZW50Ij09PWkuY29udGFpbm1lbnQmJihpLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpOyJkb2N1bWVudCIhPT1pLmNvbnRhaW5tZW50JiYid2luZG93IiE9PWkuY29udGFpbm1lbnR8fCh0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKTsvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PW4oaS5jb250YWlubWVudClbMF0scj1uKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLGk9ImhpZGRlbiIhPT1uKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtyLmxlZnQrKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxyLmxlZnQrKGk/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsci50b3ArKGk/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsaSl7aT1pfHx0aGlzLnBvc2l0aW9uO3ZhciByPSJhYnNvbHV0ZSI9PT10PzE6LTEsdT0iYWJzb2x1dGUiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKT90aGlzLnNjcm9sbFBhcmVudDp0aGlzLm9mZnNldFBhcmVudCx0PS8oaHRtbHxib2R5KS9pLnRlc3QodVswXS50YWdOYW1lKTtyZXR1cm57dG9wOmkudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCpyK3RoaXMub2Zmc2V0LnBhcmVudC50b3Aqci0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnQ/MDp1LnNjcm9sbFRvcCgpKSpyLGxlZnQ6aS5sZWZ0K3RoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQqcit0aGlzLm9mZnNldC5wYXJlbnQubGVmdCpyLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnQ/MDp1LnNjcm9sbExlZnQoKSkqcn19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucyxyPXQucGFnZVgsdT10LnBhZ2VZLGY9ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQsZT0vKGh0bWx8Ym9keSkvaS50ZXN0KGZbMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKHI9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYodT10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihyPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKHU9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxpLmdyaWQmJih0PXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKCh1LXRoaXMub3JpZ2luYWxQYWdlWSkvaS5ncmlkWzFdKSppLmdyaWRbMV0sdT0hdGhpcy5jb250YWlubWVudHx8dC10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0mJnQtdGhpcy5vZmZzZXQuY2xpY2sudG9wPD10aGlzLmNvbnRhaW5tZW50WzNdP3Q6dC10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0/dC1pLmdyaWRbMV06dCtpLmdyaWRbMV0sdD10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoci10aGlzLm9yaWdpbmFsUGFnZVgpL2kuZ3JpZFswXSkqaS5ncmlkWzBdLHI9IXRoaXMuY29udGFpbm1lbnR8fHQtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXSYmdC10aGlzLm9mZnNldC5jbGljay5sZWZ0PD10aGlzLmNvbnRhaW5tZW50WzJdP3Q6dC10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdP3QtaS5ncmlkWzBdOnQraS5ncmlkWzBdKSkse3RvcDp1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmU/MDpmLnNjcm9sbFRvcCgpKSxsZWZ0OnItdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOmU/MDpmLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKG4sdCxpLHIpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTp0Lml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj90Lml0ZW1bMF06dC5pdGVtWzBdLm5leHRTaWJsaW5nKTt0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIHU9dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dT09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFyKX0pfSxfY2xlYXI6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7aS5fdHJpZ2dlcihuLHIsdC5fdWlIYXNoKHQpKX19dGhpcy5yZXZlcnRpbmc9ITE7dmFyIGkscj1bXTtpZighdGhpcy5fbm9GaW5hbFNvcnQmJnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKSx0aGlzLl9ub0ZpbmFsU29ydD1udWxsLHRoaXMuaGVscGVyWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSl7Zm9yKGkgaW4gdGhpcy5fc3RvcmVkQ1NTKSJhdXRvIiE9PXRoaXMuX3N0b3JlZENTU1tpXSYmInN0YXRpYyIhPT10aGlzLl9zdG9yZWRDU1NbaV18fCh0aGlzLl9zdG9yZWRDU1NbaV09IiIpO3RoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyk7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIil9ZWxzZSB0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodGhpcy5mcm9tT3V0c2lkZSYmIXQmJnIucHVzaChmdW5jdGlvbihuKXt0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIixuLHRoaXMuX3VpSGFzaCh0aGlzLmZyb21PdXRzaWRlKSl9KSwhdGhpcy5mcm9tT3V0c2lkZSYmdGhpcy5kb21Qb3NpdGlvbi5wcmV2PT09dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCIudWktc29ydGFibGUtaGVscGVyIilbMF0mJnRoaXMuZG9tUG9zaXRpb24ucGFyZW50PT09dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXXx8dHx8ci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInVwZGF0ZSIsbix0aGlzLl91aUhhc2goKSl9KSx0aGlzIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYodHx8KHIucHVzaChmdW5jdGlvbihuKXt0aGlzLl90cmlnZ2VyKCJyZW1vdmUiLG4sdGhpcy5fdWlIYXNoKCkpfSksci5wdXNoKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtuLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSksci5wdXNoKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtuLl90cmlnZ2VyKCJ1cGRhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xOzA8PWk7aS0tKXR8fHIucHVzaCh1KCJkZWFjdGl2YXRlIix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyJiYoci5wdXNoKHUoIm91dCIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbaV0pKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTtpZih0aGlzLnN0b3JlZEN1cnNvciYmKHRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLmNzcygiY3Vyc29yIix0aGlzLnN0b3JlZEN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpKSx0aGlzLl9zdG9yZWRPcGFjaXR5JiZ0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHRoaXMuX3N0b3JlZE9wYWNpdHkpLHRoaXMuX3N0b3JlZFpJbmRleCYmdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLCJhdXRvIj09PXRoaXMuX3N0b3JlZFpJbmRleD8iIjp0aGlzLl9zdG9yZWRaSW5kZXgpLHRoaXMuZHJhZ2dpbmc9ITEsdHx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsbix0aGlzLl91aUhhc2goKSksdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbHx8KHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksdGhpcy5oZWxwZXI9bnVsbCksIXQpe2ZvcihpPTA7aTxyLmxlbmd0aDtpKyspcltpXS5jYWxsKHRoaXMsbik7dGhpcy5fdHJpZ2dlcigic3RvcCIsbix0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbH0sX3RyaWdnZXI6ZnVuY3Rpb24oKXshMT09PW4uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cykmJnRoaXMuY2FuY2VsKCl9LF91aUhhc2g6ZnVuY3Rpb24odCl7dmFyIGk9dHx8dGhpcztyZXR1cm57aGVscGVyOmkuaGVscGVyLHBsYWNlaG9sZGVyOmkucGxhY2Vob2xkZXJ8fG4oW10pLHBvc2l0aW9uOmkucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjppLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OmkucG9zaXRpb25BYnMsaXRlbTppLmN1cnJlbnRJdGVtLHNlbmRlcjp0P3QuZWxlbWVudDpudWxsfX19KTtuLndpZGdldCgidWkuc3Bpbm5lciIse3ZlcnNpb246IjEuMTMuMiIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLHdpZGdldEV2ZW50UHJlZml4OiJzcGluIixvcHRpb25zOntjbGFzc2VzOnsidWktc3Bpbm5lciI6InVpLWNvcm5lci1hbGwiLCJ1aS1zcGlubmVyLWRvd24iOiJ1aS1jb3JuZXItYnIiLCJ1aS1zcGlubmVyLXVwIjoidWktY29ybmVyLXRyIn0sY3VsdHVyZTpudWxsLGljb25zOntkb3duOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsdXA6InVpLWljb24tdHJpYW5nbGUtMS1uIn0saW5jcmVtZW50YWw6ITAsbWF4Om51bGwsbWluOm51bGwsbnVtYmVyRm9ybWF0Om51bGwscGFnZToxMCxzdGVwOjEsY2hhbmdlOm51bGwsc3BpbjpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uKCJtYXgiLHRoaXMub3B0aW9ucy5tYXgpO3RoaXMuX3NldE9wdGlvbigibWluIix0aGlzLm9wdGlvbnMubWluKTt0aGlzLl9zZXRPcHRpb24oInN0ZXAiLHRoaXMub3B0aW9ucy5zdGVwKTsiIiE9PXRoaXMudmFsdWUoKSYmdGhpcy5fdmFsdWUodGhpcy5lbGVtZW50LnZhbCgpLCEwKTt0aGlzLl9kcmF3KCk7dGhpcy5fb24odGhpcy5fZXZlbnRzKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdXBlcigpLGk9dGhpcy5lbGVtZW50O3JldHVybiBuLmVhY2goWyJtaW4iLCJtYXgiLCJzdGVwIl0sZnVuY3Rpb24obixyKXt2YXIgdT1pLmF0dHIocik7bnVsbCE9dSYmdS5sZW5ndGgmJih0W3JdPXUpfSksdH0sX2V2ZW50czp7a2V5ZG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydChuKSYmdGhpcy5fa2V5ZG93bihuKSYmbi5wcmV2ZW50RGVmYXVsdCgpfSxrZXl1cDoiX3N0b3AiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLmVsZW1lbnQudmFsKCl9LGJsdXI6ZnVuY3Rpb24obil7dGhpcy5jYW5jZWxCbHVyP2RlbGV0ZSB0aGlzLmNhbmNlbEJsdXI6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuKSl9LG1vdXNld2hlZWw6ZnVuY3Rpb24odCxpKXt2YXIgcj1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO2lmKHRoaXMuZWxlbWVudFswXT09PXImJmkpe2lmKCF0aGlzLnNwaW5uaW5nJiYhdGhpcy5fc3RhcnQodCkpcmV0dXJuITE7dGhpcy5fc3BpbigoMDxpPzE6LTEpKnRoaXMub3B0aW9ucy5zdGVwLHQpO2NsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lcik7dGhpcy5tb3VzZXdoZWVsVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnNwaW5uaW5nJiZ0aGlzLl9zdG9wKHQpfSwxMDApO3QucHJldmVudERlZmF1bHQoKX19LCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dGhpcy5lbGVtZW50WzBdPT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKXx8KHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9aSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9aX0pKX12YXIgaTtpPXRoaXMuZWxlbWVudFswXT09PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSk/dGhpcy5wcmV2aW91czp0aGlzLmVsZW1lbnQudmFsKCk7dC5wcmV2ZW50RGVmYXVsdCgpO3IuY2FsbCh0aGlzKTt0aGlzLmNhbmNlbEJsdXI9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyO3IuY2FsbCh0aGlzKX0pOyExIT09dGhpcy5fc3RhcnQodCkmJnRoaXMuX3JlcGVhdChudWxsLG4odC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3Bpbm5lci11cCIpPzE6LTEsdCl9LCJtb3VzZXVwIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIiwibW91c2VlbnRlciAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2lmKG4odC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3RhdGUtYWN0aXZlIikpcmV0dXJuITEhPT10aGlzLl9zdGFydCh0KSYmdm9pZCB0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCJ9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAoIjxzcGFuPiIpLnBhcmVudCgpLmFwcGVuZCgiPGE+PFwvYT48YT48XC9hPiIpfSxfZHJhdzpmdW5jdGlvbigpe3RoaXMuX2VuaGFuY2UoKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpU3Bpbm5lciwidWktc3Bpbm5lciIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX2FkZENsYXNzKCJ1aS1zcGlubmVyLWlucHV0Iik7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJzcGluYnV0dG9uIik7dGhpcy5idXR0b25zPXRoaXMudWlTcGlubmVyLmNoaWxkcmVuKCJhIikuYXR0cigidGFiSW5kZXgiLC0xKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLmJ1dHRvbih7Y2xhc3Nlczp7InVpLWJ1dHRvbiI6IiJ9fSk7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5idXR0b25zLCJ1aS1jb3JuZXItYWxsIik7dGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b25zLmZpcnN0KCksInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItdXAiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbnMubGFzdCgpLCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLWRvd24iKTt0aGlzLmJ1dHRvbnMuZmlyc3QoKS5idXR0b24oe2ljb246dGhpcy5vcHRpb25zLmljb25zLnVwLHNob3dMYWJlbDohMX0pO3RoaXMuYnV0dG9ucy5sYXN0KCkuYnV0dG9uKHtpY29uOnRoaXMub3B0aW9ucy5pY29ucy5kb3duLHNob3dMYWJlbDohMX0pO3RoaXMuYnV0dG9ucy5oZWlnaHQoKT5NYXRoLmNlaWwoLjUqdGhpcy51aVNwaW5uZXIuaGVpZ2h0KCkpJiYwPHRoaXMudWlTcGlubmVyLmhlaWdodCgpJiZ0aGlzLnVpU3Bpbm5lci5oZWlnaHQodGhpcy51aVNwaW5uZXIuaGVpZ2h0KCkpfSxfa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsaT1uLnVpLmtleUNvZGU7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBpLlVQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwxLHQpLCEwO2Nhc2UgaS5ET1dOOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwtMSx0KSwhMDtjYXNlIGkuUEFHRV9VUDpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsci5wYWdlLHQpLCEwO2Nhc2UgaS5QQUdFX0RPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC1yLnBhZ2UsdCksITB9cmV0dXJuITF9LF9zdGFydDpmdW5jdGlvbihuKXtyZXR1cm4hKCF0aGlzLnNwaW5uaW5nJiYhMT09PXRoaXMuX3RyaWdnZXIoInN0YXJ0IixuKSkmJih0aGlzLmNvdW50ZXJ8fCh0aGlzLmNvdW50ZXI9MSksdGhpcy5zcGlubmluZz0hMCl9LF9yZXBlYXQ6ZnVuY3Rpb24obix0LGkpe249bnx8NTAwO2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fcmVwZWF0KDQwLHQsaSl9LG4pO3RoaXMuX3NwaW4odCp0aGlzLm9wdGlvbnMuc3RlcCxpKX0sX3NwaW46ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLnZhbHVlKCl8fDA7dGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpO2k9dGhpcy5fYWRqdXN0VmFsdWUoaStuKnRoaXMuX2luY3JlbWVudCh0aGlzLmNvdW50ZXIpKTt0aGlzLnNwaW5uaW5nJiYhMT09PXRoaXMuX3RyaWdnZXIoInNwaW4iLHQse3ZhbHVlOml9KXx8KHRoaXMuX3ZhbHVlKGkpLHRoaXMuY291bnRlcisrKX0sX2luY3JlbWVudDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm9wdGlvbnMuaW5jcmVtZW50YWw7cmV0dXJuIHQ/ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dChuKTpNYXRoLmZsb29yKG4qbipuLzVlNC1uKm4vNTAwKzE3Km4vMjAwKzEpOjF9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluP01hdGgubWF4KG4sdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpOm59LF9wcmVjaXNpb25PZjpmdW5jdGlvbihuKXt2YXIgdD1uLnRvU3RyaW5nKCksbj10LmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PW4/MDp0Lmxlbmd0aC1uLTF9LF9hZGp1c3RWYWx1ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm9wdGlvbnMsaT1udWxsIT09dC5taW4/dC5taW46MCxyPW4taTtyZXR1cm4gbj1pK01hdGgucm91bmQoci90LnN0ZXApKnQuc3RlcCxuPXBhcnNlRmxvYXQobi50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSksbnVsbCE9PXQubWF4JiZuPnQubWF4P3QubWF4Om51bGwhPT10Lm1pbiYmbjx0Lm1pbj90Lm1pbjpufSxfc3RvcDpmdW5jdGlvbihuKXt0aGlzLnNwaW5uaW5nJiYoY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLGNsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lciksdGhpcy5jb3VudGVyPTAsdGhpcy5zcGlubmluZz0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIixuKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt2YXIgaTtpZigiY3VsdHVyZSI9PT1ufHwibnVtYmVyRm9ybWF0Ij09PW4pcmV0dXJuIGk9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKSx0aGlzLm9wdGlvbnNbbl09dCx2b2lkIHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KGkpKTsibWF4IiE9PW4mJiJtaW4iIT09biYmInN0ZXAiIT09bnx8InN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLl9wYXJzZSh0KSk7Imljb25zIj09PW4mJihpPXRoaXMuYnV0dG9ucy5maXJzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLHRoaXMub3B0aW9ucy5pY29ucy51cCksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLHQudXApLGk9dGhpcy5idXR0b25zLmxhc3QoKS5maW5kKCIudWktaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuZG93biksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLHQuZG93bikpO3RoaXMuX3N1cGVyKG4sdCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnVpU3Bpbm5lcixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFuKTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEhbik7dGhpcy5idXR0b25zLmJ1dHRvbihuPyJkaXNhYmxlIjoiZW5hYmxlIil9LF9zZXRPcHRpb25zOm8oZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobil9KSxfcGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuIiI9PT0obj0ic3RyaW5nIj09dHlwZW9mIG4mJiIiIT09bj93aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KG4sMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOituOm4pfHxpc05hTihuKT9udWxsOm59LF9mb3JtYXQ6ZnVuY3Rpb24obil7cmV0dXJuIiI9PT1uPyIiOndpbmRvdy5HbG9iYWxpemUmJnRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQ/R2xvYmFsaXplLmZvcm1hdChuLHRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQsdGhpcy5vcHRpb25zLmN1bHR1cmUpOm59LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoeyJhcmlhLXZhbHVlbWluIjp0aGlzLm9wdGlvbnMubWluLCJhcmlhLXZhbHVlbWF4Ijp0aGlzLm9wdGlvbnMubWF4LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSl9LGlzVmFsaWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnZhbHVlKCk7cmV0dXJuIG51bGwhPT1uJiZuPT09dGhpcy5fYWRqdXN0VmFsdWUobil9LF92YWx1ZTpmdW5jdGlvbihuLHQpe3ZhciBpOyIiIT09biYmbnVsbCE9PShpPXRoaXMuX3BhcnNlKG4pKSYmKHR8fChpPXRoaXMuX2FkanVzdFZhbHVlKGkpKSxuPXRoaXMuX2Zvcm1hdChpKSk7dGhpcy5lbGVtZW50LnZhbChuKTt0aGlzLl9yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIHJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6byhmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAobil9KSxfc3RlcFVwOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChufHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246byhmdW5jdGlvbihuKXt0aGlzLl9zdGVwRG93bihuKX0pLF9zdGVwRG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3Bpbigobnx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6byhmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAoKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOm8oZnVuY3Rpb24obil7dGhpcy5fc3RlcERvd24oKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKG4pe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpO28odGhpcy5fdmFsdWUpLmNhbGwodGhpcyxuKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlTcGlubmVyfX0pOyExIT09bi51aUJhY2tDb21wYXQmJm4ud2lkZ2V0KCJ1aS5zcGlubmVyIixuLnVpLnNwaW5uZXIse19lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAodGhpcy5fdWlTcGlubmVySHRtbCgpKS5wYXJlbnQoKS5hcHBlbmQodGhpcy5fYnV0dG9uSHRtbCgpKX0sX3VpU3Bpbm5lckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPHNwYW4+In0sX2J1dHRvbkh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPGE+PFwvYT48YT48XC9hPiJ9fSk7bi51aS5zcGlubmVyO24ud2lkZ2V0KCJ1aS50YWJzIix7dmVyc2lvbjoiMS4xMy4yIixkZWxheTozMDAsb3B0aW9uczp7YWN0aXZlOm51bGwsY2xhc3Nlczp7InVpLXRhYnMiOiJ1aS1jb3JuZXItYWxsIiwidWktdGFicy1uYXYiOiJ1aS1jb3JuZXItYWxsIiwidWktdGFicy1wYW5lbCI6InVpLWNvcm5lci1ib3R0b20iLCJ1aS10YWJzLXRhYiI6InVpLWNvcm5lci10b3AifSxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfaXNMb2NhbDooaHQ9LyMuKiQvLGZ1bmN0aW9uKG4pe3ZhciB0PW4uaHJlZi5yZXBsYWNlKGh0LCIiKSxpPWxvY2F0aW9uLmhyZWYucmVwbGFjZShodCwiIik7dHJ5e3Q9ZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKG4pe310cnl7aT1kZWNvZGVVUklDb21wb25lbnQoaSl9Y2F0Y2gobil7fXJldHVybiAxPG4uaGFzaC5sZW5ndGgmJnQ9PT1pfSksX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD10aGlzLm9wdGlvbnM7dGhpcy5ydW5uaW5nPSExO3RoaXMuX2FkZENsYXNzKCJ1aS10YWJzIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fdG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLG51bGwsdC5jb2xsYXBzaWJsZSk7dGhpcy5fcHJvY2Vzc1RhYnMoKTt0LmFjdGl2ZT10aGlzLl9pbml0aWFsQWN0aXZlKCk7QXJyYXkuaXNBcnJheSh0LmRpc2FibGVkKSYmKHQuZGlzYWJsZWQ9bi51bmlxdWVTb3J0KHQuZGlzYWJsZWQuY29uY2F0KG4ubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYnMuaW5kZXgobil9KSkpLnNvcnQoKSk7dGhpcy5hY3RpdmU9ITEhPT10aGlzLm9wdGlvbnMuYWN0aXZlJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUodC5hY3RpdmUpOm4oKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQodC5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscj1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PXQmJihyJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLHUpe2lmKG4odSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09cilyZXR1cm4gdD1pLCExfSksbnVsbCE9PSh0PW51bGw9PT10P3RoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSk6dCkmJi0xIT09dHx8KHQ9ISF0aGlzLnRhYnMubGVuZ3RoJiYwKSksITEhPT10JiYtMT09PSh0PXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZXEodCkpKSYmKHQ9IWkmJjApLHQ9IWkmJiExPT09dCYmdGhpcy5hbmNob3JzLmxlbmd0aD8wOnR9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6bigpfX0sX3RhYktleWRvd246ZnVuY3Rpb24odCl7dmFyIHI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKS5jbG9zZXN0KCJsaSIpLGk9dGhpcy50YWJzLmluZGV4KHIpLHU9ITA7aWYoIXRoaXMuX2hhbmRsZVBhZ2VOYXYodCkpe3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmNhc2Ugbi51aS5rZXlDb2RlLkRPV046aSsrO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dT0hMTtpLS07YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmk9dGhpcy5hbmNob3JzLmxlbmd0aC0xO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6aT0wO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlNQQUNFOnJldHVybiB0LnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShpKTtjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUoaSE9PXRoaXMub3B0aW9ucy5hY3RpdmUmJmkpO2RlZmF1bHQ6cmV0dXJufXQucHJldmVudERlZmF1bHQoKTtjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKTtpPXRoaXMuX2ZvY3VzTmV4dFRhYihpLHUpO3QuY3RybEtleXx8dC5tZXRhS2V5fHwoci5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSx0aGlzLnRhYnMuZXEoaSkuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbigiYWN0aXZlIixpKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbih0KXt0aGlzLl9oYW5kbGVQYWdlTmF2KHQpfHx0LmN0cmxLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5VUCYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS50cmlnZ2VyKCJmb2N1cyIpKX0sX2hhbmRsZVBhZ2VOYXY6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWx0S2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuUEFHRV9VUD8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUtMSwhMSkpLCEwKTp0LmFsdEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlBBR0VfRE9XTj8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUrMSwhMCkpLCEwKTp2b2lkIDB9LF9maW5kTmV4dFRhYjpmdW5jdGlvbih0LGkpe2Zvcih2YXIgcj10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1uLmluQXJyYXkodD0odD1yPHQ/MDp0KTwwP3I6dCx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyl0PWk/dCsxOnQtMTtyZXR1cm4gdH0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbihuLHQpe3JldHVybiBuPXRoaXMuX2ZpbmROZXh0VGFiKG4sdCksdGhpcy50YWJzLmVxKG4pLnRyaWdnZXIoImZvY3VzIiksbn0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpeyJhY3RpdmUiIT09bj8odGhpcy5fc3VwZXIobix0KSwiY29sbGFwc2libGUiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixudWxsLHQpLHR8fCExIT09dGhpcy5vcHRpb25zLmFjdGl2ZXx8dGhpcy5fYWN0aXZhdGUoMCkpLCJldmVudCI9PT1uJiZ0aGlzLl9zZXR1cEV2ZW50cyh0KSwiaGVpZ2h0U3R5bGUiPT09biYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0KSk6dGhpcy5fYWN0aXZhdGUodCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuP24ucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsaT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPW4ubWFwKGkuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihuKXtyZXR1cm4gaS5pbmRleChuKX0pO3RoaXMuX3Byb2Nlc3NUYWJzKCk7ITEhPT10LmFjdGl2ZSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFuLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpO3RoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCk7dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpO3RoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSk7dGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7dGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLnRhYnMscj10aGlzLmFuY2hvcnMsdT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpO3RoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtuKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7bih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KTt0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbigiYSIsdGhpcylbMF19KS5hdHRyKHt0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMuYW5jaG9ycywidWktdGFicy1hbmNob3IiKTt0aGlzLnBhbmVscz1uKCk7dGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oaSxyKXt2YXIgbyx1LGYscz1uKHIpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxlPW4ocikuY2xvc2VzdCgibGkiKSxoPWUuYXR0cigiYXJpYS1jb250cm9scyIpO3QuX2lzTG9jYWwocik/KGY9KG89ci5oYXNoKS5zdWJzdHJpbmcoMSksdT10LmVsZW1lbnQuZmluZCh0Ll9zYW5pdGl6ZVNlbGVjdG9yKG8pKSk6KGY9ZS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fG4oe30pLnVuaXF1ZUlkKClbMF0uaWQsKHU9dC5lbGVtZW50LmZpbmQobz0iIyIrZikpLmxlbmd0aHx8KHU9dC5fY3JlYXRlUGFuZWwoZikpLmluc2VydEFmdGVyKHQucGFuZWxzW2ktMV18fHQudGFibGlzdCksdS5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSk7dS5sZW5ndGgmJih0LnBhbmVscz10LnBhbmVscy5hZGQodSkpO2gmJmUuZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixoKTtlLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjpmLCJhcmlhLWxhYmVsbGVkYnkiOnN9KTt1LmF0dHIoImFyaWEtbGFiZWxsZWRieSIscyl9KTt0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50Iik7aSYmKHRoaXMuX29mZihpLm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoci5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKHUubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBpLHI7Zm9yKEFycmF5LmlzQXJyYXkodCkmJih0Lmxlbmd0aD90Lmxlbmd0aD09PXRoaXMuYW5jaG9ycy5sZW5ndGgmJih0PSEwKTp0PSExKSxyPTA7aT10aGlzLnRhYnNbcl07cisrKWk9bihpKSwhMD09PXR8fC0xIT09bi5pbkFycmF5KHIsdCk/KGkuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIikpOihpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIikpO3RoaXMub3B0aW9ucy5kaXNhYmxlZD10O3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0KCksdGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIixudWxsLCEwPT09dCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17fTt0JiZuLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KTt0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpO3RoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuX29uKHRoaXMuYW5jaG9ycyxpKTt0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pO3RoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpO3RoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbih0KXt2YXIgaSxyPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT10PyhpPXIuaGVpZ2h0KCksaS09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1yJiYiZml4ZWQiIT09ciYmKGktPXQub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2ktPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe24odGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1uKHRoaXMpLmlubmVySGVpZ2h0KCkrbih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09dCYmKGk9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7aT1NYXRoLm1heChpLG4odGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoaSkpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciB1PXRoaXMub3B0aW9ucyxyPXRoaXMuYWN0aXZlLGk9bih0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoImxpIiksZj1pWzBdPT09clswXSxlPWYmJnUuY29sbGFwc2libGUsbz1lP24oKTp0aGlzLl9nZXRQYW5lbEZvclRhYihpKSxzPXIubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHIpOm4oKSxyPXtvbGRUYWI6cixvbGRQYW5lbDpzLG5ld1RhYjplP24oKTppLG5ld1BhbmVsOm99O3QucHJldmVudERlZmF1bHQoKTtpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxpLmhhc0NsYXNzKCJ1aS10YWJzLWxvYWRpbmciKXx8dGhpcy5ydW5uaW5nfHxmJiYhdS5jb2xsYXBzaWJsZXx8ITE9PT10aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxyKXx8KHUuYWN0aXZlPSFlJiZ0aGlzLnRhYnMuaW5kZXgoaSksdGhpcy5hY3RpdmU9Zj9uKCk6aSx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxzLmxlbmd0aHx8by5sZW5ndGh8fG4uZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLG8ubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KGkpLHQpLHRoaXMuX3RvZ2dsZSh0LHIpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoKXtyLnJ1bm5pbmc9ITE7ci5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsaSl9ZnVuY3Rpb24gbygpe3IuX2FkZENsYXNzKGkubmV3VGFiLmNsb3Nlc3QoImxpIiksInVpLXRhYnMtYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIik7dS5sZW5ndGgmJnIub3B0aW9ucy5zaG93P3IuX3Nob3codSxyLm9wdGlvbnMuc2hvdyxlKToodS5zaG93KCksZSgpKX12YXIgcj10aGlzLHU9aS5uZXdQYW5lbCxmPWkub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwO2YubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGYsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtyLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpO28oKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGYuaGlkZSgpLG8oKSk7Zi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTtpLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pO3UubGVuZ3RoJiZmLmxlbmd0aD9pLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnUubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpO3UuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpO2kubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgdD10aGlzLl9maW5kQWN0aXZlKHQpO3RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKHQ9KHQ9dC5sZW5ndGg/dDp0aGlzLmFjdGl2ZSkuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6dCxjdXJyZW50VGFyZ2V0OnQscHJldmVudERlZmF1bHQ6bi5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4hMT09PXQ/bigpOnRoaXMudGFicy5lcSh0KX0sX2dldEluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK24uZXNjYXBlU2VsZWN0b3IodCkrIiddIikpOnR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCk7dGhpcy50YWJsaXN0LnJlbW92ZUF0dHIoInJvbGUiKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSk7dGhpcy5hbmNob3JzLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/bih0aGlzKS5yZW1vdmUoKTpuKHRoaXMpLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXggYXJpYS1saXZlIGFyaWEtYnVzeSBhcmlhLXNlbGVjdGVkIGFyaWEtbGFiZWxsZWRieSBhcmlhLWhpZGRlbiBhcmlhLWV4cGFuZGVkIil9KTt0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pO3RoaXMucGFuZWxzLnNob3coKTsiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7ITEhPT1pJiYoaT12b2lkIDAhPT10JiYodD10aGlzLl9nZXRJbmRleCh0KSxBcnJheS5pc0FycmF5KGkpP24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG4hPT10P246bnVsbH0pOm4ubWFwKHRoaXMudGFicyxmdW5jdGlvbihuLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSkpfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZighMCE9PWkpe2lmKHZvaWQgMD09PXQpaT0hMDtlbHNle2lmKHQ9dGhpcy5fZ2V0SW5kZXgodCksLTEhPT1uLmluQXJyYXkodCxpKSlyZXR1cm47aT1BcnJheS5pc0FycmF5KGkpP24ubWVyZ2UoW3RdLGkpLnNvcnQoKTpbdF19dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSl9fSxsb2FkOmZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZShuLHQpeyJhYm9ydCI9PT10JiZyLnBhbmVscy5zdG9wKCExLCEwKTtyLl9yZW1vdmVDbGFzcyh1LCJ1aS10YWJzLWxvYWRpbmciKTtmLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpO249PT1yLnhociYmZGVsZXRlIHIueGhyfXQ9dGhpcy5fZ2V0SW5kZXgodCk7dmFyIHI9dGhpcyx1PXRoaXMudGFicy5lcSh0KSx0PXUuZmluZCgiLnVpLXRhYnMtYW5jaG9yIiksZj10aGlzLl9nZXRQYW5lbEZvclRhYih1KSxvPXt0YWI6dSxwYW5lbDpmfTt0aGlzLl9pc0xvY2FsKHRbMF0pfHwodGhpcy54aHI9bi5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyh0LGksbykpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKHRoaXMuX2FkZENsYXNzKHUsInVpLXRhYnMtbG9hZGluZyIpLGYuYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLmRvbmUoZnVuY3Rpb24obix0LHUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmh0bWwobik7ci5fdHJpZ2dlcigibG9hZCIsaSxvKTtlKHUsdCl9LDEpfSkuZmFpbChmdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKG4sdCl9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm57dXJsOnQuYXR0cigiaHJlZiIpLnJlcGxhY2UoLyMuKiQvLCIiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKHQsZil7cmV0dXJuIHUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGksbi5leHRlbmQoe2pxWEhSOnQsYWpheFNldHRpbmdzOmZ9LHIpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIiksdGhpcy5lbGVtZW50LmZpbmQodGhpcy5fc2FuaXRpemVTZWxlY3RvcigiIyIrdCkpfX0pOyExIT09bi51aUJhY2tDb21wYXQmJm4ud2lkZ2V0KCJ1aS50YWJzIixuLnVpLnRhYnMse19wcm9jZXNzVGFiczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnRhYnMsInVpLXRhYiIpfX0pO24udWkudGFicztuLndpZGdldCgidWkudG9vbHRpcCIse3ZlcnNpb246IjEuMTMuMiIsb3B0aW9uczp7Y2xhc3Nlczp7InVpLXRvb2x0aXAiOiJ1aS1jb3JuZXItYWxsIHVpLXdpZGdldC1zaGFkb3cifSxjb250ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5hdHRyKCJ0aXRsZSIpO3JldHVybiBuKCI8YT4iKS50ZXh0KHQpLmh0bWwoKX0saGlkZTohMCxpdGVtczoiW3RpdGxlXTpub3QoW2Rpc2FibGVkXSkiLHBvc2l0aW9uOntteToibGVmdCB0b3ArMTUiLGF0OiJsZWZ0IGJvdHRvbSIsY29sbGlzaW9uOiJmbGlwZml0IGZsaXAifSxzaG93OiEwLHRyYWNrOiExLGNsb3NlOm51bGwsb3BlbjpudWxsfSxfYWRkRGVzY3JpYmVkQnk6ZnVuY3Rpb24obix0KXt2YXIgaT0obi5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil8fCIiKS5zcGxpdCgvXHMrLyk7aS5wdXNoKHQpO24uZGF0YSgidWktdG9vbHRpcC1pZCIsdCkuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsU3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwoaS5qb2luKCIgIikpKX0sX3JlbW92ZURlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQpe3ZhciByPXQuZGF0YSgidWktdG9vbHRpcC1pZCIpLGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pLHI9bi5pbkFycmF5KHIsaSk7LTEhPT1yJiZpLnNwbGljZShyLDEpO3QucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1pZCIpOyhpPVN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKGkuam9pbigiICIpKSk/dC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixpKTp0LnJlbW92ZUF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX29uKHttb3VzZW92ZXI6Im9wZW4iLGZvY3VzaW46Im9wZW4ifSk7dGhpcy50b29sdGlwcz17fTt0aGlzLnBhcmVudHM9e307dGhpcy5saXZlUmVnaW9uPW4oIjxkaXY+IikuYXR0cih7cm9sZToibG9nIiwiYXJpYS1saXZlIjoiYXNzZXJ0aXZlIiwiYXJpYS1yZWxldmFudCI6ImFkZGl0aW9ucyJ9KS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpO3RoaXMuX2FkZENsYXNzKHRoaXMubGl2ZVJlZ2lvbixudWxsLCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKTt0aGlzLmRpc2FibGVkVGl0bGVzPW4oW10pfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpczt0aGlzLl9zdXBlcih0LGkpOyJjb250ZW50Ij09PXQmJm4uZWFjaCh0aGlzLnRvb2x0aXBzLGZ1bmN0aW9uKG4sdCl7ci5fdXBkYXRlQ29udGVudCh0LmVsZW1lbnQpfSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzW24/Il9kaXNhYmxlIjoiX2VuYWJsZSJdKCl9LF9kaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihpLHIpe3ZhciB1PW4uRXZlbnQoImJsdXIiKTt1LnRhcmdldD11LmN1cnJlbnRUYXJnZXQ9ci5lbGVtZW50WzBdO3QuY2xvc2UodSwhMCl9KTt0aGlzLmRpc2FibGVkVGl0bGVzPXRoaXMuZGlzYWJsZWRUaXRsZXMuYWRkKHRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7aWYodC5pcygiW3RpdGxlXSIpKXJldHVybiB0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiLHQuYXR0cigidGl0bGUiKSkucmVtb3ZlQXR0cigidGl0bGUiKX0pKX0sX2VuYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWRUaXRsZXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJnQuYXR0cigidGl0bGUiLHQuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKX0pO3RoaXMuZGlzYWJsZWRUaXRsZXM9bihbXSl9LG9wZW46ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPW4odD90LnRhcmdldDp0aGlzLmVsZW1lbnQpLmNsb3Nlc3QodGhpcy5vcHRpb25zLml0ZW1zKTtpLmxlbmd0aCYmIWkuZGF0YSgidWktdG9vbHRpcC1pZCIpJiYoaS5hdHRyKCJ0aXRsZSIpJiZpLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiLGkuYXR0cigidGl0bGUiKSksaS5kYXRhKCJ1aS10b29sdGlwLW9wZW4iLCEwKSx0JiYibW91c2VvdmVyIj09PXQudHlwZSYmaS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3ZhciBpLHQ9bih0aGlzKTt0LmRhdGEoInVpLXRvb2x0aXAtb3BlbiIpJiYoKGk9bi5FdmVudCgiYmx1ciIpKS50YXJnZXQ9aS5jdXJyZW50VGFyZ2V0PXRoaXMsci5jbG9zZShpLCEwKSk7dC5hdHRyKCJ0aXRsZSIpJiYodC51bmlxdWVJZCgpLHIucGFyZW50c1t0aGlzLmlkXT17ZWxlbWVudDp0aGlzLHRpdGxlOnQuYXR0cigidGl0bGUiKX0sdC5hdHRyKCJ0aXRsZSIsIiIpKX0pLHRoaXMuX3JlZ2lzdGVyQ2xvc2VIYW5kbGVycyh0LGkpLHRoaXMuX3VwZGF0ZUNvbnRlbnQoaSx0KSl9LF91cGRhdGVDb250ZW50OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5vcHRpb25zLmNvbnRlbnQscj10aGlzLHU9dD90LnR5cGU6bnVsbDtpZigic3RyaW5nIj09dHlwZW9mIGl8fGkubm9kZVR5cGV8fGkuanF1ZXJ5KXJldHVybiB0aGlzLl9vcGVuKHQsbixpKTsoaT1pLmNhbGwoblswXSxmdW5jdGlvbihpKXtyLl9kZWxheShmdW5jdGlvbigpe24uZGF0YSgidWktdG9vbHRpcC1vcGVuIikmJih0JiYodC50eXBlPXUpLHRoaXMuX29wZW4odCxuLGkpKX0pfSkpJiZ0aGlzLl9vcGVuKHQsbixpKX0sX29wZW46ZnVuY3Rpb24odCxpLHIpe2Z1bmN0aW9uIG8obil7ZS5vZj1uO3UuaXMoIjpoaWRkZW4iKXx8dS5wb3NpdGlvbihlKX12YXIgZix1LHMsZT1uLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO3ImJigoZj10aGlzLl9maW5kKGkpKT9mLnRvb2x0aXAuZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwocik6KGkuaXMoIlt0aXRsZV0iKSYmKHQmJiJtb3VzZW92ZXIiPT09dC50eXBlP2kuYXR0cigidGl0bGUiLCIiKTppLnJlbW92ZUF0dHIoInRpdGxlIikpLGY9dGhpcy5fdG9vbHRpcChpKSx1PWYudG9vbHRpcCx0aGlzLl9hZGREZXNjcmliZWRCeShpLHUuYXR0cigiaWQiKSksdS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKSx0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksKHI9bigiPGRpdj4iKS5odG1sKHUuZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwoKSkpLnJlbW92ZUF0dHIoIm5hbWUiKS5maW5kKCJbbmFtZV0iKS5yZW1vdmVBdHRyKCJuYW1lIiksci5yZW1vdmVBdHRyKCJpZCIpLmZpbmQoIltpZF0iKS5yZW1vdmVBdHRyKCJpZCIpLHIuYXBwZW5kVG8odGhpcy5saXZlUmVnaW9uKSx0aGlzLm9wdGlvbnMudHJhY2smJnQmJi9ebW91c2UvLnRlc3QodC50eXBlKT8odGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vtb3ZlOm99KSxvKHQpKTp1LnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOml9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpLHUuaGlkZSgpLHRoaXMuX3Nob3codSx0aGlzLm9wdGlvbnMuc2hvdyksdGhpcy5vcHRpb25zLnRyYWNrJiZ0aGlzLm9wdGlvbnMuc2hvdyYmdGhpcy5vcHRpb25zLnNob3cuZGVsYXkmJihzPXRoaXMuZGVsYXllZFNob3c9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt1LmlzKCI6dmlzaWJsZSIpJiYobyhlLm9mKSxjbGVhckludGVydmFsKHMpKX0sMTMpKSx0aGlzLl90cmlnZ2VyKCJvcGVuIix0LHt0b29sdGlwOnV9KSkpfSxfcmVnaXN0ZXJDbG9zZUhhbmRsZXJzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e2tleXVwOmZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUmJigodD1uLkV2ZW50KHQpKS5jdXJyZW50VGFyZ2V0PWlbMF0sdGhpcy5jbG9zZSh0LCEwKSl9fTtpWzBdIT09dGhpcy5lbGVtZW50WzBdJiYoci5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9maW5kKGkpO24mJnRoaXMuX3JlbW92ZVRvb2x0aXAobi50b29sdGlwKX0pO3QmJiJtb3VzZW92ZXIiIT09dC50eXBlfHwoci5tb3VzZWxlYXZlPSJjbG9zZSIpO3QmJiJmb2N1c2luIiE9PXQudHlwZXx8KHIuZm9jdXNvdXQ9ImNsb3NlIik7dGhpcy5fb24oITAsaSxyKX0sY2xvc2U6ZnVuY3Rpb24odCl7dmFyIHUsZj10aGlzLGk9bih0P3QuY3VycmVudFRhcmdldDp0aGlzLmVsZW1lbnQpLHI9dGhpcy5fZmluZChpKTtyPyh1PXIudG9vbHRpcCxyLmNsb3Npbmd8fChjbGVhckludGVydmFsKHRoaXMuZGVsYXllZFNob3cpLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYhaS5hdHRyKCJ0aXRsZSIpJiZpLmF0dHIoInRpdGxlIixpLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdGhpcy5fcmVtb3ZlRGVzY3JpYmVkQnkoaSksci5oaWRpbmc9ITAsdS5zdG9wKCEwKSx0aGlzLl9oaWRlKHUsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtmLl9yZW1vdmVUb29sdGlwKG4odGhpcykpfSksaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx0aGlzLl9vZmYoaSwibW91c2VsZWF2ZSBmb2N1c291dCBrZXl1cCIpLGlbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuX29mZihpLCJyZW1vdmUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwibW91c2Vtb3ZlIiksdCYmIm1vdXNlbGVhdmUiPT09dC50eXBlJiZuLmVhY2godGhpcy5wYXJlbnRzLGZ1bmN0aW9uKHQsaSl7bihpLmVsZW1lbnQpLmF0dHIoInRpdGxlIixpLnRpdGxlKTtkZWxldGUgZi5wYXJlbnRzW3RdfSksci5jbG9zaW5nPSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIix0LHt0b29sdGlwOnV9KSxyLmhpZGluZ3x8KHIuY2xvc2luZz0hMSkpKTppLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpfSxfdG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgaT1uKCI8ZGl2PiIpLmF0dHIoInJvbGUiLCJ0b29sdGlwIikscj1uKCI8ZGl2PiIpLmFwcGVuZFRvKGkpLHU9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7cmV0dXJuIHRoaXMuX2FkZENsYXNzKHIsInVpLXRvb2x0aXAtY29udGVudCIpLHRoaXMuX2FkZENsYXNzKGksInVpLXRvb2x0aXAiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSxpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKHQpKSx0aGlzLnRvb2x0aXBzW3VdPXtlbGVtZW50OnQsdG9vbHRpcDppfX0sX2ZpbmQ6ZnVuY3Rpb24obil7cmV0dXJuIG49bi5kYXRhKCJ1aS10b29sdGlwLWlkIiksbj90aGlzLnRvb2x0aXBzW25dOm51bGx9LF9yZW1vdmVUb29sdGlwOmZ1bmN0aW9uKG4pe2NsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdyk7bi5yZW1vdmUoKTtkZWxldGUgdGhpcy50b29sdGlwc1tuLmF0dHIoImlkIildfSxfYXBwZW5kVG86ZnVuY3Rpb24obil7cmV0dXJuIG49bi5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpLG4ubGVuZ3RoP246dGhpcy5kb2N1bWVudFswXS5ib2R5fSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLkV2ZW50KCJibHVyIikscj1yLmVsZW1lbnQ7dS50YXJnZXQ9dS5jdXJyZW50VGFyZ2V0PXJbMF07dC5jbG9zZSh1LCEwKTtuKCIjIitpKS5yZW1vdmUoKTtyLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmKHIuYXR0cigidGl0bGUiKXx8ci5hdHRyKCJ0aXRsZSIsci5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpLHIucmVtb3ZlRGF0YSgidWktdG9vbHRpcC10aXRsZSIpKX0pO3RoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX19KTshMSE9PW4udWlCYWNrQ29tcGF0JiZuLndpZGdldCgidWkudG9vbHRpcCIsbi51aS50b29sdGlwLHtvcHRpb25zOnt0b29sdGlwQ2xhc3M6bnVsbH0sX3Rvb2x0aXA6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MmJm4udG9vbHRpcC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudG9vbHRpcENsYXNzKSxufX0pO24udWkudG9vbHRpcH0pOw0KLyohIGpRdWVyeSBNaWdyYXRlIHYzLjQuMCB8IChjKSBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5Lm1pZ3JhdGVNdXRlJiYoalF1ZXJ5Lm1pZ3JhdGVNdXRlPSEwKSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbih0KXtyZXR1cm4gbih0LHdpbmRvdyl9KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSx3aW5kb3cpOm4oalF1ZXJ5LHdpbmRvdyl9KGZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYodCl7cmV0dXJuIDA8PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByPS9eKFxkKylcLihcZCspXC4oXGQrKS8sdT1yLmV4ZWMobil8fFtdLGY9ci5leGVjKHQpfHxbXSxpPTE7aTw9MztpKyspe2lmKCt1W2ldPitmW2ldKXJldHVybiAxO2lmKCt1W2ldPCtmW2ldKXJldHVybi0xfXJldHVybiAwfShuLmZuLmpxdWVyeSx0KX1mdW5jdGlvbiBpKGkscil7dmFyIHU9dC5jb25zb2xlOyFuLm1pZ3JhdGVJc1BhdGNoRW5hYmxlZChpKXx8bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncyYmb1tyXXx8KG9bcl09ITAsbi5taWdyYXRlV2FybmluZ3MucHVzaChyKyIgWyIraSsiXSIpLHUmJnUud2FybiYmIW4ubWlncmF0ZU11dGUmJih1Lndhcm4oIkpRTUlHUkFURTogIityKSxuLm1pZ3JhdGVUcmFjZSYmdS50cmFjZSYmdS50cmFjZSgpKSl9ZnVuY3Rpb24gYShuLHQscix1LGYpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKHUsZikscn0sc2V0OmZ1bmN0aW9uKG4pe2kodSxmKTtyPW59fSl9ZnVuY3Rpb24gayh0LHIsdSxmLGUpe3ZhciBvPXRbcl07dFtyXT1mdW5jdGlvbigpe3JldHVybiBlJiZpKGYsZSksKG4ubWlncmF0ZUlzUGF0Y2hFbmFibGVkKGYpP3U6b3x8bi5ub29wKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHIobix0LGkscix1KXtpZighdSl0aHJvdyBuZXcgRXJyb3IoIk5vIHdhcm5pbmcgbWVzc2FnZSBwcm92aWRlZCIpO2sobix0LGkscix1KX1mdW5jdGlvbiB1KG4sdCxpLHIpe2sobix0LGkscil9ZnVuY3Rpb24geShuKXtyZXR1cm4gbi5yZXBsYWNlKC8tKFthLXpdKS9nLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfWZ1bmN0aW9uIHR0KG4pe3ZhciBpPXQuZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtyZXR1cm4gaS5ib2R5LmlubmVySFRNTD1uLGkuYm9keSYmaS5ib2R5LmlubmVySFRNTH12YXIgZSxvO24ubWlncmF0ZVZlcnNpb249IjMuNC4wIjtlPU9iamVjdC5jcmVhdGUobnVsbCk7bz0obi5taWdyYXRlRGlzYWJsZVBhdGNoZXM9ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbYXJndW1lbnRzW25dXT0hMH0sbi5taWdyYXRlRW5hYmxlUGF0Y2hlcz1mdW5jdGlvbigpe2Zvcih2YXIgbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZGVsZXRlIGVbYXJndW1lbnRzW25dXX0sbi5taWdyYXRlSXNQYXRjaEVuYWJsZWQ9ZnVuY3Rpb24obil7cmV0dXJuIWVbbl19LHQuY29uc29sZSYmdC5jb25zb2xlLmxvZyYmKG4mJmYoIjMuMC4wIil8fHQuY29uc29sZS5sb2coIkpRTUlHUkFURTogalF1ZXJ5IDMuMC4wKyBSRVFVSVJFRCIpLG4ubWlncmF0ZVdhcm5pbmdzJiZ0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IE1pZ3JhdGUgcGx1Z2luIGxvYWRlZCBtdWx0aXBsZSB0aW1lcyIpLHQuY29uc29sZS5sb2coIkpRTUlHUkFURTogTWlncmF0ZSBpcyBpbnN0YWxsZWQiKyhuLm1pZ3JhdGVNdXRlPyIiOiIgd2l0aCBsb2dnaW5nIGFjdGl2ZSIpKyIsIHZlcnNpb24gIituLm1pZ3JhdGVWZXJzaW9uKSkse30pO24ubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3M9ITA7bi5taWdyYXRlV2FybmluZ3M9W107dm9pZCAwPT09bi5taWdyYXRlVHJhY2UmJihuLm1pZ3JhdGVUcmFjZT0hMCk7bi5taWdyYXRlUmVzZXQ9ZnVuY3Rpb24oKXtvPXt9O24ubWlncmF0ZVdhcm5pbmdzLmxlbmd0aD0wfTsiQmFja0NvbXBhdCI9PT10LmRvY3VtZW50LmNvbXBhdE1vZGUmJmkoInF1aXJrcyIsImpRdWVyeSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFF1aXJrcyBNb2RlIik7dmFyIHMsZCx2LGc9e30sb3Q9bi5mbi5pbml0LGg9bi5maW5kLHN0PS9cWyhccypbLVx3XStccyopKFt+fF4kKl0/PSlccyooWy1cdyNdKj8jWy1cdyNdKilccypcXS8saHQ9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdL2csY3Q9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO2ZvcihzIGluIHUobi5mbiwiaW5pdCIsZnVuY3Rpb24odCl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gbi5taWdyYXRlSXNQYXRjaEVuYWJsZWQoInNlbGVjdG9yLWVtcHR5LWlkIikmJiJzdHJpbmciPT10eXBlb2YgdCYmIiMiPT09dCYmKGkoInNlbGVjdG9yLWVtcHR5LWlkIiwialF1ZXJ5KCAnIycgKSBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciIpLHJbMF09W10pLG90LmFwcGx5KHRoaXMscil9LCJzZWxlY3Rvci1lbXB0eS1pZCIpLG4uZm4uaW5pdC5wcm90b3R5cGU9bi5mbix1KG4sImZpbmQiLGZ1bmN0aW9uKG4pe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZzdC50ZXN0KG4pKXRyeXt0LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobil9Y2F0Y2godSl7bj1uLnJlcGxhY2UoaHQsZnVuY3Rpb24obix0LGkscil7cmV0dXJuIlsiK3QraSsnIicrcisnIl0nfSk7dHJ5e3QuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKTtpKCJzZWxlY3Rvci1oYXNoIiwiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIG11c3QgYmUgcXVvdGVkOiAiK3JbMF0pO3JbMF09bn1jYXRjaCh1KXtpKCJzZWxlY3Rvci1oYXNoIiwiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIHdhcyBub3QgZml4ZWQ6ICIrclswXSl9fXJldHVybiBoLmFwcGx5KHRoaXMscil9LCJzZWxlY3Rvci1oYXNoIiksaClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaCxzKSYmKG4uZmluZFtzXT1oW3NdKTtyKG4uZm4sInNpemUiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSwic2l6ZSIsImpRdWVyeS5mbi5zaXplKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDsgdXNlIHRoZSAubGVuZ3RoIHByb3BlcnR5Iik7cihuLCJwYXJzZUpTT04iLGZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwicGFyc2VKU09OIiwialF1ZXJ5LnBhcnNlSlNPTiBpcyBkZXByZWNhdGVkOyB1c2UgSlNPTi5wYXJzZSIpO3IobiwiaG9sZFJlYWR5IixuLmhvbGRSZWFkeSwiaG9sZFJlYWR5IiwialF1ZXJ5LmhvbGRSZWFkeSBpcyBkZXByZWNhdGVkIik7cihuLCJ1bmlxdWUiLG4udW5pcXVlU29ydCwidW5pcXVlIiwialF1ZXJ5LnVuaXF1ZSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LnVuaXF1ZVNvcnQiKTthKG4uZXhwciwiZmlsdGVycyIsbi5leHByLnBzZXVkb3MsImV4cHItcHJlLXBzZXVkb3MiLCJqUXVlcnkuZXhwci5maWx0ZXJzIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkuZXhwci5wc2V1ZG9zIik7YShuLmV4cHIsIjoiLG4uZXhwci5wc2V1ZG9zLCJleHByLXByZS1wc2V1ZG9zIiwialF1ZXJ5LmV4cHJbJzonXSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LmV4cHIucHNldWRvcyIpO2YoIjMuMS4xIikmJnIobiwidHJpbSIsZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/IiI6KG4rIiIpLnJlcGxhY2UoY3QsIiIpfSwidHJpbSIsImpRdWVyeS50cmltIGlzIGRlcHJlY2F0ZWQ7IHVzZSBTdHJpbmcucHJvdG90eXBlLnRyaW0iKTtmKCIzLjIuMCIpJiYocihuLCJub2RlTmFtZSIsZnVuY3Rpb24obix0KXtyZXR1cm4gbi5ub2RlTmFtZSYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSwibm9kZU5hbWUiLCJqUXVlcnkubm9kZU5hbWUgaXMgZGVwcmVjYXRlZCIpLHIobiwiaXNBcnJheSIsQXJyYXkuaXNBcnJheSwiaXNBcnJheSIsImpRdWVyeS5pc0FycmF5IGlzIGRlcHJlY2F0ZWQ7IHVzZSBBcnJheS5pc0FycmF5IikpO2YoIjMuMy4wIikmJihyKG4sImlzTnVtZXJpYyIsZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuKCJudW1iZXIiPT10fHwic3RyaW5nIj09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSwiaXNOdW1lcmljIiwialF1ZXJ5LmlzTnVtZXJpYygpIGlzIGRlcHJlY2F0ZWQiKSxuLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7Z1siW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KSxyKG4sInR5cGUiLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP24rIiI6Im9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2Ygbj9nW09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufSwidHlwZSIsImpRdWVyeS50eXBlIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzRnVuY3Rpb24iLGZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBufSwiaXNGdW5jdGlvbiIsImpRdWVyeS5pc0Z1bmN0aW9uKCkgaXMgZGVwcmVjYXRlZCIpLHIobiwiaXNXaW5kb3ciLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LCJpc1dpbmRvdyIsImpRdWVyeS5pc1dpbmRvdygpIGlzIGRlcHJlY2F0ZWQiKSk7bi5hamF4JiYoZD1uLmFqYXgsdj0vKD0pXD8oPz0mfCQpfFw/XD8vLHUobiwiYWpheCIsZnVuY3Rpb24oKXt2YXIgbj1kLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbi5wcm9taXNlJiYocihuLCJzdWNjZXNzIixuLmRvbmUsImpxWEhSLW1ldGhvZHMiLCJqUVhIUi5zdWNjZXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImVycm9yIixuLmZhaWwsImpxWEhSLW1ldGhvZHMiLCJqUVhIUi5lcnJvciBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIikscihuLCJjb21wbGV0ZSIsbi5hbHdheXMsImpxWEhSLW1ldGhvZHMiLCJqUVhIUi5jb21wbGV0ZSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIikpLG59LCJqcVhIUi1tZXRob2RzIiksZigiNC4wLjAiKXx8bi5hamF4UHJlZmlsdGVyKCIranNvbiIsZnVuY3Rpb24obil7ITEhPT1uLmpzb25wJiYodi50ZXN0KG4udXJsKXx8InN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJjA9PT0obi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZ2LnRlc3Qobi5kYXRhKSkmJmkoImpzb25wLXByb21vdGlvbiIsIkpTT04tdG8tSlNPTlAgYXV0by1wcm9tb3Rpb24gaXMgZGVwcmVjYXRlZCIpfSkpO3ZhciBsdD1uLmZuLnJlbW92ZUF0dHIsYXQ9bi5mbi50b2dnbGVDbGFzcyx2dD0vXFMrL2c7dShuLmZuLCJyZW1vdmVBdHRyIixmdW5jdGlvbih0KXt2YXIgcj10aGlzO3JldHVybiBuLmVhY2godC5tYXRjaCh2dCksZnVuY3Rpb24odCx1KXtuLmV4cHIubWF0Y2guYm9vbC50ZXN0KHUpJiYoaSgicmVtb3ZlQXR0ci1ib29sIiwialF1ZXJ5LmZuLnJlbW92ZUF0dHIgbm8gbG9uZ2VyIHNldHMgYm9vbGVhbiBwcm9wZXJ0aWVzOiAiK3UpLHIucHJvcCh1LCExKSl9KSxsdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LCJyZW1vdmVBdHRyLWJvb2wiKTt1KG4uZm4sInRvZ2dsZUNsYXNzIixmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD9hdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoInRvZ2dsZUNsYXNzLWJvb2wiLCJqUXVlcnkuZm4udG9nZ2xlQ2xhc3MoIGJvb2xlYW4gKSBpcyBkZXByZWNhdGVkIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5nZXRBdHRyaWJ1dGUmJnRoaXMuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIjtpJiZuLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIsaSk7dGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsIWkmJiExIT09dCYmbi5kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSkpfSwidG9nZ2xlQ2xhc3MtYm9vbCIpO3ZhciBudCxwPSExLHl0PS9eW2Etel0vLHB0PS9eKD86Qm9yZGVyKD86VG9wfFJpZ2h0fEJvdHRvbXxMZWZ0KT8oPzpXaWR0aHwpfCg/Ok1hcmdpbnxQYWRkaW5nKT8oPzpUb3B8UmlnaHR8Qm90dG9tfExlZnQpP3woPzpNaW58TWF4KT8oPzpXaWR0aHxIZWlnaHQpKSQvO24uc3dhcCYmbi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiLCJyZWxpYWJsZU1hcmdpblJpZ2h0Il0sZnVuY3Rpb24odCxpKXt2YXIgcj1uLmNzc0hvb2tzW2ldJiZuLmNzc0hvb2tzW2ldLmdldDtyJiYobi5jc3NIb29rc1tpXS5nZXQ9ZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gcD0hMCxuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHA9ITEsbn0pfSk7dShuLCJzd2FwIixmdW5jdGlvbihuLHQscix1KXt2YXIgZixlPXt9O2ZvcihmIGluIHB8fGkoInN3YXAiLCJqUXVlcnkuc3dhcCgpIGlzIHVuZG9jdW1lbnRlZCBhbmQgZGVwcmVjYXRlZCIpLHQpZVtmXT1uLnN0eWxlW2ZdLG4uc3R5bGVbZl09dFtmXTtmb3IoZiBpbiByPXIuYXBwbHkobix1fHxbXSksdCluLnN0eWxlW2ZdPWVbZl07cmV0dXJuIHJ9LCJzd2FwIik7ZigiMy40LjAiKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBQcm94eSYmKG4uY3NzUHJvcHM9bmV3IFByb3h5KG4uY3NzUHJvcHN8fHt9LHtzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgiY3NzUHJvcHMiLCJqUXVlcnkuY3NzUHJvcHMgaXMgZGVwcmVjYXRlZCIpLFJlZmxlY3Quc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSk7ZigiNC4wLjAiKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBQcm94eSYmKG4uY3NzTnVtYmVyPW5ldyBQcm94eSh7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgiY3NzLW51bWJlciIsImpRdWVyeS5jc3NOdW1iZXIgaXMgZGVwcmVjYXRlZCIpLFJlZmxlY3QuZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoImNzcy1udW1iZXIiLCJqUXVlcnkuY3NzTnVtYmVyIGlzIGRlcHJlY2F0ZWQiKSxSZWZsZWN0LnNldC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpO250PW4uZm4uY3NzO3Uobi5mbiwiY3NzIixmdW5jdGlvbih0LHIpe3ZhciB1LGY9dGhpcztyZXR1cm4gdCYmIm9iamVjdCI9PXR5cGVvZiB0JiYhQXJyYXkuaXNBcnJheSh0KT8obi5lYWNoKHQsZnVuY3Rpb24odCxpKXtuLmZuLmNzcy5jYWxsKGYsdCxpKX0pLHRoaXMpOigibnVtYmVyIj09dHlwZW9mIHImJihyPXkodCksdT1yLHl0LnRlc3QodSkmJnB0LnRlc3QodVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSkpfHxuLmNzc051bWJlcltyXXx8aSgiY3NzLW51bWJlciIsJ051bWJlci10eXBlZCB2YWx1ZXMgYXJlIGRlcHJlY2F0ZWQgZm9yIGpRdWVyeS5mbi5jc3MoICInK3QrJyIsIHZhbHVlICknKSksbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sImNzcy1udW1iZXIiKTt2YXIgYyx3LGl0LHJ0LHV0LGIsZnQsbD1uLmRhdGEsd3Q9KHUobiwiZGF0YSIsZnVuY3Rpb24odCxyLHUpe3ZhciBlLG8sZjtpZihyJiYib2JqZWN0Ij09dHlwZW9mIHImJjI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoZiBpbiBlPW4uaGFzRGF0YSh0KSYmbC5jYWxsKHRoaXMsdCksbz17fSxyKWYhPT15KGYpPyhpKCJkYXRhLWNhbWVsQ2FzZSIsImpRdWVyeS5kYXRhKCkgYWx3YXlzIHNldHMvZ2V0cyBjYW1lbENhc2VkIG5hbWVzOiAiK2YpLGVbZl09cltmXSk6b1tmXT1yW2ZdO3JldHVybiBsLmNhbGwodGhpcyx0LG8pLHJ9cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2YgciYmciE9PXkocikmJihlPW4uaGFzRGF0YSh0KSYmbC5jYWxsKHRoaXMsdCkpJiZyIGluIGU/KGkoImRhdGEtY2FtZWxDYXNlIiwialF1ZXJ5LmRhdGEoKSBhbHdheXMgc2V0cy9nZXRzIGNhbWVsQ2FzZWQgbmFtZXM6ICIrciksMjxhcmd1bWVudHMubGVuZ3RoJiYoZVtyXT11KSxlW3JdKTpsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sImRhdGEtY2FtZWxDYXNlIiksbi5meCYmKGl0PW4uVHdlZW4ucHJvdG90eXBlLnJ1bixydD1mdW5jdGlvbihuKXtyZXR1cm4gbn0sdShuLlR3ZWVuLnByb3RvdHlwZSwicnVuIixmdW5jdGlvbigpezE8bi5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoImVhc2luZy1vbmUtYXJnIiwiJ2pRdWVyeS5lYXNpbmcuIit0aGlzLmVhc2luZy50b1N0cmluZygpKyInIHNob3VsZCB1c2Ugb25seSBvbmUgYXJndW1lbnQiKSxuLmVhc2luZ1t0aGlzLmVhc2luZ109cnQpO2l0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sImVhc2luZy1vbmUtYXJnIiksYz1uLmZ4LmludGVydmFsLHc9ImpRdWVyeS5meC5pbnRlcnZhbCBpcyBkZXByZWNhdGVkIix0LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4uZngsImludGVydmFsIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZG9jdW1lbnQuaGlkZGVufHxpKCJmeC1pbnRlcnZhbCIsdyksbi5taWdyYXRlSXNQYXRjaEVuYWJsZWQoImZ4LWludGVydmFsIikmJnZvaWQgMD09PWM/MTM6Y30sc2V0OmZ1bmN0aW9uKG4pe2koImZ4LWludGVydmFsIix3KTtjPW59fSkpLG4uZm4ubG9hZCksYnQ9bi5ldmVudC5hZGQsa3Q9bi5ldmVudC5maXgsZXQ9KG4uZXZlbnQucHJvcHM9W10sbi5ldmVudC5maXhIb29rcz17fSxhKG4uZXZlbnQucHJvcHMsImNvbmNhdCIsbi5ldmVudC5wcm9wcy5jb25jYXQsImV2ZW50LW9sZC1wYXRjaCIsImpRdWVyeS5ldmVudC5wcm9wcy5jb25jYXQoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksdShuLmV2ZW50LCJmaXgiLGZ1bmN0aW9uKHQpe3ZhciBmPXQudHlwZSx1PXRoaXMuZml4SG9va3NbZl0scj1uLmV2ZW50LnByb3BzO2lmKHIubGVuZ3RoKWZvcihpKCJldmVudC1vbGQtcGF0Y2giLCJqUXVlcnkuZXZlbnQucHJvcHMgYXJlIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQ6ICIrci5qb2luKCkpO3IubGVuZ3RoOyluLmV2ZW50LmFkZFByb3Aoci5wb3AoKSk7aWYodSYmIXUuX21pZ3JhdGVkXyYmKHUuX21pZ3JhdGVkXz0hMCxpKCJldmVudC1vbGQtcGF0Y2giLCJqUXVlcnkuZXZlbnQuZml4SG9va3MgYXJlIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQ6ICIrZiksKHI9dS5wcm9wcykmJnIubGVuZ3RoKSl3aGlsZShyLmxlbmd0aCluLmV2ZW50LmFkZFByb3Aoci5wb3AoKSk7cmV0dXJuIGY9a3QuY2FsbCh0aGlzLHQpLHUmJnUuZmlsdGVyP3UuZmlsdGVyKGYsdCk6Zn0sImV2ZW50LW9sZC1wYXRjaCIpLHUobi5ldmVudCwiYWRkIixmdW5jdGlvbihuLHIpe3JldHVybiBuPT09dCYmImxvYWQiPT09ciYmImNvbXBsZXRlIj09PXQuZG9jdW1lbnQucmVhZHlTdGF0ZSYmaSgibG9hZC1hZnRlci1ldmVudCIsImpRdWVyeSh3aW5kb3cpLm9uKCdsb2FkJy4uLikgY2FsbGVkIGFmdGVyIGxvYWQgZXZlbnQgb2NjdXJyZWQiKSxidC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LCJsb2FkLWFmdGVyLWV2ZW50Iiksbi5lYWNoKFsibG9hZCIsInVubG9hZCIsImVycm9yIl0sZnVuY3Rpb24odCxyKXt1KG4uZm4scixmdW5jdGlvbigpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4ibG9hZCI9PT1yJiYic3RyaW5nIj09dHlwZW9mIG5bMF0/d3QuYXBwbHkodGhpcyxuKTooaSgic2hvcnRoYW5kLXJlbW92ZWQtdjMiLCJqUXVlcnkuZm4uIityKyIoKSBpcyBkZXByZWNhdGVkIiksbi5zcGxpY2UoMCwwLHIpLGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbi5hcHBseSh0aGlzLG4pOih0aGlzLnRyaWdnZXJIYW5kbGVyLmFwcGx5KHRoaXMsbiksdGhpcykpfSwic2hvcnRoYW5kLXJlbW92ZWQtdjMiKX0pLG4uZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbih0LGkpe3Iobi5mbixpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKGksbnVsbCxuLHQpOnRoaXMudHJpZ2dlcihpKX0sInNob3J0aGFuZC1kZXByZWNhdGVkLXYzIiwialF1ZXJ5LmZuLiIraSsiKCkgZXZlbnQgc2hvcnRoYW5kIGlzIGRlcHJlY2F0ZWQiKX0pLG4oZnVuY3Rpb24oKXtuKHQuZG9jdW1lbnQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpfSksbi5ldmVudC5zcGVjaWFsLnJlYWR5PXtzZXR1cDpmdW5jdGlvbigpe3RoaXM9PT10LmRvY3VtZW50JiZpKCJyZWFkeS1ldmVudCIsIidyZWFkeScgZXZlbnQgaXMgZGVwcmVjYXRlZCIpfX0scihuLmZuLCJiaW5kIixmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub24obixudWxsLHQsaSl9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHIobi5mbiwidW5iaW5kIixmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9mZihuLG51bGwsdCl9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi51bmJpbmQoKSBpcyBkZXByZWNhdGVkIikscihuLmZuLCJkZWxlZ2F0ZSIsZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHRoaXMub24odCxuLGkscil9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSxyKG4uZm4sInVuZGVsZWdhdGUiLGZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYobiwiKioiKTp0aGlzLm9mZih0LG58fCIqKiIsaSl9LCJwcmUtb24tbWV0aG9kcyIsImpRdWVyeS5mbi51bmRlbGVnYXRlKCkgaXMgZGVwcmVjYXRlZCIpLHIobi5mbiwiaG92ZXIiLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub24oIm1vdXNlZW50ZXIiLG4pLm9uKCJtb3VzZWxlYXZlIix0fHxuKX0sInByZS1vbi1tZXRob2RzIiwialF1ZXJ5LmZuLmhvdmVyKCkgaXMgZGVwcmVjYXRlZCIpLC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSksZHQ9KG4uVU5TQUZFX3Jlc3RvcmVMZWdhY3lIdG1sUHJlZmlsdGVyPWZ1bmN0aW9uKCl7bi5taWdyYXRlRW5hYmxlUGF0Y2hlcygic2VsZi1jbG9zZWQtdGFncyIpfSx1KG4sImh0bWxQcmVmaWx0ZXIiLGZ1bmN0aW9uKG4pe3ZhciB0LHI7cmV0dXJuKHI9KHQ9bikucmVwbGFjZShldCwiPCQxPjxcLyQyPiIpKSE9PXQmJnR0KHQpIT09dHQocikmJmkoInNlbGYtY2xvc2VkLXRhZ3MiLCJIVE1MIHRhZ3MgbXVzdCBiZSBwcm9wZXJseSBuZXN0ZWQgYW5kIGNsb3NlZDogIit0KSxuLnJlcGxhY2UoZXQsIjwkMT48XC8kMj4iKX0sInNlbGYtY2xvc2VkLXRhZ3MiKSxuLm1pZ3JhdGVEaXNhYmxlUGF0Y2hlcygic2VsZi1jbG9zZWQtdGFncyIpLG4uZm4ub2Zmc2V0KTtyZXR1cm4gdShuLmZuLCJvZmZzZXQiLGZ1bmN0aW9uKCl7dmFyIG49dGhpc1swXTtyZXR1cm4hbnx8bi5ub2RlVHlwZSYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/ZHQuYXBwbHkodGhpcyxhcmd1bWVudHMpOihpKCJvZmZzZXQtdmFsaWQtZWxlbSIsImpRdWVyeS5mbi5vZmZzZXQoKSByZXF1aXJlcyBhIHZhbGlkIERPTSBlbGVtZW50IiksYXJndW1lbnRzLmxlbmd0aD90aGlzOnZvaWQgMCl9LCJvZmZzZXQtdmFsaWQtZWxlbSIpLG4uYWpheCYmKHV0PW4ucGFyYW0sdShuLCJwYXJhbSIsZnVuY3Rpb24odCxyKXt2YXIgdT1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7cmV0dXJuIHZvaWQgMD09PXImJnUmJihpKCJwYXJhbS1hamF4LXRyYWRpdGlvbmFsIiwialF1ZXJ5LnBhcmFtKCkgbm8gbG9uZ2VyIHVzZXMgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCIpLHI9dSksdXQuY2FsbCh0aGlzLHQscil9LCJwYXJhbS1hamF4LXRyYWRpdGlvbmFsIikpLHIobi5mbiwiYW5kU2VsZiIsbi5mbi5hZGRCYWNrLCJhbmRTZWxmIiwialF1ZXJ5LmZuLmFuZFNlbGYoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkLCB1c2UgalF1ZXJ5LmZuLmFkZEJhY2soKSIpLG4uRGVmZXJyZWQmJihiPW4uRGVmZXJyZWQsZnQ9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLHUobiwiRGVmZXJyZWQiLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGYoKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24ocil7bi5lYWNoKGZ0LGZ1bmN0aW9uKG4sZil7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIHRbbl0mJnRbbl07aVtmWzFdXShmdW5jdGlvbigpe3ZhciBuPWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLnByb21pc2U/bi5wcm9taXNlKCkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpLnByb2dyZXNzKHIubm90aWZ5KTpyW2ZbMF0rIldpdGgiXSh0aGlzPT09dT9yLnByb21pc2UoKTp0aGlzLGU/W25dOmFyZ3VtZW50cyl9KX0pO3Q9bnVsbH0pLnByb21pc2UoKX12YXIgaT1iKCksdT1pLnByb21pc2UoKTtyZXR1cm4gcihpLCJwaXBlIixmLCJkZWZlcnJlZC1waXBlIiwiZGVmZXJyZWQucGlwZSgpIGlzIGRlcHJlY2F0ZWQiKSxyKHUsInBpcGUiLGYsImRlZmVycmVkLXBpcGUiLCJkZWZlcnJlZC5waXBlKCkgaXMgZGVwcmVjYXRlZCIpLHQmJnQuY2FsbChpLGkpLGl9LCJkZWZlcnJlZC1waXBlIiksbi5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWIuZXhjZXB0aW9uSG9vayksbn0pOw0KZnVuY3Rpb24gT3BlbldpbmRvdyhuLHQsaSxyKXt2YXIgdT0oc2NyZWVuLndpZHRoLXQpLzIsZj0oc2NyZWVuLmhlaWdodC1pKS8yLGU7d2lucHJvcHM9InJlc2l6YWJsZT0wLCBoZWlnaHQ9IitpKyIsd2lkdGg9Iit0KyIsdG9wPSIrZisiLGxlZnQ9Iit1KyJ3IjtyJiYod2lucHJvcHMrPSIsc2Nyb2xsYmFycz0xIik7ZT13aW5kb3cub3BlbihuLCJfYmxhbmsiLHdpbnByb3BzKX1mdW5jdGlvbiBzZXRMb2NhdGlvbihuKXt3aW5kb3cubG9jYXRpb24uaHJlZj1ufWZ1bmN0aW9uIGRpc3BsYXlBamF4TG9hZGluZyhuKXtuPyQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93Iikuc2hvdygpOiQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93IikuaGlkZSgic2xvdyIpfWZ1bmN0aW9uIGRpc3BsYXlQb3B1cE5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGYscix1LGU7aWYoZj10PT0ic3VjY2VzcyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXN1Y2Nlc3MiKTp0PT0iZXJyb3IiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1lcnJvciIpOnQ9PSJ3YXJuaW5nIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtd2FybmluZyIpOiQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIikscj0iIix0eXBlb2Ygbj09InN0cmluZyIpcj0iPHA+IituKyI8XC9wPiI7ZWxzZSBmb3IodT0wO3U8bi5sZW5ndGg7dSsrKXI9cisiPHA+IituW3VdKyI8XC9wPiI7Zi5odG1sKHIpO2U9aT8hMDohMTtmLmRpYWxvZyh7bW9kYWw6ZSx3aWR0aDozNTB9KX1mdW5jdGlvbiBkaXNwbGF5Sm9pbmVkUG9wdXBOb3RpZmljYXRpb25zKG4pe3ZhciB1LGYsaSxlLHIsdDtpZihPYmplY3Qua2V5cyhuKS5sZW5ndGghPT0wKXt1PSQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoaSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaSkpZm9yKGU9bltpXSxyPTA7cjxlLmxlbmd0aDsrK3IpdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LmlubmVySFRNTD1lW3JdLHQuY2xhc3NMaXN0LmFkZCgicG9wdXAtbm90aWZpY2F0aW9uIiksdC5jbGFzc0xpc3QuYWRkKGkpLGYuYXBwZW5kKHQpO3UuaHRtbChmKTt1LmRpYWxvZyh7d2lkdGg6MzUwLG1vZGFsOiEwfSl9fWZ1bmN0aW9uIGRpc3BsYXlQb3B1cENvbnRlbnRGcm9tVXJsKG4sdCxpLHIpe3ZhciB1PWk/ITA6ITEsZj1yP3I6NTUwLGU9JCh3aW5kb3cpLmhlaWdodCgpLTIwOyQoIjxkaXY+PFwvZGl2PiIpLmxvYWQobikuZGlhbG9nKHttb2RhbDp1LHdpZHRoOmYsbWF4SGVpZ2h0OmUsdGl0bGU6dCxjbG9zZTpmdW5jdGlvbigpeyQodGhpcykuZGlhbG9nKCJkZXN0cm95IikucmVtb3ZlKCl9fSl9ZnVuY3Rpb24gZGlzcGxheUJhck5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGMsbz10eXBlb2Ygbj09InN0cmluZyI/W25dOm4scyxyLHUsZixlLGg7aWYoby5sZW5ndGghPT0wKXtmb3Iocz1bInN1Y2Nlc3MiLCJlcnJvciIsIndhcm5pbmciXS5pbmRleE9mKHQpIT09LTE/dDoic3VjY2VzcyIsJCgiI2Jhci1ub3RpZmljYXRpb24iKS5yZW1vdmVDbGFzcygic3VjY2VzcyIpLnJlbW92ZUNsYXNzKCJlcnJvciIpLnJlbW92ZUNsYXNzKCJ3YXJuaW5nIiksJCgiLmJhci1ub3RpZmljYXRpb24iKS5yZW1vdmUoKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHIuY2xhc3NMaXN0LmFkZCgiYmFyLW5vdGlmaWNhdGlvbiIscyksci5jbGFzc0xpc3QuYWRkKHMpLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLHUuY2xhc3NMaXN0LmFkZCgiY2xvc2UiKSx1LnNldEF0dHJpYnV0ZSgidGl0bGUiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYXItbm90aWZpY2F0aW9uIikuZGF0YXNldC5jbG9zZSksZj0wO2Y8by5sZW5ndGg7ZisrKWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLGUuY2xhc3NMaXN0LmFkZCgiY29udGVudCIpLGUuaW5uZXJIVE1MPW9bZl0sci5hcHBlbmRDaGlsZChlKTtyLmFwcGVuZENoaWxkKHUpOyQoIiNiYXItbm90aWZpY2F0aW9uIikuYXBwZW5kKHIpOyQocikuZmFkZUluKCJzbG93Iikub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGMpfSk7aD1mdW5jdGlvbigpeyQocikucmVtb3ZlKCl9OyQodSkub24oImNsaWNrIixmdW5jdGlvbigpeyQocikuZmFkZU91dCgic2xvdyIsaCl9KTtpPjAmJihjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSxpKSl9fWZ1bmN0aW9uIGh0bWxFbmNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLnRleHQobikuaHRtbCgpfWZ1bmN0aW9uIGh0bWxEZWNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLmh0bWwobikudGV4dCgpfWZ1bmN0aW9uIGFkZEFudGlGb3JnZXJ5VG9rZW4obil7bnx8KG49e30pO3ZhciB0PSQoImlucHV0W25hbWU9X19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW5dIik7cmV0dXJuIHQubGVuZ3RoJiYobi5fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj10LnZhbCgpKSxufQ0KdmFyIEFqYXhDYXJ0PXtsb2FkV2FpdGluZzohMSx1c2Vwb3B1cG5vdGlmaWNhdGlvbnM6ITEsdG9wY2FydHNlbGVjdG9yOiIiLHRvcHdpc2hsaXN0c2VsZWN0b3I6IiIsZmx5b3V0Y2FydHNlbGVjdG9yOiIiLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMudXNlcG9wdXBub3RpZmljYXRpb25zPW47dGhpcy50b3BjYXJ0c2VsZWN0b3I9dDt0aGlzLnRvcHdpc2hsaXN0c2VsZWN0b3I9aTt0aGlzLmZseW91dGNhcnRzZWxlY3Rvcj1yO3RoaXMubG9jYWxpemVkX2RhdGE9dX0sc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24obil7ZGlzcGxheUFqYXhMb2FkaW5nKG4pO3RoaXMubG9hZFdhaXRpbmc9bn0sYWRkcHJvZHVjdHRvY2FydF9jYXRhbG9nOmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxhZGRwcm9kdWN0dG9jYXJ0X2RldGFpbHM6ZnVuY3Rpb24obix0KXt0aGlzLmxvYWRXYWl0aW5nPT09ITEmJih0aGlzLnNldExvYWRXYWl0aW5nKCEwKSwkLmFqYXgoe2NhY2hlOiExLHVybDpuLGRhdGE6JCh0KS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSkpfSxhZGRwcm9kdWN0dG9jb21wYXJlbGlzdDpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sc3VjY2Vzc19wcm9jZXNzOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3BjYXJ0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwpLG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3B3aXNobGlzdHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCksbi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQuZmx5b3V0Y2FydHNlbGVjdG9yKS5yZXBsYWNlV2l0aChuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCksbi5tZXNzYWdlKT8obi5zdWNjZXNzPT09ITA/QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwzNTAwKTpBamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsMCksITEpOm4ucmVkaXJlY3Q/KGxvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdCwhMCk6ITF9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtBamF4Q2FydC5zZXRMb2FkV2FpdGluZyghMSl9LGFqYXhGYWlsdXJlOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5BamF4Q2FydEZhaWx1cmUpfX07DQorZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt2YXIgdD1uKHRoaXMpLHU9dC52YWwoKSxpPW4odC5kYXRhKCJzdGF0ZXByb3ZpbmNlIikpLHI7aS5sZW5ndGghPTAmJihyPW4odC5kYXRhKCJsb2FkaW5nIikpLHIuc2hvdygpLG4uYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6dC5kYXRhKCJ1cmwiKSxkYXRhOntjb3VudHJ5SWQ6dSxhZGRTZWxlY3RTdGF0ZUl0ZW06InRydWUifSxzdWNjZXNzOmZ1bmN0aW9uKHQpe2kuaHRtbCgiIik7bi5lYWNoKHQsZnVuY3Rpb24odCxyKXtpLmFwcGVuZChuKCI8b3B0aW9uPjxcL29wdGlvbj4iKS52YWwoci5pZCkuaHRtbChyLm5hbWUpKX0pfSxlcnJvcjpmdW5jdGlvbigpe2FsZXJ0KCJGYWlsZWQgdG8gcmV0cmlldmUgc3RhdGVzLiIpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciB0PXR5cGVvZiBCaWxsaW5nIT0idW5kZWZpbmVkIj9CaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDp0eXBlb2YgQ2hlY2tvdXRCaWxsaW5nIT0idW5kZWZpbmVkIj9DaGVja291dEJpbGxpbmcuc2VsZWN0ZWRTdGF0ZUlkOjA7bigiIyIraVswXS5pZCsiIG9wdGlvblt2YWx1ZT0iK3QrIl0iKS5wcm9wKCJzZWxlY3RlZCIsITApO3IuaGlkZSgpfX0pKX1pZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSBKUyByZXF1aXJlZCIpO24oZG9jdW1lbnQpLmhhcygnW2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpJiZuKCdzZWxlY3RbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykuY2hhbmdlKHQpO24uZm4uY291bnRyeVNlbGVjdD1mdW5jdGlvbigpe3RoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuY2hhbmdlKHQpfSl9fShqUXVlcnkpOw0K","CacheKey":"g7_AkfKO8FsowFn3A_Qewfp7jAc"}