{"Headers":{"Last-Modified":"Fri, 21 Oct 2022 12:14:39 GMT","X-Content-Type-Options":"nosniff"},"Body":"IWZ1bmN0aW9uKG4peyFmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcyhuKXt2YXIgdD11KG58fHt9KSxmPWgodCk7cmV0dXJuIHIoZiksYyh0LGYpLGl9ZnVuY3Rpb24gaChuKXt2YXIgaT1mKCJ1cGxvYWRlclR5cGUiKSxyPWYoImVuZHBvaW50VHlwZSIpO3JldHVybiBpPyhpPWkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpLHI/bmV3IHRbcl1bIkZpbmVVcGxvYWRlciIraV0obik6bmV3IHRbIkZpbmVVcGxvYWRlciIraV0obikpOnI/bmV3IHRbcl0uRmluZVVwbG9hZGVyKG4pOm5ldyB0LkZpbmVVcGxvYWRlcihuKX1mdW5jdGlvbiBlKG4sdCl7dmFyIHI9aS5kYXRhKCJmaW5ldXBsb2FkZXIiKTtpZighdClyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJbbl07dm9pZCAwPT09ciYmKHI9e30pO3Jbbl09dDtpLmRhdGEoImZpbmV1cGxvYWRlciIscil9ZnVuY3Rpb24gcihuKXtyZXR1cm4gZSgidXBsb2FkZXIiLG4pfWZ1bmN0aW9uIGYobix0KXtyZXR1cm4gZShuLHQpfWZ1bmN0aW9uIGMocix1KXt2YXIgZj1yLmNhbGxiYWNrcz17fTtuLmVhY2godS5fb3B0aW9ucy5jYWxsYmFja3MsZnVuY3Rpb24ocix1KXt2YXIgZSxzO2U9L15vbihcdyspLy5leGVjKHIpWzFdO2U9ZS5zdWJzdHJpbmcoMCwxKS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyaW5nKDEpO3M9aTtmW3JdPWZ1bmN0aW9uKCl7dmFyIGkscixmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksaD1bXTtuLmVhY2goZixmdW5jdGlvbihuLHQpe2gucHVzaChvKHQpKX0pO2k9dS5hcHBseSh0aGlzLGYpO3RyeXtyPXMudHJpZ2dlckhhbmRsZXIoZSxoKX1jYXRjaChuKXt0LmxvZygiQ2F1Z2h0IGVycm9yIGluIEZpbmUgVXBsb2FkZXIgalF1ZXJ5IGV2ZW50IGhhbmRsZXI6ICIrbi5tZXNzYWdlLCJlcnJvciIpfXJldHVybiBudWxsIT1pP2k6cn19KTt1Ll9vcHRpb25zLmNhbGxiYWNrcz1mfWZ1bmN0aW9uIHUodCxyKXt2YXIgZSxvO2lmKGU9dm9pZCAwPT09cj8iYmFzaWMiIT09dC51cGxvYWRlclR5cGU/e2VsZW1lbnQ6aVswXX06e306cixuLmVhY2godCxmdW5jdGlvbih0LGkpe24uaW5BcnJheSh0LHYpPj0wP2YodCxpKTppIGluc3RhbmNlb2Ygbj9lW3RdPWlbMF06bi5pc1BsYWluT2JqZWN0KGkpPyhlW3RdPXt9LHUoaSxlW3RdKSk6bi5pc0FycmF5KGkpPyhvPVtdLG4uZWFjaChpLGZ1bmN0aW9uKHQsaSl7dmFyIHI9e307aSBpbnN0YW5jZW9mIG4/bi5tZXJnZShvLGkpOm4uaXNQbGFpbk9iamVjdChpKT8odShpLHIpLG8ucHVzaChyKSk6by5wdXNoKGkpfSksZVt0XT1vKTplW3RdPWl9KSx2b2lkIDA9PT1yKXJldHVybiBlfWZ1bmN0aW9uIGwodCl7cmV0dXJuInN0cmluZyI9PT1uLnR5cGUodCkmJiF0Lm1hdGNoKC9eXy8pJiZ2b2lkIDAhPT1yKClbdF19ZnVuY3Rpb24gYShuKXt2YXIgdCxpPVtdLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB1KGYsaSksdD1yKClbbl0uYXBwbHkocigpLGkpLG8odCl9ZnVuY3Rpb24gbyh0KXt2YXIgaT10O3JldHVybiBudWxsPT10fHwib2JqZWN0IiE9dHlwZW9mIHR8fDEhPT10Lm5vZGVUeXBlJiY5IT09dC5ub2RlVHlwZXx8IXQuY2xvbmVOb2RlfHwoaT1uKHQpKSxpfXZhciBpLHY9WyJ1cGxvYWRlclR5cGUiLCJlbmRwb2ludFR5cGUiXTtuLmZuLmZpbmVVcGxvYWRlcj1mdW5jdGlvbih0KXt2YXIgZj10aGlzLGU9YXJndW1lbnRzLHU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihvLGgpe2lmKGk9bihoKSxyKCkmJmwodCkpe2lmKHUucHVzaChhLmFwcGx5KGYsZSkpLDE9PT1mLmxlbmd0aClyZXR1cm4hMX1lbHNlIm9iamVjdCIhPXR5cGVvZiB0JiZ0P24uZXJyb3IoIk1ldGhvZCAiK3QrIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuZmluZVVwbG9hZGVyIik6cy5hcHBseShmLGUpfSksMT09PXUubGVuZ3RoP3VbMF06dS5sZW5ndGg+MT91OnRoaXN9fShqUXVlcnkpLGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKG4pe258fChuPXt9KTtuLmRyb3Bab25lRWxlbWVudHM9W2ldO3ZhciBmPXUobik7cmV0dXJuIG8oZikscihuZXcgdC5EcmFnQW5kRHJvcChmKSksaX1mdW5jdGlvbiBlKG4sdCl7dmFyIHI9aS5kYXRhKCJmaW5lVXBsb2FkZXJEbmQiKTtpZighdClyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJbbl07dm9pZCAwPT09ciYmKHI9e30pO3Jbbl09dDtpLmRhdGEoImZpbmVVcGxvYWRlckRuZCIscil9ZnVuY3Rpb24gcihuKXtyZXR1cm4gZSgiZG5kSW5zdGFuY2UiLG4pfWZ1bmN0aW9uIG8ocil7dmFyIHU9ci5jYWxsYmFja3M9e307bi5lYWNoKG5ldyB0LkRyYWdBbmREcm9wLmNhbGxiYWNrcyxmdW5jdGlvbihuKXt2YXIgdCxyPW47dD1pO3Vbbl09ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiB0LnRyaWdnZXJIYW5kbGVyKHIsbil9fSl9ZnVuY3Rpb24gdSh0LGkpe3ZhciByLGY7aWYocj12b2lkIDA9PT1pP3t9Omksbi5lYWNoKHQsZnVuY3Rpb24odCxpKXtpIGluc3RhbmNlb2Ygbj9yW3RdPWlbMF06bi5pc1BsYWluT2JqZWN0KGkpPyhyW3RdPXt9LHUoaSxyW3RdKSk6bi5pc0FycmF5KGkpPyhmPVtdLG4uZWFjaChpLGZ1bmN0aW9uKHQsaSl7aSBpbnN0YW5jZW9mIG4/bi5tZXJnZShmLGkpOmYucHVzaChpKX0pLHJbdF09Zik6clt0XT1pfSksdm9pZCAwPT09aSlyZXR1cm4gcn1mdW5jdGlvbiBzKHQpe3JldHVybiJzdHJpbmciPT09bi50eXBlKHQpJiYiZGlzcG9zZSI9PT10JiZ2b2lkIDAhPT1yKClbdF19ZnVuY3Rpb24gaChuKXt2YXIgdD1bXTtyZXR1cm4gdShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksdCkscigpW25dLmFwcGx5KHIoKSx0KX12YXIgaTtuLmZuLmZpbmVVcGxvYWRlckRuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG89YXJndW1lbnRzLHU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjLGwpe2lmKGk9bihsKSxyKCkmJnModCkpe2lmKHUucHVzaChoLmFwcGx5KGUsbykpLDE9PT1lLmxlbmd0aClyZXR1cm4hMX1lbHNlIm9iamVjdCIhPXR5cGVvZiB0JiZ0P24uZXJyb3IoIk1ldGhvZCAiK3QrIiBkb2VzIG5vdCBleGlzdCBpbiBGaW5lIFVwbG9hZGVyJ3MgRG5EIG1vZHVsZS4iKTpmLmFwcGx5KGUsbyl9KSwxPT09dS5sZW5ndGg/dVswXTp1Lmxlbmd0aD4xP3U6dGhpc319KGpRdWVyeSk7dmFyIHQ9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3JldHVybntoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpc30sYXR0YWNoOmZ1bmN0aW9uKGkscil7cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoaSxyLCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbiIraSxyKSxmdW5jdGlvbigpe3QobikuZGV0YWNoKGkscil9fSxkZXRhY2g6ZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5yZW1vdmVFdmVudExpc3RlbmVyP24ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGksITEpOm4uYXR0YWNoRXZlbnQmJm4uZGV0YWNoRXZlbnQoIm9uIit0LGkpLHRoaXN9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKG49PT10fHwobi5jb250YWlucz9uLmNvbnRhaW5zKHQpOiEhKDgmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKSkpKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdCksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0aGlzfSxjc3M6ZnVuY3Rpb24oaSl7aWYobnVsbD09bi5zdHlsZSl0aHJvdyBuZXcgdC5FcnJvcigiQ2FuJ3QgYXBwbHkgc3R5bGUgdG8gbm9kZSBhcyBpdCBpcyBub3Qgb24gdGhlIEhUTUxFbGVtZW50IHByb3RvdHlwZSBjaGFpbiEiKTtyZXR1cm4gbnVsbCE9aS5vcGFjaXR5JiYic3RyaW5nIiE9dHlwZW9mIG4uc3R5bGUub3BhY2l0eSYmdm9pZCAwIT09bi5maWx0ZXJzJiYoaS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IitNYXRoLnJvdW5kKDEwMCppLm9wYWNpdHkpKyIpIiksdC5leHRlbmQobi5zdHlsZSxpKSx0aGlzfSxoYXNDbGFzczpmdW5jdGlvbih0LGkpe3ZhciByPW5ldyBSZWdFeHAoIihefCApIit0KyIoIHwkKSIpO3JldHVybiByLnRlc3Qobi5jbGFzc05hbWUpfHwhKCFpfHwhci50ZXN0KG4ucGFyZW50Tm9kZS5jbGFzc05hbWUpKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oaSl7cmV0dXJuIHQobikuaGFzQ2xhc3MoaSl8fChuLmNsYXNzTmFtZSs9IiAiK2kpLHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBSZWdFeHAoIihefCApIit0KyIoIHwkKSIpO3JldHVybiBuLmNsYXNzTmFtZT1uLmNsYXNzTmFtZS5yZXBsYWNlKGksIiAiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIiksdGhpc30sZ2V0QnlDbGFzczpmdW5jdGlvbihpLHIpe3ZhciBmLHU9W107cmV0dXJuIHImJm4ucXVlcnlTZWxlY3Rvcj9uLnF1ZXJ5U2VsZWN0b3IoIi4iK2kpOm4ucXVlcnlTZWxlY3RvckFsbD9uLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2kpOihmPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSx0LmVhY2goZixmdW5jdGlvbihuLHIpe3QocikuaGFzQ2xhc3MoaSkmJnUucHVzaChyKX0pLHI/dVswXTp1KX0sZ2V0Rmlyc3RCeUNsYXNzOmZ1bmN0aW9uKGkpe3JldHVybiB0KG4pLmdldEJ5Q2xhc3MoaSwhMCl9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPVtdLHQ9bi5maXJzdENoaWxkO3Q7KTE9PT10Lm5vZGVUeXBlJiZpLnB1c2godCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBpfSxzZXRUZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBuLmlubmVyVGV4dD10LG4udGV4dENvbnRlbnQ9dCx0aGlzfSxjbGVhclRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdChuKS5zZXRUZXh0KCIiKX0saGFzQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiBuLmhhc0F0dHJpYnV0ZT8hIW4uaGFzQXR0cmlidXRlKHQpJiZudWxsPT0vXmZhbHNlJC9pLmV4ZWMobi5nZXRBdHRyaWJ1dGUodCkpOihpPW5bdF0sdm9pZCAwIT09aSYmbnVsbD09L15mYWxzZSQvaS5leGVjKGkpKX19fTshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC5jYW52YXNUb0Jsb2I9ZnVuY3Rpb24obixpLHIpe3JldHVybiB0LmRhdGFVcmlUb0Jsb2Iobi50b0RhdGFVUkwoaSxyKSl9O3QuZGF0YVVyaVRvQmxvYj1mdW5jdGlvbihuKXt2YXIgaSxyLHUsZixlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXIsaT1yJiZuZXcgcjtyZXR1cm4gaT8oaS5hcHBlbmQobiksaS5nZXRCbG9iKHQpKTpuZXcgQmxvYihbbl0se3R5cGU6dH0pfTtyZXR1cm4gcj1uLnNwbGl0KCIsIilbMF0uaW5kZXhPZigiYmFzZTY0Iik+PTA/YXRvYihuLnNwbGl0KCIsIilbMV0pOmRlY29kZVVSSShuLnNwbGl0KCIsIilbMV0pLGY9bi5zcGxpdCgiLCIpWzBdLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKVswXSxpPW5ldyBBcnJheUJ1ZmZlcihyLmxlbmd0aCksdT1uZXcgVWludDhBcnJheShpKSx0LmVhY2gocixmdW5jdGlvbihuLHQpe3Vbbl09dC5jaGFyQ29kZUF0KDApfSksZShpLGYpfTt0LmxvZz1mdW5jdGlvbihuLHQpe3dpbmRvdy5jb25zb2xlJiYodCYmImluZm8iIT09dD93aW5kb3cuY29uc29sZVt0XT93aW5kb3cuY29uc29sZVt0XShuKTp3aW5kb3cuY29uc29sZS5sb2coIjwiK3QrIj4gIituKTp3aW5kb3cuY29uc29sZS5sb2cobikpfTt0LmlzT2JqZWN0PWZ1bmN0aW9uKG4pe3JldHVybiBuJiYhbi5ub2RlVHlwZSYmIltvYmplY3QgT2JqZWN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil9O3QuaXNGdW5jdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbn07dC5pc0FycmF5PWZ1bmN0aW9uKG4pe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil8fG4mJndpbmRvdy5BcnJheUJ1ZmZlciYmbi5idWZmZXImJm4uYnVmZmVyLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXJ9O3QuaXNJdGVtTGlzdD1mdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBEYXRhVHJhbnNmZXJJdGVtTGlzdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LmlzTm9kZUxpc3Q9ZnVuY3Rpb24obil7cmV0dXJuIltvYmplY3QgTm9kZUxpc3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKXx8bi5pdGVtJiZuLm5hbWVkSXRlbX07dC5pc1N0cmluZz1mdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC50cmltU3RyPWZ1bmN0aW9uKG4pe3JldHVybiBTdHJpbmcucHJvdG90eXBlLnRyaW0/bi50cmltKCk6bi5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9O3QuZm9ybWF0PWZ1bmN0aW9uKG4pe3ZhciB1PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxpPW4scj1pLmluZGV4T2YoInt9Iik7cmV0dXJuIHQuZWFjaCh1LGZ1bmN0aW9uKG4sdCl7aWYoaT1pLnN1YnN0cmluZygwLHIpK3QraS5zdWJzdHJpbmcocisyKSxyPWkuaW5kZXhPZigie30iLHIrdC5sZW5ndGgpLHI8MClyZXR1cm4hMX0pLGl9O3QuaXNGaWxlPWZ1bmN0aW9uKG4pe3JldHVybiB3aW5kb3cuRmlsZSYmIltvYmplY3QgRmlsZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LmlzRmlsZUxpc3Q9ZnVuY3Rpb24obil7cmV0dXJuIHdpbmRvdy5GaWxlTGlzdCYmIltvYmplY3QgRmlsZUxpc3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC5pc0ZpbGVPcklucHV0PWZ1bmN0aW9uKG4pe3JldHVybiB0LmlzRmlsZShuKXx8dC5pc0lucHV0KG4pfTt0LmlzSW5wdXQ9ZnVuY3Rpb24obix0KXt2YXIgaT1mdW5jdGlvbihuKXt2YXIgaT1uLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQ/ImZpbGUiIT09aToiZmlsZSI9PT1pfTtyZXR1cm4hISh3aW5kb3cuSFRNTElucHV0RWxlbWVudCYmIltvYmplY3QgSFRNTElucHV0RWxlbWVudF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pJiZuLnR5cGUmJmkobi50eXBlKSl8fCEhKG4udGFnTmFtZSYmImlucHV0Ij09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnR5cGUmJmkobi50eXBlKSl9O3QuaXNCbG9iPWZ1bmN0aW9uKG4pe2lmKHdpbmRvdy5CbG9iJiYiW29iamVjdCBCbG9iXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikpcmV0dXJuITB9O3QuaXNYaHJVcGxvYWRTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3JldHVybiBuLnR5cGU9ImZpbGUiLHZvaWQgMCE9PW4ubXVsdGlwbGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgRmlsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBGb3JtRGF0YSYmdm9pZCAwIT09dC5jcmVhdGVYaHJJbnN0YW5jZSgpLnVwbG9hZH07dC5jcmVhdGVYaHJJbnN0YW5jZT1mdW5jdGlvbigpe2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdClyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0O3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1TWE1MMi5YTUxIVFRQLjMuMCIpfWNhdGNoKG4pe3JldHVybiB0LmxvZygiTmVpdGhlciBYSFIgb3IgQWN0aXZlWCBhcmUgc3VwcG9ydGVkISIsImVycm9yIiksbnVsbH19O3QuaXNGb2xkZXJEcm9wU3VwcG9ydGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuLml0ZW1zJiZuLml0ZW1zLmxlbmd0aD4wJiZuLml0ZW1zWzBdLndlYmtpdEdldEFzRW50cnl9O3QuaXNGaWxlQ2h1bmtpbmdTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdC5hbmRyb2lkU3RvY2soKSYmdC5pc1hoclVwbG9hZFN1cHBvcnRlZCgpJiYodm9pZCAwIT09RmlsZS5wcm90b3R5cGUuc2xpY2V8fHZvaWQgMCE9PUZpbGUucHJvdG90eXBlLndlYmtpdFNsaWNlfHx2b2lkIDAhPT1GaWxlLnByb3RvdHlwZS5tb3pTbGljZSl9O3Quc2xpY2VCbG9iPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4obi5zbGljZXx8bi5tb3pTbGljZXx8bi53ZWJraXRTbGljZSkuY2FsbChuLHQsaSl9O3QuYXJyYXlCdWZmZXJUb0hleD1mdW5jdGlvbihuKXt2YXIgaT0iIixyPW5ldyBVaW50OEFycmF5KG4pO3JldHVybiB0LmVhY2gocixmdW5jdGlvbihuLHQpe3ZhciByPXQudG9TdHJpbmcoMTYpO3IubGVuZ3RoPDImJihyPSIwIityKTtpKz1yfSksaX07dC5yZWFkQmxvYlRvSGV4PWZ1bmN0aW9uKG4saSxyKXt2YXIgZT10LnNsaWNlQmxvYihuLGksaStyKSx1PW5ldyBGaWxlUmVhZGVyLGY9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdS5vbmxvYWQ9ZnVuY3Rpb24oKXtmLnN1Y2Nlc3ModC5hcnJheUJ1ZmZlclRvSGV4KHUucmVzdWx0KSl9LHUub25lcnJvcj1mLmZhaWx1cmUsdS5yZWFkQXNBcnJheUJ1ZmZlcihlKSxmfTt0LmV4dGVuZD1mdW5jdGlvbihuLGkscil7cmV0dXJuIHQuZWFjaChpLGZ1bmN0aW9uKGksdSl7ciYmdC5pc09iamVjdCh1KT8odm9pZCAwPT09bltpXSYmKG5baV09e30pLHQuZXh0ZW5kKG5baV0sdSwhMCkpOm5baV09dX0pLG59O3Qub3ZlcnJpZGU9ZnVuY3Rpb24obixpKXt2YXIgcj17fSx1PWkocik7cmV0dXJuIHQuZWFjaCh1LGZ1bmN0aW9uKHQsaSl7dm9pZCAwIT09blt0XSYmKHJbdF09blt0XSk7blt0XT1pfSksbn07dC5pbmRleE9mPWZ1bmN0aW9uKG4sdCxpKXtpZihuLmluZGV4T2YpcmV0dXJuIG4uaW5kZXhPZih0LGkpO2k9aXx8MDt2YXIgcj1uLmxlbmd0aDtmb3IoaTwwJiYoaSs9cik7aTxyO2krPTEpaWYobi5oYXNPd25Qcm9wZXJ0eShpKSYmbltpXT09PXQpcmV0dXJuIGk7cmV0dXJuLTF9O3QuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24obil7dmFyIHQ9MTYqTWF0aC5yYW5kb20oKXwwO3JldHVybigieCI9PW4/dDozJnR8OCkudG9TdHJpbmcoMTYpfSl9O3QuaWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIikhPT0tMXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJUcmlkZW50IikhPT0tMX07dC5pZTc9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDciKSE9PS0xfTt0LmllOD1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpIT09LTF9O3QuaWUxMD1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgMTAiKSE9PS0xfTt0LmllMTE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoInJ2OjExIikhPT0tMX07dC5lZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRWRnZSIpPj0wfTt0LnNhZmFyaT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1uYXZpZ2F0b3IudmVuZG9yJiZuYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoIkFwcGxlIikhPT0tMX07dC5jaHJvbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJHb29nbGUiKSE9PS0xfTt0Lm9wZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJm5hdmlnYXRvci52ZW5kb3IuaW5kZXhPZigiT3BlcmEiKSE9PS0xfTt0LmZpcmVmb3g9ZnVuY3Rpb24oKXtyZXR1cm4hdC5lZGdlKCkmJiF0LmllMTEoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNb3ppbGxhIikhPT0tMSYmdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmIiI9PT1uYXZpZ2F0b3IudmVuZG9yfTt0LndpbmRvd3M9ZnVuY3Rpb24oKXtyZXR1cm4iV2luMzIiPT09bmF2aWdhdG9yLnBsYXRmb3JtfTt0LmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFuZHJvaWQiKSE9PS0xfTt0LmFuZHJvaWRTdG9jaz1mdW5jdGlvbigpe3JldHVybiB0LmFuZHJvaWQoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImNocm9tZSIpPDB9O3QuaW9zNj1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA2XyIpIT09LTF9O3QuaW9zNz1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA3XyIpIT09LTF9O3QuaW9zOD1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA4XyIpIT09LTF9O3QuaW9zODAwPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiIE9TIDhfMCAiKSE9PS0xfTt0Lmlvcz1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImlQYWQiKSE9PS0xfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImlQb2QiKSE9PS0xfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImlQaG9uZSIpIT09LTF9O3QuaW9zQ2hyb21lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ3JpT1MiKSE9PS0xfTt0Lmlvc1NhZmFyaT1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiYhdC5pb3NDaHJvbWUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSE9PS0xfTt0Lmlvc1NhZmFyaVdlYlZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmIXQuaW9zQ2hyb21lKCkmJiF0Lmlvc1NhZmFyaSgpfTt0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQ/bi5wcmV2ZW50RGVmYXVsdCgpOm4ucmV0dXJuVmFsdWU9ITF9O3QudG9FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGZ1bmN0aW9uKHQpe24uaW5uZXJIVE1MPXQ7dmFyIGk9bi5maXJzdENoaWxkO3JldHVybiBuLnJlbW92ZUNoaWxkKGkpLGl9fSgpO3QuZWFjaD1mdW5jdGlvbihuLGkpe3ZhciByLHU7aWYobilpZih3aW5kb3cuU3RvcmFnZSYmbi5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5TdG9yYWdlKWZvcihyPTA7cjxuLmxlbmd0aCYmKHU9aShuLmtleShyKSxuLmdldEl0ZW0obi5rZXkocikpKSx1IT09ITEpO3IrKyk7ZWxzZSBpZih0LmlzQXJyYXkobil8fHQuaXNJdGVtTGlzdChuKXx8dC5pc05vZGVMaXN0KG4pKWZvcihyPTA7cjxuLmxlbmd0aCYmKHU9aShyLG5bcl0pLHUhPT0hMSk7cisrKTtlbHNlIGlmKHQuaXNTdHJpbmcobikpZm9yKHI9MDtyPG4ubGVuZ3RoJiYodT1pKHIsbi5jaGFyQXQocikpLHUhPT0hMSk7cisrKTtlbHNlIGZvcihyIGluIG4paWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih1PWkocixuW3JdKSx1PT09ITEpKWJyZWFrfTt0LmJpbmQ9ZnVuY3Rpb24obixpKXtpZih0LmlzRnVuY3Rpb24obikpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdT10LmV4dGVuZChbXSxyKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHU9dS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpLG4uYXBwbHkoaSx1KX19dGhyb3cgbmV3IEVycm9yKCJmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uISIpO307dC5vYmoydXJsPWZ1bmN0aW9uKG4saSxyKXt2YXIgdT1bXSxmPSImIixlPWZ1bmN0aW9uKG4scil7dmFyIGY9aT8vXFtcXSQvLnRlc3QoaSk/aTppKyJbIityKyJdIjpyOyJ1bmRlZmluZWQiIT09ZiYmInVuZGVmaW5lZCIhPT1yJiZ1LnB1c2goIm9iamVjdCI9PXR5cGVvZiBuP3Qub2JqMnVybChuLGYsITApOiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobik/ZW5jb2RlVVJJQ29tcG9uZW50KGYpKyI9IitlbmNvZGVVUklDb21wb25lbnQobigpKTplbmNvZGVVUklDb21wb25lbnQoZikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSl9O3JldHVybiFyJiZpPyhmPS9cPy8udGVzdChpKT8vXD8kLy50ZXN0KGkpPyIiOiImIjoiPyIsdS5wdXNoKGkpLHUucHVzaCh0Lm9iajJ1cmwobikpKToiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pJiZ2b2lkIDAhPT1uP3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7ZSh0LG4pfSk6dm9pZCAwIT09biYmbnVsbCE9PW4mJiJvYmplY3QiPT10eXBlb2Ygbj90LmVhY2gobixmdW5jdGlvbihuLHQpe2UodCxuKX0pOnUucHVzaChlbmNvZGVVUklDb21wb25lbnQoaSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSksaT91LmpvaW4oZik6dS5qb2luKGYpLnJlcGxhY2UoL14mLywiIikucmVwbGFjZSgvJTIwL2csIisiKX07dC5vYmoyRm9ybURhdGE9ZnVuY3Rpb24obixpLHIpe3JldHVybiBpfHwoaT1uZXcgRm9ybURhdGEpLHQuZWFjaChuLGZ1bmN0aW9uKG4sdSl7bj1yP3IrIlsiK24rIl0iOm47dC5pc09iamVjdCh1KT90Lm9iajJGb3JtRGF0YSh1LGksbik6dC5pc0Z1bmN0aW9uKHUpP2kuYXBwZW5kKG4sdSgpKTppLmFwcGVuZChuLHUpfSksaX07dC5vYmoySW5wdXRzPWZ1bmN0aW9uKG4saSl7dmFyIHI7cmV0dXJuIGl8fChpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSksdC5vYmoyRm9ybURhdGEobix7YXBwZW5kOmZ1bmN0aW9uKG4sdCl7cj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Iuc2V0QXR0cmlidXRlKCJuYW1lIixuKTtyLnNldEF0dHJpYnV0ZSgidmFsdWUiLHQpO2kuYXBwZW5kQ2hpbGQocil9fSksaX07dC5wYXJzZUpzb249ZnVuY3Rpb24obil7cmV0dXJuIHdpbmRvdy5KU09OJiZ0LmlzRnVuY3Rpb24oSlNPTi5wYXJzZSk/SlNPTi5wYXJzZShuKTpldmFsKCIoIituKyIpIil9O3QuZ2V0RXh0ZW5zaW9uPWZ1bmN0aW9uKG4pe3ZhciB0PW4ubGFzdEluZGV4T2YoIi4iKSsxO2lmKHQ+MClyZXR1cm4gbi5zdWJzdHIodCxuLmxlbmd0aC10KX07dC5nZXRGaWxlbmFtZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5pc0lucHV0KG4pP24udmFsdWUucmVwbGFjZSgvLiooXC98XFwpLywiIik6dC5pc0ZpbGUobikmJm51bGwhPT1uLmZpbGVOYW1lJiZ2b2lkIDAhPT1uLmZpbGVOYW1lP24uZmlsZU5hbWU6bi5uYW1lfTt0LkRpc3Bvc2VTdXBwb3J0PWZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgdDtkbyB0PW4uc2hpZnQoKSx0JiZ0KCk7d2hpbGUodCl9LGF0dGFjaDpmdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50czt0aGlzLmFkZERpc3Bvc2VyKHQoblswXSkuYXR0YWNoLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSl9LGFkZERpc3Bvc2VyOmZ1bmN0aW9uKHQpe24ucHVzaCh0KX19fX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiB0fSk6InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXQ6bi5xcT10fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3QuRXJyb3I9ZnVuY3Rpb24obil7dGhpcy5tZXNzYWdlPSJbRmluZSBVcGxvYWRlciAiK3QudmVyc2lvbisiXSAiK259O3QuRXJyb3IucHJvdG90eXBlPW5ldyBFcnJvcn0oKTt0LnZlcnNpb249IjUuMTYuMiI7dC5zdXBwb3J0ZWRGZWF0dXJlcz1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBrKCl7dmFyIG4saT0hMDt0cnl7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO24udHlwZT0iZmlsZSI7dChuKS5oaWRlKCk7bi5kaXNhYmxlZCYmKGk9ITEpfWNhdGNoKG4pe2k9ITF9cmV0dXJuIGl9ZnVuY3Rpb24gZCgpe3JldHVybih0LmNocm9tZSgpfHx0Lm9wZXJhKCkpJiZ2b2lkIDAhPT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcL1sxXVs0LTldfENocm9tZVwvWzItOV1bMC05XS8pfWZ1bmN0aW9uIG8oKXtyZXR1cm4gd2luZG93LlhNTEh0dHBSZXF1ZXN0P3ZvaWQgMCE9PXQuY3JlYXRlWGhySW5zdGFuY2UoKS53aXRoQ3JlZGVudGlhbHM6ITF9ZnVuY3Rpb24gcygpe3JldHVybiB2b2lkIDAhPT13aW5kb3cuWERvbWFpblJlcXVlc3R9ZnVuY3Rpb24gZygpe3JldHVybiEhbygpfHxzKCl9ZnVuY3Rpb24gbnQoKXtyZXR1cm4gdm9pZCAwIT09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKS53ZWJraXRkaXJlY3Rvcnl9ZnVuY3Rpb24gdHQoKXt0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlJiZ0LmlzRnVuY3Rpb24od2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKX1jYXRjaChuKXtyZXR1cm4hMX19ZnVuY3Rpb24gaXQoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7cmV0dXJuKCJkcmFnZ2FibGUiaW4gbnx8Im9uZHJhZ3N0YXJ0ImluIG4mJiJvbmRyb3AiaW4gbikmJiF0LmFuZHJvaWQoKSYmIXQuaW9zKCl9dmFyIGksZixlLG4saCxyLGMsbCxhLHYseSxwLHcsdSxiO3JldHVybiBpPWsoKSxuPWkmJnQuaXNYaHJVcGxvYWRTdXBwb3J0ZWQoKSxmPW4mJiF0LmFuZHJvaWRTdG9jaygpLGU9biYmaXQoKSxoPWUmJmZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gbi50eXBlPSJmaWxlIiwhISgid2Via2l0ZGlyZWN0b3J5ImluKG58fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W3R5cGU9ZmlsZV0iKVswXSkpfSgpLHI9biYmdC5pc0ZpbGVDaHVua2luZ1N1cHBvcnRlZCgpLGM9biYmciYmdHQoKSxsPW4mJmQoKSxhPWkmJih2b2lkIDAhPT13aW5kb3cucG9zdE1lc3NhZ2V8fG4pLHk9bygpLHY9cygpLHA9ZygpLHc9bnQoKSx1PW4mJnZvaWQgMCE9PXdpbmRvdy5GaWxlUmVhZGVyLGI9ZnVuY3Rpb24oKXtyZXR1cm4hIW4mJiF0LmFuZHJvaWRTdG9jaygpJiYhdC5pb3NDaHJvbWUoKX0oKSx7YWpheFVwbG9hZGluZzpuLGJsb2JVcGxvYWRpbmc6ZixjYW5EZXRlcm1pbmVTaXplOm4sY2h1bmtpbmc6cixkZWxldGVGaWxlQ29yczpwLGRlbGV0ZUZpbGVDb3JzWGRyOnYsZGVsZXRlRmlsZUNvcnNYaHI6eSxkaWFsb2dFbGVtZW50OiEhd2luZG93LkhUTUxEaWFsb2dFbGVtZW50LGZpbGVEcm9wOmUsZm9sZGVyRHJvcDpoLGZvbGRlclNlbGVjdGlvbjp3LGltYWdlUHJldmlld3M6dSxpbWFnZVZhbGlkYXRpb246dSxpdGVtU2l6ZVZhbGlkYXRpb246bixwYXVzZTpyLHByb2dyZXNzQmFyOmIscmVzdW1lOmMsc2NhbGluZzp1JiZmLHRpZmZQcmV2aWV3czp0LnNhZmFyaSgpLHVubGltaXRlZFNjYWxlZEltYWdlU2l6ZTohdC5pb3MoKSx1cGxvYWRpbmc6aSx1cGxvYWRDb3JzOmEsdXBsb2FkQ3VzdG9tSGVhZGVyczpuLHVwbG9hZE5vbk11bHRpcGFydDpuLHVwbG9hZFZpYVBhc3RlOmx9fSgpO3QuaXNHZW5lcmljUHJvbWlzZT1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7cmV0dXJuISEobiYmbi50aGVuJiZ0LmlzRnVuY3Rpb24obi50aGVuKSl9O3QuUHJvbWlzZT1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgaSxuLGY9W10sZT1bXSxyPVtdLHU9MDt0LmV4dGVuZCh0aGlzLHt0aGVuOmZ1bmN0aW9uKHQscil7cmV0dXJuIDA9PT11Pyh0JiZmLnB1c2godCksciYmZS5wdXNoKHIpKTp1PT09LTE/ciYmci5hcHBseShudWxsLG4pOnQmJnQuYXBwbHkobnVsbCxpKSx0aGlzfSxkb25lOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dT9yLnB1c2godCk6dC5hcHBseShudWxsLHZvaWQgMD09PW4/aTpuKSx0aGlzfSxzdWNjZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIHU9MSxpPWFyZ3VtZW50cyxmLmxlbmd0aCYmdC5lYWNoKGYsZnVuY3Rpb24obix0KXt0LmFwcGx5KG51bGwsaSl9KSxyLmxlbmd0aCYmdC5lYWNoKHIsZnVuY3Rpb24obix0KXt0LmFwcGx5KG51bGwsaSl9KSx0aGlzfSxmYWlsdXJlOmZ1bmN0aW9uKCl7cmV0dXJuIHU9LTEsbj1hcmd1bWVudHMsZS5sZW5ndGgmJnQuZWFjaChlLGZ1bmN0aW9uKHQsaSl7aS5hcHBseShudWxsLG4pfSksci5sZW5ndGgmJnQuZWFjaChyLGZ1bmN0aW9uKHQsaSl7aS5hcHBseShudWxsLG4pfSksdGhpc319KX07dC5CbG9iUHJveHk9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dC5leHRlbmQodGhpcyx7cmVmZXJlbmNlQmxvYjpuLGNyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBpKG4pfX0pfTt0LlVwbG9hZEJ1dHRvbj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSgpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKHQuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUsZiksbi5zZXRBdHRyaWJ1dGUoInRpdGxlIixpLnRpdGxlKSxvLnNldE11bHRpcGxlKGkubXVsdGlwbGUsbiksaS5mb2xkZXJzJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZvbGRlclNlbGVjdGlvbiYmbi5zZXRBdHRyaWJ1dGUoIndlYmtpdGRpcmVjdG9yeSIsIiIpLGkuYWNjZXB0RmlsZXMmJm4uc2V0QXR0cmlidXRlKCJhY2NlcHQiLGkuYWNjZXB0RmlsZXMpLG4uc2V0QXR0cmlidXRlKCJ0eXBlIiwiZmlsZSIpLG4uc2V0QXR0cmlidXRlKCJuYW1lIixpLm5hbWUpLHQobikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHJpZ2h0OjAsdG9wOjAsZm9udEZhbWlseToiQXJpYWwiLGZvbnRTaXplOnQuaWUoKSYmIXQuaWU4KCk/IjM1MDBweCI6IjExOHB4IixtYXJnaW46MCxwYWRkaW5nOjAsY3Vyc29yOiJwb2ludGVyIixvcGFjaXR5OjB9KSwhdC5pZTcoKSYmdChuKS5jc3Moe2hlaWdodDoiMTAwJSJ9KSxpLmVsZW1lbnQuYXBwZW5kQ2hpbGQobiksdS5hdHRhY2gobiwiY2hhbmdlIixmdW5jdGlvbigpe2kub25DaGFuZ2Uobil9KSx1LmF0dGFjaChuLCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7dChpLmVsZW1lbnQpLmFkZENsYXNzKGkuaG92ZXJDbGFzcyl9KSx1LmF0dGFjaChuLCJtb3VzZW91dCIsZnVuY3Rpb24oKXt0KGkuZWxlbWVudCkucmVtb3ZlQ2xhc3MoaS5ob3ZlckNsYXNzKX0pLHUuYXR0YWNoKG4sImZvY3VzIixmdW5jdGlvbigpe3QoaS5lbGVtZW50KS5hZGRDbGFzcyhpLmZvY3VzQ2xhc3MpfSksdS5hdHRhY2gobiwiYmx1ciIsZnVuY3Rpb24oKXt0KGkuZWxlbWVudCkucmVtb3ZlQ2xhc3MoaS5mb2N1c0NsYXNzKX0pLG59dmFyIHIsZixvPXRoaXMsdT1uZXcgdC5EaXNwb3NlU3VwcG9ydCxpPXthY2NlcHRGaWxlczpudWxsLGVsZW1lbnQ6bnVsbCxmb2N1c0NsYXNzOiJxcS11cGxvYWQtYnV0dG9uLWZvY3VzIixmb2xkZXJzOiExLGhvdmVyQ2xhc3M6InFxLXVwbG9hZC1idXR0b24taG92ZXIiLGlvczhCcm93c2VyQ3Jhc2hXb3JrYXJvdW5kOiExLG11bHRpcGxlOiExLG5hbWU6InFxZmlsZSIsb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LHRpdGxlOm51bGx9O3QuZXh0ZW5kKGksbik7Zj10LmdldFVuaXF1ZUlkKCk7dChpLmVsZW1lbnQpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixvdmVyZmxvdzoiaGlkZGVuIixkaXJlY3Rpb246Imx0ciJ9KTt0LmV4dGVuZCh0aGlzLHtnZXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiByfSxnZXRCdXR0b25JZDpmdW5jdGlvbigpe3JldHVybiBmfSxzZXRNdWx0aXBsZTpmdW5jdGlvbihuLHIpe3ZhciB1PXJ8fHRoaXMuZ2V0SW5wdXQoKTtpLmlvczhCcm93c2VyQ3Jhc2hXb3JrYXJvdW5kJiZ0LmlvczgoKSYmKHQuaW9zQ2hyb21lKCl8fHQuaW9zU2FmYXJpV2ViVmlldygpKT91LnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLCIiKTpuP3Uuc2V0QXR0cmlidXRlKCJtdWx0aXBsZSIsIiIpOnUucmVtb3ZlQXR0cmlidXRlKCJtdWx0aXBsZSIpfSxzZXRBY2NlcHRGaWxlczpmdW5jdGlvbihuKXtuIT09aS5hY2NlcHRGaWxlcyYmci5zZXRBdHRyaWJ1dGUoImFjY2VwdCIsbil9LHJlc2V0OmZ1bmN0aW9uKCl7ci5wYXJlbnROb2RlJiZ0KHIpLnJlbW92ZSgpO3QoaS5lbGVtZW50KS5yZW1vdmVDbGFzcyhpLmZvY3VzQ2xhc3MpO3I9bnVsbDtyPWUoKX19KTtyPWUoKX07dC5VcGxvYWRCdXR0b24uQlVUVE9OX0lEX0FUVFJfTkFNRT0icXEtYnV0dG9uLWlkIjt0LlVwbG9hZERhdGE9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8obil7aWYodC5pc0FycmF5KG4pKXt2YXIgcj1bXTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtyLnB1c2goaVt0XSl9KSxyfXJldHVybiBpW25dfWZ1bmN0aW9uIHMobil7aWYodC5pc0FycmF5KG4pKXt2YXIgcj1bXTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtyLnB1c2goaVt1W3RdXSl9KSxyfXJldHVybiBpW3Vbbl1dfWZ1bmN0aW9uIGgobil7dmFyIHU9W10sZj1bXS5jb25jYXQobik7cmV0dXJuIHQuZWFjaChmLGZ1bmN0aW9uKG4sZil7dmFyIGU9cltmXTt2b2lkIDAhPT1lJiZ0LmVhY2goZSxmdW5jdGlvbihuLHQpe3UucHVzaChpW3RdKX0pfSksdX12YXIgaT1bXSx1PXt9LHI9e30sZT17fSxmPXt9O3QuZXh0ZW5kKHRoaXMse2FkZEZpbGU6ZnVuY3Rpb24obyl7dmFyIGg9by5zdGF0dXN8fHQuc3RhdHVzLlNVQk1JVFRJTkcscz1pLnB1c2goe25hbWU6by5uYW1lLG9yaWdpbmFsTmFtZTpvLm5hbWUsdXVpZDpvLnV1aWQsc2l6ZTpudWxsPT1vLnNpemU/LTE6by5zaXplLHN0YXR1czpoLGZpbGU6by5maWxlfSktMTtyZXR1cm4gby5iYXRjaElkJiYoaVtzXS5iYXRjaElkPW8uYmF0Y2hJZCx2b2lkIDA9PT1mW28uYmF0Y2hJZF0mJihmW28uYmF0Y2hJZF09W10pLGZbby5iYXRjaElkXS5wdXNoKHMpKSxvLnByb3h5R3JvdXBJZCYmKGlbc10ucHJveHlHcm91cElkPW8ucHJveHlHcm91cElkLHZvaWQgMD09PWVbby5wcm94eUdyb3VwSWRdJiYoZVtvLnByb3h5R3JvdXBJZF09W10pLGVbby5wcm94eUdyb3VwSWRdLnB1c2gocykpLGlbc10uaWQ9cyx1W28udXVpZF09cyx2b2lkIDA9PT1yW2hdJiYocltoXT1bXSkscltoXS5wdXNoKHMpLG8ub25CZWZvcmVTdGF0dXNDaGFuZ2UmJm8ub25CZWZvcmVTdGF0dXNDaGFuZ2Uocyksbi5vblN0YXR1c0NoYW5nZShzLG51bGwsaCksc30scmV0cmlldmU6ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNPYmplY3QobikmJmkubGVuZ3RoP3ZvaWQgMCE9PW4uaWQ/byhuLmlkKTp2b2lkIDAhPT1uLnV1aWQ/cyhuLnV1aWQpOm4uc3RhdHVzP2gobi5zdGF0dXMpOnZvaWQgMDp0LmV4dGVuZChbXSxpLCEwKX0scmVtb3ZlRmlsZVJlZjpmdW5jdGlvbihuKXt2YXIgdD1vKG4pO3QmJmRlbGV0ZSB0LmZpbGV9LHJlc2V0OmZ1bmN0aW9uKCl7aT1bXTt1PXt9O3I9e307Zj17fX0sc2V0U3RhdHVzOmZ1bmN0aW9uKHUsZil7dmFyIGU9aVt1XS5zdGF0dXMsbz10LmluZGV4T2YocltlXSx1KTtyW2VdLnNwbGljZShvLDEpO2lbdV0uc3RhdHVzPWY7dm9pZCAwPT09cltmXSYmKHJbZl09W10pO3JbZl0ucHVzaCh1KTtuLm9uU3RhdHVzQ2hhbmdlKHUsZSxmKX0sdXVpZENoYW5nZWQ6ZnVuY3Rpb24obix0KXt2YXIgcj1pW25dLnV1aWQ7aVtuXS51dWlkPXQ7dVt0XT1uO2RlbGV0ZSB1W3JdfSx1cGRhdGVOYW1lOmZ1bmN0aW9uKG4sdCl7aVtuXS5uYW1lPXR9LHVwZGF0ZVNpemU6ZnVuY3Rpb24obix0KXtpW25dLnNpemU9dH0sc2V0UGFyZW50SWQ6ZnVuY3Rpb24obix0KXtpW25dLnBhcmVudElkPXR9LGdldElkc0luUHJveHlHcm91cDpmdW5jdGlvbihuKXt2YXIgdD1pW25dLnByb3h5R3JvdXBJZDtyZXR1cm4gdD9lW3RdOltdfSxnZXRJZHNJbkJhdGNoOmZ1bmN0aW9uKG4pe3JldHVybiBmW2lbbl0uYmF0Y2hJZF19fSl9O3Quc3RhdHVzPXtTVUJNSVRUSU5HOiJzdWJtaXR0aW5nIixTVUJNSVRURUQ6InN1Ym1pdHRlZCIsUkVKRUNURUQ6InJlamVjdGVkIixRVUVVRUQ6InF1ZXVlZCIsQ0FOQ0VMRUQ6ImNhbmNlbGVkIixQQVVTRUQ6InBhdXNlZCIsVVBMT0FESU5HOiJ1cGxvYWRpbmciLFVQTE9BRF9GSU5BTElaSU5HOiJ1cGxvYWQgZmluYWxpemluZyIsVVBMT0FEX1JFVFJZSU5HOiJyZXRyeWluZyB1cGxvYWQiLFVQTE9BRF9TVUNDRVNTRlVMOiJ1cGxvYWQgc3VjY2Vzc2Z1bCIsVVBMT0FEX0ZBSUxFRDoidXBsb2FkIGZhaWxlZCIsREVMRVRFX0ZBSUxFRDoiZGVsZXRlIGZhaWxlZCIsREVMRVRJTkc6ImRlbGV0aW5nIixERUxFVEVEOiJkZWxldGVkIn0sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC5iYXNlUHVibGljQXBpPXthZGRCbG9iczpmdW5jdGlvbihuLHQsaSl7dGhpcy5hZGRGaWxlcyhuLHQsaSl9LGFkZEluaXRpYWxGaWxlczpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aS5fYWRkQ2FubmVkRmlsZSh0KX0pfSxhZGRGaWxlczpmdW5jdGlvbihuLGkscil7dGhpcy5fbWF5YmVIYW5kbGVJb3M4U2FmYXJpV29ya2Fyb3VuZCgpO3ZhciBmPTA9PT10aGlzLl9zdG9yZWRJZHMubGVuZ3RoP3QuZ2V0VW5pcXVlSWQoKTp0aGlzLl9jdXJyZW50QmF0Y2hJZCxlPXQuYmluZChmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVOZXdGaWxlKHtibG9iOm4sbmFtZTp0aGlzLl9vcHRpb25zLmJsb2JzLmRlZmF1bHROYW1lfSxmLHUpfSx0aGlzKSxvPXQuYmluZChmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVOZXdGaWxlKG4sZix1KX0sdGhpcykscz10LmJpbmQoZnVuY3Rpb24obil7dmFyIGk9dC5jYW52YXNUb0Jsb2Iobik7dGhpcy5faGFuZGxlTmV3RmlsZSh7YmxvYjppLG5hbWU6dGhpcy5fb3B0aW9ucy5ibG9icy5kZWZhdWx0TmFtZSsiLnBuZyJ9LGYsdSl9LHRoaXMpLGg9dC5iaW5kKGZ1bmN0aW9uKG4pe3ZhciBpPW4ucXVhbGl0eSYmbi5xdWFsaXR5LzEwMCxyPXQuY2FudmFzVG9CbG9iKG4uY2FudmFzLG4udHlwZSxpKTt0aGlzLl9oYW5kbGVOZXdGaWxlKHtibG9iOnIsbmFtZTpuLm5hbWV9LGYsdSl9LHRoaXMpLGM9dC5iaW5kKGZ1bmN0aW9uKG4pe2lmKHQuaXNJbnB1dChuKSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuLmZpbGVzKSxyPXRoaXM7dC5lYWNoKGksZnVuY3Rpb24obix0KXtyLl9oYW5kbGVOZXdGaWxlKHQsZix1KX0pfWVsc2UgdGhpcy5faGFuZGxlTmV3RmlsZShuLGYsdSl9LHRoaXMpLGw9ZnVuY3Rpb24oKXt0LmlzRmlsZUxpc3QobikmJihuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pKTtuPVtdLmNvbmNhdChuKX0sYT10aGlzLHU9W107dGhpcy5fY3VycmVudEJhdGNoSWQ9ZjtuJiYobCgpLHQuZWFjaChuLGZ1bmN0aW9uKG4saSl7dC5pc0ZpbGVPcklucHV0KGkpP2MoaSk6dC5pc0Jsb2IoaSk/ZShpKTp0LmlzT2JqZWN0KGkpP2kuYmxvYiYmaS5uYW1lP28oaSk6aS5jYW52YXMmJmkubmFtZSYmaChpKTppLnRhZ05hbWUmJiJjYW52YXMiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/cyhpKTphLmxvZyhpKyIgaXMgbm90IGEgdmFsaWQgZmlsZSBjb250YWluZXIhICBJZ25vcmluZyEiLCJ3YXJuIil9KSx0aGlzLmxvZygiUmVjZWl2ZWQgIit1Lmxlbmd0aCsiIGZpbGVzLiIpLHRoaXMuX3ByZXBhcmVJdGVtc0ZvclVwbG9hZCh1LGkscikpfSxjYW5jZWw6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pO2kmJmkuc3RhdHVzPT09dC5zdGF0dXMuVVBMT0FEX0ZJTkFMSVpJTkc/dGhpcy5sb2codC5mb3JtYXQoIklnbm9yaW5nIGNhbmNlbCBmb3IgZmlsZSBJRCB7fSAoe30pLiAgRmluYWxpemluZyB1cGxvYWQuIixuLHRoaXMuZ2V0TmFtZShuKSksImVycm9yIik6dGhpcy5faGFuZGxlci5jYW5jZWwobil9LGNhbmNlbEFsbDpmdW5jdGlvbigpe3ZhciBuPVtdLGk9dGhpczt0LmV4dGVuZChuLHRoaXMuX3N0b3JlZElkcyk7dC5lYWNoKG4sZnVuY3Rpb24obix0KXtpLmNhbmNlbCh0KX0pO3RoaXMuX2hhbmRsZXIuY2FuY2VsQWxsKCl9LGNsZWFyU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXt0aGlzLl9zdG9yZWRJZHM9W119LGNvbnRpbnVlVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtyZXR1cm4hKCF0LnN1cHBvcnRlZEZlYXR1cmVzLnBhdXNlfHwhdGhpcy5fb3B0aW9ucy5jaHVua2luZy5lbmFibGVkKSYmKGkuc3RhdHVzPT09dC5zdGF0dXMuUEFVU0VEPyh0aGlzLmxvZyh0LmZvcm1hdCgiUGF1c2VkIGZpbGUgSUQge30gKHt9KSB3aWxsIGJlIGNvbnRpbnVlZC4gIE5vdCBwYXVzZWQuIixuLHRoaXMuZ2V0TmFtZShuKSkpLHRoaXMuX3VwbG9hZEZpbGUobiksITApOih0aGlzLmxvZyh0LmZvcm1hdCgiSWdub3JpbmcgY29udGludWUgZm9yIGZpbGUgSUQge30gKHt9KS4gIE5vdCBwYXVzZWQuIixuLHRoaXMuZ2V0TmFtZShuKSksImVycm9yIiksITEpKX0sZGVsZXRlRmlsZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fb25TdWJtaXREZWxldGUobil9LGRvZXNFeGlzdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5faGFuZGxlci5pc1ZhbGlkKG4pfSxkcmF3VGh1bWJuYWlsOmZ1bmN0aW9uKG4saSxyLHUsZil7dmFyIG8scyxlPW5ldyB0LlByb21pc2U7cmV0dXJuIHRoaXMuX2ltYWdlR2VuZXJhdG9yPyhvPXRoaXMuX3RodW1ibmFpbFVybHNbbl0scz17Y3VzdG9tUmVzaXplRnVuY3Rpb246ZixtYXhTaXplOnI+MD9yOm51bGwsc2NhbGU6cj4wfSwhdSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzJiYobz10aGlzLmdldEZpbGUobikpLG51bGw9PW8/ZS5mYWlsdXJlKHtjb250YWluZXI6aSxlcnJvcjoiRmlsZSBvciBVUkwgbm90IGZvdW5kLiJ9KTp0aGlzLl9pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZShvLGkscykudGhlbihmdW5jdGlvbihuKXtlLnN1Y2Nlc3Mobil9LGZ1bmN0aW9uKG4sdCl7ZS5mYWlsdXJlKHtjb250YWluZXI6bixlcnJvcjp0fHwiUHJvYmxlbSBnZW5lcmF0aW5nIHRodW1ibmFpbCJ9KX0pKTplLmZhaWx1cmUoe2NvbnRhaW5lcjppLGVycm9yOiJNaXNzaW5nIGltYWdlIGdlbmVyYXRvciBtb2R1bGUifSksZX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9nZXRCdXR0b24odGhpcy5fYnV0dG9uSWRzRm9yRmlsZUlkc1tuXSl9LGdldEVuZHBvaW50OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9lbmRwb2ludFN0b3JlLmdldChuKX0sZ2V0RmlsZTpmdW5jdGlvbihuKXt2YXIgdCxpPXRoaXMuX2hhbmRsZXIuZ2V0RmlsZShuKTtyZXR1cm4gaXx8KHQ9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pLHQmJihpPXQuZmlsZSkpLGl8fG51bGx9LGdldEluUHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7c3RhdHVzOlt0LnN0YXR1cy5VUExPQURJTkcsdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HLHQuc3RhdHVzLlFVRVVFRF19KS5sZW5ndGh9LGdldE5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KS5uYW1lfSxnZXRQYXJlbnRJZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLmdldFVwbG9hZHMoe2lkOm59KSxpPW51bGw7cmV0dXJuIHQmJnZvaWQgMCE9PXQucGFyZW50SWQmJihpPXQucGFyZW50SWQpLGl9LGdldFJlc3VtYWJsZUZpbGVzRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYW5kbGVyLmdldFJlc3VtYWJsZUZpbGVzRGF0YSgpfSxnZXRTaXplOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSkuc2l6ZX0sZ2V0TmV0VXBsb2FkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXRVcGxvYWRlZH0sZ2V0UmVtYWluaW5nQWxsb3dlZEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fY3VycmVudEl0ZW1MaW1pdDtyZXR1cm4gbj4wP24tdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZDpudWxsfSxnZXRVcGxvYWRzOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKG4pfSxnZXRVdWlkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSkudXVpZH0saXNSZXN1bWFibGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2hhbmRsZXIuaGFzUmVzdW1lUmVjb3JkKG4pfSxsb2c6ZnVuY3Rpb24obixpKXshdGhpcy5fb3B0aW9ucy5kZWJ1Z3x8aSYmImluZm8iIT09aT9pJiYiaW5mbyIhPT1pJiZ0LmxvZygiW0ZpbmUgVXBsb2FkZXIgIit0LnZlcnNpb24rIl0gIituLGkpOnQubG9nKCJbRmluZSBVcGxvYWRlciAiK3QudmVyc2lvbisiXSAiK24pfSxwYXVzZVVwbG9hZDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7aWYoIXQuc3VwcG9ydGVkRmVhdHVyZXMucGF1c2V8fCF0aGlzLl9vcHRpb25zLmNodW5raW5nLmVuYWJsZWQpcmV0dXJuITE7aWYodC5pbmRleE9mKFt0LnN0YXR1cy5VUExPQURJTkcsdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HXSxpLnN0YXR1cyk+PTApe2lmKHRoaXMuX2hhbmRsZXIucGF1c2UobikpcmV0dXJuIHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuUEFVU0VEKSwhMDt0aGlzLmxvZyh0LmZvcm1hdCgiVW5hYmxlIHRvIHBhdXNlIGZpbGUgSUQge30gKHt9KS4iLG4sdGhpcy5nZXROYW1lKG4pKSwiZXJyb3IiKX1lbHNlIHRoaXMubG9nKHQuZm9ybWF0KCJJZ25vcmluZyBwYXVzZSBmb3IgZmlsZSBJRCB7fSAoe30pLiAgTm90IGluIHByb2dyZXNzLiIsbix0aGlzLmdldE5hbWUobikpLCJlcnJvciIpO3JldHVybiExfSxyZW1vdmVGaWxlUmVmOmZ1bmN0aW9uKG4pe3RoaXMuX2hhbmRsZXIuZXhwdW5nZShuKTt0aGlzLl91cGxvYWREYXRhLnJlbW92ZUZpbGVSZWYobil9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5sb2coIlJlc2V0dGluZyB1cGxvYWRlci4uLiIpO3RoaXMuX2hhbmRsZXIucmVzZXQoKTt0aGlzLl9zdG9yZWRJZHM9W107dGhpcy5fYXV0b1JldHJpZXM9W107dGhpcy5fcmV0cnlUaW1lb3V0cz1bXTt0aGlzLl9wcmV2ZW50UmV0cmllcz1bXTt0aGlzLl90aHVtYm5haWxVcmxzPVtdO3QuZWFjaCh0aGlzLl9idXR0b25zLGZ1bmN0aW9uKG4sdCl7dC5yZXNldCgpfSk7dGhpcy5fcGFyYW1zU3RvcmUucmVzZXQoKTt0aGlzLl9lbmRwb2ludFN0b3JlLnJlc2V0KCk7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZD0wO3RoaXMuX25ldFVwbG9hZGVkPTA7dGhpcy5fdXBsb2FkRGF0YS5yZXNldCgpO3RoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHM9W107dGhpcy5fcGFzdGVIYW5kbGVyJiZ0aGlzLl9wYXN0ZUhhbmRsZXIucmVzZXQoKTt0aGlzLl9vcHRpb25zLnNlc3Npb24ucmVmcmVzaE9uUmVzZXQmJnRoaXMuX3JlZnJlc2hTZXNzaW9uRGF0YSgpO3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3MucmVzZXQoKTt0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmUucmVzZXQoKX0scmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX21hbnVhbFJldHJ5KG4pfSxzY2FsZUltYWdlOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcztyZXR1cm4gdC5TY2FsZXIucHJvdG90eXBlLnNjYWxlSW1hZ2UobixpLHtsb2c6dC5iaW5kKHIubG9nLHIpLGdldEZpbGU6dC5iaW5kKHIuZ2V0RmlsZSxyKSx1cGxvYWREYXRhOnIuX3VwbG9hZERhdGF9KX0sc2V0Q3VzdG9tSGVhZGVyczpmdW5jdGlvbihuLHQpe3RoaXMuX2N1c3RvbUhlYWRlcnNTdG9yZS5zZXQobix0KX0sc2V0Q3VzdG9tUmVzdW1lRGF0YTpmdW5jdGlvbihuLHQpe3RoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZS5zZXQodCxuKX0sc2V0RGVsZXRlRmlsZUN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24obix0KXt0aGlzLl9kZWxldGVGaWxlQ3VzdG9tSGVhZGVyc1N0b3JlLnNldChuLHQpfSxzZXREZWxldGVGaWxlRW5kcG9pbnQ6ZnVuY3Rpb24obix0KXt0aGlzLl9kZWxldGVGaWxlRW5kcG9pbnRTdG9yZS5zZXQobix0KX0sc2V0RGVsZXRlRmlsZVBhcmFtczpmdW5jdGlvbihuLHQpe3RoaXMuX2RlbGV0ZUZpbGVQYXJhbXNTdG9yZS5zZXQobix0KX0sc2V0RW5kcG9pbnQ6ZnVuY3Rpb24obix0KXt0aGlzLl9lbmRwb2ludFN0b3JlLnNldChuLHQpfSxzZXRGb3JtOmZ1bmN0aW9uKG4pe3RoaXMuX3VwZGF0ZUZvcm1TdXBwb3J0QW5kUGFyYW1zKG4pfSxzZXRJdGVtTGltaXQ6ZnVuY3Rpb24obil7dGhpcy5fY3VycmVudEl0ZW1MaW1pdD1ufSxzZXROYW1lOmZ1bmN0aW9uKG4sdCl7dGhpcy5fdXBsb2FkRGF0YS51cGRhdGVOYW1lKG4sdCl9LHNldFBhcmFtczpmdW5jdGlvbihuLHQpe3RoaXMuX3BhcmFtc1N0b3JlLnNldChuLHQpfSxzZXRVdWlkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEudXVpZENoYW5nZWQobix0KX0sc2V0U3RhdHVzOmZ1bmN0aW9uKG4saSl7aWYoIXRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bn0pKXRocm93IG5ldyB0LkVycm9yKG4rIiBpcyBub3QgYSB2YWxpZCBmaWxlIElELiIpO3N3aXRjaChpKXtjYXNlIHQuc3RhdHVzLkRFTEVURUQ6dGhpcy5fb25EZWxldGVDb21wbGV0ZShuLG51bGwsITEpO2JyZWFrO2Nhc2UgdC5zdGF0dXMuREVMRVRFX0ZBSUxFRDp0aGlzLl9vbkRlbGV0ZUNvbXBsZXRlKG4sbnVsbCwhMCk7YnJlYWs7ZGVmYXVsdDp2YXIgcj0iTWV0aG9kIHNldFN0YXR1cyBjYWxsZWQgb24gJyIrbmFtZSsiJyBub3QgaW1wbGVtZW50ZWQgeWV0IGZvciAiK2k7dGhyb3cgdGhpcy5sb2cociksbmV3IHQuRXJyb3Iocik7fX0sdXBsb2FkU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXswPT09dGhpcy5fc3RvcmVkSWRzLmxlbmd0aD90aGlzLl9pdGVtRXJyb3IoIm5vRmlsZXNFcnJvciIpOnRoaXMuX3VwbG9hZFN0b3JlZEZpbGVzKCl9fTt0LmJhc2VQcml2YXRlQXBpPXtfYWRkQ2FubmVkRmlsZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLl91cGxvYWREYXRhLmFkZEZpbGUoe3V1aWQ6bi51dWlkLG5hbWU6bi5uYW1lLHNpemU6bi5zaXplLHN0YXR1czp0LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTCxvbkJlZm9yZVN0YXR1c0NoYW5nZTpmdW5jdGlvbih0KXtuLmRlbGV0ZUZpbGVFbmRwb2ludCYmaS5zZXREZWxldGVGaWxlRW5kcG9pbnQobi5kZWxldGVGaWxlRW5kcG9pbnQsdCk7bi5kZWxldGVGaWxlUGFyYW1zJiZpLnNldERlbGV0ZUZpbGVQYXJhbXMobi5kZWxldGVGaWxlUGFyYW1zLHQpO24udGh1bWJuYWlsVXJsJiYoaS5fdGh1bWJuYWlsVXJsc1t0XT1uLnRodW1ibmFpbFVybCk7aS5fbmV0VXBsb2FkZWQrKztpLl9uZXRVcGxvYWRlZE9yUXVldWVkKyt9fSl9LF9hbm5vdGF0ZVdpdGhCdXR0b25JZDpmdW5jdGlvbihuLGkpe3QuaXNGaWxlKG4pJiYobi5xcUJ1dHRvbklkPXRoaXMuX2dldEJ1dHRvbklkKGkpKX0sX2JhdGNoRXJyb3I6ZnVuY3Rpb24obil7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihudWxsLG51bGwsbix2b2lkIDApfSxfY3JlYXRlRGVsZXRlSGFuZGxlcjpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyB0LkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyKHttZXRob2Q6dGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG1heENvbm5lY3Rpb25zOnRoaXMuX29wdGlvbnMubWF4Q29ubmVjdGlvbnMsdXVpZFBhcmFtTmFtZTp0aGlzLl9vcHRpb25zLnJlcXVlc3QudXVpZE5hbWUsY3VzdG9tSGVhZGVyczp0aGlzLl9kZWxldGVGaWxlQ3VzdG9tSGVhZGVyc1N0b3JlLHBhcmFtc1N0b3JlOnRoaXMuX2RlbGV0ZUZpbGVQYXJhbXNTdG9yZSxlbmRwb2ludFN0b3JlOnRoaXMuX2RlbGV0ZUZpbGVFbmRwb2ludFN0b3JlLGNvcnM6dGhpcy5fb3B0aW9ucy5jb3JzLGxvZzp0LmJpbmQobi5sb2csbiksb25EZWxldGU6ZnVuY3Rpb24odCl7bi5fb25EZWxldGUodCk7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25EZWxldGUodCl9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24odCxpLHIpe24uX29uRGVsZXRlQ29tcGxldGUodCxpLHIpO24uX29wdGlvbnMuY2FsbGJhY2tzLm9uRGVsZXRlQ29tcGxldGUodCxpLHIpfX0pfSxfY3JlYXRlUGFzdGVIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IHQuUGFzdGVTdXBwb3J0KHt0YXJnZXRFbGVtZW50OnRoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCxjYWxsYmFja3M6e2xvZzp0LmJpbmQobi5sb2csbikscGFzdGVSZWNlaXZlZDpmdW5jdGlvbihpKXtuLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uUGFzdGVSZWNlaXZlZCIsY2FsbGJhY2s6dC5iaW5kKG4uX29wdGlvbnMuY2FsbGJhY2tzLm9uUGFzdGVSZWNlaXZlZCxuLGkpLG9uU3VjY2Vzczp0LmJpbmQobi5faGFuZGxlUGFzdGVTdWNjZXNzLG4saSksaWRlbnRpZmllcjoicGFzdGVkIGltYWdlIn0pfX19KX0sX2NyZWF0ZVN0b3JlOmZ1bmN0aW9uKG4saSl7dmFyIHU9e30sbz1uLGY9e30scj1pLGU9ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNPYmplY3Qobik/dC5leHRlbmQoe30sbik6bn0scz1mdW5jdGlvbigpe3JldHVybiB0LmlzRnVuY3Rpb24ocik/cigpOnJ9LGg9ZnVuY3Rpb24obixpKXtyJiZ0LmlzT2JqZWN0KGkpJiZ0LmV4dGVuZChpLHMoKSk7ZltuXSYmdC5leHRlbmQoaSxmW25dKX07cmV0dXJue3NldDpmdW5jdGlvbihuLHQpe251bGw9PXQ/KHU9e30sbz1lKG4pKTp1W3RdPWUobil9LGdldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gdD1udWxsIT1uJiZ1W25dP3Vbbl06ZShvKSxoKG4sdCksZSh0KX0sYWRkUmVhZE9ubHk6ZnVuY3Rpb24obixpKXt0LmlzT2JqZWN0KHUpJiYobnVsbD09PW4/dC5pc0Z1bmN0aW9uKGkpP3I9aToocj1yfHx7fSx0LmV4dGVuZChyLGkpKTooZltuXT1mW25dfHx7fSx0LmV4dGVuZChmW25dLGkpKSl9LHJlbW92ZTpmdW5jdGlvbihuKXtyZXR1cm4gZGVsZXRlIHVbbl19LHJlc2V0OmZ1bmN0aW9uKCl7dT17fTtmPXt9O289bn19fSxfY3JlYXRlVXBsb2FkRGF0YVRyYWNrZXI6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuZXcgdC5VcGxvYWREYXRhKHtnZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuLmdldE5hbWUodCl9LGdldFV1aWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0VXVpZCh0KX0sZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXRTaXplKHQpfSxvblN0YXR1c0NoYW5nZTpmdW5jdGlvbih0LGkscil7bi5fb25VcGxvYWRTdGF0dXNDaGFuZ2UodCxpLHIpO24uX29wdGlvbnMuY2FsbGJhY2tzLm9uU3RhdHVzQ2hhbmdlKHQsaSxyKTtuLl9tYXliZUFsbENvbXBsZXRlKHQscik7bi5fdG90YWxQcm9ncmVzcyYmc2V0VGltZW91dChmdW5jdGlvbigpe24uX3RvdGFsUHJvZ3Jlc3Mub25TdGF0dXNDaGFuZ2UodCxpLHIpfSwwKX19KX0sX2NyZWF0ZVVwbG9hZEJ1dHRvbjpmdW5jdGlvbihuKXtmdW5jdGlvbiB1KCl7cmV0dXJuISF0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcmJiEoaS5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3NFbXB0eVZpZGVvcyYmdC5pb3MoKSYmIXQuaW9zNigpJiZpLl9pc0FsbG93ZWRFeHRlbnNpb24oZSwiLm1vdiIpKSYmKHZvaWQgMD09PW4ubXVsdGlwbGU/aS5fb3B0aW9ucy5tdWx0aXBsZTpuLm11bHRpcGxlKX12YXIgcixpPXRoaXMsZj1uLmFjY2VwdHx8dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLmFjY2VwdEZpbGVzLGU9bi5hbGxvd2VkRXh0ZW5zaW9uc3x8dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLmFsbG93ZWRFeHRlbnNpb25zO3JldHVybiByPW5ldyB0LlVwbG9hZEJ1dHRvbih7YWNjZXB0RmlsZXM6ZixlbGVtZW50Om4uZWxlbWVudCxmb2N1c0NsYXNzOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5idXR0b25Gb2N1cyxmb2xkZXJzOm4uZm9sZGVycyxob3ZlckNsYXNzOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5idXR0b25Ib3Zlcixpb3M4QnJvd3NlckNyYXNoV29ya2Fyb3VuZDp0aGlzLl9vcHRpb25zLndvcmthcm91bmRzLmlvczhCcm93c2VyQ3Jhc2gsbXVsdGlwbGU6dSgpLG5hbWU6dGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmlucHV0TmFtZSxvbkNoYW5nZTpmdW5jdGlvbihuKXtpLl9vbklucHV0Q2hhbmdlKG4pfSx0aXRsZTpudWxsPT1uLnRpdGxlP3RoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZTpuLnRpdGxlfSksdGhpcy5fZGlzcG9zZVN1cHBvcnQuYWRkRGlzcG9zZXIoZnVuY3Rpb24oKXtyLmRpc3Bvc2UoKX0pLGkuX2J1dHRvbnMucHVzaChyKSxyfSxfY3JlYXRlVXBsb2FkSGFuZGxlcjpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMsdT17fSxmPXtkZWJ1Zzp0aGlzLl9vcHRpb25zLmRlYnVnLG1heENvbm5lY3Rpb25zOnRoaXMuX29wdGlvbnMubWF4Q29ubmVjdGlvbnMsY29yczp0aGlzLl9vcHRpb25zLmNvcnMscGFyYW1zU3RvcmU6dGhpcy5fcGFyYW1zU3RvcmUsZW5kcG9pbnRTdG9yZTp0aGlzLl9lbmRwb2ludFN0b3JlLGNodW5raW5nOnRoaXMuX29wdGlvbnMuY2h1bmtpbmcscmVzdW1lOnRoaXMuX29wdGlvbnMucmVzdW1lLGJsb2JzOnRoaXMuX29wdGlvbnMuYmxvYnMsbG9nOnQuYmluZChyLmxvZyxyKSxwcmV2ZW50UmV0cnlQYXJhbTp0aGlzLl9vcHRpb25zLnJldHJ5LnByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHksb25Qcm9ncmVzczpmdW5jdGlvbihuLHQsaSxmKXtpPDB8fGY8MHx8KHVbbl0/dVtuXS5sb2FkZWQ9PT1pJiZ1W25dLnRvdGFsPT09Znx8KHIuX29uUHJvZ3Jlc3Mobix0LGksZiksci5fb3B0aW9ucy5jYWxsYmFja3Mub25Qcm9ncmVzcyhuLHQsaSxmKSk6KHIuX29uUHJvZ3Jlc3Mobix0LGksZiksci5fb3B0aW9ucy5jYWxsYmFja3Mub25Qcm9ncmVzcyhuLHQsaSxmKSksdVtuXT17bG9hZGVkOmksdG90YWw6Zn0pfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKG4saSxmLGUpe2RlbGV0ZSB1W25dO3ZhciBvLHM9ci5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzO3MhPT10LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTCYmcyE9PXQuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJihvPXIuX29uQ29tcGxldGUobixpLGYsZSksbyBpbnN0YW5jZW9mIHQuUHJvbWlzZT9vLmRvbmUoZnVuY3Rpb24oKXtyLl9vcHRpb25zLmNhbGxiYWNrcy5vbkNvbXBsZXRlKG4saSxmLGUpfSk6ci5fb3B0aW9ucy5jYWxsYmFja3Mub25Db21wbGV0ZShuLGksZixlKSl9LG9uQ2FuY2VsOmZ1bmN0aW9uKG4saSx1KXt2YXIgZj1uZXcgdC5Qcm9taXNlO3JldHVybiByLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uQ2FuY2VsIixjYWxsYmFjazp0LmJpbmQoci5fb3B0aW9ucy5jYWxsYmFja3Mub25DYW5jZWwscixuLGkpLG9uRmFpbHVyZTpmLmZhaWx1cmUsb25TdWNjZXNzOmZ1bmN0aW9uKCl7dS50aGVuKGZ1bmN0aW9uKCl7ci5fb25DYW5jZWwobixpKX0pO2Yuc3VjY2VzcygpfSxpZGVudGlmaWVyOm59KSxmfSxvblVwbG9hZFByZXA6dC5iaW5kKHRoaXMuX29uVXBsb2FkUHJlcCx0aGlzKSxvblVwbG9hZDpmdW5jdGlvbihuLGkpe3IuX29uVXBsb2FkKG4saSk7dmFyIHU9ci5fb3B0aW9ucy5jYWxsYmFja3Mub25VcGxvYWQobixpKTtyZXR1cm4gdC5pc0dlbmVyaWNQcm9taXNlKHUpPyhyLmxvZyh0LmZvcm1hdCgib25VcGxvYWQgZm9yIHt9IHJldHVybmVkIGEgUHJvbWlzZSAtIHdhaXRpbmcgZm9yIHJlc29sdXRpb24uIixuKSksdSk6KG5ldyB0LlByb21pc2UpLnN1Y2Nlc3MoKX0sb25VcGxvYWRDaHVuazpmdW5jdGlvbihuLGksdSl7ci5fb25VcGxvYWRDaHVuayhuLHUpO3ZhciBmPXIuX29wdGlvbnMuY2FsbGJhY2tzLm9uVXBsb2FkQ2h1bmsobixpLHUpO3JldHVybiB0LmlzR2VuZXJpY1Byb21pc2UoZik/KHIubG9nKHQuZm9ybWF0KCJvblVwbG9hZENodW5rIGZvciB7fS57fSByZXR1cm5lZCBhIFByb21pc2UgLSB3YWl0aW5nIGZvciByZXNvbHV0aW9uLiIsbix1LnBhcnRJbmRleCkpLGYpOihuZXcgdC5Qcm9taXNlKS5zdWNjZXNzKCl9LG9uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKG4sdCl7ci5fb25VcGxvYWRDaHVua1N1Y2Nlc3Mobix0KTtyLl9vcHRpb25zLmNhbGxiYWNrcy5vblVwbG9hZENodW5rU3VjY2Vzcy5hcHBseShyLGFyZ3VtZW50cyl9LG9uUmVzdW1lOmZ1bmN0aW9uKG4sdCxpLHUpe3JldHVybiByLl9vcHRpb25zLmNhbGxiYWNrcy5vblJlc3VtZShuLHQsaSx1KX0sb25BdXRvUmV0cnk6ZnVuY3Rpb24oKXtyZXR1cm4gci5fb25BdXRvUmV0cnkuYXBwbHkocixhcmd1bWVudHMpfSxvblV1aWRDaGFuZ2VkOmZ1bmN0aW9uKG4sdCl7ci5sb2coIlNlcnZlciByZXF1ZXN0ZWQgVVVJRCBjaGFuZ2UgZnJvbSAnIityLmdldFV1aWQobikrIicgdG8gJyIrdCsiJyIpO3Iuc2V0VXVpZChuLHQpfSxnZXROYW1lOnQuYmluZChyLmdldE5hbWUsciksZ2V0VXVpZDp0LmJpbmQoci5nZXRVdWlkLHIpLGdldFNpemU6dC5iaW5kKHIuZ2V0U2l6ZSxyKSxzZXRTaXplOnQuYmluZChyLl9zZXRTaXplLHIpLGdldERhdGFCeVV1aWQ6ZnVuY3Rpb24obil7cmV0dXJuIHIuZ2V0VXBsb2Fkcyh7dXVpZDpufSl9LGlzUXVldWVkOmZ1bmN0aW9uKG4pe3ZhciBpPXIuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cztyZXR1cm4gaT09PXQuc3RhdHVzLlFVRVVFRHx8aT09PXQuc3RhdHVzLlNVQk1JVFRFRHx8aT09PXQuc3RhdHVzLlVQTE9BRF9SRVRSWUlOR3x8aT09PXQuc3RhdHVzLlBBVVNFRH0sZ2V0SWRzSW5Qcm94eUdyb3VwOnIuX3VwbG9hZERhdGEuZ2V0SWRzSW5Qcm94eUdyb3VwLGdldElkc0luQmF0Y2g6ci5fdXBsb2FkRGF0YS5nZXRJZHNJbkJhdGNoLGlzSW5Qcm9ncmVzczpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzPT09dC5zdGF0dXMuVVBMT0FESU5HfSxnZXRDdXN0b21SZXN1bWVEYXRhOnQuYmluZChyLl9nZXRDdXN0b21SZXN1bWVEYXRhLHIpLHNldFN0YXR1czpmdW5jdGlvbihuLHQpe3IuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdCl9fTtyZXR1cm4gdC5lYWNoKHRoaXMuX29wdGlvbnMucmVxdWVzdCxmdW5jdGlvbihuLHQpe2Zbbl09dH0pLGYuY3VzdG9tSGVhZGVycz10aGlzLl9jdXN0b21IZWFkZXJzU3RvcmUsbiYmdC5lYWNoKG4sZnVuY3Rpb24obix0KXtmW25dPXR9KSxuZXcgdC5VcGxvYWRIYW5kbGVyQ29udHJvbGxlcihmLGkpfSxfZmlsZU9yQmxvYlJlamVjdGVkOmZ1bmN0aW9uKG4pe3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlJFSkVDVEVEKX0sX2Zvcm1hdFNpemU6ZnVuY3Rpb24obil7aWYoMD09PW4pcmV0dXJuIG4rdGhpcy5fb3B0aW9ucy50ZXh0LnNpemVTeW1ib2xzWzBdO3ZhciB0PS0xO2RvIG4vPTFlMyx0Kys7d2hpbGUobj45OTkpO3JldHVybiBNYXRoLm1heChuLC4xKS50b0ZpeGVkKDEpK3RoaXMuX29wdGlvbnMudGV4dC5zaXplU3ltYm9sc1t0XX0sX2dlbmVyYXRlRXh0cmFCdXR0b25TcGVjczpmdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5fZXh0cmFCdXR0b25TcGVjcz17fTt0LmVhY2godGhpcy5fb3B0aW9ucy5leHRyYUJ1dHRvbnMsZnVuY3Rpb24oaSxyKXt2YXIgdT1yLm11bHRpcGxlLGU9dC5leHRlbmQoe30sbi5fb3B0aW9ucy52YWxpZGF0aW9uLCEwKSxmPXQuZXh0ZW5kKHt9LHIpO3ZvaWQgMD09PXUmJih1PW4uX29wdGlvbnMubXVsdGlwbGUpO2YudmFsaWRhdGlvbiYmdC5leHRlbmQoZSxyLnZhbGlkYXRpb24sITApO3QuZXh0ZW5kKGYse211bHRpcGxlOnUsdmFsaWRhdGlvbjplfSwhMCk7bi5faW5pdEV4dHJhQnV0dG9uKGYpfSl9LF9nZXRCdXR0b246ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZXh0cmFCdXR0b25TcGVjc1tuXTtyZXR1cm4gdD90LmVsZW1lbnQ6bj09PXRoaXMuX2RlZmF1bHRCdXR0b25JZD90aGlzLl9vcHRpb25zLmJ1dHRvbjp2b2lkIDB9LF9nZXRCdXR0b25JZDpmdW5jdGlvbihuKXt2YXIgdSxyLGk9bjtpZihpIGluc3RhbmNlb2YgdC5CbG9iUHJveHkmJihpPWkucmVmZXJlbmNlQmxvYiksaSYmIXQuaXNCbG9iKGkpKXtpZih0LmlzRmlsZShpKSlyZXR1cm4gaS5xcUJ1dHRvbklkO2lmKCJpbnB1dCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmImZpbGUiPT09aS50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGkuZ2V0QXR0cmlidXRlKHQuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUpO2lmKHU9aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKSx0LmVhY2godSxmdW5jdGlvbihuLHQpe2lmKCJmaWxlIj09PXQuZ2V0QXR0cmlidXRlKCJ0eXBlIikpcmV0dXJuIHI9dCwhMX0pLHIpcmV0dXJuIHIuZ2V0QXR0cmlidXRlKHQuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUpfX0sX2dldEN1c3RvbVJlc3VtZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZS5nZXQobil9LF9nZXROb3RGaW5pc2hlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtzdGF0dXM6W3Quc3RhdHVzLlVQTE9BRElORyx0LnN0YXR1cy5VUExPQURfUkVUUllJTkcsdC5zdGF0dXMuUVVFVUVELHQuc3RhdHVzLlNVQk1JVFRJTkcsdC5zdGF0dXMuU1VCTUlUVEVELHQuc3RhdHVzLlBBVVNFRF19KS5sZW5ndGh9LF9nZXRWYWxpZGF0aW9uQmFzZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9leHRyYUJ1dHRvblNwZWNzW25dO3JldHVybiB0P3QudmFsaWRhdGlvbjp0aGlzLl9vcHRpb25zLnZhbGlkYXRpb259LF9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcjpmdW5jdGlvbihuKXtyZXR1cm4gbi5maWxlIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/e25hbWU6dC5nZXRGaWxlbmFtZShuLmZpbGUucmVmZXJlbmNlQmxvYiksc2l6ZTpuLmZpbGUucmVmZXJlbmNlQmxvYi5zaXplfTp7bmFtZTp0aGlzLmdldFVwbG9hZHMoe2lkOm4uaWR9KS5uYW1lLHNpemU6dGhpcy5nZXRVcGxvYWRzKHtpZDpuLmlkfSkuc2l6ZX19LF9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcnM6ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxpPVtdO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe2kucHVzaChyLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcih0KSl9KSxpfSxfaGFuZGxlQ2FtZXJhQWNjZXNzOmZ1bmN0aW9uKCl7aWYodGhpcy5fb3B0aW9ucy5jYW1lcmEuaW9zJiZ0LmlvcygpKXt2YXIgcj10aGlzLl9vcHRpb25zLmNhbWVyYS5idXR0b24saT1yP3RoaXMuX2dldEJ1dHRvbklkKHIpOnRoaXMuX2RlZmF1bHRCdXR0b25JZCxuPXRoaXMuX29wdGlvbnM7aSYmaSE9PXRoaXMuX2RlZmF1bHRCdXR0b25JZCYmKG49dGhpcy5fZXh0cmFCdXR0b25TcGVjc1tpXSk7bi5tdWx0aXBsZT0hMTtudWxsPT09bi52YWxpZGF0aW9uLmFjY2VwdEZpbGVzP24udmFsaWRhdGlvbi5hY2NlcHRGaWxlcz0iaW1hZ2UvKjtjYXB0dXJlPWNhbWVyYSI6bi52YWxpZGF0aW9uLmFjY2VwdEZpbGVzKz0iLGltYWdlLyo7Y2FwdHVyZT1jYW1lcmEiO3QuZWFjaCh0aGlzLl9idXR0b25zLGZ1bmN0aW9uKHQscil7aWYoci5nZXRCdXR0b25JZCgpPT09aSlyZXR1cm4gci5zZXRNdWx0aXBsZShuLm11bHRpcGxlKSxyLnNldEFjY2VwdEZpbGVzKG4uYWNjZXB0RmlsZXMpLCExfSl9fSxfaGFuZGxlQ2hlY2tlZENhbGxiYWNrOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT1uLmNhbGxiYWNrKCk7cmV0dXJuIHQuaXNHZW5lcmljUHJvbWlzZShpKT8odGhpcy5sb2cobi5uYW1lKyIgLSB3YWl0aW5nIGZvciAiK24ubmFtZSsiIHByb21pc2UgdG8gYmUgZnVsZmlsbGVkIGZvciAiK24uaWRlbnRpZmllciksaS50aGVuKGZ1bmN0aW9uKHQpe3IubG9nKG4ubmFtZSsiIHByb21pc2Ugc3VjY2VzcyBmb3IgIituLmlkZW50aWZpZXIpO24ub25TdWNjZXNzKHQpfSxmdW5jdGlvbigpe24ub25GYWlsdXJlPyhyLmxvZyhuLm5hbWUrIiBwcm9taXNlIGZhaWx1cmUgZm9yICIrbi5pZGVudGlmaWVyKSxuLm9uRmFpbHVyZSgpKTpyLmxvZyhuLm5hbWUrIiBwcm9taXNlIGZhaWx1cmUgZm9yICIrbi5pZGVudGlmaWVyKX0pKTooaSE9PSExP24ub25TdWNjZXNzKGkpOm4ub25GYWlsdXJlPyh0aGlzLmxvZyhuLm5hbWUrIiAtIHJldHVybiB2YWx1ZSB3YXMgJ2ZhbHNlJyBmb3IgIituLmlkZW50aWZpZXIrIi4gIEludm9raW5nIGZhaWx1cmUgY2FsbGJhY2suIiksbi5vbkZhaWx1cmUoKSk6dGhpcy5sb2cobi5uYW1lKyIgLSByZXR1cm4gdmFsdWUgd2FzICdmYWxzZScgZm9yICIrbi5pZGVudGlmaWVyKyIuICBXaWxsIG5vdCBwcm9jZWVkLiIpLGkpfSxfaGFuZGxlTmV3RmlsZTpmdW5jdGlvbihuLGkscil7dmFyIHU9dGhpcyxvPXQuZ2V0VW5pcXVlSWQoKSxlPS0xLHM9dC5nZXRGaWxlbmFtZShuKSxmPW4uYmxvYnx8bixoPXRoaXMuX2N1c3RvbU5ld0ZpbGVIYW5kbGVyP3RoaXMuX2N1c3RvbU5ld0ZpbGVIYW5kbGVyOnQuYmluZCh1Ll9oYW5kbGVOZXdGaWxlR2VuZXJpYyx1KTshdC5pc0lucHV0KGYpJiZmLnNpemU+PTAmJihlPWYuc2l6ZSk7aChmLHMsbyxlLHIsaSx0aGlzLl9vcHRpb25zLnJlcXVlc3QudXVpZE5hbWUse3VwbG9hZERhdGE6dS5fdXBsb2FkRGF0YSxwYXJhbXNTdG9yZTp1Ll9wYXJhbXNTdG9yZSxhZGRGaWxlVG9IYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dS5faGFuZGxlci5hZGQobix0KTt1Ll9uZXRVcGxvYWRlZE9yUXVldWVkKys7dS5fdHJhY2tCdXR0b24obil9fSl9LF9oYW5kbGVOZXdGaWxlR2VuZXJpYzpmdW5jdGlvbihuLHQsaSxyLHUsZil7dmFyIGU9dGhpcy5fdXBsb2FkRGF0YS5hZGRGaWxlKHt1dWlkOmksbmFtZTp0LHNpemU6cixiYXRjaElkOmYsZmlsZTpufSk7dGhpcy5faGFuZGxlci5hZGQoZSxuKTt0aGlzLl90cmFja0J1dHRvbihlKTt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkKys7dS5wdXNoKHtpZDplLGZpbGU6bn0pfSxfaGFuZGxlUGFzdGVTdWNjZXNzOmZ1bmN0aW9uKG4sdCl7dmFyIHI9bi50eXBlLnNwbGl0KCIvIilbMV0saT10O251bGw9PWkmJihpPXRoaXMuX29wdGlvbnMucGFzdGUuZGVmYXVsdE5hbWUpO2krPSIuIityO3RoaXMuYWRkRmlsZXMoe25hbWU6aSxibG9iOm59KX0sX2hhbmRsZURlbGV0ZVN1Y2Nlc3M6ZnVuY3Rpb24obil7aWYodGhpcy5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzIT09dC5zdGF0dXMuREVMRVRFRCl7dmFyIGk9dGhpcy5nZXROYW1lKG4pO3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLTt0aGlzLl9uZXRVcGxvYWRlZC0tO3RoaXMuX2hhbmRsZXIuZXhwdW5nZShuKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLkRFTEVURUQpO3RoaXMubG9nKCJEZWxldGUgcmVxdWVzdCBmb3IgJyIraSsiJyBoYXMgc3VjY2VlZGVkLiIpfX0sX2hhbmRsZURlbGV0ZUZhaWxlZDpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMuZ2V0TmFtZShuKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLkRFTEVURV9GQUlMRUQpO3RoaXMubG9nKCJEZWxldGUgcmVxdWVzdCBmb3IgJyIrcisiJyBoYXMgZmFpbGVkLiIsImVycm9yIik7aSYmdm9pZCAwIT09aS53aXRoQ3JlZGVudGlhbHM/dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihuLHIsIkRlbGV0ZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHJlc3BvbnNlIGNvZGUgIitpLnN0YXR1cyxpKTp0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG4sciwiRGVsZXRlIHJlcXVlc3QgZmFpbGVkIixpKX0sX2luaXRFeHRyYUJ1dHRvbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9jcmVhdGVVcGxvYWRCdXR0b24oe2FjY2VwdDpuLnZhbGlkYXRpb24uYWNjZXB0RmlsZXMsYWxsb3dlZEV4dGVuc2lvbnM6bi52YWxpZGF0aW9uLmFsbG93ZWRFeHRlbnNpb25zLGVsZW1lbnQ6bi5lbGVtZW50LGZvbGRlcnM6bi5mb2xkZXJzLG11bHRpcGxlOm4ubXVsdGlwbGUsdGl0bGU6bi5maWxlSW5wdXRUaXRsZX0pO3RoaXMuX2V4dHJhQnV0dG9uU3BlY3NbdC5nZXRCdXR0b25JZCgpXT1ufSxfaW5pdEZvcm1TdXBwb3J0QW5kUGFyYW1zOmZ1bmN0aW9uKCl7dGhpcy5fZm9ybVN1cHBvcnQ9dC5Gb3JtU3VwcG9ydCYmbmV3IHQuRm9ybVN1cHBvcnQodGhpcy5fb3B0aW9ucy5mb3JtLHQuYmluZCh0aGlzLnVwbG9hZFN0b3JlZEZpbGVzLHRoaXMpLHQuYmluZCh0aGlzLmxvZyx0aGlzKSk7dGhpcy5fZm9ybVN1cHBvcnQmJnRoaXMuX2Zvcm1TdXBwb3J0LmF0dGFjaGVkVG9Gb3JtPyh0aGlzLl9wYXJhbXNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QucGFyYW1zLHRoaXMuX2Zvcm1TdXBwb3J0LmdldEZvcm1JbnB1dHNBc09iamVjdCksdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPXRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0F1dG9VcGxvYWQsdGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQmJih0aGlzLl9vcHRpb25zLnJlcXVlc3QuZW5kcG9pbnQ9dGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQpKTp0aGlzLl9wYXJhbXNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QucGFyYW1zKX0sX2lzRGVsZXRlUG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0LkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyfHwhdGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmVuYWJsZWQpJiYoIXRoaXMuX29wdGlvbnMuY29ycy5leHBlY3RlZHx8ISF0LnN1cHBvcnRlZEZlYXR1cmVzLmRlbGV0ZUZpbGVDb3JzWGhyfHwhKCF0LnN1cHBvcnRlZEZlYXR1cmVzLmRlbGV0ZUZpbGVDb3JzWGRyfHwhdGhpcy5fb3B0aW9ucy5jb3JzLmFsbG93WGRyKSl9LF9pc0FsbG93ZWRFeHRlbnNpb246ZnVuY3Rpb24obixpKXt2YXIgcj0hMTtyZXR1cm4hbi5sZW5ndGh8fCh0LmVhY2gobixmdW5jdGlvbihuLHUpe2lmKHQuaXNTdHJpbmcodSkpe3ZhciBmPW5ldyBSZWdFeHAoIlxcLiIrdSsiJCIsImkiKTtpZihudWxsIT1pLm1hdGNoKGYpKXJldHVybiByPSEwLCExfX0pLHIpfSxfaXRlbUVycm9yOmZ1bmN0aW9uKG4saSxyKXtmdW5jdGlvbiB1KG4sdCl7Zj1mLnJlcGxhY2Uobix0KX12YXIgcyxlLGY9dGhpcy5fb3B0aW9ucy5tZXNzYWdlc1tuXSxoPVtdLGM9W10uY29uY2F0KGkpLGw9Y1swXSxhPXRoaXMuX2dldEJ1dHRvbklkKHIpLG89dGhpcy5fZ2V0VmFsaWRhdGlvbkJhc2UoYSk7cmV0dXJuIHQuZWFjaChvLmFsbG93ZWRFeHRlbnNpb25zLGZ1bmN0aW9uKG4saSl7dC5pc1N0cmluZyhpKSYmaC5wdXNoKGkpfSkscz1oLmpvaW4oIiwgIikudG9Mb3dlckNhc2UoKSx1KCJ7ZmlsZX0iLHRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUobCkpLHUoIntleHRlbnNpb25zfSIscyksdSgie3NpemVMaW1pdH0iLHRoaXMuX2Zvcm1hdFNpemUoby5zaXplTGltaXQpKSx1KCJ7bWluU2l6ZUxpbWl0fSIsdGhpcy5fZm9ybWF0U2l6ZShvLm1pblNpemVMaW1pdCkpLGU9Zi5tYXRjaCgvKFx7XHcrXH0pL2cpLG51bGwhPT1lJiZ0LmVhY2goZSxmdW5jdGlvbihuLHQpe3UodCxjW25dKX0pLHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobnVsbCxsLGYsdm9pZCAwKSxmfSxfbWFudWFsUmV0cnk6ZnVuY3Rpb24obixpKXtpZih0aGlzLl9vbkJlZm9yZU1hbnVhbFJldHJ5KG4pKXJldHVybiB0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkKyssdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURfUkVUUllJTkcpLGk/aShuKTp0aGlzLl9oYW5kbGVyLnJldHJ5KG4pLCEwfSxfbWF5YmVBbGxDb21wbGV0ZTpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMsdT10aGlzLl9nZXROb3RGaW5pc2hlZCgpO2k9PT10LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTD90aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5wdXNoKG4pOmk9PT10LnN0YXR1cy5VUExPQURfRkFJTEVEJiZ0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5wdXNoKG4pOzA9PT11JiYodGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGUubGVuZ3RofHx0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5sZW5ndGgpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fb25BbGxDb21wbGV0ZShyLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZSxyLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZSl9LDApfSxfbWF5YmVIYW5kbGVJb3M4U2FmYXJpV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7aWYodGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4U2FmYXJpVXBsb2FkcyYmdC5pb3M4MDAoKSYmdC5pb3NTYWZhcmkoKSl0aHJvdyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LmFsZXJ0KG4uX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaSl9LDApLG5ldyB0LkVycm9yKHRoaXMuX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaSk7fSxfbWF5YmVQYXJzZUFuZFNlbmRVcGxvYWRFcnJvcjpmdW5jdGlvbihuLHQsaSxyKXtpZighaS5zdWNjZXNzKWlmKHImJjIwMCE9PXIuc3RhdHVzJiYhaS5lcnJvcil0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG4sdCwiWEhSIHJldHVybmVkIHJlc3BvbnNlIGNvZGUgIityLnN0YXR1cyxyKTtlbHNle3ZhciB1PWkuZXJyb3I/aS5lcnJvcjp0aGlzLl9vcHRpb25zLnRleHQuZGVmYXVsdFJlc3BvbnNlRXJyb3I7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihuLHQsdSxyKX19LF9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrOmZ1bmN0aW9uKG4saSxyLHUsZil7dmFyIGU9dGhpcztpZihpLmxlbmd0aD5yKWlmKG58fCF0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uc3RvcE9uRmlyc3RJbnZhbGlkRmlsZSlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIG49ZS5fZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3IoaVtyXSksbz1lLl9nZXRCdXR0b25JZChpW3JdLmZpbGUpLHM9ZS5fZ2V0QnV0dG9uKG8pO2UuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25WYWxpZGF0ZSIsY2FsbGJhY2s6dC5iaW5kKGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uVmFsaWRhdGUsZSxuLHMpLG9uU3VjY2Vzczp0LmJpbmQoZS5fb25WYWxpZGF0ZUNhbGxiYWNrU3VjY2VzcyxlLGkscix1LGYpLG9uRmFpbHVyZTp0LmJpbmQoZS5fb25WYWxpZGF0ZUNhbGxiYWNrRmFpbHVyZSxlLGkscix1LGYpLGlkZW50aWZpZXI6Ikl0ZW0gJyIrbi5uYW1lKyInLCBzaXplOiAiK24uc2l6ZX0pfSwwKTtlbHNlIGlmKCFuKWZvcig7cjxpLmxlbmd0aDtyKyspZS5fZmlsZU9yQmxvYlJlamVjdGVkKGlbcl0uaWQpfSxfb25BbGxDb21wbGV0ZTpmdW5jdGlvbihuLGkpe3RoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3Mub25BbGxDb21wbGV0ZShuLGksdGhpcy5fcHJldmVudFJldHJpZXMpO3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uQWxsQ29tcGxldGUodC5leHRlbmQoW10sbiksdC5leHRlbmQoW10saSkpO3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdfSxfb25BdXRvUmV0cnk6ZnVuY3Rpb24obixpLHIsdSxmKXt2YXIgZT10aGlzLG87aWYoZS5fcHJldmVudFJldHJpZXNbbl09cltlLl9vcHRpb25zLnJldHJ5LnByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHldLGUuX3Nob3VsZEF1dG9SZXRyeShuKSlyZXR1cm4gbz0xZTMqZS5fb3B0aW9ucy5yZXRyeS5hdXRvQXR0ZW1wdERlbGF5LGUuX21heWJlUGFyc2VBbmRTZW5kVXBsb2FkRXJyb3IuYXBwbHkoZSxhcmd1bWVudHMpLGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uQXV0b1JldHJ5KG4saSxlLl9hdXRvUmV0cmllc1tuXSksZS5fb25CZWZvcmVBdXRvUmV0cnkobixpKSxlLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyksZS5fcmV0cnlUaW1lb3V0c1tuXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5sb2coIlN0YXJ0aW5nIHJldHJ5IGZvciAiK2krIi4uLiIpO2Y/ZihuKTplLl9oYW5kbGVyLnJldHJ5KG4pfSxvKSwhMH0sX29uQmVmb3JlQXV0b1JldHJ5OmZ1bmN0aW9uKG4sdCl7dGhpcy5sb2coIldhaXRpbmcgIit0aGlzLl9vcHRpb25zLnJldHJ5LmF1dG9BdHRlbXB0RGVsYXkrIiBzZWNvbmRzIGJlZm9yZSByZXRyeWluZyAiK3QrIi4uLiIpfSxfb25CZWZvcmVNYW51YWxSZXRyeTpmdW5jdGlvbihuKXt2YXIgdCxpPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQ7cmV0dXJuIHRoaXMuX3ByZXZlbnRSZXRyaWVzW25dPyh0aGlzLmxvZygiUmV0cmllcyBhcmUgZm9yYmlkZGVuIGZvciBpZCAiK24sIndhcm4iKSwhMSk6dGhpcy5faGFuZGxlci5pc1ZhbGlkKG4pPyh0PXRoaXMuZ2V0TmFtZShuKSx0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbk1hbnVhbFJldHJ5KG4sdCkhPT0hMSYmKGk+MCYmdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZCsxPmk/KHRoaXMuX2l0ZW1FcnJvcigicmV0cnlGYWlsVG9vTWFueUl0ZW1zIiksITEpOih0aGlzLmxvZygiUmV0cnlpbmcgdXBsb2FkIGZvciAnIit0KyInIChpZDogIituKyIpLi4uIiksITApKSk6KHRoaXMubG9nKCInIituKyInIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQiLCJlcnJvciIpLCExKX0sX29uQ2FuY2VsOmZ1bmN0aW9uKG4pe3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLTtjbGVhclRpbWVvdXQodGhpcy5fcmV0cnlUaW1lb3V0c1tuXSk7dmFyIGk9dC5pbmRleE9mKHRoaXMuX3N0b3JlZElkcyxuKTshdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkJiZpPj0wJiZ0aGlzLl9zdG9yZWRJZHMuc3BsaWNlKGksMSk7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5DQU5DRUxFRCl9LF9vbkNvbXBsZXRlOmZ1bmN0aW9uKG4saSxyLHUpe3JldHVybiByLnN1Y2Nlc3M/KHIudGh1bWJuYWlsVXJsJiYodGhpcy5fdGh1bWJuYWlsVXJsc1tuXT1yLnRodW1ibmFpbFVybCksdGhpcy5fbmV0VXBsb2FkZWQrKyx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMKSk6KHRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLSx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9GQUlMRUQpLHJbdGhpcy5fb3B0aW9ucy5yZXRyeS5wcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5XT09PSEwJiYodGhpcy5fcHJldmVudFJldHJpZXNbbl09ITApKSx0aGlzLl9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yKG4saSxyLHUpLCEhci5zdWNjZXNzfSxfb25EZWxldGU6ZnVuY3Rpb24obil7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5ERUxFVElORyl9LF9vbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLmdldE5hbWUobik7aT90aGlzLl9oYW5kbGVEZWxldGVGYWlsZWQobix0KTp0aGlzLl9oYW5kbGVEZWxldGVTdWNjZXNzKG4pfSxfb25JbnB1dENoYW5nZTpmdW5jdGlvbihuKXt2YXIgaTtpZih0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcpe2ZvcihpPTA7aTxuLmZpbGVzLmxlbmd0aDtpKyspdGhpcy5fYW5ub3RhdGVXaXRoQnV0dG9uSWQobi5maWxlc1tpXSxuKTt0aGlzLmFkZEZpbGVzKG4uZmlsZXMpfWVsc2Ugbi52YWx1ZS5sZW5ndGg+MCYmdGhpcy5hZGRGaWxlcyhuKTt0LmVhY2godGhpcy5fYnV0dG9ucyxmdW5jdGlvbihuLHQpe3QucmVzZXQoKX0pfSxfb25Qcm9ncmVzczpmdW5jdGlvbihuLHQsaSxyKXt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLm9uSW5kaXZpZHVhbFByb2dyZXNzKG4saSxyKX0sX29uU3VibWl0OmZ1bmN0aW9uKCl7fSxfb25TdWJtaXRDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24obil7dGhpcy5fb25TdWJtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuU1VCTUlUVEVEKTt0aGlzLl9vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPyh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdXBsb2FkRmlsZShuKSk6KHRoaXMuX3N0b3JlRm9yTGF0ZXIobiksdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXR0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sX29uU3VibWl0RGVsZXRlOmZ1bmN0aW9uKG4saSxyKXt2YXIgdSxmPXRoaXMuZ2V0VXVpZChuKTtyZXR1cm4gaSYmKHU9dC5iaW5kKGksdGhpcyxuLGYscikpLHRoaXMuX2lzRGVsZXRlUG9zc2libGUoKT8odGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblN1Ym1pdERlbGV0ZSIsY2FsbGJhY2s6dC5iaW5kKHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uU3VibWl0RGVsZXRlLHRoaXMsbiksb25TdWNjZXNzOnV8fHQuYmluZCh0aGlzLl9kZWxldGVIYW5kbGVyLnNlbmREZWxldGUsdGhpcyxuLGYsciksaWRlbnRpZmllcjpufSksITApOih0aGlzLmxvZygiRGVsZXRlIHJlcXVlc3QgaWdub3JlZCBmb3IgSUQgIituKyIsIGRlbGV0ZSBmZWF0dXJlIGlzIGRpc2FibGVkIG9yIHJlcXVlc3Qgbm90IHBvc3NpYmxlIGR1ZSB0byBDT1JTIG9uIGEgdXNlciBhZ2VudCB0aGF0IGRvZXMgbm90IHN1cHBvcnQgcHJlLWZsaWdodGluZy4iLCJ3YXJuIiksITEpfSxfb25TdWJtaXR0ZWQ6ZnVuY3Rpb24oKXt9LF9vblRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0KXt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblRvdGFsUHJvZ3Jlc3Mobix0KX0sX29uVXBsb2FkUHJlcDpmdW5jdGlvbigpe30sX29uVXBsb2FkOmZ1bmN0aW9uKG4pe3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FESU5HKX0sX29uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oKXt9LF9vblVwbG9hZENodW5rU3VjY2VzczpmdW5jdGlvbihuKXshdGhpcy5fcHJldmVudFJldHJpZXNbbl0mJnRoaXMuX29wdGlvbnMucmV0cnkuZW5hYmxlQXV0byYmKHRoaXMuX2F1dG9SZXRyaWVzW25dPTApfSxfb25VcGxvYWRTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24obixpLHIpe3I9PT10LnN0YXR1cy5QQVVTRUQmJmNsZWFyVGltZW91dCh0aGlzLl9yZXRyeVRpbWVvdXRzW25dKX0sX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aS5fZmlsZU9yQmxvYlJlamVjdGVkKHQuaWQpfSl9LF9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24obixpLHIsdSxmKXt2YXIgbyxlPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQscz10aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkOzA9PT1lfHxzPD1lP2kubGVuZ3RoPjA/dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlIixjYWxsYmFjazp0LmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25WYWxpZGF0ZSx0aGlzLG5bMF0sZiksb25TdWNjZXNzOnQuYmluZCh0aGlzLl9vblZhbGlkYXRlQ2FsbGJhY2tTdWNjZXNzLHRoaXMsaSwwLHIsdSksb25GYWlsdXJlOnQuYmluZCh0aGlzLl9vblZhbGlkYXRlQ2FsbGJhY2tGYWlsdXJlLHRoaXMsaSwwLHIsdSksaWRlbnRpZmllcjoiSXRlbSAnIitpWzBdLmZpbGUubmFtZSsiJywgc2l6ZTogIitpWzBdLmZpbGUuc2l6ZX0pOnRoaXMuX2l0ZW1FcnJvcigibm9GaWxlc0Vycm9yIik6KHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZShpKSxvPXRoaXMuX29wdGlvbnMubWVzc2FnZXMudG9vTWFueUl0ZW1zRXJyb3IucmVwbGFjZSgvXHtuZXRJdGVtc1x9L2cscykucmVwbGFjZSgvXHtpdGVtTGltaXRcfS9nLGUpLHRoaXMuX2JhdGNoRXJyb3IobykpfSxfb25WYWxpZGF0ZUNhbGxiYWNrRmFpbHVyZTpmdW5jdGlvbihuLHQsaSxyKXt2YXIgdT10KzE7dGhpcy5fZmlsZU9yQmxvYlJlamVjdGVkKG5bdF0uaWQsblt0XS5maWxlLm5hbWUpO3RoaXMuX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2soITEsbix1LGkscil9LF9vblZhbGlkYXRlQ2FsbGJhY2tTdWNjZXNzOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PXRoaXMsZj10KzEsZT10aGlzLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcihuW3RdKTt0aGlzLl92YWxpZGF0ZUZpbGVPckJsb2JEYXRhKG5bdF0sZSkudGhlbihmdW5jdGlvbigpe3UuX3VwbG9hZChuW3RdLmlkLGkscik7dS5fbWF5YmVQcm9jZXNzTmV4dEl0ZW1BZnRlck9uVmFsaWRhdGVDYWxsYmFjayghMCxuLGYsaSxyKX0sZnVuY3Rpb24oKXt1Ll9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrKCExLG4sZixpLHIpfSl9LF9wcmVwYXJlSXRlbXNGb3JVcGxvYWQ6ZnVuY3Rpb24obixpLHIpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLl9pdGVtRXJyb3IoIm5vRmlsZXNFcnJvciIpO3ZhciB1PXRoaXMuX2dldFZhbGlkYXRpb25EZXNjcmlwdG9ycyhuKSxlPXRoaXMuX2dldEJ1dHRvbklkKG5bMF0uZmlsZSksZj10aGlzLl9nZXRCdXR0b24oZSk7dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlQmF0Y2giLGNhbGxiYWNrOnQuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblZhbGlkYXRlQmF0Y2gsdGhpcyx1LGYpLG9uU3VjY2Vzczp0LmJpbmQodGhpcy5fb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tTdWNjZXNzLHRoaXMsdSxuLGkscixmKSxvbkZhaWx1cmU6dC5iaW5kKHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZSx0aGlzLG4pLGlkZW50aWZpZXI6ImJhdGNoIHZhbGlkYXRpb24ifSl9LF9wcmV2ZW50TGVhdmVJblByb2dyZXNzOmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9kaXNwb3NlU3VwcG9ydC5hdHRhY2god2luZG93LCJiZWZvcmV1bmxvYWQiLGZ1bmN0aW9uKHQpe2lmKG4uZ2V0SW5Qcm9ncmVzcygpKXJldHVybiB0PXR8fHdpbmRvdy5ldmVudCx0LnJldHVyblZhbHVlPW4uX29wdGlvbnMubWVzc2FnZXMub25MZWF2ZSxuLl9vcHRpb25zLm1lc3NhZ2VzLm9uTGVhdmV9KX0sX3JlZnJlc2hTZXNzaW9uRGF0YTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsaT10aGlzLl9vcHRpb25zLnNlc3Npb247dC5TZXNzaW9uJiZudWxsIT10aGlzLl9vcHRpb25zLnNlc3Npb24uZW5kcG9pbnQmJih0aGlzLl9zZXNzaW9ufHwodC5leHRlbmQoaSx7Y29yczp0aGlzLl9vcHRpb25zLmNvcnN9KSxpLmxvZz10LmJpbmQodGhpcy5sb2csdGhpcyksaS5hZGRGaWxlUmVjb3JkPXQuYmluZCh0aGlzLl9hZGRDYW5uZWRGaWxlLHRoaXMpLHRoaXMuX3Nlc3Npb249bmV3IHQuU2Vzc2lvbihpKSksc2V0VGltZW91dChmdW5jdGlvbigpe24uX3Nlc3Npb24ucmVmcmVzaCgpLnRoZW4oZnVuY3Rpb24odCxpKXtuLl9zZXNzaW9uUmVxdWVzdENvbXBsZXRlKCk7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25TZXNzaW9uUmVxdWVzdENvbXBsZXRlKHQsITAsaSl9LGZ1bmN0aW9uKHQsaSl7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25TZXNzaW9uUmVxdWVzdENvbXBsZXRlKHQsITEsaSl9KX0sMCkpfSxfc2Vzc2lvblJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbigpe30sX3NldFNpemU6ZnVuY3Rpb24obix0KXt0aGlzLl91cGxvYWREYXRhLnVwZGF0ZVNpemUobix0KTt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLm9uTmV3U2l6ZShuKX0sX3Nob3VsZEF1dG9SZXRyeTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7cmV0dXJuISEoIXRoaXMuX3ByZXZlbnRSZXRyaWVzW25dJiZ0aGlzLl9vcHRpb25zLnJldHJ5LmVuYWJsZUF1dG8mJmkuc3RhdHVzIT09dC5zdGF0dXMuUEFVU0VEJiYodm9pZCAwPT09dGhpcy5fYXV0b1JldHJpZXNbbl0mJih0aGlzLl9hdXRvUmV0cmllc1tuXT0wKSx0aGlzLl9hdXRvUmV0cmllc1tuXTx0aGlzLl9vcHRpb25zLnJldHJ5Lm1heEF1dG9BdHRlbXB0cykpJiYodGhpcy5fYXV0b1JldHJpZXNbbl0rPTEsITApfSxfc3RvcmVGb3JMYXRlcjpmdW5jdGlvbihuKXt0aGlzLl9zdG9yZWRJZHMucHVzaChuKX0sX3RyYWNrQnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciBpO2k9dC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nP3RoaXMuX2hhbmRsZXIuZ2V0RmlsZShuKS5xcUJ1dHRvbklkOnRoaXMuX2dldEJ1dHRvbklkKHRoaXMuX2hhbmRsZXIuZ2V0SW5wdXQobikpO2kmJih0aGlzLl9idXR0b25JZHNGb3JGaWxlSWRzW25dPWkpfSxfdXBkYXRlRm9ybVN1cHBvcnRBbmRQYXJhbXM6ZnVuY3Rpb24obil7dGhpcy5fb3B0aW9ucy5mb3JtLmVsZW1lbnQ9bjt0aGlzLl9mb3JtU3VwcG9ydD10LkZvcm1TdXBwb3J0JiZuZXcgdC5Gb3JtU3VwcG9ydCh0aGlzLl9vcHRpb25zLmZvcm0sdC5iaW5kKHRoaXMudXBsb2FkU3RvcmVkRmlsZXMsdGhpcyksdC5iaW5kKHRoaXMubG9nLHRoaXMpKTt0aGlzLl9mb3JtU3VwcG9ydCYmdGhpcy5fZm9ybVN1cHBvcnQuYXR0YWNoZWRUb0Zvcm0mJih0aGlzLl9wYXJhbXNTdG9yZS5hZGRSZWFkT25seShudWxsLHRoaXMuX2Zvcm1TdXBwb3J0LmdldEZvcm1JbnB1dHNBc09iamVjdCksdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPXRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0F1dG9VcGxvYWQsdGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQmJnRoaXMuc2V0RW5kcG9pbnQodGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQpKX0sX3VwbG9hZDpmdW5jdGlvbihuLGkscil7dmFyIHU9dGhpcy5nZXROYW1lKG4pO2kmJnRoaXMuc2V0UGFyYW1zKGksbik7ciYmdGhpcy5zZXRFbmRwb2ludChyLG4pO3RoaXMuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25TdWJtaXQiLGNhbGxiYWNrOnQuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdCx0aGlzLG4sdSksb25TdWNjZXNzOnQuYmluZCh0aGlzLl9vblN1Ym1pdENhbGxiYWNrU3VjY2Vzcyx0aGlzLG4sdSksb25GYWlsdXJlOnQuYmluZCh0aGlzLl9maWxlT3JCbG9iUmVqZWN0ZWQsdGhpcyxuLHUpLGlkZW50aWZpZXI6bn0pfSxfdXBsb2FkRmlsZTpmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVyLnVwbG9hZChuKXx8dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5RVUVVRUQpfSxfdXBsb2FkU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGksbixyPXRoaXM7dGhpcy5fc3RvcmVkSWRzLmxlbmd0aDspaT10aGlzLl9zdG9yZWRJZHMuc2hpZnQoKSx0aGlzLl91cGxvYWRGaWxlKGkpO249dGhpcy5nZXRVcGxvYWRzKHtzdGF0dXM6dC5zdGF0dXMuU1VCTUlUVElOR30pLmxlbmd0aDtuJiYodC5sb2coIlN0aWxsIHdhaXRpbmcgZm9yICIrbisiIGZpbGVzIHRvIGNsZWFyIHN1Ym1pdCBxdWV1ZS4gV2lsbCByZS1wYXJzZSBzdG9yZWQgSURzIGFycmF5IHNob3J0bHkuIiksc2V0VGltZW91dChmdW5jdGlvbigpe3IuX3VwbG9hZFN0b3JlZEZpbGVzKCl9LDFlMykpfSxfdmFsaWRhdGVGaWxlT3JCbG9iRGF0YTpmdW5jdGlvbihuLGkpe3ZhciBzPXRoaXMsdT1mdW5jdGlvbigpe3JldHVybiBuLmZpbGUgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT9uLmZpbGUucmVmZXJlbmNlQmxvYjpuLmZpbGV9KCksZj1pLm5hbWUsZT1pLnNpemUsaD10aGlzLl9nZXRCdXR0b25JZChuLmZpbGUpLG89dGhpcy5fZ2V0VmFsaWRhdGlvbkJhc2UoaCkscj1uZXcgdC5Qcm9taXNlO3JldHVybiByLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7cy5fZmlsZU9yQmxvYlJlamVjdGVkKG4uaWQsZil9KSx0LmlzRmlsZU9ySW5wdXQodSkmJiF0aGlzLl9pc0FsbG93ZWRFeHRlbnNpb24oby5hbGxvd2VkRXh0ZW5zaW9ucyxmKT8odGhpcy5faXRlbUVycm9yKCJ0eXBlRXJyb3IiLGYsdSksci5mYWlsdXJlKCkpOnRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5hbGxvd0VtcHR5fHwwIT09ZT9lPjAmJm8uc2l6ZUxpbWl0JiZlPm8uc2l6ZUxpbWl0Pyh0aGlzLl9pdGVtRXJyb3IoInNpemVFcnJvciIsZix1KSxyLmZhaWx1cmUoKSk6ZT4wJiZlPG8ubWluU2l6ZUxpbWl0Pyh0aGlzLl9pdGVtRXJyb3IoIm1pblNpemVFcnJvciIsZix1KSxyLmZhaWx1cmUoKSk6KHQuSW1hZ2VWYWxpZGF0aW9uJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3MmJnQuaXNGaWxlKHUpP25ldyB0LkltYWdlVmFsaWRhdGlvbih1LHQuYmluZChzLmxvZyxzKSkudmFsaWRhdGUoby5pbWFnZSkudGhlbihyLnN1Y2Nlc3MsZnVuY3Rpb24obil7cy5faXRlbUVycm9yKG4rIkltYWdlRXJyb3IiLGYsdSk7ci5mYWlsdXJlKCl9KTpyLnN1Y2Nlc3MoKSxyKToodGhpcy5faXRlbUVycm9yKCJlbXB0eUVycm9yIixmLHUpLHIuZmFpbHVyZSgpKX0sX3dyYXBDYWxsYmFja3M6ZnVuY3Rpb24oKXt2YXIgbix0LGk7bj10aGlzO3Q9ZnVuY3Rpb24odCxpLHIpe3ZhciB1O3RyeXtyZXR1cm4gaS5hcHBseShuLHIpfWNhdGNoKGkpe3U9aS5tZXNzYWdlfHxpLnRvU3RyaW5nKCk7bi5sb2coIkNhdWdodCBleGNlcHRpb24gaW4gJyIrdCsiJyBjYWxsYmFjayAtICIrdSwiZXJyb3IiKX19O2ZvcihpIGluIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzKSFmdW5jdGlvbigpe3ZhciByLHU7cj1pO3U9bi5fb3B0aW9ucy5jYWxsYmFja3Nbcl07bi5fb3B0aW9ucy5jYWxsYmFja3Nbcl09ZnVuY3Rpb24oKXtyZXR1cm4gdChyLHUsYXJndW1lbnRzKX19KCl9fX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt0LkZpbmVVcGxvYWRlckJhc2ljPWZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7dGhpcy5fb3B0aW9ucz17ZGVidWc6ITEsYnV0dG9uOm51bGwsbXVsdGlwbGU6ITAsbWF4Q29ubmVjdGlvbnM6MyxkaXNhYmxlQ2FuY2VsRm9yRm9ybVVwbG9hZHM6ITEsYXV0b1VwbG9hZDohMCx3YXJuQmVmb3JlVW5sb2FkOiEwLHJlcXVlc3Q6e2N1c3RvbUhlYWRlcnM6e30sZW5kcG9pbnQ6Ii9zZXJ2ZXIvdXBsb2FkIixmaWxlbmFtZVBhcmFtOiJxcWZpbGVuYW1lIixmb3JjZU11bHRpcGFydDohMCxpbnB1dE5hbWU6InFxZmlsZSIsbWV0aG9kOiJQT1NUIixvbWl0RGVmYXVsdFBhcmFtczohMSxwYXJhbXM6e30scGFyYW1zSW5Cb2R5OiEwLHJlcXVpcmVTdWNjZXNzSnNvbjohMCx0b3RhbEZpbGVTaXplTmFtZToicXF0b3RhbGZpbGVzaXplIix1dWlkTmFtZToicXF1dWlkIn0sdmFsaWRhdGlvbjp7YWxsb3dlZEV4dGVuc2lvbnM6W10sc2l6ZUxpbWl0OjAsbWluU2l6ZUxpbWl0OjAsaXRlbUxpbWl0OjAsc3RvcE9uRmlyc3RJbnZhbGlkRmlsZTohMCxhY2NlcHRGaWxlczpudWxsLGltYWdlOnttYXhIZWlnaHQ6MCxtYXhXaWR0aDowLG1pbkhlaWdodDowLG1pbldpZHRoOjB9LGFsbG93RW1wdHk6ITF9LGNhbGxiYWNrczp7b25TdWJtaXQ6ZnVuY3Rpb24oKXt9LG9uU3VibWl0dGVkOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkFsbENvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkNhbmNlbDpmdW5jdGlvbigpe30sb25VcGxvYWQ6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKCl7fSxvblJlc3VtZTpmdW5jdGlvbigpe30sb25Qcm9ncmVzczpmdW5jdGlvbigpe30sb25Ub3RhbFByb2dyZXNzOmZ1bmN0aW9uKCl7fSxvbkVycm9yOmZ1bmN0aW9uKCl7fSxvbkF1dG9SZXRyeTpmdW5jdGlvbigpe30sb25NYW51YWxSZXRyeTpmdW5jdGlvbigpe30sb25WYWxpZGF0ZUJhdGNoOmZ1bmN0aW9uKCl7fSxvblZhbGlkYXRlOmZ1bmN0aW9uKCl7fSxvblN1Ym1pdERlbGV0ZTpmdW5jdGlvbigpe30sb25EZWxldGU6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uUGFzdGVSZWNlaXZlZDpmdW5jdGlvbigpe30sb25TdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oKXt9LG9uU2Vzc2lvblJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbigpe319LG1lc3NhZ2VzOnt0eXBlRXJyb3I6IntmaWxlfSBoYXMgYW4gaW52YWxpZCBleHRlbnNpb24uIFZhbGlkIGV4dGVuc2lvbihzKToge2V4dGVuc2lvbnN9LiIsc2l6ZUVycm9yOiJ7ZmlsZX0gaXMgdG9vIGxhcmdlLCBtYXhpbXVtIGZpbGUgc2l6ZSBpcyB7c2l6ZUxpbWl0fS4iLG1pblNpemVFcnJvcjoie2ZpbGV9IGlzIHRvbyBzbWFsbCwgbWluaW11bSBmaWxlIHNpemUgaXMge21pblNpemVMaW1pdH0uIixlbXB0eUVycm9yOiJ7ZmlsZX0gaXMgZW1wdHksIHBsZWFzZSBzZWxlY3QgZmlsZXMgYWdhaW4gd2l0aG91dCBpdC4iLG5vRmlsZXNFcnJvcjoiTm8gZmlsZXMgdG8gdXBsb2FkLiIsdG9vTWFueUl0ZW1zRXJyb3I6IlRvbyBtYW55IGl0ZW1zICh7bmV0SXRlbXN9KSB3b3VsZCBiZSB1cGxvYWRlZC4gIEl0ZW0gbGltaXQgaXMge2l0ZW1MaW1pdH0uIixtYXhIZWlnaHRJbWFnZUVycm9yOiJJbWFnZSBpcyB0b28gdGFsbC4iLG1heFdpZHRoSW1hZ2VFcnJvcjoiSW1hZ2UgaXMgdG9vIHdpZGUuIixtaW5IZWlnaHRJbWFnZUVycm9yOiJJbWFnZSBpcyBub3QgdGFsbCBlbm91Z2guIixtaW5XaWR0aEltYWdlRXJyb3I6IkltYWdlIGlzIG5vdCB3aWRlIGVub3VnaC4iLHJldHJ5RmFpbFRvb01hbnlJdGVtczoiUmV0cnkgZmFpbGVkIC0geW91IGhhdmUgcmVhY2hlZCB5b3VyIGZpbGUgbGltaXQuIixvbkxlYXZlOiJUaGUgZmlsZXMgYXJlIGJlaW5nIHVwbG9hZGVkLCBpZiB5b3UgbGVhdmUgbm93IHRoZSB1cGxvYWQgd2lsbCBiZSBjYW5jZWxlZC4iLHVuc3VwcG9ydGVkQnJvd3NlcklvczhTYWZhcmk6IlVucmVjb3ZlcmFibGUgZXJyb3IgLSB0aGlzIGJyb3dzZXIgZG9lcyBub3QgcGVybWl0IGZpbGUgdXBsb2FkaW5nIG9mIGFueSBraW5kIGR1ZSB0byBzZXJpb3VzIGJ1Z3MgaW4gaU9TOCBTYWZhcmkuICBQbGVhc2UgdXNlIGlPUzggQ2hyb21lIHVudGlsIEFwcGxlIGZpeGVzIHRoZXNlIGlzc3Vlcy4ifSxyZXRyeTp7ZW5hYmxlQXV0bzohMSxtYXhBdXRvQXR0ZW1wdHM6MyxhdXRvQXR0ZW1wdERlbGF5OjUscHJldmVudFJldHJ5UmVzcG9uc2VQcm9wZXJ0eToicHJldmVudFJldHJ5In0sY2xhc3Nlczp7YnV0dG9uSG92ZXI6InFxLXVwbG9hZC1idXR0b24taG92ZXIiLGJ1dHRvbkZvY3VzOiJxcS11cGxvYWQtYnV0dG9uLWZvY3VzIn0sY2h1bmtpbmc6e2VuYWJsZWQ6ITEsY29uY3VycmVudDp7ZW5hYmxlZDohMX0sbWFuZGF0b3J5OiExLHBhcmFtTmFtZXM6e3BhcnRJbmRleDoicXFwYXJ0aW5kZXgiLHBhcnRCeXRlT2Zmc2V0OiJxcXBhcnRieXRlb2Zmc2V0IixjaHVua1NpemU6InFxY2h1bmtzaXplIix0b3RhbEZpbGVTaXplOiJxcXRvdGFsZmlsZXNpemUiLHRvdGFsUGFydHM6InFxdG90YWxwYXJ0cyJ9LHBhcnRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIDJlNn0sc3VjY2Vzczp7ZW5kcG9pbnQ6bnVsbCxoZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGpzb25QYXlsb2FkOiExLG1ldGhvZDoiUE9TVCIscGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHJlc2V0T25TdGF0dXM6W119fSxyZXN1bWU6e2VuYWJsZWQ6ITEscmVjb3Jkc0V4cGlyZUluOjcscGFyYW1OYW1lczp7cmVzdW1pbmc6InFxcmVzdW1lIn0sY3VzdG9tS2V5czpmdW5jdGlvbigpe3JldHVybltdfX0sZm9ybWF0RmlsZU5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIG59LHRleHQ6e2RlZmF1bHRSZXNwb25zZUVycm9yOiJVcGxvYWQgZmFpbHVyZSByZWFzb24gdW5rbm93biIsZmlsZUlucHV0VGl0bGU6ImZpbGUgaW5wdXQiLHNpemVTeW1ib2xzOlsia0IiLCJNQiIsIkdCIiwiVEIiLCJQQiIsIkVCIl19LGRlbGV0ZUZpbGU6e2VuYWJsZWQ6ITEsbWV0aG9kOiJERUxFVEUiLGVuZHBvaW50OiIvc2VydmVyL3VwbG9hZCIsY3VzdG9tSGVhZGVyczp7fSxwYXJhbXM6e319LGNvcnM6e2V4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMSxhbGxvd1hkcjohMX0sYmxvYnM6e2RlZmF1bHROYW1lOiJtaXNjX2RhdGEifSxwYXN0ZTp7dGFyZ2V0RWxlbWVudDpudWxsLGRlZmF1bHROYW1lOiJwYXN0ZWRfaW1hZ2UifSxjYW1lcmE6e2lvczohMSxidXR0b246bnVsbH0sZXh0cmFCdXR0b25zOltdLHNlc3Npb246e2VuZHBvaW50Om51bGwscGFyYW1zOnt9LGN1c3RvbUhlYWRlcnM6e30scmVmcmVzaE9uUmVzZXQ6ITB9LGZvcm06e2VsZW1lbnQ6InFxLWZvcm0iLGF1dG9VcGxvYWQ6ITEsaW50ZXJjZXB0U3VibWl0OiEwfSxzY2FsaW5nOntjdXN0b21SZXNpemVyOm51bGwsc2VuZE9yaWdpbmFsOiEwLG9yaWVudDohMCxkZWZhdWx0VHlwZTpudWxsLGRlZmF1bHRRdWFsaXR5OjgwLGZhaWx1cmVUZXh0OiJGYWlsZWQgdG8gc2NhbGUiLGluY2x1ZGVFeGlmOiExLHNpemVzOltdfSx3b3JrYXJvdW5kczp7aW9zRW1wdHlWaWRlb3M6ITAsaW9zOFNhZmFyaVVwbG9hZHM6ITAsaW9zOEJyb3dzZXJDcmFzaDohMX19O3QuZXh0ZW5kKHRoaXMuX29wdGlvbnMsbiwhMCk7dGhpcy5fYnV0dG9ucz1bXTt0aGlzLl9leHRyYUJ1dHRvblNwZWNzPXt9O3RoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHM9W107dGhpcy5fd3JhcENhbGxiYWNrcygpO3RoaXMuX2Rpc3Bvc2VTdXBwb3J0PW5ldyB0LkRpc3Bvc2VTdXBwb3J0O3RoaXMuX3N0b3JlZElkcz1bXTt0aGlzLl9hdXRvUmV0cmllcz1bXTt0aGlzLl9yZXRyeVRpbWVvdXRzPVtdO3RoaXMuX3ByZXZlbnRSZXRyaWVzPVtdO3RoaXMuX3RodW1ibmFpbFVybHM9W107dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZD0wO3RoaXMuX25ldFVwbG9hZGVkPTA7dGhpcy5fdXBsb2FkRGF0YT10aGlzLl9jcmVhdGVVcGxvYWREYXRhVHJhY2tlcigpO3RoaXMuX2luaXRGb3JtU3VwcG9ydEFuZFBhcmFtcygpO3RoaXMuX2N1c3RvbUhlYWRlcnNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QuY3VzdG9tSGVhZGVycyk7dGhpcy5fZGVsZXRlRmlsZUN1c3RvbUhlYWRlcnNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuY3VzdG9tSGVhZGVycyk7dGhpcy5fZGVsZXRlRmlsZVBhcmFtc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5wYXJhbXMpO3RoaXMuX2VuZHBvaW50U3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmVuZHBvaW50KTt0aGlzLl9kZWxldGVGaWxlRW5kcG9pbnRTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZW5kcG9pbnQpO3RoaXMuX2hhbmRsZXI9dGhpcy5fY3JlYXRlVXBsb2FkSGFuZGxlcigpO3RoaXMuX2RlbGV0ZUhhbmRsZXI9dC5EZWxldGVGaWxlQWpheFJlcXVlc3RlciYmdGhpcy5fY3JlYXRlRGVsZXRlSGFuZGxlcigpO3RoaXMuX29wdGlvbnMuYnV0dG9uJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl9vcHRpb25zLmJ1dHRvbix0aXRsZTp0aGlzLl9vcHRpb25zLnRleHQuZmlsZUlucHV0VGl0bGV9KS5nZXRCdXR0b25JZCgpKTt0aGlzLl9nZW5lcmF0ZUV4dHJhQnV0dG9uU3BlY3MoKTt0aGlzLl9oYW5kbGVDYW1lcmFBY2Nlc3MoKTt0aGlzLl9vcHRpb25zLnBhc3RlLnRhcmdldEVsZW1lbnQmJih0LlBhc3RlU3VwcG9ydD90aGlzLl9wYXN0ZUhhbmRsZXI9dGhpcy5fY3JlYXRlUGFzdGVIYW5kbGVyKCk6dGhpcy5sb2coIlBhc3RlIHN1cHBvcnQgbW9kdWxlIG5vdCBmb3VuZCIsImVycm9yIikpO3RoaXMuX29wdGlvbnMud2FybkJlZm9yZVVubG9hZCYmdGhpcy5fcHJldmVudExlYXZlSW5Qcm9ncmVzcygpO3RoaXMuX2ltYWdlR2VuZXJhdG9yPXQuSW1hZ2VHZW5lcmF0b3ImJm5ldyB0LkltYWdlR2VuZXJhdG9yKHQuYmluZCh0aGlzLmxvZyx0aGlzKSk7dGhpcy5fcmVmcmVzaFNlc3Npb25EYXRhKCk7dGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fc2NhbGVyPXQuU2NhbGVyJiZuZXcgdC5TY2FsZXIodGhpcy5fb3B0aW9ucy5zY2FsaW5nLHQuYmluZCh0aGlzLmxvZyx0aGlzKSl8fHt9O3RoaXMuX3NjYWxlci5lbmFibGVkJiYodGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI9dC5iaW5kKHRoaXMuX3NjYWxlci5oYW5kbGVOZXdGaWxlLHRoaXMuX3NjYWxlcikpO3QuVG90YWxQcm9ncmVzcyYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5wcm9ncmVzc0JhciYmKHRoaXMuX3RvdGFsUHJvZ3Jlc3M9bmV3IHQuVG90YWxQcm9ncmVzcyh0LmJpbmQodGhpcy5fb25Ub3RhbFByb2dyZXNzLHRoaXMpLGZ1bmN0aW9uKG4pe3ZhciB0PWkuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtyZXR1cm4gdCYmdC5zaXplfHwwfSkpO3RoaXMuX2N1cnJlbnRJdGVtTGltaXQ9dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLml0ZW1MaW1pdDt0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUoKX07dC5GaW5lVXBsb2FkZXJCYXNpYy5wcm90b3R5cGU9dC5iYXNlUHVibGljQXBpO3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyQmFzaWMucHJvdG90eXBlLHQuYmFzZVByaXZhdGVBcGkpfSgpO3QuQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYSgpe3JldHVybiB0LmluZGV4T2YoWyJHRVQiLCJQT1NUIiwiSEVBRCJdLGkubWV0aG9kKT49MH1mdW5jdGlvbiB2KCl7dmFyIG49ITE7cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKGkscil7aWYodC5pbmRleE9mKFsiQWNjZXB0IiwiQWNjZXB0LUxhbmd1YWdlIiwiQ29udGVudC1MYW5ndWFnZSIsIkNvbnRlbnQtVHlwZSJdLHIpPDApcmV0dXJuIG49ITAsITF9KSxufWZ1bmN0aW9uIGUobil7cmV0dXJuIGkuY29ycy5leHBlY3RlZCYmdm9pZCAwPT09bi53aXRoQ3JlZGVudGlhbHN9ZnVuY3Rpb24geSgpe3ZhciBuO3JldHVybih3aW5kb3cuWE1MSHR0cFJlcXVlc3R8fHdpbmRvdy5BY3RpdmVYT2JqZWN0KSYmKG49dC5jcmVhdGVYaHJJbnN0YW5jZSgpLHZvaWQgMD09PW4ud2l0aENyZWRlbnRpYWxzJiYobj1uZXcgWERvbWFpblJlcXVlc3Qsbi5vbmxvYWQ9ZnVuY3Rpb24oKXt9LG4ub25lcnJvcj1mdW5jdGlvbigpe30sbi5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt9LG4ub25wcm9ncmVzcz1mdW5jdGlvbigpe30pKSxufWZ1bmN0aW9uIHUobix1KXt2YXIgZj1yW25dJiZyW25dLnhocjtyZXR1cm4gZnx8KGY9dT91OmkuY29ycy5leHBlY3RlZD95KCk6dC5jcmVhdGVYaHJJbnN0YW5jZSgpLHJbbl0ueGhyPWYpLGZ9ZnVuY3Rpb24gYyhuKXt2YXIgZSxvPXQuaW5kZXhPZihmLG4pLHU9aS5tYXhDb25uZWN0aW9ucztkZWxldGUgcltuXTtmLnNwbGljZShvLDEpO2YubGVuZ3RoPj11JiZvPHUmJihlPWZbdS0xXSxsKGUpKX1mdW5jdGlvbiBzKG4sdCl7dmFyIHI9dShuKSxzPWkubWV0aG9kLGY9dD09PSEwO2Mobik7Zj9vKHMrIiByZXF1ZXN0IGZvciAiK24rIiBoYXMgZmFpbGVkIiwiZXJyb3IiKTplKHIpfHx0dChyLnN0YXR1cyl8fChmPSEwLG8ocysiIHJlcXVlc3QgZm9yICIrbisiIGhhcyBmYWlsZWQgLSByZXNwb25zZSBjb2RlICIrci5zdGF0dXMsImVycm9yIikpO2kub25Db21wbGV0ZShuLHIsZil9ZnVuY3Rpb24gcChuKXt2YXIgdSxmPXJbbl0uYWRkaXRpb25hbFBhcmFtcyxlPWkubWFuZGF0ZWRQYXJhbXM7cmV0dXJuIGkucGFyYW1zU3RvcmUuZ2V0JiYodT1pLnBhcmFtc1N0b3JlLmdldChuKSksZiYmdC5lYWNoKGYsZnVuY3Rpb24obix0KXt1PXV8fHt9O3Vbbl09dH0pLGUmJnQuZWFjaChlLGZ1bmN0aW9uKG4sdCl7dT11fHx7fTt1W25dPXR9KSx1fWZ1bmN0aW9uIGwobixmKXt2YXIgbCxzPXUobixmKSxhPWkubWV0aG9kLGM9cChuKSx2PXJbbl0ucGF5bG9hZDtyZXR1cm4gaS5vblNlbmQobiksbD13KG4sYyxyW25dLmFkZGl0aW9uYWxRdWVyeVBhcmFtcyksZShzKT8ocy5vbmxvYWQ9ZChuKSxzLm9uZXJyb3I9ZyhuKSk6cy5vbnJlYWR5c3RhdGVjaGFuZ2U9YihuKSxrKG4pLHMub3BlbihhLGwsITApLGkuY29ycy5leHBlY3RlZCYmaS5jb3JzLnNlbmRDcmVkZW50aWFscyYmIWUocykmJihzLndpdGhDcmVkZW50aWFscz0hMCksbnQobiksbygiU2VuZGluZyAiK2ErIiByZXF1ZXN0IGZvciAiK24pLHY/cy5zZW5kKHYpOmh8fCFjP3Muc2VuZCgpOmMmJmkuY29udGVudFR5cGUmJmkuY29udGVudFR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKT49MD9zLnNlbmQodC5vYmoydXJsKGMsIiIpKTpjJiZpLmNvbnRlbnRUeXBlJiZpLmNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpPj0wP3Muc2VuZChKU09OLnN0cmluZ2lmeShjKSk6cy5zZW5kKGMpLHN9ZnVuY3Rpb24gdyhuLHUsZil7dmFyIGU9aS5lbmRwb2ludFN0b3JlLmdldChuKSxvPXJbbl0uYWRkVG9QYXRoO3JldHVybiB2b2lkIDAhPW8mJihlKz0iLyIrbyksaCYmdSYmKGU9dC5vYmoydXJsKHUsZSkpLGYmJihlPXQub2JqMnVybChmLGUpKSxlfWZ1bmN0aW9uIGIobil7cmV0dXJuIGZ1bmN0aW9uKCl7ND09PXUobikucmVhZHlTdGF0ZSYmcyhuKX19ZnVuY3Rpb24gayhuKXt2YXIgdD1pLm9uUHJvZ3Jlc3M7dCYmKHUobikudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oaSl7aS5sZW5ndGhDb21wdXRhYmxlJiZ0KG4saS5sb2FkZWQsaS50b3RhbCl9KX1mdW5jdGlvbiBkKG4pe3JldHVybiBmdW5jdGlvbigpe3Mobil9fWZ1bmN0aW9uIGcobil7cmV0dXJuIGZ1bmN0aW9uKCl7cyhuLCEwKX19ZnVuY3Rpb24gbnQobil7dmFyIGY9dShuKSxvPWkuY3VzdG9tSGVhZGVycyxjPXJbbl0uYWRkaXRpb25hbEhlYWRlcnN8fHt9LGg9aS5tZXRob2Qscz17fTtlKGYpfHwoaS5hY2NlcHRIZWFkZXImJmYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixpLmFjY2VwdEhlYWRlciksaS5hbGxvd1hSZXF1ZXN0ZWRXaXRoQW5kQ2FjaGVDb250cm9sJiYoaS5jb3JzLmV4cGVjdGVkJiZhKCkmJiF2KG8pfHwoZi5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSxmLnNldFJlcXVlc3RIZWFkZXIoIkNhY2hlLUNvbnRyb2wiLCJuby1jYWNoZSIpKSksIWkuY29udGVudFR5cGV8fCJQT1NUIiE9PWgmJiJQVVQiIT09aHx8Zi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGkuY29udGVudFR5cGUpLHQuZXh0ZW5kKHMsdC5pc0Z1bmN0aW9uKG8pP28obik6byksdC5leHRlbmQocyxjKSx0LmVhY2gocyxmdW5jdGlvbihuLHQpe2Yuc2V0UmVxdWVzdEhlYWRlcihuLHQpfSkpfWZ1bmN0aW9uIHR0KG4pe3JldHVybiB0LmluZGV4T2YoaS5zdWNjZXNzZnVsUmVzcG9uc2VDb2Rlc1tpLm1ldGhvZF0sbik+PTB9ZnVuY3Rpb24gaXQobix0LHUsZSxvLHMsaCl7aWYocltuXT17YWRkVG9QYXRoOnUsYWRkaXRpb25hbFBhcmFtczplLGFkZGl0aW9uYWxRdWVyeVBhcmFtczpvLGFkZGl0aW9uYWxIZWFkZXJzOnMscGF5bG9hZDpofSxmLnB1c2gobik8PWkubWF4Q29ubmVjdGlvbnMpcmV0dXJuIGwobix0KX12YXIgbyxoLGY9W10scj17fSxpPXthY2NlcHRIZWFkZXI6bnVsbCx2YWxpZE1ldGhvZHM6WyJQQVRDSCIsIlBPU1QiLCJQVVQiXSxtZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLG1heENvbm5lY3Rpb25zOjMsY3VzdG9tSGVhZGVyczp7fSxlbmRwb2ludFN0b3JlOnt9LHBhcmFtc1N0b3JlOnt9LG1hbmRhdGVkUGFyYW1zOnt9LGFsbG93WFJlcXVlc3RlZFdpdGhBbmRDYWNoZUNvbnRyb2w6ITAsc3VjY2Vzc2Z1bFJlc3BvbnNlQ29kZXM6e0RFTEVURTpbMjAwLDIwMiwyMDRdLFBBVENIOlsyMDAsMjAxLDIwMiwyMDMsMjA0XSxQT1NUOlsyMDAsMjAxLDIwMiwyMDMsMjA0XSxQVVQ6WzIwMCwyMDEsMjAyLDIwMywyMDRdLEdFVDpbMjAwXX0sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxsb2c6ZnVuY3Rpb24oKXt9LG9uU2VuZDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sb25Qcm9ncmVzczpudWxsfTtpZih0LmV4dGVuZChpLG4pLG89aS5sb2csdC5pbmRleE9mKGkudmFsaWRNZXRob2RzLGkubWV0aG9kKTwwKXRocm93IG5ldyBFcnJvcigiJyIraS5tZXRob2QrIicgaXMgbm90IGEgc3VwcG9ydGVkIG1ldGhvZCBmb3IgdGhpcyB0eXBlIG9mIHJlcXVlc3QhIik7aD0iR0VUIj09PWkubWV0aG9kfHwiREVMRVRFIj09PWkubWV0aG9kO3QuZXh0ZW5kKHRoaXMse2luaXRUcmFuc3BvcnQ6ZnVuY3Rpb24obil7dmFyIHUscixmLGUsbyxzO3JldHVybnt3aXRoUGF0aDpmdW5jdGlvbihuKXtyZXR1cm4gdT1uLHRoaXN9LHdpdGhQYXJhbXM6ZnVuY3Rpb24obil7cmV0dXJuIHI9bix0aGlzfSx3aXRoUXVlcnlQYXJhbXM6ZnVuY3Rpb24obil7cmV0dXJuIHM9bix0aGlzfSx3aXRoSGVhZGVyczpmdW5jdGlvbihuKXtyZXR1cm4gZj1uLHRoaXN9LHdpdGhQYXlsb2FkOmZ1bmN0aW9uKG4pe3JldHVybiBlPW4sdGhpc30sd2l0aENhY2hlQnVzdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG89ITAsdGhpc30sc2VuZDpmdW5jdGlvbihoKXtyZXR1cm4gbyYmdC5pbmRleE9mKFsiR0VUIiwiREVMRVRFIl0saS5tZXRob2QpPj0wJiYoci5xcXRpbWVzdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSksaXQobixoLHUscixzLGYsZSl9fX0sY2FuY2VsZWQ6ZnVuY3Rpb24obil7YyhuKX19KX07dC5VcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uLnByb3h5LGk9e30sdT1yLm9uQ2FuY2VsLGY9ci5nZXROYW1lO3QuZXh0ZW5kKHRoaXMse2FkZDpmdW5jdGlvbihuLHQpe2lbbl09dDtpW25dLnRlbXA9e319LGNhbmNlbDpmdW5jdGlvbihuKXt2YXIgcj10aGlzLGU9bmV3IHQuUHJvbWlzZTt1KG4sZihuKSxlKS50aGVuKGZ1bmN0aW9uKCl7ci5pc1ZhbGlkKG4pJiYoaVtuXS5jYW5jZWxlZD0hMCxyLmV4cHVuZ2UobikpO2Uuc3VjY2VzcygpfSl9LGV4cHVuZ2U6ZnVuY3Rpb24obil7ZGVsZXRlIGlbbl19LGdldFRoaXJkUGFydHlGaWxlSWQ6ZnVuY3Rpb24obil7cmV0dXJuIGlbbl0ua2V5fSxpc1ZhbGlkOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDAhPT1pW25dfSxyZXNldDpmdW5jdGlvbigpe2k9e319LF9nZXRGaWxlU3RhdGU6ZnVuY3Rpb24obil7cmV0dXJuIGlbbl19LF9zZXRUaGlyZFBhcnR5RmlsZUlkOmZ1bmN0aW9uKG4sdCl7aVtuXS5rZXk9dH0sX3dhc0NhbmNlbGVkOmZ1bmN0aW9uKG4pe3JldHVybiEhaVtuXS5jYW5jZWxlZH19KX07dC5VcGxvYWRIYW5kbGVyQ29udHJvbGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgYSxvLHIsaD10aGlzLGw9ITEsYz0hMSx1PXtwYXJhbXNTdG9yZTp7fSxtYXhDb25uZWN0aW9uczozLGNodW5raW5nOntlbmFibGVkOiExLG11bHRpcGxlOntlbmFibGVkOiExfX0sbG9nOmZ1bmN0aW9uKCl7fSxvblByb2dyZXNzOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkNhbmNlbDpmdW5jdGlvbigpe30sb25VcGxvYWRQcmVwOmZ1bmN0aW9uKCl7fSxvblVwbG9hZDpmdW5jdGlvbigpe30sb25VcGxvYWRDaHVuazpmdW5jdGlvbigpe30sb25VcGxvYWRDaHVua1N1Y2Nlc3M6ZnVuY3Rpb24oKXt9LG9uQXV0b1JldHJ5OmZ1bmN0aW9uKCl7fSxvblJlc3VtZTpmdW5jdGlvbigpe30sb25VdWlkQ2hhbmdlZDpmdW5jdGlvbigpe30sZ2V0TmFtZTpmdW5jdGlvbigpe30sc2V0U2l6ZTpmdW5jdGlvbigpe30saXNRdWV1ZWQ6ZnVuY3Rpb24oKXt9LGdldElkc0luUHJveHlHcm91cDpmdW5jdGlvbigpe30sZ2V0SWRzSW5CYXRjaDpmdW5jdGlvbigpe30saXNJblByb2dyZXNzOmZ1bmN0aW9uKCl7fX0scz17ZG9uZTpmdW5jdGlvbihuLHQsaSxmKXt2YXIgZT1yLl9nZXRDaHVua0RhdGEobix0KTtyLl9nZXRGaWxlU3RhdGUobikuYXR0ZW1wdGluZ1Jlc3VtZT0hMTtkZWxldGUgci5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuY2h1bmtQcm9ncmVzc1t0XTtyLl9nZXRGaWxlU3RhdGUobikubG9hZGVkKz1lLnNpemU7dS5vblVwbG9hZENodW5rU3VjY2VzcyhuLHIuX2dldENodW5rRGF0YUZvckNhbGxiYWNrKGUpLGksZil9LGZpbmFsaXplOmZ1bmN0aW9uKG4pe3ZhciB0PXUuZ2V0U2l6ZShuKSxpPXUuZ2V0TmFtZShuKTtvKCJBbGwgY2h1bmtzIGhhdmUgYmVlbiB1cGxvYWRlZCBmb3IgIituKyIgLSBmaW5hbGl6aW5nLi4uLiIpO3IuZmluYWxpemVDaHVua3MobikudGhlbihmdW5jdGlvbihmLHMpe28oIkZpbmFsaXplIHN1Y2Nlc3NmdWwgZm9yICIrbik7dmFyIGg9ZS5ub3JtYWxpemVSZXNwb25zZShmLCEwKTt1Lm9uUHJvZ3Jlc3MobixpLHQsdCk7ci5fbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGEobik7ZS5jbGVhbnVwKG4saCxzKX0sZnVuY3Rpb24odCxyKXt2YXIgZj1lLm5vcm1hbGl6ZVJlc3BvbnNlKHQsITEpO28oIlByb2JsZW0gZmluYWxpemluZyBjaHVua3MgZm9yIGZpbGUgSUQgIituKyIgLSAiK2YuZXJyb3IsImVycm9yIik7KGYucmVzZXR8fHImJnUuY2h1bmtpbmcuc3VjY2Vzcy5yZXNldE9uU3RhdHVzLmluZGV4T2Yoci5zdGF0dXMpPj0wKSYmcy5yZXNldChuKTt1Lm9uQXV0b1JldHJ5KG4saSxmLHIpfHxlLmNsZWFudXAobixmLHIpfSl9LGhhbmRsZUZhaWx1cmU6ZnVuY3Rpb24obixpLGgsbCl7dmFyIHA9dS5nZXROYW1lKGkpLHYsYSx5O28oIkNodW5rZWQgdXBsb2FkIHJlcXVlc3QgZmFpbGVkIGZvciAiK2krIiwgY2h1bmsgIituKTtyLmNsZWFyQ2FjaGVkQ2h1bmsoaSxuKTthPWUubm9ybWFsaXplUmVzcG9uc2UoaCwhMSk7YS5yZXNldD9zLnJlc2V0KGkpOih5PXIuX2dldEZpbGVTdGF0ZShpKS5jaHVua2luZy5pblByb2dyZXNzLHY9eT90LmluZGV4T2YoeSxuKTotMSx2Pj0wJiYoci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLmluUHJvZ3Jlc3Muc3BsaWNlKHYsMSksci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLnJlbWFpbmluZy51bnNoaWZ0KG4pKSk7ci5fZ2V0RmlsZVN0YXRlKGkpLnRlbXAuaWdub3JlRmFpbHVyZXx8KGMmJihyLl9nZXRGaWxlU3RhdGUoaSkudGVtcC5pZ25vcmVGYWlsdXJlPSEwLG8odC5mb3JtYXQoIkdvaW5nIHRvIGF0dGVtcHQgdG8gYWJvcnQgdGhlc2UgY2h1bmtzOiB7fS4gVGhlc2UgYXJlIGN1cnJlbnRseSBpbi1wcm9ncmVzczoge30uIixKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhyLl9nZXRYaHJzKGkpKSksSlNPTi5zdHJpbmdpZnkoci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLmluUHJvZ3Jlc3MpKSksdC5lYWNoKHIuX2dldFhocnMoaSksZnVuY3Rpb24obixyKXtvKHQuZm9ybWF0KCJBdHRlbXB0aW5nIHRvIGFib3J0IGZpbGUge30ue30uIFhIUiByZWFkeVN0YXRlIHt9LiAiLGksbixyLnJlYWR5U3RhdGUpKTtyLmFib3J0KCk7ci5fY2FuY2VsbGVkPSEwfSksci5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKGkpLGYuZnJlZShpLCEwKSksdS5vbkF1dG9SZXRyeShpLHAsYSxsKXx8ZS5jbGVhbnVwKGksYSxsKSl9LGhhc01vcmVQYXJ0czpmdW5jdGlvbihuKXtyZXR1cm4hIXIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5yZW1haW5pbmcubGVuZ3RofSxuZXh0UGFydDpmdW5jdGlvbihuKXt2YXIgdD1yLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcucmVtYWluaW5nLnNoaWZ0KCk7cmV0dXJuIHQ+PXIuX2dldFRvdGFsQ2h1bmtzKG4pJiYodD1udWxsKSx0fSxyZXNldDpmdW5jdGlvbihuKXtvKCJTZXJ2ZXIgb3IgY2FsbGJhY2sgaGFzIG9yZGVyZWQgY2h1bmtpbmcgZWZmb3J0IHRvIGJlIHJlc3RhcnRlZCBvbiBuZXh0IGF0dGVtcHQgZm9yIGl0ZW0gSUQgIituLCJlcnJvciIpO3IuX21heWJlRGVsZXRlUGVyc2lzdGVkQ2h1bmtEYXRhKG4pO3IucmVldmFsdWF0ZUNodW5raW5nKG4pO3IuX2dldEZpbGVTdGF0ZShuKS5sb2FkZWQ9MDtyLl9nZXRGaWxlU3RhdGUobikuYXR0ZW1wdGluZ1Jlc3VtZT0hMX0sc2VuZE5leHQ6ZnVuY3Rpb24obil7dmFyIHA9dS5nZXRTaXplKG4pLHk9dS5nZXROYW1lKG4pLGk9cy5uZXh0UGFydChuKSxoPXIuX2dldENodW5rRGF0YShuLGkpLGw9ci5fZ2V0RmlsZVN0YXRlKG4pLGE9bC5hdHRlbXB0aW5nUmVzdW1lLHY9bC5jaHVua2luZy5pblByb2dyZXNzfHxbXTsobnVsbD09bC5sb2FkZWQmJihsLmxvYWRlZD0wKSxhJiZ1Lm9uUmVzdW1lKG4seSxoLGwuY3VzdG9tUmVzdW1lRGF0YSk9PT0hMSYmKHMucmVzZXQobiksaT1zLm5leHRQYXJ0KG4pLGg9ci5fZ2V0Q2h1bmtEYXRhKG4saSksYT0hMSksbnVsbD09aSYmMD09PXYubGVuZ3RoKT9zLmZpbmFsaXplKG4pOih2LnB1c2goaSksci5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nLmluUHJvZ3Jlc3M9dixjJiZmLm9wZW4obixpKSxjJiZmLmF2YWlsYWJsZSgpJiZyLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcucmVtYWluaW5nLmxlbmd0aCYmcy5zZW5kTmV4dChuKSwwPT09aC5ibG9iLnNpemUmJihvKHQuZm9ybWF0KCJDaHVuayB7fSBmb3IgZmlsZSB7fSB3aWxsIG5vdCBiZSB1cGxvYWRlZCwgemVybyBzaXplZCBjaHVuay4iLGksbiksImVycm9yIikscy5oYW5kbGVGYWlsdXJlKGksbiwiRmlsZSBpcyBubyBsb25nZXIgYXZhaWxhYmxlIixudWxsKSksdS5vblVwbG9hZENodW5rKG4seSxyLl9nZXRDaHVua0RhdGFGb3JDYWxsYmFjayhoKSkudGhlbihmdW5jdGlvbihmKXtpZih1LmlzSW5Qcm9ncmVzcyhuKSl7byh0LmZvcm1hdCgiU2VuZGluZyBjaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZvciBpdGVtIHt9Lnt9LCBieXRlcyB7fS17fSBvZiB7fS4iLG4saSxoLnN0YXJ0KzEsaC5lbmQscCkpO3ZhciBjPXtjaHVua0lkeDppLGlkOm4sb3ZlcnJpZGVzOmYscmVzdW1pbmc6YX07ci51cGxvYWRDaHVuayhjKS50aGVuKGZ1bmN0aW9uKHUsZil7bygiQ2h1bmtlZCB1cGxvYWQgcmVxdWVzdCBzdWNjZWVkZWQgZm9yICIrbisiLCBjaHVuayAiK2kpO3IuY2xlYXJDYWNoZWRDaHVuayhuLGkpO3ZhciBoPXIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5pblByb2dyZXNzfHxbXSxsPWUubm9ybWFsaXplUmVzcG9uc2UodSwhMCksYz10LmluZGV4T2YoaCxpKTtvKHQuZm9ybWF0KCJDaHVuayB7fSBmb3IgZmlsZSB7fSB1cGxvYWRlZCBzdWNjZXNzZnVsbHkuIixpLG4pKTtzLmRvbmUobixpLGwsZik7Yz49MCYmaC5zcGxpY2UoYywxKTtyLl9tYXliZVBlcnNpc3RDaHVua2VkU3RhdGUobik7cy5oYXNNb3JlUGFydHMobil8fDAhPT1oLmxlbmd0aD9zLmhhc01vcmVQYXJ0cyhuKT9zLnNlbmROZXh0KG4pOm8odC5mb3JtYXQoIkZpbGUgSUQge30gaGFzIG5vIG1vcmUgY2h1bmtzIHRvIHNlbmQgYW5kIHRoZXNlIGNodW5rIGluZGV4ZXMgYXJlIHN0aWxsIG1hcmtlZCBhcyBpbi1wcm9ncmVzczoge30iLG4sSlNPTi5zdHJpbmdpZnkoaCkpKTpzLmZpbmFsaXplKG4pfSxmdW5jdGlvbih0LHIpe3MuaGFuZGxlRmFpbHVyZShpLG4sdCxyKX0pLmRvbmUoZnVuY3Rpb24oKXtyLmNsZWFyWGhyKG4saSl9KX1lbHNlIG8odC5mb3JtYXQoIk5vdCBzZW5kaW5nIGNodW5rZWQgdXBsb2FkIHJlcXVlc3QgZm9yIGl0ZW0ge30ue30gLSBubyBsb25nZXIgaW4gcHJvZ3Jlc3MuIixuLGkpKX0sZnVuY3Rpb24odCl7cy5oYW5kbGVGYWlsdXJlKGksbix0LG51bGwpfSkpfX0sZj17X29wZW46W10sX29wZW5DaHVua3M6e30sX3dhaXRpbmc6W10sYXZhaWxhYmxlOmZ1bmN0aW9uKCl7dmFyIHI9dS5tYXhDb25uZWN0aW9ucyxuPTAsaT0wO3JldHVybiB0LmVhY2goZi5fb3BlbkNodW5rcyxmdW5jdGlvbih0LHIpe24rKztpKz1yLmxlbmd0aH0pLHItKGYuX29wZW4ubGVuZ3RoLW4raSl9LGZyZWU6ZnVuY3Rpb24obixpKXt2YXIgdSxjPSFpLHM9dC5pbmRleE9mKGYuX3dhaXRpbmcsbiksaD10LmluZGV4T2YoZi5fb3BlbixuKTtkZWxldGUgZi5fb3BlbkNodW5rc1tuXTtlLmdldFByb3h5T3JCbG9iKG4paW5zdGFuY2VvZiB0LkJsb2JQcm94eSYmKG8oIkdlbmVyYXRlZCBibG9iIHVwbG9hZCBoYXMgZW5kZWQgZm9yICIrbisiLCBkaXNwb3NpbmcgZ2VuZXJhdGVkIGJsb2IuIiksZGVsZXRlIHIuX2dldEZpbGVTdGF0ZShuKS5maWxlKTtzPj0wP2YuX3dhaXRpbmcuc3BsaWNlKHMsMSk6YyYmaD49MCYmKGYuX29wZW4uc3BsaWNlKGgsMSksdT1mLl93YWl0aW5nLnNoaWZ0KCksdT49MCYmKGYuX29wZW4ucHVzaCh1KSxlLnN0YXJ0KHUpKSl9LGdldFdhaXRpbmdPckNvbm5lY3RlZDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB0LmVhY2goZi5fb3BlbkNodW5rcyxmdW5jdGlvbih0LGkpe2kmJmkubGVuZ3RoJiZuLnB1c2gocGFyc2VJbnQodCkpfSksdC5lYWNoKGYuX29wZW4sZnVuY3Rpb24odCxpKXtmLl9vcGVuQ2h1bmtzW2ldfHxuLnB1c2gocGFyc2VJbnQoaSkpfSksbj1uLmNvbmNhdChmLl93YWl0aW5nKX0saXNVc2luZ0Nvbm5lY3Rpb246ZnVuY3Rpb24obil7cmV0dXJuIHQuaW5kZXhPZihmLl9vcGVuLG4pPj0wfSxvcGVuOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXQmJmYuX3dhaXRpbmcucHVzaChuKSwhIWYuYXZhaWxhYmxlKCkmJihudWxsPT10PyhmLl93YWl0aW5nLnBvcCgpLGYuX29wZW4ucHVzaChuKSk6ZnVuY3Rpb24oKXt2YXIgaT1mLl9vcGVuQ2h1bmtzW25dfHxbXTtpLnB1c2godCk7Zi5fb3BlbkNodW5rc1tuXT1pfSgpLCEwKX0scmVzZXQ6ZnVuY3Rpb24oKXtmLl93YWl0aW5nPVtdO2YuX29wZW49W119fSx2PXtzZW5kOmZ1bmN0aW9uKG4sdCl7dmFyIGk9ci5fZ2V0RmlsZVN0YXRlKG4pO2lmKCFpKXJldHVybiB2b2lkIG8oIklnbm9yaW5nIHNlbmQgcmVxdWVzdCBhcyB0aGlzIHVwbG9hZCBtYXkgaGF2ZSBiZWVuIGNhbmNlbGxlZCwgRmlsZSBJRCAiK24sIndhcm4iKTtpLmxvYWRlZD0wO28oIlNlbmRpbmcgc2ltcGxlIHVwbG9hZCByZXF1ZXN0IGZvciAiK24pO3IudXBsb2FkRmlsZShuKS50aGVuKGZ1bmN0aW9uKGkscil7bygiU2ltcGxlIHVwbG9hZCByZXF1ZXN0IHN1Y2NlZWRlZCBmb3IgIituKTt2YXIgZj1lLm5vcm1hbGl6ZVJlc3BvbnNlKGksITApLHM9dS5nZXRTaXplKG4pO3Uub25Qcm9ncmVzcyhuLHQscyxzKTtlLm1heWJlTmV3VXVpZChuLGYpO2UuY2xlYW51cChuLGYscil9LGZ1bmN0aW9uKGkscil7bygiU2ltcGxlIHVwbG9hZCByZXF1ZXN0IGZhaWxlZCBmb3IgIituKTt2YXIgZj1lLm5vcm1hbGl6ZVJlc3BvbnNlKGksITEpO3Uub25BdXRvUmV0cnkobix0LGYscil8fGUuY2xlYW51cChuLGYscil9KX19LGU9e2NhbmNlbDpmdW5jdGlvbihuKXtvKCJDYW5jZWxsaW5nICIrbik7dS5wYXJhbXNTdG9yZS5yZW1vdmUobik7Zi5mcmVlKG4pfSxjbGVhbnVwOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZT11LmdldE5hbWUobik7dS5vbkNvbXBsZXRlKG4sZSx0LGkpO3IuX2dldEZpbGVTdGF0ZShuKSYmci5fY2xlYXJYaHJzJiZyLl9jbGVhclhocnMobik7Zi5mcmVlKG4pfSxnZXRQcm94eU9yQmxvYjpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXRQcm94eSYmci5nZXRQcm94eShuKXx8ci5nZXRGaWxlJiZyLmdldEZpbGUobil9LGluaXRIYW5kbGVyOmZ1bmN0aW9uKCl7cj1uZXcoaT90W2ldOnQudHJhZGl0aW9uYWwpWyh0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmc/IlhociI6IkZvcm0iKSsiVXBsb2FkSGFuZGxlciJdKHUse2dldEN1c3RvbVJlc3VtZURhdGE6dS5nZXRDdXN0b21SZXN1bWVEYXRhLGdldERhdGFCeVV1aWQ6dS5nZXREYXRhQnlVdWlkLGdldE5hbWU6dS5nZXROYW1lLGdldFNpemU6dS5nZXRTaXplLGdldFV1aWQ6dS5nZXRVdWlkLGxvZzpvLG9uQ2FuY2VsOnUub25DYW5jZWwsb25Qcm9ncmVzczp1Lm9uUHJvZ3Jlc3Msb25VdWlkQ2hhbmdlZDp1Lm9uVXVpZENoYW5nZWQsb25GaW5hbGl6aW5nOmZ1bmN0aW9uKG4pe3Uuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FEX0ZJTkFMSVpJTkcpfX0pO3IuX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHMmJnIuX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHMoKX0saXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkOmZ1bmN0aW9uKG4pe3JldHVybiB1LmlzUXVldWVkKG4pfSxtYXliZURlZmVyOmZ1bmN0aW9uKG4saSl7cmV0dXJuIGkmJiFyLmdldEZpbGUobikmJmkgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT8odS5vblVwbG9hZFByZXAobiksbygiQXR0ZW1wdGluZyB0byBnZW5lcmF0ZSBhIGJsb2Igb24tZGVtYW5kIGZvciAiK24pLGkuY3JlYXRlKCkudGhlbihmdW5jdGlvbih0KXtvKCJHZW5lcmF0ZWQgYW4gb24tZGVtYW5kIGJsb2IgZm9yICIrbik7ci51cGRhdGVCbG9iKG4sdCk7dS5zZXRTaXplKG4sdC5zaXplKTtyLnJlZXZhbHVhdGVDaHVua2luZyhuKTtlLm1heWJlU2VuZERlZmVycmVkRmlsZXMobil9LGZ1bmN0aW9uKGkpe3ZhciByPXt9O2kmJihyLmVycm9yPWkpO28odC5mb3JtYXQoIkZhaWxlZCB0byBnZW5lcmF0ZSBibG9iIGZvciBJRCB7fS4gIEVycm9yIG1lc3NhZ2U6IHt9LiIsbixpKSwiZXJyb3IiKTt1Lm9uQ29tcGxldGUobix1LmdldE5hbWUobiksdC5leHRlbmQocixhKSxudWxsKTtlLm1heWJlU2VuZERlZmVycmVkRmlsZXMobik7Zi5mcmVlKG4pfSksITEpOmUubWF5YmVTZW5kRGVmZXJyZWRGaWxlcyhuKX0sbWF5YmVTZW5kRGVmZXJyZWRGaWxlczpmdW5jdGlvbihuKXt2YXIgaT11LmdldElkc0luUHJveHlHcm91cChuKSxmPSExO3JldHVybiBpJiZpLmxlbmd0aD8obygiTWF5YmUgcmVhZHkgdG8gdXBsb2FkIHByb3h5IGdyb3VwIGZpbGUgIituKSx0LmVhY2goaSxmdW5jdGlvbih0LGkpe2lmKGUuaXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkKGkpJiZyLmdldEZpbGUoaSkpZj1pPT09bixlLm5vdyhpKTtlbHNlIGlmKGUuaXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkKGkpKXJldHVybiExfSkpOihmPSEwLGUubm93KG4pKSxmfSxtYXliZU5ld1V1aWQ6ZnVuY3Rpb24obix0KXt2b2lkIDAhPT10Lm5ld1V1aWQmJnUub25VdWlkQ2hhbmdlZChuLHQubmV3VXVpZCl9LG5vcm1hbGl6ZVJlc3BvbnNlOmZ1bmN0aW9uKG4saSl7dmFyIHI9bjtyZXR1cm4gdC5pc09iamVjdChuKXx8KHI9e30sdC5pc1N0cmluZyhuKSYmIWkmJihyLmVycm9yPW4pKSxyLnN1Y2Nlc3M9aSxyfSxub3c6ZnVuY3Rpb24obil7dmFyIGk9dS5nZXROYW1lKG4pO2lmKCFoLmlzVmFsaWQobikpdGhyb3cgbmV3IHQuRXJyb3IobisiIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQgdG8gdXBsb2FkISIpO3Uub25VcGxvYWQobixpKS50aGVuKGZ1bmN0aW9uKGUpe2UmJmUucGF1c2U/KHUuc2V0U3RhdHVzKG4sdC5zdGF0dXMuUEFVU0VEKSxyLnBhdXNlKG4pLGYuZnJlZShuKSk6bCYmci5fc2hvdWxkQ2h1bmtUaGlzRmlsZShuKT9zLnNlbmROZXh0KG4pOnYuc2VuZChuLGkpfSxmdW5jdGlvbih0KXtpZih0PXR8fHt9LG8obisiIHVwbG9hZCBzdGFydCBhYm9ydGVkIGR1ZSB0byByZWplY3RlZCBvblVwbG9hZCBQcm9taXNlIC0gZGV0YWlsczogIit0LCJlcnJvciIpLCF1Lm9uQXV0b1JldHJ5KG4saSx0LnJlc3BvbnNlSlNPTnx8e30pKXt2YXIgcj1lLm5vcm1hbGl6ZVJlc3BvbnNlKHQucmVzcG9uc2VKU09OLCExKTtlLmNsZWFudXAobixyKX19KX0sc3RhcnQ6ZnVuY3Rpb24obil7dmFyIHQ9ZS5nZXRQcm94eU9yQmxvYihuKTtyZXR1cm4gdD9lLm1heWJlRGVmZXIobix0KTooZS5ub3cobiksITApfX07dC5leHRlbmQodGhpcyx7YWRkOmZ1bmN0aW9uKCl7ci5hZGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1cGxvYWQ6ZnVuY3Rpb24obil7cmV0dXJuISFmLm9wZW4obikmJmUuc3RhcnQobil9LHJldHJ5OmZ1bmN0aW9uKG4pe3JldHVybiBjJiYoci5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuaWdub3JlRmFpbHVyZT0hMSksZi5pc1VzaW5nQ29ubmVjdGlvbihuKT9lLnN0YXJ0KG4pOmgudXBsb2FkKG4pfSxjYW5jZWw6ZnVuY3Rpb24obil7dmFyIGk9ci5jYW5jZWwobik7dC5pc0dlbmVyaWNQcm9taXNlKGkpP2kudGhlbihmdW5jdGlvbigpe2UuY2FuY2VsKG4pfSk6aSE9PSExJiZlLmNhbmNlbChuKX0sY2FuY2VsQWxsOmZ1bmN0aW9uKCl7dmFyIG4sdD1mLmdldFdhaXRpbmdPckNvbm5lY3RlZCgpO2lmKHQubGVuZ3RoKWZvcihuPXQubGVuZ3RoLTE7bj49MDtuLS0paC5jYW5jZWwodFtuXSk7Zi5yZXNldCgpfSxnZXRGaWxlOmZ1bmN0aW9uKG4pe3JldHVybiByLmdldFByb3h5JiZyLmdldFByb3h5KG4pP3IuZ2V0UHJveHkobikucmVmZXJlbmNlQmxvYjpyLmdldEZpbGUmJnIuZ2V0RmlsZShuKX0saXNQcm94aWVkOmZ1bmN0aW9uKG4pe3JldHVybiEoIXIuZ2V0UHJveHl8fCFyLmdldFByb3h5KG4pKX0sZ2V0SW5wdXQ6ZnVuY3Rpb24obil7aWYoci5nZXRJbnB1dClyZXR1cm4gci5nZXRJbnB1dChuKX0scmVzZXQ6ZnVuY3Rpb24oKXtvKCJSZXNldHRpbmcgdXBsb2FkIGhhbmRsZXIiKTtoLmNhbmNlbEFsbCgpO2YucmVzZXQoKTtyLnJlc2V0KCl9LGV4cHVuZ2U6ZnVuY3Rpb24obil7aWYoaC5pc1ZhbGlkKG4pKXJldHVybiByLmV4cHVuZ2Uobil9LGlzVmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuIHIuaXNWYWxpZChuKX0saGFzUmVzdW1lUmVjb3JkOmZ1bmN0aW9uKG4pe3ZhciB0PXIuaXNWYWxpZChuKSYmci5fZ2V0TG9jYWxTdG9yYWdlSWQmJnIuX2dldExvY2FsU3RvcmFnZUlkKG4pO3JldHVybiEhdCYmISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KX0sZ2V0UmVzdW1hYmxlRmlsZXNEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0UmVzdW1hYmxlRmlsZXNEYXRhP3IuZ2V0UmVzdW1hYmxlRmlsZXNEYXRhKCk6W119LGdldFRoaXJkUGFydHlGaWxlSWQ6ZnVuY3Rpb24obil7aWYoaC5pc1ZhbGlkKG4pKXJldHVybiByLmdldFRoaXJkUGFydHlGaWxlSWQobil9LHBhdXNlOmZ1bmN0aW9uKG4pe3JldHVybiEhKGguaXNSZXN1bWFibGUobikmJnIucGF1c2UmJmguaXNWYWxpZChuKSYmci5wYXVzZShuKSkmJihmLmZyZWUobiksci5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKG4pLCEwKX0saXNBdHRlbXB0aW5nUmVzdW1lOmZ1bmN0aW9uKG4pe3JldHVybiEhci5pc0F0dGVtcHRpbmdSZXN1bWUmJnIuaXNBdHRlbXB0aW5nUmVzdW1lKG4pfSxpc1Jlc3VtYWJsZTpmdW5jdGlvbihuKXtyZXR1cm4hIXIuaXNSZXN1bWFibGUmJnIuaXNSZXN1bWFibGUobil9fSk7dC5leHRlbmQodSxuKTtvPXUubG9nO2w9dS5jaHVua2luZy5lbmFibGVkJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmNodW5raW5nO2M9bCYmdS5jaHVua2luZy5jb25jdXJyZW50LmVuYWJsZWQ7YT1mdW5jdGlvbigpe3ZhciBuPXt9O3JldHVybiBuW3UucHJldmVudFJldHJ5UGFyYW1dPSEwLG59KCk7ZS5pbml0SGFuZGxlcigpfTt0LldpbmRvd1JlY2VpdmVNZXNzYWdlPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17bG9nOmZ1bmN0aW9uKCl7fX0saT17fTt0LmV4dGVuZChyLG4pO3QuZXh0ZW5kKHRoaXMse3JlY2VpdmVNZXNzYWdlOmZ1bmN0aW9uKG4scil7dmFyIHU9ZnVuY3Rpb24obil7cihuLmRhdGEpfTt3aW5kb3cucG9zdE1lc3NhZ2U/aVtuXT10KHdpbmRvdykuYXR0YWNoKCJtZXNzYWdlIix1KTpsb2coImlmcmFtZSBtZXNzYWdlIHBhc3Npbmcgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIhIiwiZXJyb3IiKX0sc3RvcFJlY2VpdmluZ01lc3NhZ2VzOmZ1bmN0aW9uKG4pe2lmKHdpbmRvdy5wb3N0TWVzc2FnZSl7dmFyIHQ9aVtuXTt0JiZ0KCl9fX0pfTt0LkZvcm1VcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKG4pe2RlbGV0ZSB1W25dO2wmJihjbGVhclRpbWVvdXQoZltuXSksZGVsZXRlIGZbbl0sby5zdG9wUmVjZWl2aW5nTWVzc2FnZXMobikpO3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIuX2dldElmcmFtZU5hbWUobikpO2kmJihpLnNldEF0dHJpYnV0ZSgic3JjIiwiamF2YXNjcmlwdDpmYWxzZTsiKSx0KGkpLnJlbW92ZSgpKX1mdW5jdGlvbiBzKG4pe3JldHVybiBuLnNwbGl0KCJfIilbMF19ZnVuY3Rpb24gdihuKXt2YXIgaT10LnRvRWxlbWVudCgiPGlmcmFtZSBzcmM9J2phdmFzY3JpcHQ6ZmFsc2U7JyBuYW1lPSciK24rIicgLz4iKTtyZXR1cm4gaS5zZXRBdHRyaWJ1dGUoImlkIixuKSxpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaSksaX1mdW5jdGlvbiB5KG4saCl7dmFyIGM9bi5pZCxsPXMoYyk7ZVtiKGwpXT1oO3VbbF09dChuKS5hdHRhY2goImxvYWQiLGZ1bmN0aW9uKCl7ci5nZXRJbnB1dChsKSYmKGkoIlJlY2VpdmVkIGlmcmFtZSBsb2FkIGV2ZW50IGZvciBDT1JTIHVwbG9hZCByZXF1ZXN0IChpZnJhbWUgbmFtZSAiK2MrIikiKSxmW2NdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgbj0iTm8gdmFsaWQgbWVzc2FnZSByZWNlaXZlZCBmcm9tIGxvYWRlZCBpZnJhbWUgZm9yIGlmcmFtZSBuYW1lICIrYztpKG4sImVycm9yIik7aCh7ZXJyb3I6bn0pfSwxZTMpKX0pO28ucmVjZWl2ZU1lc3NhZ2UoYyxmdW5jdGlvbihuKXtpKCJSZWNlaXZlZCB0aGUgZm9sbG93aW5nIHdpbmRvdyBtZXNzYWdlOiAnIituKyInIik7dmFyIHUsaD0ocyhjKSxyLl9wYXJzZUpzb25SZXNwb25zZShuKSksdD1oLnV1aWQ7dCYmZVt0XT8oaSgiSGFuZGxpbmcgcmVzcG9uc2UgZm9yIGlmcmFtZSBuYW1lICIrYyksY2xlYXJUaW1lb3V0KGZbY10pLGRlbGV0ZSBmW2NdLHIuX2RldGFjaExvYWRFdmVudChjKSx1PWVbdF0sZGVsZXRlIGVbdF0sby5zdG9wUmVjZWl2aW5nTWVzc2FnZXMoYyksdShoKSk6dHx8aSgiJyIrbisiJyBkb2VzIG5vdCBjb250YWluIGEgVVVJRCAtIGlnbm9yaW5nLiIpfSl9dmFyIGg9bi5vcHRpb25zLHI9dGhpcyxjPW4ucHJveHkscD10LmdldFVuaXF1ZUlkKCksZT17fSx1PXt9LGY9e30sbD1oLmlzQ29ycyx3PWguaW5wdXROYW1lLGI9Yy5nZXRVdWlkLGk9Yy5sb2csbz1uZXcgdC5XaW5kb3dSZWNlaXZlTWVzc2FnZSh7bG9nOml9KTt0LmV4dGVuZCh0aGlzLG5ldyB0LlVwbG9hZEhhbmRsZXIobikpO3Qub3ZlcnJpZGUodGhpcyxmdW5jdGlvbihuKXtyZXR1cm57YWRkOmZ1bmN0aW9uKGkscil7bi5hZGQoaSx7aW5wdXQ6cn0pO3Iuc2V0QXR0cmlidXRlKCJuYW1lIix3KTtyLnBhcmVudE5vZGUmJnQocikucmVtb3ZlKCl9LGV4cHVuZ2U6ZnVuY3Rpb24odCl7YSh0KTtuLmV4cHVuZ2UodCl9LGlzVmFsaWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4uaXNWYWxpZCh0KSYmdm9pZCAwIT09ci5fZ2V0RmlsZVN0YXRlKHQpLmlucHV0fX19KTt0LmV4dGVuZCh0aGlzLHtnZXRJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gci5fZ2V0RmlsZVN0YXRlKG4pLmlucHV0fSxfYXR0YWNoTG9hZEV2ZW50OmZ1bmN0aW9uKG4scil7dmFyIGY7bD95KG4scik6dVtuLmlkXT10KG4pLmF0dGFjaCgibG9hZCIsZnVuY3Rpb24oKXtpZihpKCJSZWNlaXZlZCByZXNwb25zZSBmb3IgIituLmlkKSxuLnBhcmVudE5vZGUpe3RyeXtpZihuLmNvbnRlbnREb2N1bWVudCYmbi5jb250ZW50RG9jdW1lbnQuYm9keSYmImZhbHNlIj09bi5jb250ZW50RG9jdW1lbnQuYm9keS5pbm5lckhUTUwpcmV0dXJufWNhdGNoKG4pe2koIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBhY2Nlc3MgaWZyYW1lIGR1cmluZyBoYW5kbGluZyBvZiB1cGxvYWQgcmVzcG9uc2UgKCIrbi5tZXNzYWdlKyIpIiwiZXJyb3IiKTtmPXtzdWNjZXNzOiExfX1yKGYpfX0pfSxfY3JlYXRlSWZyYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB2KHIuX2dldElmcmFtZU5hbWUobikpfSxfZGV0YWNoTG9hZEV2ZW50OmZ1bmN0aW9uKG4pe3ZvaWQgMCE9PXVbbl0mJih1W25dKCksZGVsZXRlIHVbbl0pfSxfZ2V0SWZyYW1lTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gbisiXyIrcH0sX2luaXRGb3JtRm9yVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciBlPW4ubWV0aG9kLHI9bi5lbmRwb2ludCx1PW4ucGFyYW1zLG89bi5wYXJhbXNJbkJvZHkscz1uLnRhcmdldE5hbWUsaT10LnRvRWxlbWVudCgiPGZvcm0gbWV0aG9kPSciK2UrIicgZW5jdHlwZT0nbXVsdGlwYXJ0L2Zvcm0tZGF0YSc+PFwvZm9ybT4iKSxmPXI7cmV0dXJuIG8/dC5vYmoySW5wdXRzKHUsaSk6Zj10Lm9iajJ1cmwodSxyKSxpLnNldEF0dHJpYnV0ZSgiYWN0aW9uIixmKSxpLnNldEF0dHJpYnV0ZSgidGFyZ2V0IixzKSxpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaSksaX0sX3BhcnNlSnNvblJlc3BvbnNlOmZ1bmN0aW9uKG4pe3ZhciByPXt9O3RyeXtyPXQucGFyc2VKc29uKG4pfWNhdGNoKG4pe2koIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBwYXJzZSBpZnJhbWUgdXBsb2FkIHJlc3BvbnNlICgiK24ubWVzc2FnZSsiKSIsImVycm9yIil9cmV0dXJuIHJ9fSl9O3QuWGhyVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShuKXt0LmVhY2goaS5fZ2V0WGhycyhuKSxmdW5jdGlvbih0LHIpe3ZhciB1PWkuX2dldEFqYXhSZXF1ZXN0ZXIobix0KTtyLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3IudXBsb2FkLm9ucHJvZ3Jlc3M9bnVsbDtyLmFib3J0KCk7dSYmdS5jYW5jZWxlZCYmdS5jYW5jZWxlZChuKX0pfXZhciBpPXRoaXMsdj1uLm9wdGlvbnMubmFtZXNwYWNlLHI9bi5wcm94eSxmPW4ub3B0aW9ucy5jaHVua2luZyxoPWZ1bmN0aW9uKG4pe3ZhciBlPWkuX2dldEZpbGVTdGF0ZShuKSxyO3JldHVybiBlLmNodW5rU2l6ZT9lLmNodW5rU2l6ZToocj1mLnBhcnRTaXplLHQuaXNGdW5jdGlvbihyKSYmKHI9cihuLHUobikpKSxlLmNodW5rU2l6ZT1yLHIpfSxjPW4ub3B0aW9ucy5yZXN1bWUseT1mJiZuLm9wdGlvbnMuY2h1bmtpbmcuZW5hYmxlZCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5jaHVua2luZyxlPWMmJm4ub3B0aW9ucy5yZXN1bWUuZW5hYmxlZCYmeSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5yZXN1bWUsbz1yLmdldE5hbWUsdT1yLmdldFNpemUscD1yLmdldFV1aWQsdz1yLmdldEVuZHBvaW50LGI9ci5nZXREYXRhQnlVdWlkLGs9ci5vblV1aWRDaGFuZ2VkLGw9ci5vblByb2dyZXNzLHM9ci5sb2csZD1yLmdldEN1c3RvbVJlc3VtZURhdGE7dC5leHRlbmQodGhpcyxuZXcgdC5VcGxvYWRIYW5kbGVyKG4pKTt0Lm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24obil7cmV0dXJue2FkZDpmdW5jdGlvbihyLHUpe2lmKHQuaXNGaWxlKHUpfHx0LmlzQmxvYih1KSluLmFkZChyLHtmaWxlOnV9KTtlbHNle2lmKCEodSBpbnN0YW5jZW9mIHQuQmxvYlByb3h5KSl0aHJvdyBuZXcgRXJyb3IoIlBhc3NlZCBvYmogaXMgbm90IGEgRmlsZSwgQmxvYiwgb3IgcHJveHkiKTtuLmFkZChyLHtwcm94eTp1fSl9aS5faW5pdFRlbXBTdGF0ZShyKTtlJiZpLl9tYXliZVByZXBhcmVGb3JSZXN1bWUocil9LGV4cHVuZ2U6ZnVuY3Rpb24odCl7YSh0KTtpLl9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YSh0KTtpLl9jbGVhclhocnModCk7bi5leHB1bmdlKHQpfX19KTt0LmV4dGVuZCh0aGlzLHtjbGVhckNhY2hlZENodW5rOmZ1bmN0aW9uKG4sdCl7dmFyIHI9aS5fZ2V0RmlsZVN0YXRlKG4pO3ImJmRlbGV0ZSByLnRlbXAuY2FjaGVkQ2h1bmtzW3RdfSxjbGVhclhocjpmdW5jdGlvbihuLHQpe3ZhciByPWkuX2dldEZpbGVTdGF0ZShuKS50ZW1wO3IueGhycyYmZGVsZXRlIHIueGhyc1t0XTtyLmFqYXhSZXF1ZXN0ZXJzJiZkZWxldGUgci5hamF4UmVxdWVzdGVyc1t0XX0sZmluYWxpemVDaHVua3M6ZnVuY3Rpb24obixyKXt2YXIgZj1pLl9nZXRUb3RhbENodW5rcyhuKS0xLHU9aS5fZ2V0WGhyKG4sZik7cmV0dXJuIHI/KG5ldyB0LlByb21pc2UpLnN1Y2Nlc3Mocih1KSx1KToobmV3IHQuUHJvbWlzZSkuc3VjY2Vzcyh7fSx1KX0sZ2V0RmlsZTpmdW5jdGlvbihuKXtyZXR1cm4gaS5pc1ZhbGlkKG4pJiZpLl9nZXRGaWxlU3RhdGUobikuZmlsZX0sZ2V0UHJveHk6ZnVuY3Rpb24obil7cmV0dXJuIGkuaXNWYWxpZChuKSYmaS5fZ2V0RmlsZVN0YXRlKG4pLnByb3h5fSxnZXRSZXN1bWFibGVGaWxlc0RhdGE6ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gaS5faXRlcmF0ZVJlc3VtZVJlY29yZHMoZnVuY3Rpb24odCxyKXtpLm1vdmVJblByb2dyZXNzVG9SZW1haW5pbmcobnVsbCxyLmNodW5raW5nLmluUHJvZ3Jlc3Msci5jaHVua2luZy5yZW1haW5pbmcpO3ZhciB1PXtuYW1lOnIubmFtZSxyZW1haW5pbmc6ci5jaHVua2luZy5yZW1haW5pbmcsc2l6ZTpyLnNpemUsdXVpZDpyLnV1aWR9O3Iua2V5JiYodS5rZXk9ci5rZXkpO3IuY3VzdG9tUmVzdW1lRGF0YSYmKHUuY3VzdG9tUmVzdW1lRGF0YT1yLmN1c3RvbVJlc3VtZURhdGEpO24ucHVzaCh1KX0pLG59LGlzQXR0ZW1wdGluZ1Jlc3VtZTpmdW5jdGlvbihuKXtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLmF0dGVtcHRpbmdSZXN1bWV9LGlzUmVzdW1hYmxlOmZ1bmN0aW9uKG4pe3JldHVybiEhZiYmaS5pc1ZhbGlkKG4pJiYhaS5fZ2V0RmlsZVN0YXRlKG4pLm5vdFJlc3VtYWJsZX0sbW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZzpmdW5jdGlvbihuLHIsdSl7dmFyIG89aS5fZ2V0RmlsZVN0YXRlKG4pfHx7fSxlPW8uY2h1bmtpbmd8fHt9LGY9cnx8ZS5pblByb2dyZXNzLGg9dXx8ZS5yZW1haW5pbmc7ZiYmKHModC5mb3JtYXQoIk1vdmluZyB0aGVzZSBjaHVua3MgZnJvbSBpbi1wcm9ncmVzcyB7fSwgdG8gcmVtYWluaW5nLiIsSlNPTi5zdHJpbmdpZnkoZikpKSxmLnJldmVyc2UoKSx0LmVhY2goZixmdW5jdGlvbihuLHQpe2gudW5zaGlmdCh0KX0pLGYubGVuZ3RoPTApfSxwYXVzZTpmdW5jdGlvbihuKXtpZihpLmlzVmFsaWQobikpcmV0dXJuIHModC5mb3JtYXQoIkFib3J0aW5nIFhIUiB1cGxvYWQgZm9yIHt9ICd7fScgZHVlIHRvIHBhdXNlIGluc3RydWN0aW9uLiIsbixvKG4pKSksaS5fZ2V0RmlsZVN0YXRlKG4pLnBhdXNlZD0hMCxhKG4pLCEwfSxyZWV2YWx1YXRlQ2h1bmtpbmc6ZnVuY3Rpb24obil7aWYoZiYmaS5pc1ZhbGlkKG4pKXt2YXIgcix1LHQ9aS5fZ2V0RmlsZVN0YXRlKG4pO2lmKGRlbGV0ZSB0LmNodW5raW5nLHQuY2h1bmtpbmc9e30scj1pLl9nZXRUb3RhbENodW5rcyhuKSxyPjF8fGYubWFuZGF0b3J5KXtmb3IodC5jaHVua2luZy5lbmFibGVkPSEwLHQuY2h1bmtpbmcucGFydHM9cix0LmNodW5raW5nLnJlbWFpbmluZz1bXSx1PTA7dTxyO3UrKyl0LmNodW5raW5nLnJlbWFpbmluZy5wdXNoKHUpO2kuX2luaXRUZW1wU3RhdGUobil9ZWxzZSB0LmNodW5raW5nLmVuYWJsZWQ9ITF9fSx1cGRhdGVCbG9iOmZ1bmN0aW9uKG4sdCl7aS5pc1ZhbGlkKG4pJiYoaS5fZ2V0RmlsZVN0YXRlKG4pLmZpbGU9dCl9LF9jbGVhclhocnM6ZnVuY3Rpb24obil7dmFyIHI9aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXA7dC5lYWNoKHIuYWpheFJlcXVlc3RlcnMsZnVuY3Rpb24obil7ZGVsZXRlIHIuYWpheFJlcXVlc3RlcnNbbl19KTt0LmVhY2goci54aHJzLGZ1bmN0aW9uKG4pe2RlbGV0ZSByLnhocnNbbl19KX0sX2NyZWF0ZVhocjpmdW5jdGlvbihuLHIpe3JldHVybiBpLl9yZWdpc3RlclhocihuLHIsdC5jcmVhdGVYaHJJbnN0YW5jZSgpKX0sX2dldEFqYXhSZXF1ZXN0ZXI6ZnVuY3Rpb24obix0KXt2YXIgcj1udWxsPT10Py0xOnQ7cmV0dXJuIGkuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmFqYXhSZXF1ZXN0ZXJzW3JdfSxfZ2V0Q2h1bmtEYXRhOmZ1bmN0aW9uKG4scil7dmFyIGU9aChuKSxzPXUobiksYT1pLmdldEZpbGUobiksZj1lKnIsbz1mK2U+PXM/czpmK2Usdj1pLl9nZXRUb3RhbENodW5rcyhuKSxjPXRoaXMuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmNhY2hlZENodW5rcyxsPWNbcl18fHQuc2xpY2VCbG9iKGEsZixvKTtyZXR1cm4gY1tyXT1sLHtwYXJ0OnIsc3RhcnQ6ZixlbmQ6byxjb3VudDp2LGJsb2I6bCxzaXplOm8tZn19LF9nZXRDaHVua0RhdGFGb3JDYWxsYmFjazpmdW5jdGlvbihuKXtyZXR1cm57cGFydEluZGV4Om4ucGFydCxzdGFydEJ5dGU6bi5zdGFydCsxLGVuZEJ5dGU6bi5lbmQsdG90YWxQYXJ0czpuLmNvdW50fX0sX2dldExvY2FsU3RvcmFnZUlkOmZ1bmN0aW9uKG4pe3ZhciByPW8obiksZj11KG4pLGU9aChuKSxzPXcobiksbD1jLmN1c3RvbUtleXMobiksaT10LmZvcm1hdCgicXF7fXJlc3VtZXt9LXt9LXt9LXt9LXt9Iix2LCI1LjAiLHIsZixlLHMpO3JldHVybiBsLmZvckVhY2goZnVuY3Rpb24obil7aSs9Ii0iK259KSxpfSxfZ2V0TWltZVR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIGkuZ2V0RmlsZShuKS50eXBlfSxfZ2V0UGVyc2lzdGFibGVEYXRhOmZ1bmN0aW9uKG4pe3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmd9LF9nZXRUb3RhbENodW5rczpmdW5jdGlvbihuKXtpZihmKXt2YXIgdD11KG4pLGk9aChuKTtyZXR1cm4gTWF0aC5jZWlsKHQvaSl9fSxfZ2V0WGhyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9bnVsbD09dD8tMTp0O3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikudGVtcC54aHJzW3JdfSxfZ2V0WGhyczpmdW5jdGlvbihuKXtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAueGhyc30sX2l0ZXJhdGVSZXN1bWVSZWNvcmRzOmZ1bmN0aW9uKG4pe2UmJnQuZWFjaChsb2NhbFN0b3JhZ2UsZnVuY3Rpb24oaSxyKXswPT09aS5pbmRleE9mKHQuZm9ybWF0KCJxcXt9cmVzdW1lIix2KSkmJm4oaSxKU09OLnBhcnNlKHIpKX0pfSxfaW5pdFRlbXBTdGF0ZTpmdW5jdGlvbihuKXtpLl9nZXRGaWxlU3RhdGUobikudGVtcD17YWpheFJlcXVlc3RlcnM6e30sY2h1bmtQcm9ncmVzczp7fSx4aHJzOnt9LGNhY2hlZENodW5rczp7fX19LF9tYXJrTm90UmVzdW1hYmxlOmZ1bmN0aW9uKG4pe2kuX2dldEZpbGVTdGF0ZShuKS5ub3RSZXN1bWFibGU9ITB9LF9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YTpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4hIShlJiZpLmlzUmVzdW1hYmxlKG4pJiYodD1pLl9nZXRMb2NhbFN0b3JhZ2VJZChuKSx0JiZsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KSkpJiYobG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCksITApfSxfbWF5YmVQcmVwYXJlRm9yUmVzdW1lOmZ1bmN0aW9uKG4pe3ZhciBmLHIsdT1pLl9nZXRGaWxlU3RhdGUobik7ZSYmdm9pZCAwPT09dS5rZXkmJihmPWkuX2dldExvY2FsU3RvcmFnZUlkKG4pLHI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZiksciYmKHI9SlNPTi5wYXJzZShyKSxiKHIudXVpZCk/aS5fbWFya05vdFJlc3VtYWJsZShuKToocyh0LmZvcm1hdCgiSWRlbnRpZmllZCBmaWxlIHdpdGggSUQge30gYW5kIG5hbWUgb2Yge30gYXMgcmVzdW1hYmxlLiIsbixvKG4pKSksayhuLHIudXVpZCksdS5rZXk9ci5rZXksdS5jaHVua2luZz1yLmNodW5raW5nLHUubG9hZGVkPXIubG9hZGVkLHUuY3VzdG9tUmVzdW1lRGF0YT1yLmN1c3RvbVJlc3VtZURhdGEsdS5hdHRlbXB0aW5nUmVzdW1lPSEwLGkubW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZyhuKSkpKX0sX21heWJlUGVyc2lzdENodW5rZWRTdGF0ZTpmdW5jdGlvbihuKXt2YXIgcixmLGg9aS5fZ2V0RmlsZVN0YXRlKG4pLGM7aWYoZSYmaS5pc1Jlc3VtYWJsZShuKSl7Yz1kKG4pO3I9aS5fZ2V0TG9jYWxTdG9yYWdlSWQobik7Zj17bmFtZTpvKG4pLHNpemU6dShuKSx1dWlkOnAobiksa2V5Omgua2V5LGNodW5raW5nOmguY2h1bmtpbmcsbG9hZGVkOmgubG9hZGVkLGxhc3RVcGRhdGVkOkRhdGUubm93KCl9O2MmJihmLmN1c3RvbVJlc3VtZURhdGE9Yyk7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKHIsSlNPTi5zdHJpbmdpZnkoZikpfWNhdGNoKHIpe3ModC5mb3JtYXQoIlVuYWJsZSB0byBzYXZlIHJlc3VtZSBkYXRhIGZvciAne30nIGR1ZSB0byBlcnJvcjogJ3t9Jy4iLG4sci50b1N0cmluZygpKSwid2FybiIpfX19LF9yZWdpc3RlclByb2dyZXNzSGFuZGxlcjpmdW5jdGlvbihuLHIsZil7dmFyIHM9aS5fZ2V0WGhyKG4sciksZT1vKG4pLGg9e3NpbXBsZTpmdW5jdGlvbih0LGkpe3ZhciByPXUobik7dD09PWk/bChuLGUscixyKTpsKG4sZSx0Pj1yP3ItMTp0LHIpfSxjaHVua2VkOmZ1bmN0aW9uKG8scyl7dmFyIGg9aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuY2h1bmtQcm9ncmVzcyxhPWkuX2dldEZpbGVTdGF0ZShuKS5sb2FkZWQsdj1vLHk9cyxwPXUobiksdz12LSh5LWYpLGM9YTtoW3JdPXc7dC5lYWNoKGgsZnVuY3Rpb24obix0KXtjKz10fSk7bChuLGUsYyxwKX19O3MudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24obil7bi5sZW5ndGhDb21wdXRhYmxlJiZoW251bGw9PWY/InNpbXBsZSI6ImNodW5rZWQiXShuLmxvYWRlZCxuLnRvdGFsKX19LF9yZWdpc3RlclhocjpmdW5jdGlvbihuLHQscix1KXt2YXIgZT1udWxsPT10Py0xOnQsZj1pLl9nZXRGaWxlU3RhdGUobikudGVtcDtyZXR1cm4gZi54aHJzPWYueGhyc3x8e30sZi5hamF4UmVxdWVzdGVycz1mLmFqYXhSZXF1ZXN0ZXJzfHx7fSxmLnhocnNbZV09cix1JiYoZi5hamF4UmVxdWVzdGVyc1tlXT11KSxyfSxfcmVtb3ZlRXhwaXJlZENodW5raW5nUmVjb3JkczpmdW5jdGlvbigpe3ZhciBuPWMucmVjb3Jkc0V4cGlyZUluO2kuX2l0ZXJhdGVSZXN1bWVSZWNvcmRzKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IERhdGUoaS5sYXN0VXBkYXRlZCk7ci5zZXREYXRlKHIuZ2V0RGF0ZSgpK24pO3IuZ2V0VGltZSgpPD1EYXRlLm5vdygpJiYocygiUmVtb3ZpbmcgZXhwaXJlZCByZXN1bWUgcmVjb3JkIHdpdGgga2V5ICIrdCksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCkpfSl9LF9zaG91bGRDaHVua1RoaXNGaWxlOmZ1bmN0aW9uKG4pe3ZhciB0PWkuX2dldEZpbGVTdGF0ZShuKTtpZih0KXJldHVybiB0LmNodW5raW5nfHxpLnJlZXZhbHVhdGVDaHVua2luZyhuKSx0LmNodW5raW5nLmVuYWJsZWR9fSl9O3QuRGVsZXRlRmlsZUFqYXhSZXF1ZXN0ZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUoKXtyZXR1cm4iUE9TVCI9PT1pLm1ldGhvZC50b1VwcGVyQ2FzZSgpP3tfbWV0aG9kOiJERUxFVEUifTp7fX12YXIgcixpPXttZXRob2Q6IkRFTEVURSIsdXVpZFBhcmFtTmFtZToicXF1dWlkIixlbmRwb2ludFN0b3JlOnt9LG1heENvbm5lY3Rpb25zOjMsY3VzdG9tSGVhZGVyczpmdW5jdGlvbigpe3JldHVybnt9fSxwYXJhbXNTdG9yZTp7fSxjb3JzOntleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LGxvZzpmdW5jdGlvbigpe30sb25EZWxldGU6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4pO3I9dC5leHRlbmQodGhpcyxuZXcgdC5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLHZhbGlkTWV0aG9kczpbIlBPU1QiLCJERUxFVEUiXSxtZXRob2Q6aS5tZXRob2QsZW5kcG9pbnRTdG9yZTppLmVuZHBvaW50U3RvcmUscGFyYW1zU3RvcmU6aS5wYXJhbXNTdG9yZSxtYW5kYXRlZFBhcmFtczp1KCksbWF4Q29ubmVjdGlvbnM6aS5tYXhDb25uZWN0aW9ucyxjdXN0b21IZWFkZXJzOmZ1bmN0aW9uKG4pe3JldHVybiBpLmN1c3RvbUhlYWRlcnMuZ2V0KG4pfSxsb2c6aS5sb2csb25TZW5kOmkub25EZWxldGUsb25Db21wbGV0ZTppLm9uRGVsZXRlQ29tcGxldGUsY29yczppLmNvcnN9KSk7dC5leHRlbmQodGhpcyx7c2VuZERlbGV0ZTpmdW5jdGlvbihuLHQsdSl7dmFyIGY9dXx8e307aS5sb2coIlN1Ym1pdHRpbmcgZGVsZXRlIGZpbGUgcmVxdWVzdCBmb3IgIituKTsiREVMRVRFIj09PWkubWV0aG9kP3IuaW5pdFRyYW5zcG9ydChuKS53aXRoUGF0aCh0KS53aXRoUGFyYW1zKGYpLnNlbmQoKTooZltpLnV1aWRQYXJhbU5hbWVdPXQsci5pbml0VHJhbnNwb3J0KG4pLndpdGhQYXJhbXMoZikuc2VuZCgpKX19KX0sZnVuY3Rpb24oKXtmdW5jdGlvbiB1KG4pe3ZhciB0LHI9bi5uYXR1cmFsV2lkdGgsdT1uLm5hdHVyYWxIZWlnaHQsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gcip1PjEwNDg1NzYmJihpLndpZHRoPWkuaGVpZ2h0PTEsdD1pLmdldENvbnRleHQoIjJkIiksdC5kcmF3SW1hZ2UobiwtcisxLDApLDA9PT10LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhWzNdKX1mdW5jdGlvbiBmKG4sdCxpKXt2YXIgdSxzLGgsZixlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLG89MCxjPWkscj1pO2ZvcihlLndpZHRoPTEsZS5oZWlnaHQ9aSx1PWUuZ2V0Q29udGV4dCgiMmQiKSx1LmRyYXdJbWFnZShuLDAsMCkscz11LmdldEltYWdlRGF0YSgwLDAsMSxpKS5kYXRhO3I+bzspaD1zWzQqKHItMSkrM10sMD09PWg/Yz1yOm89cixyPWMrbz4+MTtyZXR1cm4gZj1yL2ksMD09PWY/MTpmfWZ1bmN0aW9uIGUoaSxyLHUsZil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikscz11Lm1pbWV8fCJpbWFnZS9qcGVnIixvPW5ldyB0LlByb21pc2U7cmV0dXJuIG4oaSxyLGUsdSxmKS50aGVuKGZ1bmN0aW9uKCl7by5zdWNjZXNzKGUudG9EYXRhVVJMKHMsdS5xdWFsaXR5fHwuOCkpfSksb31mdW5jdGlvbiBvKG4pe2lmKCF0LmlvcygpKXRocm93IG5ldyB0LkVycm9yKCJEb3duc2FtcGxlZCBkaW1lbnNpb25zIGNhbiBvbmx5IGJlIHJlbGlhYmx5IGNhbGN1bGF0ZWQgZm9yIGlPUyEiKTtpZihuLm9yaWdIZWlnaHQqbi5vcmlnV2lkdGg+NTI0MWUzKXJldHVybntuZXdIZWlnaHQ6TWF0aC5yb3VuZChNYXRoLnNxcnQoNTI0MWUzKihuLm9yaWdIZWlnaHQvbi5vcmlnV2lkdGgpKSksbmV3V2lkdGg6TWF0aC5yb3VuZChNYXRoLnNxcnQoNTI0MWUzKihuLm9yaWdXaWR0aC9uLm9yaWdIZWlnaHQpKSl9fWZ1bmN0aW9uIG4obixyLGUsaCxjKXt2YXIgdix5PW4ubmF0dXJhbFdpZHRoLHA9bi5uYXR1cmFsSGVpZ2h0LGw9aC53aWR0aCxhPWguaGVpZ2h0LHc9ZS5nZXRDb250ZXh0KCIyZCIpLGI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdy5zYXZlKCksaC5yZXNpemU/cyh7YmxvYjpyLGNhbnZhczplLGltYWdlOm4saW1hZ2VIZWlnaHQ6cCxpbWFnZVdpZHRoOnksb3JpZW50YXRpb246aC5vcmllbnRhdGlvbixyZXNpemU6aC5yZXNpemUsdGFyZ2V0SGVpZ2h0OmEsdGFyZ2V0V2lkdGg6bH0pOih0LnN1cHBvcnRlZEZlYXR1cmVzLnVubGltaXRlZFNjYWxlZEltYWdlU2l6ZXx8KHY9byh7b3JpZ1dpZHRoOmwsb3JpZ0hlaWdodDphfSksdiYmKHQubG9nKHQuZm9ybWF0KCJIYWQgdG8gcmVkdWNlIGRpbWVuc2lvbnMgZHVlIHRvIGRldmljZSBsaW1pdGF0aW9ucyBmcm9tIHt9dyAvIHt9aCB0byB7fXcgLyB7fWgiLGwsYSx2Lm5ld1dpZHRoLHYubmV3SGVpZ2h0KSwid2FybiIpLGw9di5uZXdXaWR0aCxhPXYubmV3SGVpZ2h0KSksaShlLGwsYSxoLm9yaWVudGF0aW9uKSx0LmlvcygpP2Z1bmN0aW9uKCl7dShuKSYmKHkvPTIscC89Mik7dmFyIHIsZSxvLHQ9MTAyNCxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGs9Yz9mKG4seSxwKToxLGg9TWF0aC5jZWlsKHQqbC95KSx2PU1hdGguY2VpbCh0KmEvcC9rKSxzPTAsYj0wO2ZvcihpLndpZHRoPWkuaGVpZ2h0PXQscj1pLmdldENvbnRleHQoIjJkIik7czxwOyl7Zm9yKGU9MCxvPTA7ZTx5OylyLmNsZWFyUmVjdCgwLDAsdCx0KSxyLmRyYXdJbWFnZShuLC1lLC1zKSx3LmRyYXdJbWFnZShpLDAsMCx0LHQsbyxiLGgsdiksZSs9dCxvKz1oO3MrPXQ7Yis9dn13LnJlc3RvcmUoKTtpPXI9bnVsbH0oKTp3LmRyYXdJbWFnZShuLDAsMCxsLGEpLGUucXFJbWFnZVJlbmRlcmVkJiZlLnFxSW1hZ2VSZW5kZXJlZCgpLGIuc3VjY2VzcygpLGIpfWZ1bmN0aW9uIHMobil7dmFyIGg9bi5ibG9iLGU9bi5pbWFnZSxjPW4uaW1hZ2VIZWlnaHQsbD1uLmltYWdlV2lkdGgsYT1uLm9yaWVudGF0aW9uLHU9bmV3IHQuUHJvbWlzZSx2PW4ucmVzaXplLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikseT1mLmdldENvbnRleHQoIjJkIikscj1uLmNhbnZhcyxvPW4udGFyZ2V0SGVpZ2h0LHM9bi50YXJnZXRXaWR0aDtyZXR1cm4gaShmLGwsYyxhKSxyLmhlaWdodD1vLHIud2lkdGg9cyx5LmRyYXdJbWFnZShlLDAsMCksdih7YmxvYjpoLGhlaWdodDpvLGltYWdlOmUsc291cmNlQ2FudmFzOmYsdGFyZ2V0Q2FudmFzOnIsd2lkdGg6c30pLnRoZW4oZnVuY3Rpb24oKXtyLnFxSW1hZ2VSZW5kZXJlZCYmci5xcUltYWdlUmVuZGVyZWQoKTt1LnN1Y2Nlc3MoKX0sdS5mYWlsdXJlKSx1fWZ1bmN0aW9uIGkobix0LGkscil7c3dpdGNoKHIpe2Nhc2UgNTpjYXNlIDY6Y2FzZSA3OmNhc2UgODpuLndpZHRoPWk7bi5oZWlnaHQ9dDticmVhaztkZWZhdWx0Om4ud2lkdGg9dDtuLmhlaWdodD1pfXZhciB1PW4uZ2V0Q29udGV4dCgiMmQiKTtzd2l0Y2gocil7Y2FzZSAyOnUudHJhbnNsYXRlKHQsMCk7dS5zY2FsZSgtMSwxKTticmVhaztjYXNlIDM6dS50cmFuc2xhdGUodCxpKTt1LnJvdGF0ZShNYXRoLlBJKTticmVhaztjYXNlIDQ6dS50cmFuc2xhdGUoMCxpKTt1LnNjYWxlKDEsLTEpO2JyZWFrO2Nhc2UgNTp1LnJvdGF0ZSguNSpNYXRoLlBJKTt1LnNjYWxlKDEsLTEpO2JyZWFrO2Nhc2UgNjp1LnJvdGF0ZSguNSpNYXRoLlBJKTt1LnRyYW5zbGF0ZSgwLC1pKTticmVhaztjYXNlIDc6dS5yb3RhdGUoLjUqTWF0aC5QSSk7dS50cmFuc2xhdGUodCwtaSk7dS5zY2FsZSgtMSwxKTticmVhaztjYXNlIDg6dS5yb3RhdGUoLS41Kk1hdGguUEkpO3UudHJhbnNsYXRlKC10LDApfX1mdW5jdGlvbiByKG4sdCl7dmFyIGk9dGhpczt3aW5kb3cuQmxvYiYmbiBpbnN0YW5jZW9mIEJsb2ImJmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEltYWdlLHI9d2luZG93LlVSTCYmd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkw/d2luZG93LlVSTDp3aW5kb3cud2Via2l0VVJMJiZ3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cud2Via2l0VVJMOm51bGw7aWYoIXIpdGhyb3cgRXJyb3IoIk5vIGNyZWF0ZU9iamVjdFVSTCBmdW5jdGlvbiBmb3VuZCB0byBjcmVhdGUgYmxvYiB1cmwiKTt0LnNyYz1yLmNyZWF0ZU9iamVjdFVSTChuKTtpLmJsb2I9bjtuPXR9KCk7bi5uYXR1cmFsV2lkdGh8fG4ubmF0dXJhbEhlaWdodHx8KG4ub25sb2FkPWZ1bmN0aW9uKCl7dmFyIG49aS5pbWFnZUxvYWRMaXN0ZW5lcnM7biYmKGkuaW1hZ2VMb2FkTGlzdGVuZXJzPW51bGwsc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGk9bi5sZW5ndGg7dDxpO3QrKyluW3RdKCl9LDApKX0sbi5vbmVycm9yPXQsdGhpcy5pbWFnZUxvYWRMaXN0ZW5lcnM9W10pO3RoaXMuc3JjSW1hZ2U9bn1yLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oaSxyKXtyPXJ8fHt9O3ZhciBoLGM9dGhpcyxvPXRoaXMuc3JjSW1hZ2UubmF0dXJhbFdpZHRoLHM9dGhpcy5zcmNJbWFnZS5uYXR1cmFsSGVpZ2h0LHU9ci53aWR0aCxmPXIuaGVpZ2h0LGw9ci5tYXhXaWR0aCxhPXIubWF4SGVpZ2h0LHY9IXRoaXMuYmxvYnx8ImltYWdlL2pwZWciPT09dGhpcy5ibG9iLnR5cGUseT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZih0aGlzLmltYWdlTG9hZExpc3RlbmVycylyZXR1cm4gdm9pZCB0aGlzLmltYWdlTG9hZExpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7Yy5yZW5kZXIoaSxyKX0pO3UmJiFmP2Y9cyp1L288PDA6ZiYmIXU/dT1vKmYvczw8MDoodT1vLGY9cyk7bCYmdT5sJiYodT1sLGY9cyp1L288PDApO2EmJmY+YSYmKGY9YSx1PW8qZi9zPDwwKTtoPXt3aWR0aDp1LGhlaWdodDpmfTt0LmVhY2gocixmdW5jdGlvbihuLHQpe2hbbl09dH0pOyJpbWciPT09eT9mdW5jdGlvbigpe3ZhciBuPWkuc3JjO2UoYy5zcmNJbWFnZSxjLmJsb2IsaCx2KS50aGVuKGZ1bmN0aW9uKHQpe2kuc3JjPXQ7bj09PWkuc3JjJiZpLm9ubG9hZCgpfSl9KCk6ImNhbnZhcyI9PT15JiZuKHRoaXMuc3JjSW1hZ2UsdGhpcy5ibG9iLGksaCx2KTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vbnJlbmRlciYmdGhpcy5vbnJlbmRlcihpKX07dC5NZWdhUGl4SW1hZ2U9cn0oKTt0LkltYWdlR2VuZXJhdG9yPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe3JldHVybiJpbWciPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gdShuKXtyZXR1cm4iY2FudmFzIj09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGgoKXtyZXR1cm4gdm9pZCAwIT09KG5ldyBJbWFnZSkuY3Jvc3NPcmlnaW59ZnVuY3Rpb24gYygpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiBuLmdldENvbnRleHQmJm4uZ2V0Q29udGV4dCgiMmQiKX1mdW5jdGlvbiBlKG4pe3ZhciByPW4uc3BsaXQoIi8iKSx1PXJbci5sZW5ndGgtMV0uc3BsaXQoIj8iKVswXSxpPXQuZ2V0RXh0ZW5zaW9uKHUpO3N3aXRjaChpPWkmJmkudG9Mb3dlckNhc2UoKSl7Y2FzZSJqcGVnIjpjYXNlImpwZyI6cmV0dXJuImltYWdlL2pwZWciO2Nhc2UicG5nIjpyZXR1cm4iaW1hZ2UvcG5nIjtjYXNlImJtcCI6cmV0dXJuImltYWdlL2JtcCI7Y2FzZSJnaWYiOnJldHVybiJpbWFnZS9naWYiO2Nhc2UidGlmZiI6Y2FzZSJ0aWYiOnJldHVybiJpbWFnZS90aWZmIn19ZnVuY3Rpb24gZihuKXt2YXIgcix1LGYsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGkuaHJlZj1uLHI9aS5wcm90b2NvbCxmPWkucG9ydCx1PWkuaG9zdG5hbWUsci50b0xvd2VyQ2FzZSgpIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLnRvTG93ZXJDYXNlKCl8fHUudG9Mb3dlckNhc2UoKSE9PXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpfHxmIT09d2luZG93LmxvY2F0aW9uLnBvcnQmJiF0LmllKCl9ZnVuY3Rpb24gbCh0LGkpe3Qub25sb2FkPWZ1bmN0aW9uKCl7dC5vbmxvYWQ9bnVsbDt0Lm9uZXJyb3I9bnVsbDtpLnN1Y2Nlc3ModCl9O3Qub25lcnJvcj1mdW5jdGlvbigpe3Qub25sb2FkPW51bGw7dC5vbmVycm9yPW51bGw7bigiUHJvYmxlbSBkcmF3aW5nIHRodW1ibmFpbCEiLCJlcnJvciIpO2kuZmFpbHVyZSh0LCJQcm9ibGVtIGRyYXdpbmcgdGh1bWJuYWlsISIpfX1mdW5jdGlvbiBhKG4sdCl7bi5xcUltYWdlUmVuZGVyZWQ9ZnVuY3Rpb24oKXt0LnN1Y2Nlc3Mobil9fWZ1bmN0aW9uIGkoaSxmKXt2YXIgZT1yKGkpfHx1KGkpO3JldHVybiByKGkpP2woaSxmKTp1KGkpP2EoaSxmKTooZi5mYWlsdXJlKGkpLG4odC5mb3JtYXQoIkVsZW1lbnQgY29udGFpbmVyIG9mIHR5cGUge30gaXMgbm90IHN1cHBvcnRlZCEiLGkudGFnTmFtZSksImVycm9yIikpLGV9ZnVuY3Rpb24gdihyLHUsZil7dmFyIGU9bmV3IHQuUHJvbWlzZSxzPW5ldyB0LklkZW50aWZ5KHIsbiksbz1mLm1heFNpemUsaD1udWxsPT1mLm9yaWVudHx8Zi5vcmllbnQsYz1mdW5jdGlvbigpe3Uub25lcnJvcj1udWxsO3Uub25sb2FkPW51bGw7bigiQ291bGQgbm90IHJlbmRlciBwcmV2aWV3LCBmaWxlIG1heSBiZSB0b28gbGFyZ2UhIiwiZXJyb3IiKTtlLmZhaWx1cmUodSwiQnJvd3NlciBjYW5ub3QgcmVuZGVyIGltYWdlISIpfTtyZXR1cm4gcy5pc1ByZXZpZXdhYmxlKCkudGhlbihmdW5jdGlvbihzKXt2YXIgYT17cGFyc2U6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHQuUHJvbWlzZSkuc3VjY2VzcygpfX0sdj1oP25ldyB0LkV4aWYocixuKTphLGw9bmV3IHQuTWVnYVBpeEltYWdlKHIsYyk7aSh1LGUpJiZ2LnBhcnNlKCkudGhlbihmdW5jdGlvbihuKXt2YXIgdD1uJiZuLk9yaWVudGF0aW9uO2wucmVuZGVyKHUse21heFdpZHRoOm8sbWF4SGVpZ2h0Om8sb3JpZW50YXRpb246dCxtaW1lOnMscmVzaXplOmYuY3VzdG9tUmVzaXplRnVuY3Rpb259KX0sZnVuY3Rpb24oaSl7bih0LmZvcm1hdCgiRVhJRiBkYXRhIGNvdWxkIG5vdCBiZSBwYXJzZWQgKHt9KS4gIEFzc3VtaW5nIG9yaWVudGF0aW9uID0gMS4iLGkpKTtsLnJlbmRlcih1LHttYXhXaWR0aDpvLG1heEhlaWdodDpvLG1pbWU6cyxyZXNpemU6Zi5jdXN0b21SZXNpemVGdW5jdGlvbn0pfSl9LGZ1bmN0aW9uKCl7bigiTm90IHByZXZpZXdhYmxlIik7ZS5mYWlsdXJlKHUsIk5vdCBwcmV2aWV3YWJsZSIpfSksZX1mdW5jdGlvbiBvKG4scix1LG8scyl7dmFyIGg9bmV3IEltYWdlLGM9bmV3IHQuUHJvbWlzZTtpKGgsYyk7ZihuKSYmKGguY3Jvc3NPcmlnaW49ImFub255bW91cyIpO2guc3JjPW47Yy50aGVuKGZ1bmN0aW9uKCl7aShyLHUpO25ldyB0Lk1lZ2FQaXhJbWFnZShoKS5yZW5kZXIocix7bWF4V2lkdGg6byxtYXhIZWlnaHQ6byxtaW1lOmUobikscmVzaXplOnN9KX0sdS5mYWlsdXJlKX1mdW5jdGlvbiBzKG4scix1LGYpe2kocix1KTt0KHIpLmNzcyh7bWF4V2lkdGg6ZisicHgiLG1heEhlaWdodDpmKyJweCJ9KTtyLnNyYz1ufWZ1bmN0aW9uIHkobixlLGwpe3ZhciBhPW5ldyB0LlByb21pc2UseT1sLnNjYWxlLHY9eT9sLm1heFNpemU6bnVsbDtyZXR1cm4geSYmcihlKT9jKCk/ZihuKSYmIWgoKT9zKG4sZSxhLHYpOm8obixlLGEsdik6cyhuLGUsYSx2KTp1KGUpP28obixlLGEsdik6aShlLGEpJiYoZS5zcmM9biksYX10LmV4dGVuZCh0aGlzLHtnZW5lcmF0ZTpmdW5jdGlvbihpLHIsdSl7cmV0dXJuIHQuaXNTdHJpbmcoaSk/KG4oIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHRodW1ibmFpbCBiYXNlZCBvbiBzZXJ2ZXIgcmVzcG9uc2UuIikseShpLHIsdXx8e30pKToobigiQXR0ZW1wdGluZyB0byBkcmF3IGNsaWVudC1zaWRlIGltYWdlIHByZXZpZXcuIiksdihpLHIsdXx8e30pKX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcuaXNJbWc9cjt0aGlzLl90ZXN0aW5nLmlzQ2FudmFzPXU7dGhpcy5fdGVzdGluZy5pc0Nyb3NzT3JpZ2luPWY7dGhpcy5fdGVzdGluZy5kZXRlcm1pbmVNaW1lT2ZGaWxlTmFtZT1lfTt0LkV4aWY9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXtmb3IodmFyIHQ9MCxpPTA7bi5sZW5ndGg+MDspdCs9cGFyc2VJbnQobi5zdWJzdHJpbmcoMCwyKSwxNikqTWF0aC5wb3coMixpKSxuPW4uc3Vic3RyaW5nKDIsbi5sZW5ndGgpLGkrPTg7cmV0dXJuIHR9ZnVuY3Rpb24gdShpLHIpe3ZhciBmPWksZT1yO3JldHVybiB2b2lkIDA9PT1mJiYoZj0yLGU9bmV3IHQuUHJvbWlzZSksdC5yZWFkQmxvYlRvSGV4KG4sZiw0KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciB0LGk9L15mZmUoWzAtOV0pLy5leGVjKG4pO2k/IjEiIT09aVsxXT8odD1wYXJzZUludChuLnNsaWNlKDQsOCksMTYpLHUoZit0KzIsZSkpOmUuc3VjY2VzcyhmKTplLmZhaWx1cmUoIk5vIEVYSUYgaGVhZGVyIHRvIGJlIGZvdW5kISIpfSksZX1mdW5jdGlvbiBlKCl7dmFyIGk9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdC5yZWFkQmxvYlRvSGV4KG4sMCw2KS50aGVuKGZ1bmN0aW9uKG4pezAhPT1uLmluZGV4T2YoImZmZDgiKT9pLmZhaWx1cmUoIk5vdCBhIHZhbGlkIEpQRUchIik6dSgpLnRoZW4oZnVuY3Rpb24obil7aS5zdWNjZXNzKG4pfSxmdW5jdGlvbihuKXtpLmZhaWx1cmUobil9KX0pLGl9ZnVuY3Rpb24gbyhpKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiB0LnJlYWRCbG9iVG9IZXgobixpKzEwLDIpLnRoZW4oZnVuY3Rpb24obil7ci5zdWNjZXNzKCI0OTQ5Ij09PW4pfSkscn1mdW5jdGlvbiBzKGksdSl7dmFyIGY9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdC5yZWFkQmxvYlRvSGV4KG4saSsxOCwyKS50aGVuKGZ1bmN0aW9uKG4pe2lmKHUpcmV0dXJuIGYuc3VjY2VzcyhyKG4pKTtmLnN1Y2Nlc3MocGFyc2VJbnQobiwxNikpfSksZn1mdW5jdGlvbiBoKGkscil7dmFyIHU9aSsyMCxmPTEyKnI7cmV0dXJuIHQucmVhZEJsb2JUb0hleChuLHUsZil9ZnVuY3Rpb24gYyhuKXtmb3IodmFyIGk9W10sdD0wO3QrMjQ8PW4ubGVuZ3RoOylpLnB1c2gobi5zbGljZSh0LHQrMjQpKSx0Kz0yNDtyZXR1cm4gaX1mdW5jdGlvbiBsKG4saSl7dmFyIHU9dC5leHRlbmQoW10sYSksZT17fTtyZXR1cm4gdC5lYWNoKGksZnVuY3Rpb24odCxpKXt2YXIgbyxoLGMsbD1pLnNsaWNlKDAsNCkscz1uP3IobCk6cGFyc2VJbnQobCwxNiksYT11LmluZGV4T2Yocyk7aWYoYT49MCYmKGg9ZltzXS5uYW1lLGM9ZltzXS5ieXRlcyxvPWkuc2xpY2UoMTYsMTYrMipjKSxlW2hdPW4/cihvKTpwYXJzZUludChvLDE2KSx1LnNwbGljZShhLDEpKSwwPT09dS5sZW5ndGgpcmV0dXJuITF9KSxlfXZhciBhPVsyNzRdLGY9ezI3NDp7bmFtZToiT3JpZW50YXRpb24iLGJ5dGVzOjJ9fTt0LmV4dGVuZCh0aGlzLHtwYXJzZTpmdW5jdGlvbigpe3ZhciB1PW5ldyB0LlByb21pc2Uscj1mdW5jdGlvbihuKXtpKHQuZm9ybWF0KCJFWElGIGhlYWRlciBwYXJzZSBmYWlsZWQ6ICd7fScgIixuKSk7dS5mYWlsdXJlKG4pfTtyZXR1cm4gZSgpLnRoZW4oZnVuY3Rpb24oZil7aSh0LmZvcm1hdCgiTW92aW5nIGZvcndhcmQgd2l0aCBFWElGIGhlYWRlciBwYXJzaW5nIGZvciAne30nIix2b2lkIDA9PT1uLm5hbWU/ImJsb2IiOm4ubmFtZSkpO28oZikudGhlbihmdW5jdGlvbihuKXtpKHQuZm9ybWF0KCJFWElGIEJ5dGUgb3JkZXIgaXMge30gZW5kaWFuIixuPyJsaXR0bGUiOiJiaWciKSk7cyhmLG4pLnRoZW4oZnVuY3Rpb24oZSl7aSh0LmZvcm1hdCgiRm91bmQge30gQVBQMSBkaXJlY3RvcnkgZW50cmllcyIsZSkpO2goZixlKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPWModCksZj1sKG4scik7aSgiU3VjY2Vzc2Z1bGx5IHBhcnNlZCBzb21lIEVYSUYgdGFncyIpO3Uuc3VjY2VzcyhmKX0scil9LHIpfSxyKX0sciksdX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcucGFyc2VMaXR0bGVFbmRpYW49cn07dC5JZGVudGlmeT1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4saSl7dmFyIHI9ITEsdT1bXS5jb25jYXQobik7cmV0dXJuIHQuZWFjaCh1LGZ1bmN0aW9uKG4sdCl7aWYoMD09PWkuaW5kZXhPZih0KSlyZXR1cm4gcj0hMCwhMX0pLHJ9dC5leHRlbmQodGhpcyx7aXNQcmV2aWV3YWJsZTpmdW5jdGlvbigpe3ZhciBvPXRoaXMsdT1uZXcgdC5Qcm9taXNlLGY9ITEsZT12b2lkIDA9PT1uLm5hbWU/ImJsb2IiOm4ubmFtZTtyZXR1cm4gaSh0LmZvcm1hdCgiQXR0ZW1wdGluZyB0byBkZXRlcm1pbmUgaWYge30gY2FuIGJlIHJlbmRlcmVkIGluIHRoaXMgYnJvd3NlciIsZSkpLGkoIkZpcnN0IHBhc3M6IGNoZWNrIHR5cGUgYXR0cmlidXRlIG9mIGJsb2Igb2JqZWN0LiIpLHRoaXMuaXNQcmV2aWV3YWJsZVN5bmMoKT8oaSgiU2Vjb25kIHBhc3M6IGNoZWNrIGZvciBtYWdpYyBieXRlcyBpbiBmaWxlIGhlYWRlci4iKSx0LnJlYWRCbG9iVG9IZXgobiwwLDQpLnRoZW4oZnVuY3Rpb24obil7dC5lYWNoKG8uUFJFVklFV0FCTEVfTUlNRV9UWVBFUyxmdW5jdGlvbihpLGUpe2lmKHIoZSxuKSlyZXR1cm4oImltYWdlL3RpZmYiIT09aXx8dC5zdXBwb3J0ZWRGZWF0dXJlcy50aWZmUHJldmlld3MpJiYoZj0hMCx1LnN1Y2Nlc3MoaSkpLCExfSk7aSh0LmZvcm1hdCgiJ3t9JyBpcyB7fSBhYmxlIHRvIGJlIHJlbmRlcmVkIGluIHRoaXMgYnJvd3NlciIsZSxmPyIiOiJOT1QiKSk7Znx8dS5mYWlsdXJlKCl9LGZ1bmN0aW9uKCl7aSgiRXJyb3IgcmVhZGluZyBmaWxlIHcvIG5hbWUgJyIrZSsiJy4gIE5vdCBhYmxlIHRvIGJlIHJlbmRlcmVkIGluIHRoaXMgYnJvd3Nlci4iKTt1LmZhaWx1cmUoKX0pKTp1LmZhaWx1cmUoKSx1fSxpc1ByZXZpZXdhYmxlU3luYzpmdW5jdGlvbigpe3ZhciB1PW4udHlwZSxmPXQuaW5kZXhPZihPYmplY3Qua2V5cyh0aGlzLlBSRVZJRVdBQkxFX01JTUVfVFlQRVMpLHUpPj0wLHI9ITEsZT12b2lkIDA9PT1uLm5hbWU/ImJsb2IiOm4ubmFtZTtyZXR1cm4gZiYmKHI9ImltYWdlL3RpZmYiIT09dXx8dC5zdXBwb3J0ZWRGZWF0dXJlcy50aWZmUHJldmlld3MpLCFyJiZpKGUrIiBpcyBub3QgcHJldmlld2FibGUgaW4gdGhpcyBicm93c2VyIHBlciB0aGUgYmxvYidzIHR5cGUgYXR0ciIpLHJ9fSl9O3QuSWRlbnRpZnkucHJvdG90eXBlLlBSRVZJRVdBQkxFX01JTUVfVFlQRVM9eyJpbWFnZS9qcGVnIjoiZmZkOGZmIiwiaW1hZ2UvZ2lmIjoiNDc0OTQ2IiwiaW1hZ2UvcG5nIjoiODk1MDRlIiwiaW1hZ2UvYm1wIjoiNDI0ZCIsImltYWdlL3RpZmYiOlsiNDk0OTJhMDAiLCI0ZDRkMDAyYSJdfTt0LkltYWdlVmFsaWRhdGlvbj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe3ZhciBpPSExO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe2lmKHQ+MClyZXR1cm4gaT0hMCwhMX0pLGl9ZnVuY3Rpb24gdSgpe3ZhciByPW5ldyB0LlByb21pc2U7cmV0dXJuIG5ldyB0LklkZW50aWZ5KG4saSkuaXNQcmV2aWV3YWJsZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1uZXcgSW1hZ2UsdT13aW5kb3cuVVJMJiZ3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cuVVJMOndpbmRvdy53ZWJraXRVUkwmJndpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMP3dpbmRvdy53ZWJraXRVUkw6bnVsbDt1Pyh0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtpKCJDYW5ub3QgZGV0ZXJtaW5lIGRpbWVuc2lvbnMgZm9yIGltYWdlLiAgTWF5IGJlIHRvbyBsYXJnZS4iLCJlcnJvciIpO3IuZmFpbHVyZSgpfSx0Lm9ubG9hZD1mdW5jdGlvbigpe3Iuc3VjY2Vzcyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KX0sdC5zcmM9dS5jcmVhdGVPYmplY3RVUkwobikpOihpKCJObyBjcmVhdGVPYmplY3RVUkwgZnVuY3Rpb24gYXZhaWxhYmxlIHRvIGdlbmVyYXRlIGltYWdlIFVSTCEiLCJlcnJvciIpLHIuZmFpbHVyZSgpKX0sci5mYWlsdXJlKSxyfWZ1bmN0aW9uIGYobixpKXt2YXIgcjtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtpZih0PjApe3ZhciB1PS8obWF4fG1pbikoV2lkdGh8SGVpZ2h0KS8uZXhlYyhuKSxlPXVbMl0uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrdVsyXS5zbGljZSgxKSxmPWlbZV07c3dpdGNoKHVbMV0pe2Nhc2UibWluIjppZihmPHQpcmV0dXJuIHI9biwhMTticmVhaztjYXNlIm1heCI6aWYoZj50KXJldHVybiByPW4sITF9fX0pLHJ9dGhpcy52YWxpZGF0ZT1mdW5jdGlvbihuKXt2YXIgZT1uZXcgdC5Qcm9taXNlO3JldHVybiBpKCJBdHRlbXB0aW5nIHRvIHZhbGlkYXRlIGltYWdlLiIpLHIobik/dSgpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9ZihuLHQpO2k/ZS5mYWlsdXJlKGkpOmUuc3VjY2VzcygpfSxlLnN1Y2Nlc3MpOmUuc3VjY2VzcygpLGV9fTt0LlNlc3Npb249ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7aWYodC5pc0FycmF5KG4pKXJldHVybiEwO2kubG9nKCJTZXNzaW9uIHJlc3BvbnNlIGlzIG5vdCBhbiBhcnJheS4iLCJlcnJvciIpfWZ1bmN0aW9uIHUobix1LGYsZSl7dmFyIG89ITE7dT11JiZyKG4pO3UmJnQuZWFjaChuLGZ1bmN0aW9uKG4scil7aWYobnVsbD09ci51dWlkKW89ITAsaS5sb2codC5mb3JtYXQoIlNlc3Npb24gcmVzcG9uc2UgaXRlbSB7fSBkaWQgbm90IGluY2x1ZGUgYSB2YWxpZCBVVUlEIC0gaWdub3JpbmcuIixuKSwiZXJyb3IiKTtlbHNlIGlmKG51bGw9PXIubmFtZSlvPSEwLGkubG9nKHQuZm9ybWF0KCJTZXNzaW9uIHJlc3BvbnNlIGl0ZW0ge30gZGlkIG5vdCBpbmNsdWRlIGEgdmFsaWQgbmFtZSAtIGlnbm9yaW5nLiIsbiksImVycm9yIik7ZWxzZSB0cnl7cmV0dXJuIGkuYWRkRmlsZVJlY29yZChyKSwhMH1jYXRjaChuKXtvPSEwO2kubG9nKG4ubWVzc2FnZSwiZXJyb3IiKX1yZXR1cm4hMX0pO2VbdSYmIW8/InN1Y2Nlc3MiOiJmYWlsdXJlIl0obixmKX12YXIgaT17ZW5kcG9pbnQ6bnVsbCxwYXJhbXM6e30sY3VzdG9tSGVhZGVyczp7fSxjb3JzOnt9LGFkZEZpbGVSZWNvcmQ6ZnVuY3Rpb24oKXt9LGxvZzpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbiwhMCk7dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIG49bmV3IHQuUHJvbWlzZSxyPWZ1bmN0aW9uKHQsaSxyKXt1KHQsaSxyLG4pfSxmPXQuZXh0ZW5kKHt9LGkpO3JldHVybiBuZXcgdC5TZXNzaW9uQWpheFJlcXVlc3Rlcih0LmV4dGVuZChmLHtvbkNvbXBsZXRlOnJ9KSkucXVlcnlTZXJ2ZXIoKSxufX07dC5TZXNzaW9uQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuLHIsdSl7dmFyIGY9bnVsbDtpZihudWxsIT1yLnJlc3BvbnNlVGV4dCl0cnl7Zj10LnBhcnNlSnNvbihyLnJlc3BvbnNlVGV4dCl9Y2F0Y2gobil7aS5sb2coIlByb2JsZW0gcGFyc2luZyBzZXNzaW9uIHJlc3BvbnNlOiAiK24ubWVzc2FnZSwiZXJyb3IiKTt1PSEwfWkub25Db21wbGV0ZShmLCF1LHIpfXZhciByLGk9e2VuZHBvaW50Om51bGwsY3VzdG9tSGVhZGVyczp7fSxwYXJhbXM6e30sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxsb2c6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4pO3I9dC5leHRlbmQodGhpcyxuZXcgdC5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLHZhbGlkTWV0aG9kczpbIkdFVCJdLG1ldGhvZDoiR0VUIixlbmRwb2ludFN0b3JlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5lbmRwb2ludH19LGN1c3RvbUhlYWRlcnM6aS5jdXN0b21IZWFkZXJzLGxvZzppLmxvZyxvbkNvbXBsZXRlOnUsY29yczppLmNvcnN9KSk7dC5leHRlbmQodGhpcyx7cXVlcnlTZXJ2ZXI6ZnVuY3Rpb24oKXt2YXIgbj10LmV4dGVuZCh7fSxpLnBhcmFtcyk7aS5sb2coIlNlc3Npb24gcXVlcnkgcmVxdWVzdC4iKTtyLmluaXRUcmFuc3BvcnQoInNlc3Npb25SZWZyZXNoIikud2l0aFBhcmFtcyhuKS53aXRoQ2FjaGVCdXN0ZXIoKS5zZW5kKCl9fSl9O3QuU2NhbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciB1PW4uY3VzdG9tUmVzaXplcixmPW4uc2VuZE9yaWdpbmFsLGU9bi5vcmllbnQsbz1uLmRlZmF1bHRUeXBlLHM9bi5kZWZhdWx0UXVhbGl0eS8xMDAsaD1uLmZhaWx1cmVUZXh0LGM9bi5pbmNsdWRlRXhpZixyPXRoaXMuX2dldFNvcnRlZFNpemVzKG4uc2l6ZXMpO3QuZXh0ZW5kKHRoaXMse2VuYWJsZWQ6dC5zdXBwb3J0ZWRGZWF0dXJlcy5zY2FsaW5nJiZyLmxlbmd0aD4wLGdldEZpbGVSZWNvcmRzOmZ1bmN0aW9uKG4sbCxhKXt2YXIgeT10aGlzLHA9W10sdj1hLmJsb2I/YS5ibG9iOmE7cmV0dXJuIG5ldyB0LklkZW50aWZ5KHYsaSkuaXNQcmV2aWV3YWJsZVN5bmMoKT8odC5lYWNoKHIsZnVuY3Rpb24obixyKXt2YXIgZj15Ll9kZXRlcm1pbmVPdXRwdXRUeXBlKHtkZWZhdWx0VHlwZTpvLHJlcXVlc3RlZFR5cGU6ci50eXBlLHJlZlR5cGU6di50eXBlfSk7cC5wdXNoKHt1dWlkOnQuZ2V0VW5pcXVlSWQoKSxuYW1lOnkuX2dldE5hbWUobCx7bmFtZTpyLm5hbWUsdHlwZTpmLHJlZlR5cGU6di50eXBlfSksYmxvYjpuZXcgdC5CbG9iUHJveHkodix0LmJpbmQoeS5fZ2VuZXJhdGVTY2FsZWRJbWFnZSx5LHtjdXN0b21SZXNpemVGdW5jdGlvbjp1LG1heFNpemU6ci5tYXhTaXplLG9yaWVudDplLHR5cGU6ZixxdWFsaXR5OnMsZmFpbGVkVGV4dDpoLGluY2x1ZGVFeGlmOmMsbG9nOml9KSl9KX0pLHAucHVzaCh7dXVpZDpuLG5hbWU6bCxzaXplOnYuc2l6ZSxibG9iOmY/djpudWxsfSkpOnAucHVzaCh7dXVpZDpuLG5hbWU6bCxzaXplOnYuc2l6ZSxibG9iOnZ9KSxwfSxoYW5kbGVOZXdGaWxlOmZ1bmN0aW9uKG4saSxyLHUsZixlLG8scyl7dmFyIHY9dGhpcyxsPShuLnFxQnV0dG9uSWR8fG4uYmxvYiYmbi5ibG9iLnFxQnV0dG9uSWQsW10pLGg9bnVsbCx5PXMuYWRkRmlsZVRvSGFuZGxlcixjPXMudXBsb2FkRGF0YSxhPXMucGFyYW1zU3RvcmUscD10LmdldFVuaXF1ZUlkKCk7dC5lYWNoKHYuZ2V0RmlsZVJlY29yZHMocixpLG4pLGZ1bmN0aW9uKG4saSl7dmFyIHIsdT1pLnNpemU7aS5ibG9iIGluc3RhbmNlb2YgdC5CbG9iUHJveHkmJih1PS0xKTtyPWMuYWRkRmlsZSh7dXVpZDppLnV1aWQsbmFtZTppLm5hbWUsc2l6ZTp1LGJhdGNoSWQ6ZSxwcm94eUdyb3VwSWQ6cH0pO2kuYmxvYiBpbnN0YW5jZW9mIHQuQmxvYlByb3h5P2wucHVzaChyKTpoPXI7aS5ibG9iPyh5KHIsaS5ibG9iKSxmLnB1c2goe2lkOnIsZmlsZTppLmJsb2J9KSk6Yy5zZXRTdGF0dXMocix0LnN0YXR1cy5SRUpFQ1RFRCl9KTtudWxsIT09aCYmKHQuZWFjaChsLGZ1bmN0aW9uKG4sdCl7dmFyIGk9e3FxcGFyZW50dXVpZDpjLnJldHJpZXZlKHtpZDpofSkudXVpZCxxcXBhcmVudHNpemU6Yy5yZXRyaWV2ZSh7aWQ6aH0pLnNpemV9O2lbb109Yy5yZXRyaWV2ZSh7aWQ6dH0pLnV1aWQ7Yy5zZXRQYXJlbnRJZCh0LGgpO2EuYWRkUmVhZE9ubHkodCxpKX0pLGwubGVuZ3RoJiZmdW5jdGlvbigpe3ZhciBuPXt9O25bb109Yy5yZXRyaWV2ZSh7aWQ6aH0pLnV1aWQ7YS5hZGRSZWFkT25seShoLG4pfSgpKX19KX07dC5leHRlbmQodC5TY2FsZXIucHJvdG90eXBlLHtzY2FsZUltYWdlOmZ1bmN0aW9uKG4saSxyKXsidXNlIHN0cmljdCI7aWYoIXQuc3VwcG9ydGVkRmVhdHVyZXMuc2NhbGluZyl0aHJvdyBuZXcgdC5FcnJvcigiU2NhbGluZyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciEiKTt2YXIgdT1uZXcgdC5Qcm9taXNlLGU9ci5sb2csbz1yLmdldEZpbGUobiksZj1yLnVwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KSxzPWYmJmYubmFtZSxoPWYmJmYudXVpZCxjPXtjdXN0b21SZXNpemVyOmkuY3VzdG9tUmVzaXplcixzZW5kT3JpZ2luYWw6ITEsb3JpZW50Omkub3JpZW50LGRlZmF1bHRUeXBlOmkudHlwZXx8bnVsbCxkZWZhdWx0UXVhbGl0eTppLnF1YWxpdHksZmFpbGVkVG9TY2FsZVRleHQ6IlVuYWJsZSB0byBzY2FsZSIsc2l6ZXM6W3tuYW1lOiIiLG1heFNpemU6aS5tYXhTaXplfV19LGw9bmV3IHQuU2NhbGVyKGMsZSk7cmV0dXJuIHQuU2NhbGVyJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3MmJm8/dC5iaW5kKGZ1bmN0aW9uKCl7dmFyIGk9bC5nZXRGaWxlUmVjb3JkcyhoLHMsbylbMF07aSYmaS5ibG9iIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/aS5ibG9iLmNyZWF0ZSgpLnRoZW4odS5zdWNjZXNzLHUuZmFpbHVyZSk6KGUobisiIGlzIG5vdCBhIHNjYWxhYmxlIGltYWdlISIsImVycm9yIiksdS5mYWlsdXJlKCkpfSx0aGlzKSgpOih1LmZhaWx1cmUoKSxlKCJDb3VsZCBub3QgZ2VuZXJhdGUgcmVxdWVzdGVkIHNjYWxlZCBpbWFnZSBmb3IgIituKyIuICBTY2FsaW5nIGlzIGVpdGhlciBub3QgcG9zc2libGUgaW4gdGhpcyBicm93c2VyLCBvciB0aGUgZmlsZSBjb3VsZCBub3QgYmUgbG9jYXRlZC4iLCJlcnJvciIpKSx1fSxfZGV0ZXJtaW5lT3V0cHV0VHlwZTpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGk9bi5yZXF1ZXN0ZWRUeXBlLHI9bi5kZWZhdWx0VHlwZSx1PW4ucmVmVHlwZTtyZXR1cm4gcnx8aT9pJiZ0LmluZGV4T2YoT2JqZWN0LmtleXModC5JZGVudGlmeS5wcm90b3R5cGUuUFJFVklFV0FCTEVfTUlNRV9UWVBFUyksaSk+PTA/ImltYWdlL3RpZmYiPT09aT90LnN1cHBvcnRlZEZlYXR1cmVzLnRpZmZQcmV2aWV3cz9pOnI6aTpyOiJpbWFnZS9qcGVnIiE9PXU/ImltYWdlL3BuZyI6dX0sX2dldE5hbWU6ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIGY9bi5sYXN0SW5kZXhPZigiLiIpLGU9aS50eXBlfHwiaW1hZ2UvcG5nIixzPWkucmVmVHlwZSxyPSIiLG89dC5nZXRFeHRlbnNpb24obiksdT0iIjtyZXR1cm4gaS5uYW1lJiZpLm5hbWUudHJpbSgpLmxlbmd0aCYmKHU9IiAoIitpLm5hbWUrIikiKSxmPj0wPyhyPW4uc3Vic3RyKDAsZikscyE9PWUmJihvPWUuc3BsaXQoIi8iKVsxXSkscis9dSsiLiIrbyk6cj1uK3Uscn0sX2dldFNvcnRlZFNpemVzOmZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtyZXR1cm4gbj10LmV4dGVuZChbXSxuKSxuLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5tYXhTaXplPnQubWF4U2l6ZT8xOm4ubWF4U2l6ZTx0Lm1heFNpemU/LTE6MH0pfSxfZ2VuZXJhdGVTY2FsZWRJbWFnZTpmdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz10aGlzLHM9bi5jdXN0b21SZXNpemVGdW5jdGlvbixyPW4ubG9nLGg9bi5tYXhTaXplLGM9bi5vcmllbnQsZj1uLnR5cGUsbD1uLnF1YWxpdHksYT1uLmZhaWxlZFRleHQsdj1uLmluY2x1ZGVFeGlmJiYiaW1hZ2UvanBlZyI9PT1pLnR5cGUmJiJpbWFnZS9qcGVnIj09PWYsdT1uZXcgdC5Qcm9taXNlLHk9bmV3IHQuSW1hZ2VHZW5lcmF0b3IociksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gcigiQXR0ZW1wdGluZyB0byBnZW5lcmF0ZSBzY2FsZWQgdmVyc2lvbiBmb3IgIitpLm5hbWUpLHkuZ2VuZXJhdGUoaSxlLHttYXhTaXplOmgsb3JpZW50OmMsY3VzdG9tUmVzaXplRnVuY3Rpb246c30pLnRoZW4oZnVuY3Rpb24oKXt2YXIgbj1lLnRvRGF0YVVSTChmLGwpLHM9ZnVuY3Rpb24oKXtyKCJTdWNjZXNzIGdlbmVyYXRpbmcgc2NhbGVkIHZlcnNpb24gZm9yICIraS5uYW1lKTt2YXIgZj10LmRhdGFVcmlUb0Jsb2Iobik7dS5zdWNjZXNzKGYpfTt2P28uX2luc2VydEV4aWZIZWFkZXIoaSxuLHIpLnRoZW4oZnVuY3Rpb24odCl7bj10O3MoKX0sZnVuY3Rpb24oKXtyKCJQcm9ibGVtIGluc2VydGluZyBFWElGIGhlYWRlciBpbnRvIHNjYWxlZCBpbWFnZS4gIFVzaW5nIHNjYWxlZCBpbWFnZSB3L291dCBFWElGIGRhdGEuIiwiZXJyb3IiKTtzKCl9KTpzKCl9LGZ1bmN0aW9uKCl7cigiRmFpbGVkIGF0dGVtcHQgdG8gZ2VuZXJhdGUgc2NhbGVkIHZlcnNpb24gZm9yICIraS5uYW1lLCJlcnJvciIpO3UuZmFpbHVyZShhKX0pLHV9LF9pbnNlcnRFeGlmSGVhZGVyOmZ1bmN0aW9uKG4saSxyKXsidXNlIHN0cmljdCI7dmFyIHU9bmV3IEZpbGVSZWFkZXIsZj1uZXcgdC5Qcm9taXNlLGU9IiI7cmV0dXJuIHUub25sb2FkPWZ1bmN0aW9uKCl7ZT11LnJlc3VsdDtmLnN1Y2Nlc3ModC5FeGlmUmVzdG9yZXIucmVzdG9yZShlLGkpKX0sdS5vbmVycm9yPWZ1bmN0aW9uKCl7cigiUHJvYmxlbSByZWFkaW5nICIrbi5uYW1lKyIgZHVyaW5nIGF0dGVtcHQgdG8gdHJhbnNmZXIgRVhJRiBkYXRhIHRvIHNjYWxlZCB2ZXJzaW9uLiIsImVycm9yIik7Zi5mYWlsdXJlKCl9LHUucmVhZEFzRGF0YVVSTChuKSxmfSxfZGF0YVVyaVRvQmxvYjpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGksdSxyLGY7cmV0dXJuIGk9bi5zcGxpdCgiLCIpWzBdLmluZGV4T2YoImJhc2U2NCIpPj0wP2F0b2Iobi5zcGxpdCgiLCIpWzFdKTpkZWNvZGVVUkkobi5zcGxpdCgiLCIpWzFdKSx1PW4uc3BsaXQoIiwiKVswXS5zcGxpdCgiOiIpWzFdLnNwbGl0KCI7IilbMF0scj1uZXcgQXJyYXlCdWZmZXIoaS5sZW5ndGgpLGY9bmV3IFVpbnQ4QXJyYXkociksdC5lYWNoKGksZnVuY3Rpb24obix0KXtmW25dPXQuY2hhckNvZGVBdCgwKX0pLHRoaXMuX2NyZWF0ZUJsb2Iocix1KX0sX2NyZWF0ZUJsb2I6ZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7dmFyIHI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXIsaT1yJiZuZXcgcjtyZXR1cm4gaT8oaS5hcHBlbmQobiksaS5nZXRCbG9iKHQpKTpuZXcgQmxvYihbbl0se3R5cGU6dH0pfX0pO3QuRXhpZlJlc3RvcmVyPWZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIG4uS0VZX1NUUj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLG4uZW5jb2RlNjQ9ZnVuY3Rpb24obil7dmFyIHUsdCxvLHMsZixoPSIiLGk9IiIscj0iIixlPTA7ZG8gdT1uW2UrK10sdD1uW2UrK10saT1uW2UrK10sbz11Pj4yLHM9KDMmdSk8PDR8dD4+NCxmPSgxNSZ0KTw8MnxpPj42LHI9NjMmaSxpc05hTih0KT9mPXI9NjQ6aXNOYU4oaSkmJihyPTY0KSxoPWgrdGhpcy5LRVlfU1RSLmNoYXJBdChvKSt0aGlzLktFWV9TVFIuY2hhckF0KHMpK3RoaXMuS0VZX1NUUi5jaGFyQXQoZikrdGhpcy5LRVlfU1RSLmNoYXJBdChyKSx1PXQ9aT0iIixvPXM9Zj1yPSIiO3doaWxlKGU8bi5sZW5ndGgpO3JldHVybiBofSxuLnJlc3RvcmU9ZnVuY3Rpb24obix0KXtpZighbi5tYXRjaCgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiKSlyZXR1cm4gdDt2YXIgaT10aGlzLmRlY29kZTY0KG4ucmVwbGFjZSgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiLCIiKSkscj10aGlzLnNsaWNlMlNlZ21lbnRzKGkpLHU9dGhpcy5leGlmTWFuaXB1bGF0aW9uKHQscik7cmV0dXJuImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIit0aGlzLmVuY29kZTY0KHUpfSxuLmV4aWZNYW5pcHVsYXRpb249ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmdldEV4aWZBcnJheSh0KSxyPXRoaXMuaW5zZXJ0RXhpZihuLGkpO3JldHVybiBuZXcgVWludDhBcnJheShyKX0sbi5nZXRFeGlmQXJyYXk9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9MDtpPG4ubGVuZ3RoO2krKylpZih0PW5baV0sMjU1PT10WzBdJjIyNT09dFsxXSlyZXR1cm4gdDtyZXR1cm5bXX0sbi5pbnNlcnRFeGlmPWZ1bmN0aW9uKG4sdCl7dmFyIGY9bi5yZXBsYWNlKCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIsIiIpLHI9dGhpcy5kZWNvZGU2NChmKSx1PXIuaW5kZXhPZigyNTUsMyksZT1yLnNsaWNlKDAsdSksbz1yLnNsaWNlKHUpLGk9ZTtyZXR1cm4gaT1pLmNvbmNhdCh0KSxpPWkuY29uY2F0KG8pfSxuLnNsaWNlMlNlZ21lbnRzPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wLGk9W107Oyl7aWYoMjU1PT1uW3RdJjIxOD09blt0KzFdKWJyZWFrO2lmKDI1NT09blt0XSYyMTY9PW5bdCsxXSl0Kz0yO2Vsc2V7dmFyIHU9MjU2Km5bdCsyXStuW3QrM10scj10K3UrMixmPW4uc2xpY2UodCxyKTtpLnB1c2goZik7dD1yfWlmKHQ+bi5sZW5ndGgpYnJlYWt9cmV0dXJuIGl9LG4uZGVjb2RlNjQ9ZnVuY3Rpb24obil7dmFyIGUsbyxzLHIsdCxoPSIiLHU9IiIsaT0wLGY9W107aWYoL1teQS1aYS16MC05XCtcL1w9XS9nLmV4ZWMobikpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuICBWYWxpZCBiYXNlNjQgY2hhcmFjdGVycyBhcmUgQS1aLCBhLXosIDAtOSwgJysnLCAnLycsYW5kICc9JyIpO249bi5yZXBsYWNlKC9bXkEtWmEtejAtOVwrXC9cPV0vZywiIik7ZG8gcz10aGlzLktFWV9TVFIuaW5kZXhPZihuLmNoYXJBdChpKyspKSxyPXRoaXMuS0VZX1NUUi5pbmRleE9mKG4uY2hhckF0KGkrKykpLHQ9dGhpcy5LRVlfU1RSLmluZGV4T2Yobi5jaGFyQXQoaSsrKSksdT10aGlzLktFWV9TVFIuaW5kZXhPZihuLmNoYXJBdChpKyspKSxlPXM8PDJ8cj4+NCxvPSgxNSZyKTw8NHx0Pj4yLGg9KDMmdCk8PDZ8dSxmLnB1c2goZSksNjQhPXQmJmYucHVzaChvKSw2NCE9dSYmZi5wdXNoKGgpLGU9bz1oPSIiLHM9cj10PXU9IiI7d2hpbGUoaTxuLmxlbmd0aCk7cmV0dXJuIGZ9LG59KCk7dC5Ub3RhbFByb2dyZXNzPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciByPXt9LGY9MCx1PTAsbz0tMSxzPS0xLGg9ZnVuY3Rpb24odCxpKXt0PT09byYmaT09PXN8fG4odCxpKTtvPXQ7cz1pfSxsPWZ1bmN0aW9uKG4saSl7dmFyIHI9ITA7cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdSl7aWYodC5pbmRleE9mKGksdSk+PTApcmV0dXJuIHI9ITEsITF9KSxyfSxhPWZ1bmN0aW9uKG4pe2UobiwtMSwtMSk7ZGVsZXRlIHJbbl19LHY9ZnVuY3Rpb24obix0LGkpeygwPT09dC5sZW5ndGh8fGwodCxpKSkmJihoKHUsdSksdGhpcy5yZXNldCgpKX0sYz1mdW5jdGlvbihuKXt2YXIgdD1pKG4pO3Q+MCYmKGUobiwwLHQpLHJbbl09e2xvYWRlZDowLHRvdGFsOnR9KX0sZT1mdW5jdGlvbihuLHQsaSl7dmFyIGU9cltuXT9yW25dLmxvYWRlZDowLG89cltuXT9yW25dLnRvdGFsOjA7dD09PS0xJiZpPT09LTE/KGYtPWUsdS09byk6KHQmJihmKz10LWUpLGkmJih1Kz1pLW8pKTtoKGYsdSl9O3QuZXh0ZW5kKHRoaXMse29uQWxsQ29tcGxldGU6dixvblN0YXR1c0NoYW5nZTpmdW5jdGlvbihuLGkscil7cj09PXQuc3RhdHVzLkNBTkNFTEVEfHxyPT09dC5zdGF0dXMuUkVKRUNURUQ/YShuKTpyPT09dC5zdGF0dXMuU1VCTUlUVElORyYmYyhuKX0sb25JbmRpdmlkdWFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkpe2Uobix0LGkpO3Jbbl09e2xvYWRlZDp0LHRvdGFsOml9fSxvbk5ld1NpemU6ZnVuY3Rpb24obil7YyhuKX0scmVzZXQ6ZnVuY3Rpb24oKXtyPXt9O2Y9MDt1PTB9fSl9O3QuUGFzdGVTdXBwb3J0PWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KG4pe3JldHVybiBuLnR5cGUmJjA9PT1uLnR5cGUuaW5kZXhPZigiaW1hZ2UvIil9ZnVuY3Rpb24gZigpe3I9dChpLnRhcmdldEVsZW1lbnQpLmF0dGFjaCgicGFzdGUiLGZ1bmN0aW9uKG4pe3ZhciByPW4uY2xpcGJvYXJkRGF0YTtyJiZ0LmVhY2goci5pdGVtcyxmdW5jdGlvbihuLHQpe2lmKHUodCkpe3ZhciByPXQuZ2V0QXNGaWxlKCk7aS5jYWxsYmFja3MucGFzdGVSZWNlaXZlZChyKX19KX0pfWZ1bmN0aW9uIGUoKXtyJiZyKCl9dmFyIGkscjtpPXt0YXJnZXRFbGVtZW50Om51bGwsY2FsbGJhY2tzOntsb2c6ZnVuY3Rpb24oKXt9LHBhc3RlUmVjZWl2ZWQ6ZnVuY3Rpb24oKXt9fX07dC5leHRlbmQoaSxuKTtmKCk7dC5leHRlbmQodGhpcyx7cmVzZXQ6ZnVuY3Rpb24oKXtlKCl9fSl9O3QuRm9ybVN1cHBvcnQ9ZnVuY3Rpb24obixpLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKG4pe24uZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSYmKGUubmV3RW5kcG9pbnQ9bi5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpKX1mdW5jdGlvbiBmKG4sdCl7aWYoIW4uY2hlY2tWYWxpZGl0eXx8bi5jaGVja1ZhbGlkaXR5KCkpcmV0dXJuITA7cigiRm9ybSBkaWQgbm90IHBhc3MgdmFsaWRhdGlvbiBjaGVja3MgLSB3aWxsIG5vdCB1cGxvYWQuIiwiZXJyb3IiKTt0KCl9ZnVuY3Rpb24gcyhuKXt2YXIgcj1uLnN1Ym1pdDt0KG4pLmF0dGFjaCgic3VibWl0IixmdW5jdGlvbih0KXt0PXR8fHdpbmRvdy5ldmVudDt0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExO2YobixyKSYmaSgpfSk7bi5zdWJtaXQ9ZnVuY3Rpb24oKXtmKG4scikmJmkoKX19ZnVuY3Rpb24gaChuKXtyZXR1cm4gbiYmKHQuaXNTdHJpbmcobikmJihuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKSxuJiYocigiQXR0YWNoaW5nIHRvIGZvcm0gZWxlbWVudC4iKSxvKG4pLGMmJnMobikpKSxufXZhciBlPXRoaXMsYz1uLmludGVyY2VwdFN1Ym1pdCx1PW4uZWxlbWVudCxsPW4uYXV0b1VwbG9hZDt0LmV4dGVuZCh0aGlzLHtuZXdFbmRwb2ludDpudWxsLG5ld0F1dG9VcGxvYWQ6bCxhdHRhY2hlZFRvRm9ybTohMSxnZXRGb3JtSW5wdXRzQXNPYmplY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dT9udWxsOmUuX2Zvcm0yT2JqKHUpfX0pO3U9aCh1KTt0aGlzLmF0dGFjaGVkVG9Gb3JtPSEhdX07dC5leHRlbmQodC5Gb3JtU3VwcG9ydC5wcm90b3R5cGUse19mb3JtMk9iajpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGk9e30sdT1mdW5jdGlvbihuKXtyZXR1cm4gdC5pbmRleE9mKFsiYnV0dG9uIiwiaW1hZ2UiLCJyZXNldCIsInN1Ym1pdCJdLG4udG9Mb3dlckNhc2UoKSk8MH0sZj1mdW5jdGlvbihuKXtyZXR1cm4gdC5pbmRleE9mKFsiY2hlY2tib3giLCJyYWRpbyJdLG4udG9Mb3dlckNhc2UoKSk+PTB9LHI9ZnVuY3Rpb24obil7cmV0dXJuISghZihuLnR5cGUpfHxuLmNoZWNrZWQpfHxuLmRpc2FibGVkJiYiaGlkZGVuIiE9PW4udHlwZS50b0xvd2VyQ2FzZSgpfSxlPWZ1bmN0aW9uKG4pe3ZhciBpPW51bGw7cmV0dXJuIHQuZWFjaCh0KG4pLmNoaWxkcmVuKCksZnVuY3Rpb24obix0KXtpZigib3B0aW9uIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnNlbGVjdGVkKXJldHVybiBpPXQudmFsdWUsITF9KSxpfTtyZXR1cm4gdC5lYWNoKG4uZWxlbWVudHMsZnVuY3Rpb24obixmKXtpZigodC5pc0lucHV0KGYsITApfHwidGV4dGFyZWEiPT09Zi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpJiZ1KGYudHlwZSkmJiFyKGYpKWlbZi5uYW1lXT1mLnZhbHVlO2Vsc2UgaWYoInNlbGVjdCI9PT1mLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmIXIoZikpe3ZhciBvPWUoZik7bnVsbCE9PW8mJihpW2YubmFtZV09byl9fSksaX19KTt0LnRyYWRpdGlvbmFsPXQudHJhZGl0aW9uYWx8fHt9O3QudHJhZGl0aW9uYWwuRm9ybVVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhuLHQpe3ZhciBmLGUsaTt0cnl7ZT10LmNvbnRlbnREb2N1bWVudHx8dC5jb250ZW50V2luZG93LmRvY3VtZW50O2k9ZS5ib2R5LmlubmVySFRNTDt1KCJjb252ZXJ0aW5nIGlmcmFtZSdzIGlubmVySFRNTCB0byBKU09OIik7dSgiaW5uZXJIVE1MID0gIitpKTtpJiZpLm1hdGNoKC9ePHByZS9pKSYmKGk9ZS5ib2R5LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5ub2RlVmFsdWUpO2Y9ci5fcGFyc2VKc29uUmVzcG9uc2UoaSl9Y2F0Y2gobil7dSgiRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIHBhcnNlIGZvcm0gdXBsb2FkIHJlc3BvbnNlICgiK24ubWVzc2FnZSsiKSIsImVycm9yIik7Zj17c3VjY2VzczohMX19cmV0dXJuIGZ9ZnVuY3Rpb24gcyh0LGkpe3ZhciB1PW4ucGFyYW1zU3RvcmUuZ2V0KHQpLG89ImdldCI9PT1uLm1ldGhvZC50b0xvd2VyQ2FzZSgpPyJHRVQiOiJQT1NUIixzPW4uZW5kcG9pbnRTdG9yZS5nZXQodCksaD1mKHQpO3JldHVybiB1W24udXVpZE5hbWVdPWUodCksdVtuLmZpbGVuYW1lUGFyYW1dPWgsci5faW5pdEZvcm1Gb3JVcGxvYWQoe21ldGhvZDpvLGVuZHBvaW50OnMscGFyYW1zOnUscGFyYW1zSW5Cb2R5Om4ucGFyYW1zSW5Cb2R5LHRhcmdldE5hbWU6aS5uYW1lfSl9dmFyIHI9dGhpcyxmPWkuZ2V0TmFtZSxlPWkuZ2V0VXVpZCx1PWkubG9nO3RoaXMudXBsb2FkRmlsZT1mdW5jdGlvbihpKXt2YXIgZixjPXIuZ2V0SW5wdXQoaSksZT1yLl9jcmVhdGVJZnJhbWUoaSksaD1uZXcgdC5Qcm9taXNlO3JldHVybiBmPXMoaSxlKSxmLmFwcGVuZENoaWxkKGMpLHIuX2F0dGFjaExvYWRFdmVudChlLGZ1bmN0aW9uKGYpe3UoImlmcmFtZSBsb2FkZWQiKTt2YXIgcz1mP2Y6byhpLGUpO3IuX2RldGFjaExvYWRFdmVudChpKTtuLmNvcnMuZXhwZWN0ZWR8fHQoZSkucmVtb3ZlKCk7cy5zdWNjZXNzP2guc3VjY2VzcyhzKTpoLmZhaWx1cmUocyl9KSx1KCJTZW5kaW5nIHVwbG9hZCByZXF1ZXN0IGZvciAiK2kpLGYuc3VibWl0KCksdChmKS5yZW1vdmUoKSxofTt0LmV4dGVuZCh0aGlzLG5ldyB0LkZvcm1VcGxvYWRIYW5kbGVyKHtvcHRpb25zOntpc0NvcnM6bi5jb3JzLmV4cGVjdGVkLGlucHV0TmFtZTpuLmlucHV0TmFtZX0scHJveHk6e29uQ2FuY2VsOm4ub25DYW5jZWwsZ2V0TmFtZTpmLGdldFV1aWQ6ZSxsb2c6dX19KSl9O3QudHJhZGl0aW9uYWw9dC50cmFkaXRpb25hbHx8e307dC50cmFkaXRpb25hbC5YaHJVcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciByPXRoaXMsbz1pLmdldE5hbWUscz1pLmdldFNpemUsaD1pLmdldFV1aWQsdT1pLmxvZyxmPW4uZm9yY2VNdWx0aXBhcnR8fG4ucGFyYW1zSW5Cb2R5LHY9ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXModCksZT1vKHQpO24ub21pdERlZmF1bHRQYXJhbXN8fChpW24uY2h1bmtpbmcucGFyYW1OYW1lcy5wYXJ0SW5kZXhdPXIucGFydCxpW24uY2h1bmtpbmcucGFyYW1OYW1lcy5wYXJ0Qnl0ZU9mZnNldF09ci5zdGFydCxpW24uY2h1bmtpbmcucGFyYW1OYW1lcy5jaHVua1NpemVdPXIuc2l6ZSxpW24uY2h1bmtpbmcucGFyYW1OYW1lcy50b3RhbFBhcnRzXT1yLmNvdW50LGlbbi50b3RhbEZpbGVTaXplTmFtZV09dSk7ZiYmIW4ub21pdERlZmF1bHRQYXJhbXMmJihpW24uZmlsZW5hbWVQYXJhbV09ZSl9LHk9bmV3IHQudHJhZGl0aW9uYWwuQWxsQ2h1bmtzRG9uZUFqYXhSZXF1ZXN0ZXIoe2NvcnM6bi5jb3JzLGVuZHBvaW50Om4uY2h1bmtpbmcuc3VjY2Vzcy5lbmRwb2ludCxoZWFkZXJzOm4uY2h1bmtpbmcuc3VjY2Vzcy5oZWFkZXJzLGpzb25QYXlsb2FkOm4uY2h1bmtpbmcuc3VjY2Vzcy5qc29uUGF5bG9hZCxsb2c6dSxtZXRob2Q6bi5jaHVua2luZy5zdWNjZXNzLm1ldGhvZCxwYXJhbXM6bi5jaHVua2luZy5zdWNjZXNzLnBhcmFtc30pLGM9ZnVuY3Rpb24obixpKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiBpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1pLnJlYWR5U3RhdGUpe3ZhciB0PWIobixpKTt0LnN1Y2Nlc3M/ci5zdWNjZXNzKHQucmVzcG9uc2UsaSk6ci5mYWlsdXJlKHQucmVzcG9uc2UsaSl9fSxyfSxwPWZ1bmN0aW9uKHQpe3ZhciBpPW4ucGFyYW1zU3RvcmUuZ2V0KHQpLHU9byh0KSxmPXModCk7cmV0dXJuIGlbbi51dWlkTmFtZV09aCh0KSxpW24uZmlsZW5hbWVQYXJhbV09dSxpW24udG90YWxGaWxlU2l6ZU5hbWVdPWYsaVtuLmNodW5raW5nLnBhcmFtTmFtZXMudG90YWxQYXJ0c109ci5fZ2V0VG90YWxDaHVua3ModCksaX0sdz1mdW5jdGlvbihpLHIpe3JldHVybiB0LmluZGV4T2YoWzIwMCwyMDEsMjAyLDIwMywyMDRdLGkuc3RhdHVzKTwwfHxuLnJlcXVpcmVTdWNjZXNzSnNvbiYmIXIuc3VjY2Vzc3x8ci5yZXNldH0sYj1mdW5jdGlvbihuLHQpe3ZhciBpO3JldHVybiB1KCJ4aHIgLSBzZXJ2ZXIgcmVzcG9uc2UgcmVjZWl2ZWQgZm9yICIrbiksdSgicmVzcG9uc2VUZXh0ID0gIit0LnJlc3BvbnNlVGV4dCksaT1lKCEwLHQpLHtzdWNjZXNzOiF3KHQsaSkscmVzcG9uc2U6aX19LGU9ZnVuY3Rpb24oaSxyKXt2YXIgZj17fTt0cnl7dSh0LmZvcm1hdCgiUmVjZWl2ZWQgcmVzcG9uc2Ugc3RhdHVzIHt9IHdpdGggYm9keToge30iLHIuc3RhdHVzLHIucmVzcG9uc2VUZXh0KSk7Zj10LnBhcnNlSnNvbihyLnJlc3BvbnNlVGV4dCl9Y2F0Y2gocil7aSYmbi5yZXF1aXJlU3VjY2Vzc0pzb24mJnUoIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBwYXJzZSB4aHIgcmVzcG9uc2UgdGV4dCAoIityLm1lc3NhZ2UrIikiLCJlcnJvciIpfXJldHVybiBmfSxrPWZ1bmN0aW9uKGkpe3ZhciB1PW5ldyB0LlByb21pc2U7cmV0dXJuIHkuY29tcGxldGUoaSxyLl9jcmVhdGVYaHIoaSkscChpKSxuLmN1c3RvbUhlYWRlcnMuZ2V0KGkpKS50aGVuKGZ1bmN0aW9uKG4pe3Uuc3VjY2VzcyhlKCExLG4pLG4pfSxmdW5jdGlvbihuKXt1LmZhaWx1cmUoZSghMSxuKSxuKX0pLHV9LGw9ZnVuY3Rpb24oaSl7dmFyIHIsYT1pLmZpbGVPckJsb2IsdT1pLmlkLHY9aS54aHIsZT1pLnhock92ZXJyaWRlc3x8e30seT1pLmN1c3RvbVBhcmFtc3x8e30sYj1pLnBhcmFtc3x8e30scD1lLnBhcmFtc3x8e30sYz1mP25ldyBGb3JtRGF0YTpudWxsLGs9ZS5tZXRob2R8fG4ubWV0aG9kLGw9ZS5lbmRwb2ludHx8bi5lbmRwb2ludFN0b3JlLmdldCh1KSx3PW8odSksZD1zKHUpO3JldHVybiBuLm9taXREZWZhdWx0UGFyYW1zPyhyPXQuZXh0ZW5kKHt9LHkpLHQuZXh0ZW5kKHIscCkpOihyPXQuZXh0ZW5kKHt9LHkpLHQuZXh0ZW5kKHIscCksdC5leHRlbmQocixiKSxyW24udXVpZE5hbWVdPWgodSkscltuLmZpbGVuYW1lUGFyYW1dPXcsZj9yW24udG90YWxGaWxlU2l6ZU5hbWVdPWQ6bi5wYXJhbXNJbkJvZHl8fChyW24uaW5wdXROYW1lXT13KSksbi5wYXJhbXNJbkJvZHl8fChsPXQub2JqMnVybChyLGwpKSx2Lm9wZW4oayxsLCEwKSxuLmNvcnMuZXhwZWN0ZWQmJm4uY29ycy5zZW5kQ3JlZGVudGlhbHMmJih2LndpdGhDcmVkZW50aWFscz0hMCksZj8obi5wYXJhbXNJbkJvZHkmJnQub2JqMkZvcm1EYXRhKHIsYyksYy5hcHBlbmQobi5pbnB1dE5hbWUsYSksYyk6YX0sYT1mdW5jdGlvbihpKXt2YXIgZT1pLmhlYWRlck92ZXJyaWRlcyxvPWkuaWQsdT1pLnhocixzLGg7ZT90LmVhY2goZSxmdW5jdGlvbihuLHQpe3Uuc2V0UmVxdWVzdEhlYWRlcihuLHQpfSk6KHM9bi5jdXN0b21IZWFkZXJzLmdldChvKSxoPXIuZ2V0RmlsZShvKSx1LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24iKSx1LnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLHUuc2V0UmVxdWVzdEhlYWRlcigiQ2FjaGUtQ29udHJvbCIsIm5vLWNhY2hlIiksZnx8KHUuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIiksdS5zZXRSZXF1ZXN0SGVhZGVyKCJYLU1pbWUtVHlwZSIsaC50eXBlKSksdC5lYWNoKHMsZnVuY3Rpb24obix0KXt1LnNldFJlcXVlc3RIZWFkZXIobix0KX0pKX07dC5leHRlbmQodGhpcyx7dXBsb2FkQ2h1bms6ZnVuY3Rpb24odCl7dmFyIHMsaCx5LGk9dC5pZCxmPXQuY2h1bmtJZHgscD10Lm92ZXJyaWRlc3x8e30sdz10LnJlc3VtaW5nLGU9ci5fZ2V0Q2h1bmtEYXRhKGksZiksdT1yLl9jcmVhdGVYaHIoaSxmKSxvPXt9O3JldHVybiBzPWMoaSx1KSxyLl9yZWdpc3RlclByb2dyZXNzSGFuZGxlcihpLGYsZS5zaXplKSx5PW4ucGFyYW1zU3RvcmUuZ2V0KGkpLHYoaSxvLGUpLHcmJihvW24ucmVzdW1lLnBhcmFtTmFtZXMucmVzdW1pbmddPSEwKSxoPWwoe2ZpbGVPckJsb2I6ZS5ibG9iLGlkOmksY3VzdG9tUGFyYW1zOnkscGFyYW1zOm8seGhyOnUseGhyT3ZlcnJpZGVzOnB9KSxhKHtoZWFkZXJPdmVycmlkZXM6cC5oZWFkZXJzLGlkOmkseGhyOnV9KSx1LnNlbmQoaCksc30sdXBsb2FkRmlsZTpmdW5jdGlvbih0KXt2YXIgdSxpLGYsZSxvPXIuZ2V0RmlsZSh0KTtyZXR1cm4gaT1yLl9jcmVhdGVYaHIodCksci5fcmVnaXN0ZXJQcm9ncmVzc0hhbmRsZXIodCksdT1jKHQsaSksZj1uLnBhcmFtc1N0b3JlLmdldCh0KSxlPWwoe2ZpbGVPckJsb2I6byxpZDp0LGN1c3RvbVBhcmFtczpmLHhocjppfSksYSh7aWQ6dCx4aHI6aX0pLGkuc2VuZChlKSx1fX0pO3QuZXh0ZW5kKHRoaXMsbmV3IHQuWGhyVXBsb2FkSGFuZGxlcih7b3B0aW9uczp0LmV4dGVuZCh7bmFtZXNwYWNlOiJ0cmFkaXRpb25hbCJ9LG4pLHByb3h5OnQuZXh0ZW5kKHtnZXRFbmRwb2ludDpuLmVuZHBvaW50U3RvcmUuZ2V0fSxpKX0pKTt0Lm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24ocil7cmV0dXJue2ZpbmFsaXplQ2h1bmtzOmZ1bmN0aW9uKHUpe3JldHVybiBpLm9uRmluYWxpemluZyh1KSxuLmNodW5raW5nLnN1Y2Nlc3MuZW5kcG9pbnQ/ayh1KTpyLmZpbmFsaXplQ2h1bmtzKHUsdC5iaW5kKGUsdGhpcywhMCkpfX19KX07dC50cmFkaXRpb25hbC5BbGxDaHVua3NEb25lQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHUsaT17Y29yczp7YWxsb3dYZHI6ITEsZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxlbmRwb2ludDpudWxsLGxvZzpmdW5jdGlvbigpe30sbWV0aG9kOiJQT1NUIn0scj17fSxmPXtnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNGdW5jdGlvbihpLmVuZHBvaW50KT9pLmVuZHBvaW50KG4pOmkuZW5kcG9pbnR9fTt0LmV4dGVuZChpLG4pO3U9dC5leHRlbmQodGhpcyxuZXcgdC5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLGNvbnRlbnRUeXBlOmkuanNvblBheWxvYWQ/ImFwcGxpY2F0aW9uL2pzb24iOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHZhbGlkTWV0aG9kczpbaS5tZXRob2RdLG1ldGhvZDppLm1ldGhvZCxlbmRwb2ludFN0b3JlOmYsYWxsb3dYUmVxdWVzdGVkV2l0aEFuZENhY2hlQ29udHJvbDohMSxjb3JzOmkuY29ycyxsb2c6aS5sb2csb25Db21wbGV0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHU9cltuXTtkZWxldGUgcltuXTtpP3UuZmFpbHVyZSh0KTp1LnN1Y2Nlc3ModCl9fSkpO3QuZXh0ZW5kKHRoaXMse2NvbXBsZXRlOmZ1bmN0aW9uKG4sZixlLG8pe3ZhciBzPW5ldyB0LlByb21pc2U7cmV0dXJuIGkubG9nKCJTdWJtaXR0aW5nIEFsbCBDaHVua3MgRG9uZSByZXF1ZXN0IGZvciAiK24pLHJbbl09cyx1LmluaXRUcmFuc3BvcnQobikud2l0aFBhcmFtcyhpLnBhcmFtcyhuKXx8ZSkud2l0aEhlYWRlcnMoaS5oZWFkZXJzKG4pfHxvKS5zZW5kKGYpLHN9fSl9O3QuRHJhZ0FuZERyb3A9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGwobix0KXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKTtpLmNhbGxiYWNrcy5kcm9wTG9nKCJHcmFiYmVkICIrbi5sZW5ndGgrIiBkcm9wcGVkIGZpbGVzLiIpO3QuZHJvcERpc2FibGVkKCExKTtpLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGUocix0LmdldEVsZW1lbnQoKSl9ZnVuY3Rpb24gZihuKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiBuLmlzRmlsZT9uLmZpbGUoZnVuY3Rpb24odCl7dC5xcVBhdGg9ZShuKTt1LnB1c2godCk7ci5zdWNjZXNzKCl9LGZ1bmN0aW9uKHQpe2kuY2FsbGJhY2tzLmRyb3BMb2coIlByb2JsZW0gcGFyc2luZyAnIituLmZ1bGxQYXRoKyInLiAgRmlsZUVycm9yIGNvZGUgIit0LmNvZGUrIi4iLCJlcnJvciIpO3IuZmFpbHVyZSgpfSk6bi5pc0RpcmVjdG9yeSYmbyhuKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPW4ubGVuZ3RoO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7Zih0KS5kb25lKGZ1bmN0aW9uKCl7aS09MTswPT09aSYmci5zdWNjZXNzKCl9KX0pO24ubGVuZ3RofHxyLnN1Y2Nlc3MoKX0sZnVuY3Rpb24odCl7aS5jYWxsYmFja3MuZHJvcExvZygiUHJvYmxlbSBwYXJzaW5nICciK24uZnVsbFBhdGgrIicuICBGaWxlRXJyb3IgY29kZSAiK3QuY29kZSsiLiIsImVycm9yIik7ci5mYWlsdXJlKCl9KSxyfWZ1bmN0aW9uIGUobil7dmFyIGk9bi5uYW1lLHQ9bi5mdWxsUGF0aCxyPXQubGFzdEluZGV4T2YoaSk7cmV0dXJuIHQ9dC5zdWJzdHIoMCxyKSwiLyI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zdWJzdHIoMSkpLHR9ZnVuY3Rpb24gbyhuLGkscix1KXt2YXIgZj11fHxuZXcgdC5Qcm9taXNlLGU9aXx8bi5jcmVhdGVSZWFkZXIoKTtyZXR1cm4gZS5yZWFkRW50cmllcyhmdW5jdGlvbih0KXt2YXIgaT1yP3IuY29uY2F0KHQpOnQ7dC5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe28obixlLGksZil9LDApOmYuc3VjY2VzcyhpKX0sZi5mYWlsdXJlKSxmfWZ1bmN0aW9uIGEobixyKXt2YXIgZT1bXSxvPW5ldyB0LlByb21pc2U7cmV0dXJuIGkuY2FsbGJhY2tzLnByb2Nlc3NpbmdEcm9wcGVkRmlsZXMoKSxyLmRyb3BEaXNhYmxlZCghMCksbi5maWxlcy5sZW5ndGg+MSYmIWkuYWxsb3dNdWx0aXBsZUl0ZW1zPyhpLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGUoW10pLGkuY2FsbGJhY2tzLmRyb3BFcnJvcigidG9vTWFueUZpbGVzRXJyb3IiLCIiKSxyLmRyb3BEaXNhYmxlZCghMSksby5mYWlsdXJlKCkpOih1PVtdLHQuaXNGb2xkZXJEcm9wU3VwcG9ydGVkKG4pP3QuZWFjaChuLml0ZW1zLGZ1bmN0aW9uKG4sdCl7dmFyIGk9dC53ZWJraXRHZXRBc0VudHJ5KCk7aSYmKGkuaXNGaWxlP3UucHVzaCh0LmdldEFzRmlsZSgpKTplLnB1c2goZihpKS5kb25lKGZ1bmN0aW9uKCl7ZS5wb3AoKTswPT09ZS5sZW5ndGgmJm8uc3VjY2VzcygpfSkpKX0pOnU9bi5maWxlcywwPT09ZS5sZW5ndGgmJm8uc3VjY2VzcygpKSxvfWZ1bmN0aW9uIHMobil7dmFyIGY9bmV3IHQuVXBsb2FkRHJvcFpvbmUoe0hJREVfWk9ORVNfRVZFTlRfTkFNRToicXEtaGlkZXpvbmVzIixlbGVtZW50Om4sb25FbnRlcjpmdW5jdGlvbihyKXt0KG4pLmFkZENsYXNzKGkuY2xhc3Nlcy5kcm9wQWN0aXZlKTtyLnN0b3BQcm9wYWdhdGlvbigpfSxvbkxlYXZlTm90RGVzY2VuZGFudHM6ZnVuY3Rpb24oKXt0KG4pLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5kcm9wQWN0aXZlKX0sb25Ecm9wOmZ1bmN0aW9uKG4pe2Eobi5kYXRhVHJhbnNmZXIsZikudGhlbihmdW5jdGlvbigpe2wodSxmKX0sZnVuY3Rpb24oKXtpLmNhbGxiYWNrcy5kcm9wTG9nKCJEcm9wIGV2ZW50IERhdGFUcmFuc2ZlciBwYXJzaW5nIGZhaWxlZC4gIE5vIGZpbGVzIHdpbGwgYmUgdXBsb2FkZWQuIiwiZXJyb3IiKX0pfX0pO3JldHVybiByLmFkZERpc3Bvc2VyKGZ1bmN0aW9uKCl7Zi5kaXNwb3NlKCl9KSx0KG4pLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KG4pLmhpZGUoKSxjLnB1c2goZiksZn1mdW5jdGlvbiBoKG4pe3ZhciBpO3JldHVybiB0LmVhY2gobi5kYXRhVHJhbnNmZXIudHlwZXMsZnVuY3Rpb24obix0KXtpZigiRmlsZXMiPT09dClyZXR1cm4gaT0hMCwhMX0pLGl9ZnVuY3Rpb24gdihuKXtyZXR1cm4gdC5zYWZhcmkoKT9uLng8MHx8bi55PDA6MD09PW4ueCYmMD09PW4ueX1mdW5jdGlvbiB5KCl7dmFyIG49aS5kcm9wWm9uZUVsZW1lbnRzLHU9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5lYWNoKG4sZnVuY3Rpb24obixyKXt0KHIpLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KHIpLmhpZGUoKTt0KHIpLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5kcm9wQWN0aXZlKX0pfSwxMCl9O3QuZWFjaChuLGZ1bmN0aW9uKGksdSl7dmFyIGY9cyh1KTtuLmxlbmd0aCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcCYmci5hdHRhY2goZG9jdW1lbnQsImRyYWdlbnRlciIsZnVuY3Rpb24oaSl7IWYuZHJvcERpc2FibGVkKCkmJmgoaSkmJnQuZWFjaChuLGZ1bmN0aW9uKG4saSl7aSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZ0KGkpLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KGkpLmNzcyh7ZGlzcGxheToiYmxvY2sifSl9KX0pfSk7ci5hdHRhY2goZG9jdW1lbnQsImRyYWdsZWF2ZSIsZnVuY3Rpb24obil7dihuKSYmdSgpfSk7ci5hdHRhY2godChkb2N1bWVudCkuY2hpbGRyZW4oKVswXSwibW91c2VlbnRlciIsZnVuY3Rpb24oKXt1KCl9KTtyLmF0dGFjaChkb2N1bWVudCwiZHJvcCIsZnVuY3Rpb24obil7aChuKSYmKG4ucHJldmVudERlZmF1bHQoKSx1KCkpfSk7ci5hdHRhY2goZG9jdW1lbnQsInFxLWhpZGV6b25lcyIsdSl9dmFyIGksYz1bXSx1PVtdLHI9bmV3IHQuRGlzcG9zZVN1cHBvcnQ7aT17ZHJvcFpvbmVFbGVtZW50czpbXSxhbGxvd011bHRpcGxlSXRlbXM6ITAsY2xhc3Nlczp7ZHJvcEFjdGl2ZTpudWxsfSxjYWxsYmFja3M6bmV3IHQuRHJhZ0FuZERyb3AuY2FsbGJhY2tzfTt0LmV4dGVuZChpLG4sITApO3koKTt0LmV4dGVuZCh0aGlzLHtzZXR1cEV4dHJhRHJvcHpvbmU6ZnVuY3Rpb24obil7aS5kcm9wWm9uZUVsZW1lbnRzLnB1c2gobik7cyhuKX0scmVtb3ZlRHJvcHpvbmU6ZnVuY3Rpb24obil7dmFyIHQscj1pLmRyb3Bab25lRWxlbWVudHM7Zm9yKHQgaW4gcilpZihyW3RdPT09bilyZXR1cm4gci5zcGxpY2UodCwxKX0sZGlzcG9zZTpmdW5jdGlvbigpe3IuZGlzcG9zZSgpO3QuZWFjaChjLGZ1bmN0aW9uKG4sdCl7dC5kaXNwb3NlKCl9KX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcuZXh0cmFjdERpcmVjdG9yeVBhdGg9ZX07dC5EcmFnQW5kRHJvcC5jYWxsYmFja3M9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7cmV0dXJue3Byb2Nlc3NpbmdEcm9wcGVkRmlsZXM6ZnVuY3Rpb24oKXt9LHByb2Nlc3NpbmdEcm9wcGVkRmlsZXNDb21wbGV0ZTpmdW5jdGlvbigpe30sZHJvcEVycm9yOmZ1bmN0aW9uKG4saSl7dC5sb2coIkRyYWcgJiBkcm9wIGVycm9yIGNvZGUgJyIrbisiIHdpdGggdGhlc2Ugc3BlY2lmaWNzOiAnIitpKyInIiwiZXJyb3IiKX0sZHJvcExvZzpmdW5jdGlvbihuLGkpe3QubG9nKG4saSl9fX07dC5VcGxvYWREcm9wWm9uZT1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaCgpe3JldHVybiB0LnNhZmFyaSgpfHx0LmZpcmVmb3goKSYmdC53aW5kb3dzKCl9ZnVuY3Rpb24gYygpe3N8fChoP3IuYXR0YWNoKGRvY3VtZW50LCJkcmFnb3ZlciIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfSk6ci5hdHRhY2goZG9jdW1lbnQsImRyYWdvdmVyIixmdW5jdGlvbihuKXtuLmRhdGFUcmFuc2ZlciYmKG4uZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Im5vbmUiLG4ucHJldmVudERlZmF1bHQoKSl9KSxzPSEwKX1mdW5jdGlvbiBmKG4pe2lmKCF0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wKXJldHVybiExO3ZhciByLGk9bi5kYXRhVHJhbnNmZXIsdT10LnNhZmFyaSgpO3JldHVybiByPSEoIXQuaWUoKXx8IXQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3ApfHwibm9uZSIhPT1pLmVmZmVjdEFsbG93ZWQsaSYmciYmKGkuZmlsZXMmJmkuZmlsZXMubGVuZ3RofHwhdSYmaS50eXBlcy5jb250YWlucyYmaS50eXBlcy5jb250YWlucygiRmlsZXMiKXx8aS50eXBlcy5pbmNsdWRlcyYmaS50eXBlcy5pbmNsdWRlcygiRmlsZXMiKSl9ZnVuY3Rpb24gZShuKXtyZXR1cm4gdm9pZCAwIT09biYmKG89biksb31mdW5jdGlvbiBsKCl7ZnVuY3Rpb24gdCgpe249ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7bi5pbml0RXZlbnQoaS5ISURFX1pPTkVTX0VWRU5UX05BTUUsITAsITApfXZhciBuO2lmKHdpbmRvdy5DdXN0b21FdmVudCl0cnl7bj1uZXcgQ3VzdG9tRXZlbnQoaS5ISURFX1pPTkVTX0VWRU5UX05BTUUpfWNhdGNoKG4pe3QoKX1lbHNlIHQoKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG4pfWZ1bmN0aW9uIGEoKXtyLmF0dGFjaCh1LCJkcmFnb3ZlciIsZnVuY3Rpb24obil7aWYoZihuKSl7dmFyIGk9dC5pZSgpJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wP251bGw6bi5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZDtuLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PSJtb3ZlIj09PWl8fCJsaW5rTW92ZSI9PT1pPyJtb3ZlIjoiY29weSI7bi5zdG9wUHJvcGFnYXRpb24oKTtuLnByZXZlbnREZWZhdWx0KCl9fSk7ci5hdHRhY2godSwiZHJhZ2VudGVyIixmdW5jdGlvbihuKXtpZighZSgpKXtpZighZihuKSlyZXR1cm47aS5vbkVudGVyKG4pfX0pO3IuYXR0YWNoKHUsImRyYWdsZWF2ZSIsZnVuY3Rpb24obil7aWYoZihuKSl7aS5vbkxlYXZlKG4pO3ZhciByPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobi5jbGllbnRYLG4uY2xpZW50WSk7dCh0aGlzKS5jb250YWlucyhyKXx8aS5vbkxlYXZlTm90RGVzY2VuZGFudHMobil9fSk7ci5hdHRhY2godSwiZHJvcCIsZnVuY3Rpb24obil7aWYoIWUoKSl7aWYoIWYobikpcmV0dXJuO24ucHJldmVudERlZmF1bHQoKTtuLnN0b3BQcm9wYWdhdGlvbigpO2kub25Ecm9wKG4pO2woKX19KX12YXIgaSx1LG8scyxyPW5ldyB0LkRpc3Bvc2VTdXBwb3J0O2k9e2VsZW1lbnQ6bnVsbCxvbkVudGVyOmZ1bmN0aW9uKCl7fSxvbkxlYXZlOmZ1bmN0aW9uKCl7fSxvbkxlYXZlTm90RGVzY2VuZGFudHM6ZnVuY3Rpb24oKXt9LG9uRHJvcDpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbik7dT1pLmVsZW1lbnQ7YygpO2EoKTt0LmV4dGVuZCh0aGlzLHtkcm9wRGlzYWJsZWQ6ZnVuY3Rpb24obil7cmV0dXJuIGUobil9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtyLmRpc3Bvc2UoKX0sZ2V0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB1fX0pO3RoaXMuX3Rlc3Rpbmc9e307dGhpcy5fdGVzdGluZy5pc1ZhbGlkRmlsZURyYWc9Zn0sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC51aVB1YmxpY0FwaT17YWRkSW5pdGlhbEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5hZGRJbml0aWFsRmlsZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuYWRkQ2FjaGVUb0RvbSgpfSxjbGVhclN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5jbGVhclN0b3JlZEZpbGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLmNsZWFyRmlsZXMoKX0sYWRkRXh0cmFEcm9wem9uZTpmdW5jdGlvbihuKXt0aGlzLl9kbmQmJnRoaXMuX2RuZC5zZXR1cEV4dHJhRHJvcHpvbmUobil9LHJlbW92ZUV4dHJhRHJvcHpvbmU6ZnVuY3Rpb24obil7aWYodGhpcy5fZG5kKXJldHVybiB0aGlzLl9kbmQucmVtb3ZlRHJvcHpvbmUobil9LGdldEl0ZW1CeUZpbGVJZDpmdW5jdGlvbihuKXtpZighdGhpcy5fdGVtcGxhdGluZy5pc0hpZGRlbkZvcmV2ZXIobikpcmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLnJlc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnJlc2V0KCk7IXRoaXMuX29wdGlvbnMuYnV0dG9uJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpO3RoaXMuX2RuZCYmKHRoaXMuX2RuZC5kaXNwb3NlKCksdGhpcy5fZG5kPXRoaXMuX3NldHVwRHJhZ0FuZERyb3AoKSk7dGhpcy5fdG90YWxGaWxlc0luQmF0Y2g9MDt0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MDt0aGlzLl9zZXR1cENsaWNrQW5kRWRpdEV2ZW50SGFuZGxlcnMoKX0sc2V0TmFtZTpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUodCk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5zZXROYW1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZUZpbGVuYW1lKG4saSl9LHBhdXNlVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUucGF1c2VVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0JiZ0aGlzLl90ZW1wbGF0aW5nLnVwbG9hZFBhdXNlZChuKSx0fSxjb250aW51ZVVwbG9hZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLmNvbnRpbnVlVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdCYmdGhpcy5fdGVtcGxhdGluZy51cGxvYWRDb250aW51ZWQobiksdH0sZ2V0SWQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUlkKG4pfSxnZXREcm9wVGFyZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmdldEZpbGUobikucXFEcm9wVGFyZ2V0fX07dC51aVByaXZhdGVBcGk9e19nZXRCdXR0b246ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fZ2V0QnV0dG9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdHx8bj09PXRoaXMuX2RlZmF1bHRCdXR0b25JZCYmKHQ9dGhpcy5fdGVtcGxhdGluZy5nZXRCdXR0b24oKSksdH0sX3JlbW92ZUZpbGVJdGVtOmZ1bmN0aW9uKG4pe3RoaXMuX3RlbXBsYXRpbmcucmVtb3ZlRmlsZShuKX0sX3NldHVwQ2xpY2tBbmRFZGl0RXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuX2ZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyPXQuRmlsZUJ1dHRvbnNDbGlja0hhbmRsZXImJnRoaXMuX2JpbmRGaWxlQnV0dG9uc0NsaWNrRXZlbnQoKTt0aGlzLl9mb2N1c2luRXZlbnRTdXBwb3J0ZWQ9IXQuZmlyZWZveCgpO3RoaXMuX2lzRWRpdEZpbGVuYW1lRW5hYmxlZCgpJiYodGhpcy5fZmlsZW5hbWVDbGlja0hhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lQ2xpY2tFdmVudCgpLHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcj10aGlzLl9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzSW5FdmVudCgpLHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lSW5wdXRGb2N1c0V2ZW50KCkpfSxfc2V0dXBEcmFnQW5kRHJvcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMscj10aGlzLl9vcHRpb25zLmRyYWdBbmREcm9wLmV4dHJhRHJvcHpvbmVzLGk9dGhpcy5fdGVtcGxhdGluZyx1PWkuZ2V0RHJvcFpvbmUoKTtyZXR1cm4gdSYmci5wdXNoKHUpLG5ldyB0LkRyYWdBbmREcm9wKHtkcm9wWm9uZUVsZW1lbnRzOnIsYWxsb3dNdWx0aXBsZUl0ZW1zOnRoaXMuX29wdGlvbnMubXVsdGlwbGUsY2xhc3Nlczp7ZHJvcEFjdGl2ZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuZHJvcEFjdGl2ZX0sY2FsbGJhY2tzOntwcm9jZXNzaW5nRHJvcHBlZEZpbGVzOmZ1bmN0aW9uKCl7aS5zaG93RHJvcFByb2Nlc3NpbmcoKX0scHJvY2Vzc2luZ0Ryb3BwZWRGaWxlc0NvbXBsZXRlOmZ1bmN0aW9uKHIsdSl7aS5oaWRlRHJvcFByb2Nlc3NpbmcoKTt0LmVhY2gocixmdW5jdGlvbihuLHQpe3QucXFEcm9wVGFyZ2V0PXV9KTtyLmxlbmd0aCYmbi5hZGRGaWxlcyhyLG51bGwsbnVsbCl9LGRyb3BFcnJvcjpmdW5jdGlvbih0LGkpe24uX2l0ZW1FcnJvcih0LGkpfSxkcm9wTG9nOmZ1bmN0aW9uKHQsaSl7bi5sb2codCxpKX19fSl9LF9iaW5kRmlsZUJ1dHRvbnNDbGlja0V2ZW50OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IHQuRmlsZUJ1dHRvbnNDbGlja0hhbmRsZXIoe3RlbXBsYXRpbmc6dGhpcy5fdGVtcGxhdGluZyxsb2c6ZnVuY3Rpb24odCxpKXtuLmxvZyh0LGkpfSxvbkRlbGV0ZUZpbGU6ZnVuY3Rpb24odCl7bi5kZWxldGVGaWxlKHQpfSxvbkNhbmNlbDpmdW5jdGlvbih0KXtuLmNhbmNlbCh0KX0sb25SZXRyeTpmdW5jdGlvbih0KXtuLnJldHJ5KHQpfSxvblBhdXNlOmZ1bmN0aW9uKHQpe24ucGF1c2VVcGxvYWQodCl9LG9uQ29udGludWU6ZnVuY3Rpb24odCl7bi5jb250aW51ZVVwbG9hZCh0KX0sb25HZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuLmdldE5hbWUodCl9fSl9LF9pc0VkaXRGaWxlbmFtZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5pc0VkaXRGaWxlbmFtZVBvc3NpYmxlKCkmJiF0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQmJnQuRmlsZW5hbWVDbGlja0hhbmRsZXImJnQuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlciYmdC5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyfSxfZmlsZW5hbWVFZGl0SGFuZGxlcjpmdW5jdGlvbigpe3ZhciBpPXRoaXMsbj10aGlzLl90ZW1wbGF0aW5nO3JldHVybnt0ZW1wbGF0aW5nOm4sbG9nOmZ1bmN0aW9uKG4sdCl7aS5sb2cobix0KX0sb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24obil7cmV0dXJuIGkuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1c30sb25HZXROYW1lOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdldE5hbWUobil9LG9uU2V0TmFtZTpmdW5jdGlvbihuLHQpe2kuc2V0TmFtZShuLHQpfSxvbkVkaXRpbmdTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oaSxyKXt2YXIgdT10KG4uZ2V0RWRpdElucHV0KGkpKSxmPXQobi5nZXRGaWxlQ29udGFpbmVyKGkpKTtyPyh1LmFkZENsYXNzKCJxcS1lZGl0aW5nIiksbi5oaWRlRmlsZW5hbWUoaSksbi5oaWRlRWRpdEljb24oaSkpOih1LnJlbW92ZUNsYXNzKCJxcS1lZGl0aW5nIiksbi5zaG93RmlsZW5hbWUoaSksbi5zaG93RWRpdEljb24oaSkpO2YuYWRkQ2xhc3MoInFxLXRlbXAiKS5yZW1vdmVDbGFzcygicXEtdGVtcCIpfX19LF9vblVwbG9hZFN0YXR1c0NoYW5nZTpmdW5jdGlvbihuLGkscil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25VcGxvYWRTdGF0dXNDaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX2lzRWRpdEZpbGVuYW1lRW5hYmxlZCgpJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikmJnIhPT10LnN0YXR1cy5TVUJNSVRURUQmJih0aGlzLl90ZW1wbGF0aW5nLm1hcmtGaWxlbmFtZUVkaXRhYmxlKG4pLHRoaXMuX3RlbXBsYXRpbmcuaGlkZUVkaXRJY29uKG4pKTtpPT09dC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HJiZyPT09dC5zdGF0dXMuVVBMT0FESU5HPyh0aGlzLl90ZW1wbGF0aW5nLmhpZGVSZXRyeShuKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobiksdCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLnJlbW92ZUNsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlpbmcpKTpyPT09dC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCYmdGhpcy5fdGVtcGxhdGluZy5oaWRlUGF1c2Uobil9LF9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzSW5FdmVudDpmdW5jdGlvbigpe3ZhciBuPXQuZXh0ZW5kKHt9LHRoaXMuX2ZpbGVuYW1lRWRpdEhhbmRsZXIoKSk7cmV0dXJuIG5ldyB0LkZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcihuKX0sX2JpbmRGaWxlbmFtZUlucHV0Rm9jdXNFdmVudDpmdW5jdGlvbigpe3ZhciBuPXQuZXh0ZW5kKHt9LHRoaXMuX2ZpbGVuYW1lRWRpdEhhbmRsZXIoKSk7cmV0dXJuIG5ldyB0LkZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXIobil9LF9iaW5kRmlsZW5hbWVDbGlja0V2ZW50OmZ1bmN0aW9uKCl7dmFyIG49dC5leHRlbmQoe30sdGhpcy5fZmlsZW5hbWVFZGl0SGFuZGxlcigpKTtyZXR1cm4gbmV3IHQuRmlsZW5hbWVDbGlja0hhbmRsZXIobil9LF9zdG9yZUZvckxhdGVyOmZ1bmN0aW9uKG4pe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX3N0b3JlRm9yTGF0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuaGlkZVNwaW5uZXIobil9LF9vbkFsbENvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25BbGxDb21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5yZXNldFRvdGFsUHJvZ3Jlc3MoKX0sX29uU3VibWl0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5nZXRGaWxlKG4pO2kmJmkucXFQYXRoJiZ0aGlzLl9vcHRpb25zLmRyYWdBbmREcm9wLnJlcG9ydERpcmVjdG9yeVBhdGhzJiZ0aGlzLl9wYXJhbXNTdG9yZS5hZGRSZWFkT25seShuLHtxcXBhdGg6aS5xcVBhdGh9KTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblN1Ym1pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fYWRkVG9MaXN0KG4sdCl9LF9vblN1Ym1pdHRlZDpmdW5jdGlvbihuKXt0aGlzLl9pc0VkaXRGaWxlbmFtZUVuYWJsZWQoKSYmKHRoaXMuX3RlbXBsYXRpbmcubWFya0ZpbGVuYW1lRWRpdGFibGUobiksdGhpcy5fdGVtcGxhdGluZy5zaG93RWRpdEljb24obiksdGhpcy5fZm9jdXNpbkV2ZW50U3VwcG9ydGVkfHx0aGlzLl9maWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyLmFkZEhhbmRsZXIodGhpcy5fdGVtcGxhdGluZy5nZXRFZGl0SW5wdXQobikpKX0sX29uUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkscil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25Qcm9ncmVzcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy51cGRhdGVQcm9ncmVzcyhuLGkscik7MD09PXJ8fDEwMD09PU1hdGgucm91bmQoaS9yKjEwMCk/KHRoaXMuX3RlbXBsYXRpbmcuaGlkZUNhbmNlbChuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVQYXVzZShuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVQcm9ncmVzcyhuKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobix0aGlzLl9vcHRpb25zLnRleHQud2FpdGluZ0ZvclJlc3BvbnNlKSx0aGlzLl9kaXNwbGF5RmlsZVNpemUobikpOnRoaXMuX2Rpc3BsYXlGaWxlU2l6ZShuLGkscil9LF9vblRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblRvdGFsUHJvZ3Jlc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcudXBkYXRlVG90YWxQcm9ncmVzcyhuLHQpfSxfb25Db21wbGV0ZTpmdW5jdGlvbihuLGkscil7ZnVuY3Rpb24gcyhpKXtlJiYodS5zZXRTdGF0dXNUZXh0KG4pLHQoZSkucmVtb3ZlQ2xhc3MoZi5fY2xhc3Nlcy5yZXRyeWluZyksdS5oaWRlUHJvZ3Jlc3MobiksZi5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzIT09dC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCYmdS5oaWRlQ2FuY2VsKG4pLHUuaGlkZVNwaW5uZXIobiksaS5zdWNjZXNzP2YuX21hcmtGaWxlQXNTdWNjZXNzZnVsKG4pOih0KGUpLmFkZENsYXNzKGYuX2NsYXNzZXMuZmFpbCksdS5zaG93Q2FuY2VsKG4pLHUuaXNSZXRyeVBvc3NpYmxlKCkmJiFmLl9wcmV2ZW50UmV0cmllc1tuXSYmKHQoZSkuYWRkQ2xhc3MoZi5fY2xhc3Nlcy5yZXRyeWFibGUpLHUuc2hvd1JldHJ5KG4pKSxmLl9jb250cm9sRmFpbHVyZVRleHREaXNwbGF5KG4saSkpKX12YXIgbz10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkNvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx1PXRoaXMuX3RlbXBsYXRpbmcsZT11LmdldEZpbGVDb250YWluZXIobiksZj10aGlzO3JldHVybiBvIGluc3RhbmNlb2YgdC5Qcm9taXNlP28uZG9uZShmdW5jdGlvbihuKXtzKG4pfSk6cyhyKSxvfSxfbWFya0ZpbGVBc1N1Y2Nlc3NmdWw6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdGVtcGxhdGluZzt0aGlzLl9pc0RlbGV0ZVBvc3NpYmxlKCkmJmkuc2hvd0RlbGV0ZUJ1dHRvbihuKTt0KGkuZ2V0RmlsZUNvbnRhaW5lcihuKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5zdWNjZXNzKTt0aGlzLl9tYXliZVVwZGF0ZVRodW1ibmFpbChuKX0sX29uVXBsb2FkUHJlcDpmdW5jdGlvbihuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZFByZXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobil9LF9vblVwbG9hZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobiksdH0sX29uVXBsb2FkQ2h1bms6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZENodW5rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0LnBhcnRJbmRleD4wJiZ0aGlzLl9oYW5kbGVyLmlzUmVzdW1hYmxlKG4pJiZ0aGlzLl90ZW1wbGF0aW5nLmFsbG93UGF1c2Uobil9LF9vbkNhbmNlbDpmdW5jdGlvbihuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkNhbmNlbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fcmVtb3ZlRmlsZUl0ZW0obik7MD09PXRoaXMuX2dldE5vdEZpbmlzaGVkKCkmJnRoaXMuX3RlbXBsYXRpbmcucmVzZXRUb3RhbFByb2dyZXNzKCl9LF9vbkJlZm9yZUF1dG9SZXRyeTpmdW5jdGlvbihuKXt2YXIgcix1LGk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25CZWZvcmVBdXRvUmV0cnkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3Nob3dDYW5jZWxMaW5rKG4pO3RoaXMuX29wdGlvbnMucmV0cnkuc2hvd0F1dG9SZXRyeU5vdGUmJihyPXRoaXMuX2F1dG9SZXRyaWVzW25dLHU9dGhpcy5fb3B0aW9ucy5yZXRyeS5tYXhBdXRvQXR0ZW1wdHMsaT10aGlzLl9vcHRpb25zLnJldHJ5LmF1dG9SZXRyeU5vdGUucmVwbGFjZSgvXHtyZXRyeU51bVx9L2csciksaT1pLnJlcGxhY2UoL1x7bWF4QXV0b1x9L2csdSksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4saSksdCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlpbmcpKX0sX29uQmVmb3JlTWFudWFsUmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQmVmb3JlTWFudWFsUmV0cnkuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLl90ZW1wbGF0aW5nLnJlc2V0UHJvZ3Jlc3MobiksdCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLnJlbW92ZUNsYXNzKHRoaXMuX2NsYXNzZXMuZmFpbCksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4pLHRoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobiksdGhpcy5fc2hvd0NhbmNlbExpbmsobiksITApOih0KHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5yZXRyeWFibGUpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd1JldHJ5KG4pLCExKX0sX29uU3VibWl0RGVsZXRlOmZ1bmN0aW9uKG4pe3ZhciBpPXQuYmluZCh0aGlzLl9vblN1Ym1pdERlbGV0ZVN1Y2Nlc3MsdGhpcyk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25TdWJtaXREZWxldGUuY2FsbCh0aGlzLG4saSl9LF9vblN1Ym1pdERlbGV0ZVN1Y2Nlc3M6ZnVuY3Rpb24oKXt0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZm9yY2VDb25maXJtP3RoaXMuX3Nob3dEZWxldGVDb25maXJtLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLl9zZW5kRGVsZXRlUmVxdWVzdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9vbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkRlbGV0ZUNvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLmhpZGVTcGlubmVyKG4pO2k/KHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5kZWxldGluZ0ZhaWxlZFRleHQpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd0RlbGV0ZUJ1dHRvbihuKSk6dGhpcy5fcmVtb3ZlRmlsZUl0ZW0obil9LF9zZW5kRGVsZXRlUmVxdWVzdDpmdW5jdGlvbihuKXt0aGlzLl90ZW1wbGF0aW5nLmhpZGVEZWxldGVCdXR0b24obik7dGhpcy5fdGVtcGxhdGluZy5zaG93U3Bpbm5lcihuKTt0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobix0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZGVsZXRpbmdTdGF0dXNUZXh0KTt0aGlzLl9kZWxldGVIYW5kbGVyLnNlbmREZWxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfc2hvd0RlbGV0ZUNvbmZpcm06ZnVuY3Rpb24obil7dmFyIGksZj10aGlzLmdldE5hbWUobiksZT10aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuY29uZmlybU1lc3NhZ2UucmVwbGFjZSgvXHtmaWxlbmFtZVx9L2csZiksdT0odGhpcy5nZXRVdWlkKG4pLGFyZ3VtZW50cykscj10aGlzO2k9dGhpcy5fb3B0aW9ucy5zaG93Q29uZmlybShlKTt0LmlzR2VuZXJpY1Byb21pc2UoaSk/aS50aGVuKGZ1bmN0aW9uKCl7ci5fc2VuZERlbGV0ZVJlcXVlc3QuYXBwbHkocix1KX0pOmkhPT0hMSYmci5fc2VuZERlbGV0ZVJlcXVlc3QuYXBwbHkocix1KX0sX2FkZFRvTGlzdDpmdW5jdGlvbihuLGkscil7dmFyIGYsdSxlPTAsbz10aGlzLl9oYW5kbGVyLmlzUHJveGllZChuKSYmdGhpcy5fb3B0aW9ucy5zY2FsaW5nLmhpZGVTY2FsZWQ7dGhpcy5fb3B0aW9ucy5kaXNwbGF5LnByZXBlbmRGaWxlcyYmKHRoaXMuX3RvdGFsRmlsZXNJbkJhdGNoPjEmJnRoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaT4wJiYoZT10aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWktMSksZj17aW5kZXg6ZX0pO3J8fCh0aGlzLl9vcHRpb25zLmRpc2FibGVDYW5jZWxGb3JGb3JtVXBsb2FkcyYmIXQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZyYmdGhpcy5fdGVtcGxhdGluZy5kaXNhYmxlQ2FuY2VsKCksdGhpcy5fb3B0aW9ucy5tdWx0aXBsZXx8KHU9dGhpcy5nZXRVcGxvYWRzKHtpZDpufSksdGhpcy5faGFuZGxlZFByb3h5R3JvdXA9dGhpcy5faGFuZGxlZFByb3h5R3JvdXB8fHUucHJveHlHcm91cElkLHUucHJveHlHcm91cElkPT09dGhpcy5faGFuZGxlZFByb3h5R3JvdXAmJnUucHJveHlHcm91cElkfHwodGhpcy5faGFuZGxlci5jYW5jZWxBbGwoKSx0aGlzLl9jbGVhckxpc3QoKSx0aGlzLl9oYW5kbGVkUHJveHlHcm91cD1udWxsKSkpO3I/KHRoaXMuX3RlbXBsYXRpbmcuYWRkRmlsZVRvQ2FjaGUobix0aGlzLl9vcHRpb25zLmZvcm1hdEZpbGVOYW1lKGkpLGYsbyksdGhpcy5fdGVtcGxhdGluZy51cGRhdGVUaHVtYm5haWwobix0aGlzLl90aHVtYm5haWxVcmxzW25dLCEwLHRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5jdXN0b21SZXNpemVyKSk6KHRoaXMuX3RlbXBsYXRpbmcuYWRkRmlsZShuLHRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUoaSksZixvKSx0aGlzLl90ZW1wbGF0aW5nLmdlbmVyYXRlUHJldmlldyhuLHRoaXMuZ2V0RmlsZShuKSx0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMuY3VzdG9tUmVzaXplcikpO3RoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaSs9MTsocnx8dGhpcy5fb3B0aW9ucy5kaXNwbGF5LmZpbGVTaXplT25TdWJtaXQmJnQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZykmJnRoaXMuX2Rpc3BsYXlGaWxlU2l6ZShuKX0sX2NsZWFyTGlzdDpmdW5jdGlvbigpe3RoaXMuX3RlbXBsYXRpbmcuY2xlYXJGaWxlcygpO3RoaXMuY2xlYXJTdG9yZWRGaWxlcygpfSxfZGlzcGxheUZpbGVTaXplOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLmdldFNpemUobiksdT10aGlzLl9mb3JtYXRTaXplKHIpO3I+PTAmJih2b2lkIDAhPT10JiZ2b2lkIDAhPT1pJiYodT10aGlzLl9mb3JtYXRQcm9ncmVzcyh0LGkpKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVNpemUobix1KSl9LF9mb3JtYXRQcm9ncmVzczpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIobix0KXtpPWkucmVwbGFjZShuLHQpfXZhciBpPXRoaXMuX29wdGlvbnMudGV4dC5mb3JtYXRQcm9ncmVzcztyZXR1cm4gcigie3BlcmNlbnR9IixNYXRoLnJvdW5kKG4vdCoxMDApKSxyKCJ7dG90YWxfc2l6ZX0iLHRoaXMuX2Zvcm1hdFNpemUodCkpLGl9LF9jb250cm9sRmFpbHVyZVRleHREaXNwbGF5OmZ1bmN0aW9uKG4sdCl7dmFyIGksdSxyO2k9dGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5tb2RlO3U9dGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5yZXNwb25zZVByb3BlcnR5OyJjdXN0b20iPT09aT8ocj10W3VdLHJ8fChyPXRoaXMuX29wdGlvbnMudGV4dC5mYWlsVXBsb2FkKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobixyKSx0aGlzLl9vcHRpb25zLmZhaWxlZFVwbG9hZFRleHREaXNwbGF5LmVuYWJsZVRvb2x0aXAmJnRoaXMuX3Nob3dUb29sdGlwKG4scikpOiJkZWZhdWx0Ij09PWk/dGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4sdGhpcy5fb3B0aW9ucy50ZXh0LmZhaWxVcGxvYWQpOiJub25lIiE9PWkmJnRoaXMubG9nKCJmYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5tb2RlIHZhbHVlIG9mICciK2krIicgaXMgbm90IHZhbGlkIiwid2FybiIpfSxfc2hvd1Rvb2x0aXA6ZnVuY3Rpb24obix0KXt0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikudGl0bGU9dH0sX3Nob3dDYW5jZWxMaW5rOmZ1bmN0aW9uKG4pe3RoaXMuX29wdGlvbnMuZGlzYWJsZUNhbmNlbEZvckZvcm1VcGxvYWRzJiYhdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nfHx0aGlzLl90ZW1wbGF0aW5nLnNob3dDYW5jZWwobil9LF9pdGVtRXJyb3I6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9pdGVtRXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX29wdGlvbnMuc2hvd01lc3NhZ2Uobil9LF9iYXRjaEVycm9yOmZ1bmN0aW9uKG4pe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX2JhdGNoRXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX29wdGlvbnMuc2hvd01lc3NhZ2Uobil9LF9zZXR1cFBhc3RlUHJvbXB0OmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblBhc3RlUmVjZWl2ZWQ9ZnVuY3Rpb24oKXt2YXIgdD1uLl9vcHRpb25zLnBhc3RlLm5hbWVQcm9tcHRNZXNzYWdlLGk9bi5fb3B0aW9ucy5wYXN0ZS5kZWZhdWx0TmFtZTtyZXR1cm4gbi5fb3B0aW9ucy5zaG93UHJvbXB0KHQsaSl9fSxfZmlsZU9yQmxvYlJlamVjdGVkOmZ1bmN0aW9uKCl7dGhpcy5fdG90YWxGaWxlc0luQmF0Y2gtPTE7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fZmlsZU9yQmxvYlJlamVjdGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX3ByZXBhcmVJdGVtc0ZvclVwbG9hZDpmdW5jdGlvbihuKXt0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD1uLmxlbmd0aDt0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MDt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9wcmVwYXJlSXRlbXNGb3JVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfbWF5YmVVcGRhdGVUaHVtYm5haWw6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdGh1bWJuYWlsVXJsc1tuXTt0aGlzLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXMhPT10LnN0YXR1cy5ERUxFVEVEJiYoaXx8dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLnBsYWNlaG9sZGVycy53YWl0VW50aWxSZXNwb25zZXx8IXQuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cykmJnRoaXMuX3RlbXBsYXRpbmcudXBkYXRlVGh1bWJuYWlsKG4saSx0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMuY3VzdG9tUmVzaXplcil9LF9hZGRDYW5uZWRGaWxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fYWRkQ2FubmVkRmlsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX2FkZFRvTGlzdChuLHRoaXMuZ2V0TmFtZShuKSwhMCksdGhpcy5fdGVtcGxhdGluZy5oaWRlU3Bpbm5lcihuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVDYW5jZWwobiksdGhpcy5fbWFya0ZpbGVBc1N1Y2Nlc3NmdWwobiksbn0sX3NldFNpemU6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9zZXRTaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVNpemUobix0aGlzLl9mb3JtYXRTaXplKHQpKX0sX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl90ZW1wbGF0aW5nLmFkZENhY2hlVG9Eb20oKTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9zZXNzaW9uUmVxdWVzdENvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSgpO3QuRmluZVVwbG9hZGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciByPXRoaXM7dGhpcy5fcGFyZW50PWk/dFtpXS5GaW5lVXBsb2FkZXJCYXNpYzp0LkZpbmVVcGxvYWRlckJhc2ljO3RoaXMuX3BhcmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dC5leHRlbmQodGhpcy5fb3B0aW9ucyx7ZWxlbWVudDpudWxsLGJ1dHRvbjpudWxsLGxpc3RFbGVtZW50Om51bGwsZHJhZ0FuZERyb3A6e2V4dHJhRHJvcHpvbmVzOltdLHJlcG9ydERpcmVjdG9yeVBhdGhzOiExfSx0ZXh0Ontmb3JtYXRQcm9ncmVzczoie3BlcmNlbnR9JSBvZiB7dG90YWxfc2l6ZX0iLGZhaWxVcGxvYWQ6IlVwbG9hZCBmYWlsZWQiLHdhaXRpbmdGb3JSZXNwb25zZToiUHJvY2Vzc2luZy4uLiIscGF1c2VkOiJQYXVzZWQifSx0ZW1wbGF0ZToicXEtdGVtcGxhdGUiLGNsYXNzZXM6e3JldHJ5aW5nOiJxcS11cGxvYWQtcmV0cnlpbmciLHJldHJ5YWJsZToicXEtdXBsb2FkLXJldHJ5YWJsZSIsc3VjY2VzczoicXEtdXBsb2FkLXN1Y2Nlc3MiLGZhaWw6InFxLXVwbG9hZC1mYWlsIixlZGl0YWJsZToicXEtZWRpdGFibGUiLGhpZGU6InFxLWhpZGUiLGRyb3BBY3RpdmU6InFxLXVwbG9hZC1kcm9wLWFyZWEtYWN0aXZlIn0sZmFpbGVkVXBsb2FkVGV4dERpc3BsYXk6e21vZGU6ImRlZmF1bHQiLHJlc3BvbnNlUHJvcGVydHk6ImVycm9yIixlbmFibGVUb29sdGlwOiEwfSxtZXNzYWdlczp7dG9vTWFueUZpbGVzRXJyb3I6IllvdSBtYXkgb25seSBkcm9wIG9uZSBmaWxlIix1bnN1cHBvcnRlZEJyb3dzZXI6IlVucmVjb3ZlcmFibGUgZXJyb3IgLSB0aGlzIGJyb3dzZXIgZG9lcyBub3QgcGVybWl0IGZpbGUgdXBsb2FkaW5nIG9mIGFueSBraW5kLiJ9LHJldHJ5OntzaG93QXV0b1JldHJ5Tm90ZTohMCxhdXRvUmV0cnlOb3RlOiJSZXRyeWluZyB7cmV0cnlOdW19L3ttYXhBdXRvfS4uLiJ9LGRlbGV0ZUZpbGU6e2ZvcmNlQ29uZmlybTohMSxjb25maXJtTWVzc2FnZToiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB7ZmlsZW5hbWV9PyIsZGVsZXRpbmdTdGF0dXNUZXh0OiJEZWxldGluZy4uLiIsZGVsZXRpbmdGYWlsZWRUZXh0OiJEZWxldGUgZmFpbGVkIn0sZGlzcGxheTp7ZmlsZVNpemVPblN1Ym1pdDohMSxwcmVwZW5kRmlsZXM6ITF9LHBhc3RlOntwcm9tcHRGb3JOYW1lOiExLG5hbWVQcm9tcHRNZXNzYWdlOiJQbGVhc2UgbmFtZSB0aGlzIGltYWdlIn0sdGh1bWJuYWlsczp7Y3VzdG9tUmVzaXplcjpudWxsLG1heENvdW50OjAscGxhY2Vob2xkZXJzOnt3YWl0VW50aWxSZXNwb25zZTohMSxub3RBdmFpbGFibGVQYXRoOm51bGwsd2FpdGluZ1BhdGg6bnVsbH0sdGltZUJldHdlZW5UaHVtYnM6NzUwfSxzY2FsaW5nOntoaWRlU2NhbGVkOiExfSxzaG93TWVzc2FnZTpmdW5jdGlvbihuKXtpZihyLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygiYWxlcnQiKSlyZXR1cm4gci5fdGVtcGxhdGluZy5zaG93RGlhbG9nKCJhbGVydCIsbik7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5hbGVydChuKX0sMCl9LHNob3dDb25maXJtOmZ1bmN0aW9uKG4pe3JldHVybiByLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygiY29uZmlybSIpP3IuX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygiY29uZmlybSIsbik6d2luZG93LmNvbmZpcm0obil9LHNob3dQcm9tcHQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gci5fdGVtcGxhdGluZy5oYXNEaWFsb2coInByb21wdCIpP3IuX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygicHJvbXB0IixuLHQpOndpbmRvdy5wcm9tcHQobix0KX19LCEwKTt0LmV4dGVuZCh0aGlzLl9vcHRpb25zLG4sITApO3RoaXMuX3RlbXBsYXRpbmc9bmV3IHQuVGVtcGxhdGluZyh7bG9nOnQuYmluZCh0aGlzLmxvZyx0aGlzKSx0ZW1wbGF0ZUlkT3JFbDp0aGlzLl9vcHRpb25zLnRlbXBsYXRlLGNvbnRhaW5lckVsOnRoaXMuX29wdGlvbnMuZWxlbWVudCxmaWxlQ29udGFpbmVyRWw6dGhpcy5fb3B0aW9ucy5saXN0RWxlbWVudCxidXR0b246dGhpcy5fb3B0aW9ucy5idXR0b24saW1hZ2VHZW5lcmF0b3I6dGhpcy5faW1hZ2VHZW5lcmF0b3IsY2xhc3Nlczp7aGlkZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuaGlkZSxlZGl0YWJsZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuZWRpdGFibGV9LGxpbWl0czp7bWF4VGh1bWJzOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5tYXhDb3VudCx0aW1lQmV0d2VlblRodW1iczp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMudGltZUJldHdlZW5UaHVtYnN9LHBsYWNlaG9sZGVyczp7d2FpdFVudGlsVXBkYXRlOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdFVudGlsUmVzcG9uc2UsdGh1bWJuYWlsTm90QXZhaWxhYmxlOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMubm90QXZhaWxhYmxlUGF0aCx3YWl0aW5nRm9yVGh1bWJuYWlsOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdGluZ1BhdGh9LHRleHQ6dGhpcy5fb3B0aW9ucy50ZXh0fSk7dGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4U2FmYXJpVXBsb2FkcyYmdC5pb3M4MDAoKSYmdC5pb3NTYWZhcmkoKT90aGlzLl90ZW1wbGF0aW5nLnJlbmRlckZhaWx1cmUodGhpcy5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpKTohdC5zdXBwb3J0ZWRGZWF0dXJlcy51cGxvYWRpbmd8fHRoaXMuX29wdGlvbnMuY29ycy5leHBlY3RlZCYmIXQuc3VwcG9ydGVkRmVhdHVyZXMudXBsb2FkQ29ycz90aGlzLl90ZW1wbGF0aW5nLnJlbmRlckZhaWx1cmUodGhpcy5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXIpOih0aGlzLl93cmFwQ2FsbGJhY2tzKCksdGhpcy5fdGVtcGxhdGluZy5yZW5kZXIoKSx0aGlzLl9jbGFzc2VzPXRoaXMuX29wdGlvbnMuY2xhc3NlcywhdGhpcy5fb3B0aW9ucy5idXR0b24mJnRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCkmJih0aGlzLl9kZWZhdWx0QnV0dG9uSWQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHtlbGVtZW50OnRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCksdGl0bGU6dGhpcy5fb3B0aW9ucy50ZXh0LmZpbGVJbnB1dFRpdGxlfSkuZ2V0QnV0dG9uSWQoKSksdGhpcy5fc2V0dXBDbGlja0FuZEVkaXRFdmVudEhhbmRsZXJzKCksdC5EcmFnQW5kRHJvcCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcCYmKHRoaXMuX2RuZD10aGlzLl9zZXR1cERyYWdBbmREcm9wKCkpLHRoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCYmdGhpcy5fb3B0aW9ucy5wYXN0ZS5wcm9tcHRGb3JOYW1lJiYodC5QYXN0ZVN1cHBvcnQ/dGhpcy5fc2V0dXBQYXN0ZVByb21wdCgpOnRoaXMubG9nKCJQYXN0ZSBzdXBwb3J0IG1vZHVsZSBub3QgZm91bmQuIiwiZXJyb3IiKSksdGhpcy5fdG90YWxGaWxlc0luQmF0Y2g9MCx0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MCl9O3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyLnByb3RvdHlwZSx0LmJhc2VQdWJsaWNBcGkpO3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyLnByb3RvdHlwZSx0LmJhc2VQcml2YXRlQXBpKTt0LmV4dGVuZCh0LkZpbmVVcGxvYWRlci5wcm90b3R5cGUsdC51aVB1YmxpY0FwaSk7dC5leHRlbmQodC5GaW5lVXBsb2FkZXIucHJvdG90eXBlLHQudWlQcml2YXRlQXBpKTt0LlRlbXBsYXRpbmc9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBoLHl0LHB0LGV0LHMsdix5LG90LHA9e2NvbnRlbnQ6ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG1hcDp7fX0sc3Q9ITEsdz0wLGc9ITEsbnQ9W10sYT0tMSxyPXtsb2c6bnVsbCxsaW1pdHM6e21heFRodW1iczowLHRpbWVCZXR3ZWVuVGh1bWJzOjc1MH0sdGVtcGxhdGVJZE9yRWw6InFxLXRlbXBsYXRlIixjb250YWluZXJFbDpudWxsLGZpbGVDb250YWluZXJFbDpudWxsLGJ1dHRvbjpudWxsLGltYWdlR2VuZXJhdG9yOm51bGwsY2xhc3Nlczp7aGlkZToicXEtaGlkZSIsZWRpdGFibGU6InFxLWVkaXRhYmxlIn0scGxhY2Vob2xkZXJzOnt3YWl0VW50aWxVcGRhdGU6ITEsdGh1bWJuYWlsTm90QXZhaWxhYmxlOm51bGwsd2FpdGluZ0ZvclRodW1ibmFpbDpudWxsfSx0ZXh0OntwYXVzZWQ6IlBhdXNlZCJ9fSxpPXtidXR0b246InFxLXVwbG9hZC1idXR0b24tc2VsZWN0b3IiLGFsZXJ0RGlhbG9nOiJxcS1hbGVydC1kaWFsb2ctc2VsZWN0b3IiLGRpYWxvZ0NhbmNlbEJ1dHRvbjoicXEtY2FuY2VsLWJ1dHRvbi1zZWxlY3RvciIsY29uZmlybURpYWxvZzoicXEtY29uZmlybS1kaWFsb2ctc2VsZWN0b3IiLGRpYWxvZ01lc3NhZ2U6InFxLWRpYWxvZy1tZXNzYWdlLXNlbGVjdG9yIixkaWFsb2dPa0J1dHRvbjoicXEtb2stYnV0dG9uLXNlbGVjdG9yIixwcm9tcHREaWFsb2c6InFxLXByb21wdC1kaWFsb2ctc2VsZWN0b3IiLHVwbG9hZGVyOiJxcS11cGxvYWRlci1zZWxlY3RvciIsZHJvcDoicXEtdXBsb2FkLWRyb3AtYXJlYS1zZWxlY3RvciIsbGlzdDoicXEtdXBsb2FkLWxpc3Qtc2VsZWN0b3IiLHByb2dyZXNzQmFyQ29udGFpbmVyOiJxcS1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIixwcm9ncmVzc0JhcjoicXEtcHJvZ3Jlc3MtYmFyLXNlbGVjdG9yIix0b3RhbFByb2dyZXNzQmFyQ29udGFpbmVyOiJxcS10b3RhbC1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIix0b3RhbFByb2dyZXNzQmFyOiJxcS10b3RhbC1wcm9ncmVzcy1iYXItc2VsZWN0b3IiLGZpbGU6InFxLXVwbG9hZC1maWxlLXNlbGVjdG9yIixzcGlubmVyOiJxcS11cGxvYWQtc3Bpbm5lci1zZWxlY3RvciIsc2l6ZToicXEtdXBsb2FkLXNpemUtc2VsZWN0b3IiLGNhbmNlbDoicXEtdXBsb2FkLWNhbmNlbC1zZWxlY3RvciIscGF1c2U6InFxLXVwbG9hZC1wYXVzZS1zZWxlY3RvciIsY29udGludWVCdXR0b246InFxLXVwbG9hZC1jb250aW51ZS1zZWxlY3RvciIsZGVsZXRlQnV0dG9uOiJxcS11cGxvYWQtZGVsZXRlLXNlbGVjdG9yIixyZXRyeToicXEtdXBsb2FkLXJldHJ5LXNlbGVjdG9yIixzdGF0dXNUZXh0OiJxcS11cGxvYWQtc3RhdHVzLXRleHQtc2VsZWN0b3IiLGVkaXRGaWxlbmFtZUlucHV0OiJxcS1lZGl0LWZpbGVuYW1lLXNlbGVjdG9yIixlZGl0TmFtZUljb246InFxLWVkaXQtZmlsZW5hbWUtaWNvbi1zZWxlY3RvciIsZHJvcFRleHQ6InFxLXVwbG9hZC1kcm9wLWFyZWEtdGV4dC1zZWxlY3RvciIsZHJvcFByb2Nlc3Npbmc6InFxLWRyb3AtcHJvY2Vzc2luZy1zZWxlY3RvciIsZHJvcFByb2Nlc3NpbmdTcGlubmVyOiJxcS1kcm9wLXByb2Nlc3Npbmctc3Bpbm5lci1zZWxlY3RvciIsdGh1bWJuYWlsOiJxcS10aHVtYm5haWwtc2VsZWN0b3IifSxsPXt9LHR0PW5ldyB0LlByb21pc2UsZD1uZXcgdC5Qcm9taXNlLHRpPWZ1bmN0aW9uKCl7dmFyIG49ci5wbGFjZWhvbGRlcnMudGh1bWJuYWlsTm90QXZhaWxhYmxlLHQ9ci5wbGFjZWhvbGRlcnMud2FpdGluZ0ZvclRodW1ibmFpbCxpPXttYXhTaXplOmEsc2NhbGU6b3R9O3kmJihuP3IuaW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUobixuZXcgSW1hZ2UsaSkudGhlbihmdW5jdGlvbihuKXt0dC5zdWNjZXNzKG4pfSxmdW5jdGlvbigpe3R0LmZhaWx1cmUoKTtoKCJQcm9ibGVtIGxvYWRpbmcgJ25vdCBhdmFpbGFibGUnIHBsYWNlaG9sZGVyIGltYWdlIGF0ICIrbiwiZXJyb3IiKX0pOnR0LmZhaWx1cmUoKSx0P3IuaW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUodCxuZXcgSW1hZ2UsaSkudGhlbihmdW5jdGlvbihuKXtkLnN1Y2Nlc3Mobil9LGZ1bmN0aW9uKCl7ZC5mYWlsdXJlKCk7aCgiUHJvYmxlbSBsb2FkaW5nICd3YWl0aW5nIGZvciB0aHVtYm5haWwnIHBsYWNlaG9sZGVyIGltYWdlIGF0ICIrdCwiZXJyb3IiKX0pOmQuZmFpbHVyZSgpKX0saHQ9ZnVuY3Rpb24obil7dmFyIGk9bmV3IHQuUHJvbWlzZTtyZXR1cm4gZC50aGVuKGZ1bmN0aW9uKHQpe2d0KHQsbik7bi5zcmM/aS5zdWNjZXNzKCk6KG4uc3JjPXQuc3JjLG4ub25sb2FkPWZ1bmN0aW9uKCl7bi5vbmxvYWQ9bnVsbDtvKG4pO2kuc3VjY2VzcygpfSl9LGZ1bmN0aW9uKCl7ZihuKTtpLnN1Y2Nlc3MoKX0pLGl9LGlpPWZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1iKG4pO3JldHVybiBoKCJHZW5lcmF0aW5nIG5ldyB0aHVtYm5haWwgZm9yICIrbiksdC5xcVRodW1ibmFpbElkPW4sci5pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZSh0LHUsaSkudGhlbihmdW5jdGlvbigpe3crKztvKHUpO2xbbl0uc3VjY2VzcygpfSxmdW5jdGlvbigpe2xbbl0uZmFpbHVyZSgpO3IucGxhY2Vob2xkZXJzLndhaXRVbnRpbFVwZGF0ZXx8ayhuLHUpfSl9LGM9ZnVuY3Rpb24oKXtpZihudC5sZW5ndGgpe2c9ITA7dmFyIG49bnQuc2hpZnQoKTtuLnVwZGF0ZT9laShuKTpmaShuKX1lbHNlIGc9ITF9LHd0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5jYW5jZWwpfSxjdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuY29udGludWVCdXR0b24pfSxidD1mdW5jdGlvbihuKXtyZXR1cm4gdShzLGlbbisiRGlhbG9nIl0pfSxsdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZGVsZXRlQnV0dG9uKX0sYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdShzLGkuZHJvcFByb2Nlc3NpbmcpfSxrdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZWRpdE5hbWVJY29uKX0sZT1mdW5jdGlvbihuKXtyZXR1cm4gcC5tYXBbbl18fHQodikuZ2V0Rmlyc3RCeUNsYXNzKCJxcS1maWxlLWlkLSIrbil9LGl0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5maWxlKX0scnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLnBhdXNlKX0sdXQ9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/dShzLGkudG90YWxQcm9ncmVzc0JhckNvbnRhaW5lcil8fHUocyxpLnRvdGFsUHJvZ3Jlc3NCYXIpOnUoZShuKSxpLnByb2dyZXNzQmFyQ29udGFpbmVyKXx8dShlKG4pLGkucHJvZ3Jlc3NCYXIpfSx2dD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkucmV0cnkpfSxkdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuc2l6ZSl9LGZ0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5zcGlubmVyKX0sdT1mdW5jdGlvbihuLGkpe3JldHVybiBuJiZ0KG4pLmdldEZpcnN0QnlDbGFzcyhpKX0sYj1mdW5jdGlvbihuKXtyZXR1cm4geSYmdShlKG4pLGkudGh1bWJuYWlsKX0sZj1mdW5jdGlvbihuKXtuJiZ0KG4pLmFkZENsYXNzKHIuY2xhc3Nlcy5oaWRlKX0sZ3Q9ZnVuY3Rpb24obixpKXt2YXIgcj1uLnN0eWxlLm1heFdpZHRoLHU9bi5zdHlsZS5tYXhIZWlnaHQ7dSYmciYmIWkuc3R5bGUubWF4V2lkdGgmJiFpLnN0eWxlLm1heEhlaWdodCYmdChpKS5jc3Moe21heFdpZHRoOnIsbWF4SGVpZ2h0OnV9KX0saz1mdW5jdGlvbihuLGkpe3ZhciB1PWxbbl18fChuZXcgdC5Qcm9taXNlKS5mYWlsdXJlKCkscj1uZXcgdC5Qcm9taXNlO3JldHVybiB0dC50aGVuKGZ1bmN0aW9uKG4pe3UudGhlbihmdW5jdGlvbigpe3Iuc3VjY2VzcygpfSxmdW5jdGlvbigpe2d0KG4saSk7aS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLm9ubG9hZD1udWxsO3Iuc3VjY2VzcygpfTtpLnNyYz1uLnNyYztvKGkpfSl9KSxyfSxyaT1mdW5jdGlvbigpe3ZhciBzLGUsbyxuLHcsYyx1LGYsbCx2LHA7aWYoaCgiUGFyc2luZyB0ZW1wbGF0ZSIpLG51bGw9PXIudGVtcGxhdGVJZE9yRWwpdGhyb3cgbmV3IEVycm9yKCJZb3UgTVVTVCBzcGVjaWZ5IGVpdGhlciBhIHRlbXBsYXRlIGVsZW1lbnQgb3IgSUQhIik7aWYodC5pc1N0cmluZyhyLnRlbXBsYXRlSWRPckVsKSl7aWYocz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLnRlbXBsYXRlSWRPckVsKSxudWxsPT09cyl0aHJvdyBuZXcgRXJyb3IodC5mb3JtYXQoIkNhbm5vdCBmaW5kIHRlbXBsYXRlIHNjcmlwdCBhdCBJRCAne30nISIsci50ZW1wbGF0ZUlkT3JFbCkpO2U9cy5pbm5lckhUTUx9ZWxzZXtpZih2b2lkIDA9PT1yLnRlbXBsYXRlSWRPckVsLmlubmVySFRNTCl0aHJvdyBuZXcgRXJyb3IoIllvdSBoYXZlIHNwZWNpZmllZCBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgdGVtcGxhdGUgb3B0aW9uISAgSXQgbXVzdCBiZSBhbiBJRCBvciBhbiBFbGVtZW50LiIpO2U9ci50ZW1wbGF0ZUlkT3JFbC5pbm5lckhUTUx9aWYoZT10LnRyaW1TdHIoZSksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuLmFwcGVuZENoaWxkKHQudG9FbGVtZW50KGUpKSxwPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkudXBsb2FkZXIpLHIuYnV0dG9uJiYoYz10KG4pLmdldEZpcnN0QnlDbGFzcyhpLmJ1dHRvbiksYyYmdChjKS5yZW1vdmUoKSksdC5EcmFnQW5kRHJvcCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcHx8KGw9dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS5kcm9wUHJvY2Vzc2luZyksbCYmdChsKS5yZW1vdmUoKSksdT10KG4pLmdldEZpcnN0QnlDbGFzcyhpLmRyb3ApLHUmJiF0LkRyYWdBbmREcm9wJiYoaCgiRG5EIG1vZHVsZSB1bmF2YWlsYWJsZS4iLCJpbmZvIiksdCh1KS5yZW1vdmUoKSksdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcD90KHApLmhhc0F0dHJpYnV0ZSgicXEtZHJvcC1hcmVhLXRleHQiKSYmdSYmKHY9dCh1KS5nZXRGaXJzdEJ5Q2xhc3MoaS5kcm9wVGV4dCksdiYmdCh2KS5yZW1vdmUoKSk6KHAucmVtb3ZlQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpLHUmJnQodSkuaGFzQXR0cmlidXRlKCJxcS1oaWRlLWRyb3B6b25lIikmJnQodSkuY3NzKHtkaXNwbGF5OiJub25lIn0pKSxmPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkudGh1bWJuYWlsKSx5P2YmJihhPXBhcnNlSW50KGYuZ2V0QXR0cmlidXRlKCJxcS1tYXgtc2l6ZSIpKSxhPWE+MD9hOm51bGwsb3Q9dChmKS5oYXNBdHRyaWJ1dGUoInFxLXNlcnZlci1zY2FsZSIpKTpmJiZ0KGYpLnJlbW92ZSgpLHk9eSYmZix5dD10KG4pLmdldEJ5Q2xhc3MoaS5lZGl0RmlsZW5hbWVJbnB1dCkubGVuZ3RoPjAscHQ9dChuKS5nZXRCeUNsYXNzKGkucmV0cnkpLmxlbmd0aD4wLG89dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS5saXN0KSxudWxsPT1vKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgdGhlIGZpbGUgbGlzdCBjb250YWluZXIgaW4gdGhlIHRlbXBsYXRlISIpO3JldHVybiB3PW8uY2hpbGRyZW5bMF0uY2xvbmVOb2RlKCEwKSxvLmlubmVySFRNTD0iIixuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJESUFMT0ciKS5sZW5ndGgmJmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWxvZyIpLGgoIlRlbXBsYXRlIHBhcnNpbmcgY29tcGxldGUiKSx7dGVtcGxhdGU6bixmaWxlVGVtcGxhdGU6d319LHVpPWZ1bmN0aW9uKG4saSxyKXt2YXIgdT1yLGY9dS5maXJzdENoaWxkO2k+MCYmKGY9dCh1KS5jaGlsZHJlbigpW2ldLm5leHRTaWJsaW5nKTt1Lmluc2VydEJlZm9yZShuLGYpfSxmaT1mdW5jdGlvbihuKXt2YXIgaT1uLmlkLGY9bi5vcHRGaWxlT3JCbG9iLGU9ZiYmZi5xcVRodW1ibmFpbElkLHU9YihpKSxvPXtjdXN0b21SZXNpemVGdW5jdGlvbjpuLmN1c3RvbVJlc2l6ZUZ1bmN0aW9uLG1heFNpemU6YSxvcmllbnQ6ITAsc2NhbGU6ITB9O3Quc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cz91P3IubGltaXRzLm1heFRodW1icyYmci5saW1pdHMubWF4VGh1bWJzPD13PyhrKGksdSksYygpKTpodCh1KS5kb25lKGZ1bmN0aW9uKCl7bFtpXT1uZXcgdC5Qcm9taXNlO2xbaV0uZG9uZShmdW5jdGlvbigpe3NldFRpbWVvdXQoYyxyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icyl9KTtudWxsIT1lP29pKGksZSk6aWkoaSxmLG8pfSk6YygpOnUmJihodCh1KSxjKCkpfSxlaT1mdW5jdGlvbihuKXt2YXIgaT1uLmlkLHU9bi50aHVtYm5haWxVcmwsZj1uLnNob3dXYWl0aW5nSW1nLHQ9YihpKSxlPXtjdXN0b21SZXNpemVGdW5jdGlvbjpuLmN1c3RvbVJlc2l6ZUZ1bmN0aW9uLHNjYWxlOm90LG1heFNpemU6YX07aWYodClpZih1KXtpZighKHIubGltaXRzLm1heFRodW1icyYmci5saW1pdHMubWF4VGh1bWJzPD13KSlyZXR1cm4gZiYmaHQodCksci5pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZSh1LHQsZSkudGhlbihmdW5jdGlvbigpe28odCk7dysrO3NldFRpbWVvdXQoYyxyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icyl9LGZ1bmN0aW9uKCl7ayhpLHQpO3NldFRpbWVvdXQoYyxyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icyl9KTtrKGksdCk7YygpfWVsc2UgayhpLHQpLGMoKX0sbmk9ZnVuY3Rpb24obixyKXt2YXIgdT11dChuKSxmPW51bGw9PW4/aS50b3RhbFByb2dyZXNzQmFyOmkucHJvZ3Jlc3NCYXI7dSYmIXQodSkuaGFzQ2xhc3MoZikmJih1PXQodSkuZ2V0Rmlyc3RCeUNsYXNzKGYpKTt1JiYodCh1KS5jc3Moe3dpZHRoOnIrIiUifSksdS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLHIpKX0sbz1mdW5jdGlvbihuKXtuJiZ0KG4pLnJlbW92ZUNsYXNzKHIuY2xhc3Nlcy5oaWRlKX0sb2k9ZnVuY3Rpb24obixpKXt2YXIgdT1iKG4pLGY9YihpKTtoKHQuZm9ybWF0KCJJRCB7fSBpcyB0aGUgc2FtZSBmaWxlIGFzIElEIHt9LiAgV2lsbCB1c2UgZ2VuZXJhdGVkIHRodW1ibmFpbCBmcm9tIElEIHt9IGluc3RlYWQuIixuLGksaSkpO2xbaV0udGhlbihmdW5jdGlvbigpe3crKztsW25dLnN1Y2Nlc3MoKTtoKHQuZm9ybWF0KCJOb3cgdXNpbmcgcHJldmlvdXNseSBnZW5lcmF0ZWQgdGh1bWJuYWlsIGNyZWF0ZWQgZm9yIElEIHt9IG9uIElEIHt9LiIsaSxuKSk7dS5zcmM9Zi5zcmM7byh1KX0sZnVuY3Rpb24oKXtsW25dLmZhaWx1cmUoKTtyLnBsYWNlaG9sZGVycy53YWl0VW50aWxVcGRhdGV8fGsobix1KX0pfTt0LmV4dGVuZChyLG4pO2g9ci5sb2c7dC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzfHwoci5saW1pdHMudGltZUJldHdlZW5UaHVtYnM9MCxyLmxpbWl0cy5tYXhUaHVtYnM9MCk7cz1yLmNvbnRhaW5lckVsO3k9dm9pZCAwIT09ci5pbWFnZUdlbmVyYXRvcjtldD1yaSgpO3RpKCk7dC5leHRlbmQodGhpcyx7cmVuZGVyOmZ1bmN0aW9uKCl7aCgiUmVuZGVyaW5nIHRlbXBsYXRlIGluIERPTS4iKTt3PTA7cy5hcHBlbmRDaGlsZChldC50ZW1wbGF0ZS5jbG9uZU5vZGUoITApKTtmKGF0KCkpO3RoaXMuaGlkZVRvdGFsUHJvZ3Jlc3MoKTt2PXIuZmlsZUNvbnRhaW5lckVsfHx1KHMsaS5saXN0KTtoKCJUZW1wbGF0ZSByZW5kZXJpbmcgY29tcGxldGUiKX0scmVuZGVyRmFpbHVyZTpmdW5jdGlvbihuKXt2YXIgaT10LnRvRWxlbWVudChuKTtzLmlubmVySFRNTD0iIjtzLmFwcGVuZENoaWxkKGkpfSxyZXNldDpmdW5jdGlvbigpe3MuaW5uZXJIVE1MPSIiO3RoaXMucmVuZGVyKCl9LGNsZWFyRmlsZXM6ZnVuY3Rpb24oKXt2LmlubmVySFRNTD0iIn0sZGlzYWJsZUNhbmNlbDpmdW5jdGlvbigpe3N0PSEwfSxhZGRGaWxlOmZ1bmN0aW9uKG4scixlLGgsYyl7dmFyIGEsbD1ldC5maWxlVGVtcGxhdGUuY2xvbmVOb2RlKCEwKSx5PXUobCxpLmZpbGUpLGs9dShzLGkudXBsb2FkZXIpLHc9Yz9wLmNvbnRlbnQ6djtjJiYocC5tYXBbbl09bCk7dChsKS5hZGRDbGFzcygicXEtZmlsZS1pZC0iK24pO2sucmVtb3ZlQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpO3kmJih0KHkpLnNldFRleHQocikseS5zZXRBdHRyaWJ1dGUoInRpdGxlIixyKSk7bC5zZXRBdHRyaWJ1dGUoInFxLWZpbGUtaWQiLG4pO2U/dWkobCxlLmluZGV4LHcpOncuYXBwZW5kQ2hpbGQobCk7aD8obC5zdHlsZS5kaXNwbGF5PSJub25lIix0KGwpLmFkZENsYXNzKCJxcS1oaWRkZW4tZm9yZXZlciIpKTooZih1dChuKSksZihkdChuKSksZihsdChuKSksZih2dChuKSksZihydChuKSksZihjdChuKSksc3QmJnRoaXMuaGlkZUNhbmNlbChuKSxhPWIobiksYSYmIWEuc3JjJiZkLnRoZW4oZnVuY3Rpb24obil7YS5zcmM9bi5zcmM7bi5zdHlsZS5tYXhIZWlnaHQmJm4uc3R5bGUubWF4V2lkdGgmJnQoYSkuY3NzKHttYXhIZWlnaHQ6bi5zdHlsZS5tYXhIZWlnaHQsbWF4V2lkdGg6bi5zdHlsZS5tYXhXaWR0aH0pO28oYSl9KSl9LGFkZEZpbGVUb0NhY2hlOmZ1bmN0aW9uKG4sdCxpLHIpe3RoaXMuYWRkRmlsZShuLHQsaSxyLCEwKX0sYWRkQ2FjaGVUb0RvbTpmdW5jdGlvbigpe3YuYXBwZW5kQ2hpbGQocC5jb250ZW50KTtwLmNvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3AubWFwPXt9fSxyZW1vdmVGaWxlOmZ1bmN0aW9uKG4pe3QoZShuKSkucmVtb3ZlKCl9LGdldEZpbGVJZDpmdW5jdGlvbihuKXt2YXIgdD1uO2lmKHQpe2Zvcig7bnVsbD09dC5nZXRBdHRyaWJ1dGUoInFxLWZpbGUtaWQiKTspdD10LnBhcmVudE5vZGU7cmV0dXJuIHBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJxcS1maWxlLWlkIikpfX0sZ2V0RmlsZUxpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdn0sbWFya0ZpbGVuYW1lRWRpdGFibGU6ZnVuY3Rpb24obil7dmFyIGk9aXQobik7aSYmdChpKS5hZGRDbGFzcyhyLmNsYXNzZXMuZWRpdGFibGUpfSx1cGRhdGVGaWxlbmFtZTpmdW5jdGlvbihuLGkpe3ZhciByPWl0KG4pO3ImJih0KHIpLnNldFRleHQoaSksci5zZXRBdHRyaWJ1dGUoInRpdGxlIixpKSl9LGhpZGVGaWxlbmFtZTpmdW5jdGlvbihuKXtmKGl0KG4pKX0sc2hvd0ZpbGVuYW1lOmZ1bmN0aW9uKG4pe28oaXQobikpfSxpc0ZpbGVOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuZmlsZSl9LGdldEJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiByLmJ1dHRvbnx8dShzLGkuYnV0dG9uKX0saGlkZURyb3BQcm9jZXNzaW5nOmZ1bmN0aW9uKCl7ZihhdCgpKX0sc2hvd0Ryb3BQcm9jZXNzaW5nOmZ1bmN0aW9uKCl7byhhdCgpKX0sZ2V0RHJvcFpvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdShzLGkuZHJvcCl9LGlzRWRpdEZpbGVuYW1lUG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4geXR9LGhpZGVSZXRyeTpmdW5jdGlvbihuKXtmKHZ0KG4pKX0saXNSZXRyeVBvc3NpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHB0fSxzaG93UmV0cnk6ZnVuY3Rpb24obil7byh2dChuKSl9LGdldEZpbGVDb250YWluZXI6ZnVuY3Rpb24obil7cmV0dXJuIGUobil9LHNob3dFZGl0SWNvbjpmdW5jdGlvbihuKXt2YXIgaT1rdChuKTtpJiZ0KGkpLmFkZENsYXNzKHIuY2xhc3Nlcy5lZGl0YWJsZSl9LGlzSGlkZGVuRm9yZXZlcjpmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKS5oYXNDbGFzcygicXEtaGlkZGVuLWZvcmV2ZXIiKX0saGlkZUVkaXRJY29uOmZ1bmN0aW9uKG4pe3ZhciBpPWt0KG4pO2kmJnQoaSkucmVtb3ZlQ2xhc3Moci5jbGFzc2VzLmVkaXRhYmxlKX0saXNFZGl0SWNvbjpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmVkaXROYW1lSWNvbiwhMCl9LGdldEVkaXRJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZWRpdEZpbGVuYW1lSW5wdXQpfSxpc0VkaXRJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmVkaXRGaWxlbmFtZUlucHV0LCEwKX0sdXBkYXRlUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkpe3ZhciByLHU9dXQobik7dSYmaT4wJiYocj1NYXRoLnJvdW5kKHQvaSoxMDApLDEwMD09PXI/Zih1KTpvKHUpLG5pKG4scikpfSx1cGRhdGVUb3RhbFByb2dyZXNzOmZ1bmN0aW9uKG4sdCl7dGhpcy51cGRhdGVQcm9ncmVzcyhudWxsLG4sdCl9LGhpZGVQcm9ncmVzczpmdW5jdGlvbihuKXt2YXIgdD11dChuKTt0JiZmKHQpfSxoaWRlVG90YWxQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMuaGlkZVByb2dyZXNzKCl9LHJlc2V0UHJvZ3Jlc3M6ZnVuY3Rpb24obil7bmkobiwwKTt0aGlzLmhpZGVUb3RhbFByb2dyZXNzKG4pfSxyZXNldFRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0UHJvZ3Jlc3MoKX0sc2hvd0NhbmNlbDpmdW5jdGlvbihuKXtpZighc3Qpe3ZhciBpPXd0KG4pO2kmJnQoaSkucmVtb3ZlQ2xhc3Moci5jbGFzc2VzLmhpZGUpfX0saGlkZUNhbmNlbDpmdW5jdGlvbihuKXtmKHd0KG4pKX0saXNDYW5jZWw6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5jYW5jZWwsITApfSxhbGxvd1BhdXNlOmZ1bmN0aW9uKG4pe28ocnQobikpO2YoY3QobikpfSx1cGxvYWRQYXVzZWQ6ZnVuY3Rpb24obil7dGhpcy5zZXRTdGF0dXNUZXh0KG4sci50ZXh0LnBhdXNlZCk7dGhpcy5hbGxvd0NvbnRpbnVlQnV0dG9uKG4pO2YoZnQobikpfSxoaWRlUGF1c2U6ZnVuY3Rpb24obil7ZihydChuKSl9LGlzUGF1c2U6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5wYXVzZSwhMCl9LGlzQ29udGludWVCdXR0b246ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5jb250aW51ZUJ1dHRvbiwhMCl9LGFsbG93Q29udGludWVCdXR0b246ZnVuY3Rpb24obil7byhjdChuKSk7ZihydChuKSl9LHVwbG9hZENvbnRpbnVlZDpmdW5jdGlvbihuKXt0aGlzLnNldFN0YXR1c1RleHQobiwiIik7dGhpcy5hbGxvd1BhdXNlKG4pO28oZnQobikpfSxzaG93RGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe28obHQobikpfSxoaWRlRGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe2YobHQobikpfSxpc0RlbGV0ZUJ1dHRvbjpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmRlbGV0ZUJ1dHRvbiwhMCl9LGlzUmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5yZXRyeSwhMCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24obixpKXt2YXIgcj1kdChuKTtyJiYobyhyKSx0KHIpLnNldFRleHQoaSkpfSxzZXRTdGF0dXNUZXh0OmZ1bmN0aW9uKG4scil7dmFyIGY9dShlKG4pLGkuc3RhdHVzVGV4dCk7ZiYmKG51bGw9PXI/dChmKS5jbGVhclRleHQoKTp0KGYpLnNldFRleHQocikpfSxoaWRlU3Bpbm5lcjpmdW5jdGlvbihuKXt0KGUobikpLnJlbW92ZUNsYXNzKCJxcS1pbi1wcm9ncmVzcyIpO2YoZnQobikpfSxzaG93U3Bpbm5lcjpmdW5jdGlvbihuKXt0KGUobikpLmFkZENsYXNzKCJxcS1pbi1wcm9ncmVzcyIpO28oZnQobikpfSxnZW5lcmF0ZVByZXZpZXc6ZnVuY3Rpb24obix0LGkpe3RoaXMuaXNIaWRkZW5Gb3JldmVyKG4pfHwobnQucHVzaCh7aWQ6bixjdXN0b21SZXNpemVGdW5jdGlvbjppLG9wdEZpbGVPckJsb2I6dH0pLCFnJiZjKCkpfSx1cGRhdGVUaHVtYm5haWw6ZnVuY3Rpb24obix0LGkscil7dGhpcy5pc0hpZGRlbkZvcmV2ZXIobil8fChudC5wdXNoKHtjdXN0b21SZXNpemVGdW5jdGlvbjpyLHVwZGF0ZTohMCxpZDpuLHRodW1ibmFpbFVybDp0LHNob3dXYWl0aW5nSW1nOml9KSwhZyYmYygpKX0saGFzRGlhbG9nOmZ1bmN0aW9uKG4pe3JldHVybiB0LnN1cHBvcnRlZEZlYXR1cmVzLmRpYWxvZ0VsZW1lbnQmJiEhYnQobil9LHNob3dEaWFsb2c6ZnVuY3Rpb24obixyLGYpe3ZhciBlPWJ0KG4pLHk9dShlLGkuZGlhbG9nTWVzc2FnZSkscz1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTlBVVCIpWzBdLGg9dShlLGkuZGlhbG9nQ2FuY2VsQnV0dG9uKSxvPXUoZSxpLmRpYWxvZ09rQnV0dG9uKSxjPW5ldyB0LlByb21pc2Usdj1mdW5jdGlvbigpe2gucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGwpO28mJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGEpO2MuZmFpbHVyZSgpfSxsPWZ1bmN0aW9uKCl7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsbCk7ZS5jbG9zZSgpfSxhPWZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbG9zZSIsdik7by5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsYSk7ZS5jbG9zZSgpO2Muc3VjY2VzcyhzJiZzLnZhbHVlKX07cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLHYpLGguYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGwpLG8mJm8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGEpLHMmJihzLnZhbHVlPWYpLHkudGV4dENvbnRlbnQ9cixlLnNob3dNb2RhbCgpLGN9fSl9O3QuVWlFdmVudEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihuKXt1LmF0dGFjaChuLHIuZXZlbnRUeXBlLGZ1bmN0aW9uKG4pe249bnx8d2luZG93LmV2ZW50O3ZhciB0PW4udGFyZ2V0fHxuLnNyY0VsZW1lbnQ7ci5vbkhhbmRsZWQodCxuKX0pfXZhciB1PW5ldyB0LkRpc3Bvc2VTdXBwb3J0LHI9e2V2ZW50VHlwZToiY2xpY2siLGF0dGFjaFRvOm51bGwsb25IYW5kbGVkOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQodGhpcyx7YWRkSGFuZGxlcjpmdW5jdGlvbihuKXtmKG4pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dS5kaXNwb3NlKCl9fSk7dC5leHRlbmQoaSx7Z2V0RmlsZUlkRnJvbUl0ZW06ZnVuY3Rpb24obil7cmV0dXJuIG4ucXFGaWxlSWR9LGdldERpc3Bvc2VTdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSk7dC5leHRlbmQocixuKTtyLmF0dGFjaFRvJiZmKHIuYXR0YWNoVG8pfTt0LkZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4scil7dC5lYWNoKHUsZnVuY3Rpb24odSxmKXt2YXIgZSxvPXUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKTtpZihpLnRlbXBsYXRpbmdbImlzIitvXShuKSlyZXR1cm4gZT1pLnRlbXBsYXRpbmcuZ2V0RmlsZUlkKG4pLHQucHJldmVudERlZmF1bHQociksaS5sb2codC5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGUgYnV0dG9uIGNsaWNrIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsaS5vbkdldE5hbWUoZSksZSkpLGYoZSksITF9KX12YXIgaT17dGVtcGxhdGluZzpudWxsLGxvZzpmdW5jdGlvbigpe30sb25EZWxldGVGaWxlOmZ1bmN0aW9uKCl7fSxvbkNhbmNlbDpmdW5jdGlvbigpe30sb25SZXRyeTpmdW5jdGlvbigpe30sb25QYXVzZTpmdW5jdGlvbigpe30sb25Db250aW51ZTpmdW5jdGlvbigpe30sb25HZXROYW1lOmZ1bmN0aW9uKCl7fX0sdT17Y2FuY2VsOmZ1bmN0aW9uKG4pe2kub25DYW5jZWwobil9LHJldHJ5OmZ1bmN0aW9uKG4pe2kub25SZXRyeShuKX0sZGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe2kub25EZWxldGVGaWxlKG4pfSxwYXVzZTpmdW5jdGlvbihuKXtpLm9uUGF1c2Uobil9LGNvbnRpbnVlQnV0dG9uOmZ1bmN0aW9uKG4pe2kub25Db250aW51ZShuKX19O3QuZXh0ZW5kKGksbik7aS5ldmVudFR5cGU9ImNsaWNrIjtpLm9uSGFuZGxlZD1yO2kuYXR0YWNoVG89aS50ZW1wbGF0aW5nLmdldEZpbGVMaXN0KCk7dC5leHRlbmQodGhpcyxuZXcgdC5VaUV2ZW50SGFuZGxlcihpLHt9KSl9O3QuRmlsZW5hbWVDbGlja0hhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobix1KXtpZihpLnRlbXBsYXRpbmcuaXNGaWxlTmFtZShuKXx8aS50ZW1wbGF0aW5nLmlzRWRpdEljb24obikpe3ZhciBmPWkudGVtcGxhdGluZy5nZXRGaWxlSWQobik7aS5vbkdldFVwbG9hZFN0YXR1cyhmKT09PXQuc3RhdHVzLlNVQk1JVFRFRCYmKGkubG9nKHQuZm9ybWF0KCJEZXRlY3RlZCB2YWxpZCBmaWxlbmFtZSBjbGljayBldmVudCBvbiBmaWxlICd7fScsIElEOiB7fS4iLGkub25HZXROYW1lKGYpLGYpKSx0LnByZXZlbnREZWZhdWx0KHUpLHIuaGFuZGxlRmlsZW5hbWVFZGl0KGYsbiwhMCkpfX12YXIgcj17fSxpPXt0ZW1wbGF0aW5nOm51bGwsbG9nOmZ1bmN0aW9uKCl7fSxjbGFzc2VzOntmaWxlOiJxcS11cGxvYWQtZmlsZSIsZWRpdE5hbWVJY29uOiJxcS1lZGl0LWZpbGVuYW1lLWljb24ifSxvbkdldFVwbG9hZFN0YXR1czpmdW5jdGlvbigpe30sb25HZXROYW1lOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQoaSxuKTtpLmV2ZW50VHlwZT0iY2xpY2siO2kub25IYW5kbGVkPXU7dC5leHRlbmQodGhpcyxuZXcgdC5GaWxlbmFtZUVkaXRIYW5kbGVyKGkscikpfTt0LkZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KG4pe2lmKHIudGVtcGxhdGluZy5pc0VkaXRJbnB1dChuKSl7dmFyIHU9ci50ZW1wbGF0aW5nLmdldEZpbGVJZChuKTtyLm9uR2V0VXBsb2FkU3RhdHVzKHUpPT09dC5zdGF0dXMuU1VCTUlUVEVEJiYoci5sb2codC5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGVuYW1lIGlucHV0IGZvY3VzIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsci5vbkdldE5hbWUodSksdSkpLGkuaGFuZGxlRmlsZW5hbWVFZGl0KHUsbikpfX12YXIgcj17dGVtcGxhdGluZzpudWxsLG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKCl7fSxsb2c6ZnVuY3Rpb24oKXt9fTtpfHwoaT17fSk7ci5ldmVudFR5cGU9ImZvY3VzaW4iO3Iub25IYW5kbGVkPXU7dC5leHRlbmQocixuKTt0LmV4dGVuZCh0aGlzLG5ldyB0LkZpbGVuYW1lRWRpdEhhbmRsZXIocixpKSl9O3QuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5ldmVudFR5cGU9ImZvY3VzIjtuLmF0dGFjaFRvPW51bGw7dC5leHRlbmQodGhpcyxuZXcgdC5GaWxlbmFtZUlucHV0Rm9jdXNJbkhhbmRsZXIobix7fSkpfTt0LkZpbGVuYW1lRWRpdEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihuKXt2YXIgdD1yLm9uR2V0TmFtZShuKSxpPXQubGFzdEluZGV4T2YoIi4iKTtyZXR1cm4gaT4wJiYodD10LnN1YnN0cigwLGkpKSx0fWZ1bmN0aW9uIGUobil7dmFyIGk9ci5vbkdldE5hbWUobik7cmV0dXJuIHQuZ2V0RXh0ZW5zaW9uKGkpfWZ1bmN0aW9uIHUobixpKXt2YXIgZix1PW4udmFsdWU7dm9pZCAwIT09dSYmdC50cmltU3RyKHUpLmxlbmd0aD4wJiYoZj1lKGkpLHZvaWQgMCE9PWYmJih1PXUrIi4iK2YpLHIub25TZXROYW1lKGksdSkpO3Iub25FZGl0aW5nU3RhdHVzQ2hhbmdlKGksITEpfWZ1bmN0aW9uIG8obix0KXtpLmdldERpc3Bvc2VTdXBwb3J0KCkuYXR0YWNoKG4sImJsdXIiLGZ1bmN0aW9uKCl7dShuLHQpfSl9ZnVuY3Rpb24gcyhuLHQpe2kuZ2V0RGlzcG9zZVN1cHBvcnQoKS5hdHRhY2gobiwia2V5dXAiLGZ1bmN0aW9uKGkpezEzPT09KGkua2V5Q29kZXx8aS53aGljaCkmJnUobix0KX0pfXZhciByPXt0ZW1wbGF0aW5nOm51bGwsbG9nOmZ1bmN0aW9uKCl7fSxvbkdldFVwbG9hZFN0YXR1czpmdW5jdGlvbigpe30sb25HZXROYW1lOmZ1bmN0aW9uKCl7fSxvblNldE5hbWU6ZnVuY3Rpb24oKXt9LG9uRWRpdGluZ1N0YXR1c0NoYW5nZTpmdW5jdGlvbigpe319O3QuZXh0ZW5kKHIsbik7ci5hdHRhY2hUbz1yLnRlbXBsYXRpbmcuZ2V0RmlsZUxpc3QoKTt0LmV4dGVuZCh0aGlzLG5ldyB0LlVpRXZlbnRIYW5kbGVyKHIsaSkpO3QuZXh0ZW5kKGkse2hhbmRsZUZpbGVuYW1lRWRpdDpmdW5jdGlvbihuLHQsaSl7dmFyIHU9ci50ZW1wbGF0aW5nLmdldEVkaXRJbnB1dChuKTtyLm9uRWRpdGluZ1N0YXR1c0NoYW5nZShuLCEwKTt1LnZhbHVlPWYobik7aSYmdS5mb2N1cygpO28odSxuKTtzKHUsbil9fSl9fSh3aW5kb3cpOw0K","CacheKey":"Bt8Gwwcl2CFi_m1LLM5ZuoD9j6U"}